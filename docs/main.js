!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=7)}([function(e,t,o){(function(t){e.exports=function(){"use strict";var e,o,n;function i(t,i){if(e)if(o){var s="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/api/#transpiling-v2'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+o+")(sharedChunk); self.onerror = null;",a={};e(a),n=i(a),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([s],{type:"text/javascript"})))}else o=i;else e=i}return i(0,(function(e){var o="2.5.0",n=i;function i(e,t,o,n){this.cx=3*e,this.bx=3*(o-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=o,this.p2y=n}i.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},i.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},i.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},i.prototype.solveCurveX=function(e,t){var o,n,i,s,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(s=this.sampleCurveX(i)-e,Math.abs(s)<t)return i;var r=this.sampleCurveDerivativeX(i);if(Math.abs(r)<1e-6)break;i-=s/r}if((i=e)<(o=0))return o;if(i>(n=1))return n;for(;o<n;){if(s=this.sampleCurveX(i),Math.abs(s-e)<t)return i;e>s?o=i:n=i,i=.5*(n-o)+o}return i},i.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var s=a;function a(e,t){this.x=e,this.y=t}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,o=e.y-this.y;return t*t+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),o=Math.sin(e),n=o*this.x+t*this.y;return this.x=t*this.x-o*this.y,this.y=n,this},_rotateAround:function(e,t){var o=Math.cos(e),n=Math.sin(e),i=t.y+n*(this.x-t.x)+o*(this.y-t.y);return this.x=t.x+o*(this.x-t.x)-n*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(e){return e instanceof a?e:Array.isArray(e)?new a(e[0],e[1]):e};var r="undefined"!=typeof self?self:{};const _=Math.pow(2,53)-1,p=Math.PI/180,l=180/Math.PI;function u(e){return e*p}const f=[[0,0],[1,0],[1,1],[0,1]];function d(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,o=t*e;return 4*(e<.5?o:3*(e-t)+o-.75)}function c(e,t,o,i){const s=new n(e,t,o,i);return function(e){return s.solve(e)}}const m=c(.25,.1,.25,1);function h(e,t,o){return Math.min(o,Math.max(t,e))}function y(e,t,o){const n=o-t,i=((e-t)%n+n)%n+t;return i===t?o:i}function g(e,t,o){if(!e.length)return o(null,[]);let n=e.length;const i=new Array(e.length);let s=null;e.forEach((e,a)=>{t(e,(e,t)=>{e&&(s=e),i[a]=t,0==--n&&o(s,i)})})}function v(e){const t=[];for(const o in e)t.push(e[o]);return t}function x(e,...t){for(const o of t)for(const t in o)e[t]=o[t];return e}let C=1;function b(){return C++}function w(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function T(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function k(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function M(e,t){e.forEach(e=>{t[e]&&(t[e]=t[e].bind(t))})}function S(e,t){return-1!==e.indexOf(t,e.length-t.length)}function E(e,t,o){const n={};for(const i in e)n[i]=t.call(o||this,e[i],i,e);return n}function A(e,t,o){const n={};for(const i in e)t.call(o||this,e[i],i,e)&&(n[i]=e[i]);return n}function I(e){return Array.isArray(e)?e.map(I):"object"==typeof e&&e?E(e,I):e}const z={};function P(e){z[e]||("undefined"!=typeof console&&console.warn(e),z[e]=!0)}function D(e,t,o){return(o.y-e.y)*(t.x-e.x)>(t.y-e.y)*(o.x-e.x)}function L(e){let t=0;for(let o,n,i=0,s=e.length,a=s-1;i<s;a=i++)o=e[i],n=e[a],t+=(n.x-o.x)*(o.y+n.y);return t}function B(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function R(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,o,n,i)=>{const s=n||i;return t[o]=!s||s.toLowerCase(),""}),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let F,O,N,V=null;function U(e){if(null==V){const t=e.navigator?e.navigator.userAgent:null;V=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return V}function G(e){try{const t=r[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}const W={now:()=>void 0!==N?N:r.performance.now(),setNow(e){N=e},restoreNow(){N=void 0},frame(e){const t=r.requestAnimationFrame(e);return{cancel:()=>r.cancelAnimationFrame(t)}},getImageData(e,t=0){const o=r.document.createElement("canvas"),n=o.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return o.width=e.width,o.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:e=>(F||(F=r.document.createElement("a")),F.href=e,F.href),get devicePixelRatio(){return r.devicePixelRatio},get prefersReducedMotion(){return!!r.matchMedia&&(null==O&&(O=r.matchMedia("(prefers-reduced-motion: reduce)")),O.matches)}};let Z;const j={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==Z){const e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Z=null!=t.env.API_URL_REGEX?new RegExp(t.env.API_URL_REGEX):e}catch(t){Z=e}}return Z},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},q={supported:!1,testSupport:function(e){!$&&H&&(X?Y(e):K=e)}};let K,H,$=!1,X=!1;function Y(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,H),e.isContextLost())return;q.supported=!0}catch(e){}e.deleteTexture(t),$=!0}r.document&&(H=r.document.createElement("img"),H.onload=function(){K&&Y(K),K=null,X=!0},H.onerror=function(){$=!0,K=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const J="01",Q="NO_ACCESS_TOKEN";function ee(e){return 0===e.indexOf("mapbox:")}function te(e){return j.API_URL_REGEX.test(e)}const oe=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ne(e){const t=e.match(oe);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function ie(e){const t=e.params.length?"?"+e.params.join("&"):"";return`${e.protocol}://${e.authority}${e.path}${t}`}function se(e){if(!e)return null;const t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(r.atob(t[1]).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(e){return null}}class ae{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const t=se(j.ACCESS_TOKEN);let o="";return o=t&&t.u?r.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(Number("0x"+t)))):j.ACCESS_TOKEN||"",e?`mapbox.eventData.${e}:${o}`:"mapbox.eventData:"+o}fetchEventData(){const e=G("localStorage"),t=this.getStorageKey(),o=this.getStorageKey("uuid");if(e)try{const e=r.localStorage.getItem(t);e&&(this.eventData=JSON.parse(e));const n=r.localStorage.getItem(o);n&&(this.anonId=n)}catch(e){P("Unable to read from LocalStorage")}}saveEventData(){const e=G("localStorage"),t=this.getStorageKey(),o=this.getStorageKey("uuid");if(e)try{r.localStorage.setItem(o,this.anonId),Object.keys(this.eventData).length>=1&&r.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){P("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,t,n,i){if(!j.EVENTS_URL)return;const s=ne(j.EVENTS_URL);s.params.push("access_token="+(i||j.ACCESS_TOKEN||""));const a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:o,skuId:J,userId:this.anonId},r=t?x(a,t):a,_={url:ie(s),headers:{"Content-Type":"text/plain"},body:JSON.stringify([r])};this.pendingRequest=Se(_,e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(i)})}queueRequest(e,t){this.queue.push(e),this.processRequests(t)}}const re=new class extends ae{constructor(e){super("appUserTurnstile"),this._customAccessToken=e}postTurnstileEvent(e,t){j.EVENTS_URL&&j.ACCESS_TOKEN&&Array.isArray(e)&&e.some(e=>ee(e)||te(e))&&this.queueRequest(Date.now(),t)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=se(j.ACCESS_TOKEN),o=t?t.u:j.ACCESS_TOKEN;let n=o!==this.eventData.tokenU;k(this.anonId)||(this.anonId=w(),n=!0);const i=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(i),o=(i-this.eventData.lastSuccess)/864e5;n=n||o>=1||o<-1||e.getDate()!==t.getDate()}else n=!0;if(!n)return this.processRequests();this.postEvent(i,{"enabled.telemetry":!1},e=>{e||(this.eventData.lastSuccess=i,this.eventData.tokenU=o)},e)}},_e=re.postTurnstileEvent.bind(re),pe=new class extends ae{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(e,t,o,n){this.skuToken=t,this.errorCb=n,j.EVENTS_URL&&(o||j.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},o):this.errorCb(new Error(Q)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:o}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),k(this.anonId)||(this.anonId=w()),this.postEvent(o,{skuToken:this.skuToken},e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e))}},le=pe.postMapLoadEvent.bind(pe),ue=new class extends ae{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(e,t,o,n){if(!j.API_URL||!j.SESSION_PATH)return;const i=ne(j.API_URL+j.SESSION_PATH);i.params.push("sku="+(t||"")),i.params.push("access_token="+(n||j.ACCESS_TOKEN||""));const s={url:ie(i),headers:{"Content-Type":"text/plain"}};this.pendingRequest=Ee(s,e=>{this.pendingRequest=null,o(e),this.saveEventData(),this.processRequests(n)})}getSessionAPI(e,t,o,n){this.skuToken=t,this.errorCb=n,j.SESSION_PATH&&j.API_URL&&(o||j.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},o):this.errorCb(new Error(Q)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:o}=this.queue.shift();t&&this.success[t]||this.getSession(o,this.skuToken,e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e)}},fe=ue.getSessionAPI.bind(ue),de=new Set,ce="mapbox-tiles";let me,he,ye=500,ge=50;function ve(){r.caches&&!me&&(me=r.caches.open(ce))}function xe(e){const t=e.indexOf("?");return t<0?e:e.slice(0,t)}let Ce=1/0;const be={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(be);class we extends Error{constructor(e,t,o){401===t&&te(o)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(e),this.status=t,this.url=o}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Te=B()?()=>self.worker&&self.worker.referrer:()=>("blob:"===r.location.protocol?r.parent:r).location.href,ke=function(e,t){if(!(/^file:/.test(o=e.url)||/^file:/.test(Te())&&!/^\w+:/.test(o))){if(r.fetch&&r.Request&&r.AbortController&&r.Request.prototype.hasOwnProperty("signal"))return function(e,t){const o=new r.AbortController,n=new r.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:Te(),signal:o.signal});let i=!1,s=!1;const a=(_=n.url).indexOf("sku=")>0&&te(_);var _;"json"===e.type&&n.headers.set("Accept","application/json");const p=(o,i,_)=>{if(s)return;if(o&&"SecurityError"!==o.message&&P(o),i&&_)return l(i);const p=Date.now();r.fetch(n).then(o=>{if(o.ok){const e=a?o.clone():null;return l(o,e,p)}return t(new we(o.statusText,o.status,e.url))}).catch(e=>{20!==e.code&&t(new Error(e.message))})},l=(o,a,_)=>{("arrayBuffer"===e.type?o.arrayBuffer():"json"===e.type?o.json():o.text()).then(e=>{s||(a&&_&&function(e,t,o){if(ve(),!me)return;const n={status:t.status,statusText:t.statusText,headers:new r.Headers};t.headers.forEach((e,t)=>n.headers.set(t,e));const i=R(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&n.headers.set("Expires",new Date(o+1e3*i["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-o<42e4||function(e,t){if(void 0===he)try{new Response(new ReadableStream),he=!0}catch(e){he=!1}he?t(e.body):e.blob().then(t)}(t,t=>{const o=new r.Response(t,n);ve(),me&&me.then(t=>t.put(xe(e.url),o)).catch(e=>P(e.message))}))}(n,a,_),i=!0,t(null,e,o.headers.get("Cache-Control"),o.headers.get("Expires")))}).catch(e=>{s||t(new Error(e.message))})};return a?function(e,t){if(ve(),!me)return t(null);const o=xe(e.url);me.then(e=>{e.match(o).then(n=>{const i=function(e){if(!e)return!1;const t=new Date(e.headers.get("Expires")||0),o=R(e.headers.get("Cache-Control")||"");return t>Date.now()&&!o["no-cache"]}(n);e.delete(o),i&&e.put(o,n.clone()),t(null,n,i)}).catch(t)}).catch(t)}(n,p):p(null,null),{cancel:()=>{s=!0,i||o.abort()}}}(e,t);if(B()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var o;return function(e,t){const o=new r.XMLHttpRequest;o.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(o.responseType="arraybuffer");for(const t in e.headers)o.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(o.responseType="text",o.setRequestHeader("Accept","application/json")),o.withCredentials="include"===e.credentials,o.onerror=()=>{t(new Error(o.statusText))},o.onload=()=>{if((o.status>=200&&o.status<300||0===o.status)&&null!==o.response){let n=o.response;if("json"===e.type)try{n=JSON.parse(o.response)}catch(e){return t(e)}t(null,n,o.getResponseHeader("Cache-Control"),o.getResponseHeader("Expires"))}else t(new we(o.statusText,o.status,e.url))},o.send(e.body),{cancel:()=>o.abort()}}(e,t)},Me=function(e,t){return ke(x(e,{type:"arrayBuffer"}),t)},Se=function(e,t){return ke(x(e,{method:"POST"}),t)},Ee=function(e,t){return ke(x(e,{method:"GET"}),t)};function Ae(e){const t=r.document.createElement("a");return t.href=e,t.protocol===r.document.location.protocol&&t.host===r.document.location.host}const Ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let ze,Pe;ze=[],Pe=0;const De=function(e,t){if(q.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),Pe>=j.MAX_PARALLEL_IMAGE_REQUESTS){const o={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return ze.push(o),o}Pe++;let o=!1;const n=()=>{if(!o)for(o=!0,Pe--;ze.length&&Pe<j.MAX_PARALLEL_IMAGE_REQUESTS;){const e=ze.shift(),{requestParameters:t,callback:o,cancelled:n}=e;n||(e.cancel=De(t,o).cancel)}},i=Me(e,(e,o,i,s)=>{n(),e?t(e):o&&(r.createImageBitmap?function(e,t){const o=new r.Blob([new Uint8Array(e)],{type:"image/png"});r.createImageBitmap(o).then(e=>{t(null,e)}).catch(e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(o,(e,o)=>t(e,o,i,s)):function(e,t){const o=new r.Image,n=r.URL;o.onload=()=>{t(null,o),n.revokeObjectURL(o.src),o.onload=null,r.requestAnimationFrame(()=>{o.src=Ie})},o.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const i=new r.Blob([new Uint8Array(e)],{type:"image/png"});o.src=e.byteLength?n.createObjectURL(i):Ie}(o,(e,o)=>t(e,o,i,s)))});return{cancel:()=>{i.cancel(),n()}}};function Le(e,t,o){o[e]&&-1!==o[e].indexOf(t)||(o[e]=o[e]||[],o[e].push(t))}function Be(e,t,o){if(o&&o[e]){const n=o[e].indexOf(t);-1!==n&&o[e].splice(n,1)}}class Re{constructor(e,t={}){x(this,t),this.type=e}}class Fe extends Re{constructor(e,t={}){super("error",x({error:e},t))}}class Oe{on(e,t){return this._listeners=this._listeners||{},Le(e,t,this._listeners),this}off(e,t){return Be(e,t,this._listeners),Be(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},Le(e,t,this._oneTimeListeners),this):new Promise(t=>this.once(e,t))}fire(e,t){"string"==typeof e&&(e=new Re(e,t||{}));const o=e.type;if(this.listens(o)){e.target=this;const t=this._listeners&&this._listeners[o]?this._listeners[o].slice():[];for(const o of t)o.call(this,e);const n=this._oneTimeListeners&&this._oneTimeListeners[o]?this._oneTimeListeners[o].slice():[];for(const t of n)Be(o,t,this._oneTimeListeners),t.call(this,e);const i=this._eventedParent;i&&(x(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(e))}else e instanceof Fe&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var Ne={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class Ve{constructor(e,t,o,n){this.message=(e?e+": ":"")+o,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}function Ue(e){const t=e.value;return t?[new Ve(e.key,t,"constants have been deprecated as of v8")]:[]}function Ge(e,...t){for(const o of t)for(const t in o)e[t]=o[t];return e}function We(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Ze(e){if(Array.isArray(e))return e.map(Ze);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const o in e)t[o]=Ze(e[o]);return t}return We(e)}class je extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class qe{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,o]of t)this.bindings[e]=o}concat(e){return new qe(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const Ke={kind:"null"},He={kind:"number"},$e={kind:"string"},Xe={kind:"boolean"},Ye={kind:"color"},Je={kind:"object"},Qe={kind:"value"},et={kind:"collator"},tt={kind:"formatted"},ot={kind:"resolvedImage"};function nt(e,t){return{kind:"array",itemType:e,N:t}}function it(e){if("array"===e.kind){const t=it(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const st=[Ke,He,$e,Xe,Ye,tt,Je,nt(Qe),ot];function at(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!at(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of st)if(!at(e,t))return null}return`Expected ${it(e)} but found ${it(t)} instead.`}function rt(e,t){return t.some(t=>t.kind===e.kind)}function _t(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}function pt(e){var t={exports:{}};return e(t,t.exports),t.exports}var lt=pt((function(e,t){var o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return n("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function s(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?e+(t-e)*o*6:2*o<1?t:3*o<2?e+(t-e)*(2/3-o)*6:e}try{t.parseCSSColor=function(e){var t,r=e.replace(/ /g,"").toLowerCase();if(r in o)return o[r].slice();if("#"===r[0])return 4===r.length?(t=parseInt(r.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===r.length&&(t=parseInt(r.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var _=r.indexOf("("),p=r.indexOf(")");if(-1!==_&&p+1===r.length){var l=r.substr(0,_),u=r.substr(_+1,p-(_+1)).split(","),f=1;switch(l){case"rgba":if(4!==u.length)return null;f=s(u.pop());case"rgb":return 3!==u.length?null:[i(u[0]),i(u[1]),i(u[2]),f];case"hsla":if(4!==u.length)return null;f=s(u.pop());case"hsl":if(3!==u.length)return null;var d=(parseFloat(u[0])%360+360)%360/360,c=s(u[1]),m=s(u[2]),h=m<=.5?m*(c+1):m+c-m*c,y=2*m-h;return[n(255*a(y,h,d+1/3)),n(255*a(y,h,d)),n(255*a(y,h,d-1/3)),f];default:return null}}return null}}catch(e){}}));class ut{constructor(e,t,o,n=1){this.r=e,this.g=t,this.b=o,this.a=n}static parse(e){if(!e)return;if(e instanceof ut)return e;if("string"!=typeof e)return;const t=lt.parseCSSColor(e);return t?new ut(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,o,n]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(o)},${n})`}toArray(){const{r:e,g:t,b:o,a:n}=this;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*o/n,n]}}ut.black=new ut(0,0,0,1),ut.white=new ut(1,1,1,1),ut.transparent=new ut(0,0,0,0),ut.red=new ut(1,0,0,1),ut.blue=new ut(0,0,1,1);class ft{constructor(e,t,o){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=o,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class dt{constructor(e,t,o,n,i){this.text=e,this.image=t,this.scale=o,this.fontStack=n,this.textColor=i}}class ct{constructor(e){this.sections=e}static fromString(e){return new ct([new dt(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof ct?e:ct.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const o={};t.fontStack&&(o["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(o["font-scale"]=t.scale),t.textColor&&(o["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(o)}return e}}class mt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new mt({name:e,available:!1}):null}serialize(){return["image",this.name]}}function ht(e,t,o,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof o&&o>=0&&o<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,o,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[e,t,o,n]:[e,t,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function yt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof ut)return!0;if(e instanceof ft)return!0;if(e instanceof ct)return!0;if(e instanceof mt)return!0;if(Array.isArray(e)){for(const t of e)if(!yt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!yt(e[t]))return!1;return!0}return!1}function gt(e){if(null===e)return Ke;if("string"==typeof e)return $e;if("boolean"==typeof e)return Xe;if("number"==typeof e)return He;if(e instanceof ut)return Ye;if(e instanceof ft)return et;if(e instanceof ct)return tt;if(e instanceof mt)return ot;if(Array.isArray(e)){const t=e.length;let o;for(const t of e){const e=gt(t);if(o){if(o===e)continue;o=Qe;break}o=e}return nt(o||Qe,t)}return Je}function vt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof ut||e instanceof ct||e instanceof mt?e.toString():JSON.stringify(e)}class xt{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!yt(e[1]))return t.error("invalid value");const o=e[1];let n=gt(o);const i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new xt(n,o)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ut?["rgba"].concat(this.value.toArray()):this.value instanceof ct?this.value.serialize():this.value}}class Ct{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const bt={string:$e,number:He,boolean:Xe,object:Je};class wt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let o,n=1;const i=e[0];if("array"===i){let i,s;if(e.length>2){const o=e[1];if("string"!=typeof o||!(o in bt)||"object"===o)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=bt[o],n++}else i=Qe;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);s=e[2],n++}o=nt(i,s)}else o=bt[i];const s=[];for(;n<e.length;n++){const o=t.parse(e[n],n,Qe);if(!o)return null;s.push(o)}return new wt(o,s)}evaluate(e){for(let t=0;t<this.args.length;t++){const o=this.args[t].evaluate(e);if(!at(this.type,gt(o)))return o;if(t===this.args.length-1)throw new Ct(`Expected value to be of type ${it(this.type)}, but found ${it(gt(o))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const o=e.itemType;if("string"===o.kind||"number"===o.kind||"boolean"===o.kind){t.push(o.kind);const n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map(e=>e.serialize()))}}class Tt{constructor(e){this.type=tt,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const o=e[1];if(!Array.isArray(o)&&"object"==typeof o)return t.error("First argument must be an image or text section.");const n=[];let i=!1;for(let o=1;o<=e.length-1;++o){const s=e[o];if(i&&"object"==typeof s&&!Array.isArray(s)){i=!1;let e=null;if(s["font-scale"]&&(e=t.parse(s["font-scale"],1,He),!e))return null;let o=null;if(s["text-font"]&&(o=t.parse(s["text-font"],1,nt($e)),!o))return null;let a=null;if(s["text-color"]&&(a=t.parse(s["text-color"],1,Ye),!a))return null;const r=n[n.length-1];r.scale=e,r.font=o,r.textColor=a}else{const s=t.parse(e[o],1,Qe);if(!s)return null;const a=s.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:s,scale:null,font:null,textColor:null})}}return new Tt(n)}evaluate(e){return new ct(this.sections.map(t=>{const o=t.content.evaluate(e);return gt(o)===ot?new dt("",o,null,null,null):new dt(vt(o),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const o={};t.scale&&(o["font-scale"]=t.scale.serialize()),t.font&&(o["text-font"]=t.font.serialize()),t.textColor&&(o["text-color"]=t.textColor.serialize()),e.push(o)}return e}}class kt{constructor(e){this.type=ot,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const o=t.parse(e[1],1,$e);return o?new kt(o):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),o=mt.fromString(t);return o&&e.availableImages&&(o.available=e.availableImages.indexOf(t)>-1),o}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Mt={"to-boolean":Xe,"to-color":Ye,"to-number":He,"to-string":$e};class St{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const o=e[0];if(("to-boolean"===o||"to-string"===o)&&2!==e.length)return t.error("Expected one argument.");const n=Mt[o],i=[];for(let o=1;o<e.length;o++){const n=t.parse(e[o],o,Qe);if(!n)return null;i.push(n)}return new St(n,i)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,o;for(const n of this.args){if(t=n.evaluate(e),o=null,t instanceof ut)return t;if("string"==typeof t){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(o=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:ht(t[0],t[1],t[2],t[3]),!o))return new ut(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ct(o||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const o of this.args){if(t=o.evaluate(e),null===t)return 0;const n=Number(t);if(!isNaN(n))return n}throw new Ct(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?ct.fromString(vt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?mt.fromString(vt(this.args[0].evaluate(e))):vt(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Tt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new kt(this.args[0]).serialize();const e=["to-"+this.type.kind];return this.eachChild(t=>{e.push(t.serialize())}),e}}const Et=["Unknown","Point","LineString","Polygon"];class At{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Et[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=ut.parse(e)),t}}class It{constructor(e,t,o,n){this.name=e,this.type=t,this._evaluate=o,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const o=e[0],n=It.definitions[o];if(!n)return t.error(`Unknown expression "${o}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(n)?n[0]:n.type,s=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=s.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let r=null;for(const[n,s]of a){r=new Qt(t.registry,t.path,null,t.scope);const a=[];let _=!1;for(let t=1;t<e.length;t++){const o=e[t],i=Array.isArray(n)?n[t-1]:n.type,s=r.parse(o,1+a.length,i);if(!s){_=!0;break}a.push(s)}if(!_)if(Array.isArray(n)&&n.length!==a.length)r.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(n)?n[e]:n.type,o=a[e];r.concat(e+1).checkSubtype(t,o.type)}if(0===r.errors.length)return new It(o,i,s,a)}}if(1===a.length)t.errors.push(...r.errors);else{const o=(a.length?a:s).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(it).join(", ")})`:`(${it(t.type)}...)`;var t}).join(" | "),n=[];for(let o=1;o<e.length;o++){const i=t.parse(e[o],1+n.length);if(!i)return null;n.push(it(i.type))}t.error(`Expected arguments of type ${o}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){It.definitions=t;for(const o in t)e[o]=It}}class zt{constructor(e,t,o){this.type=et,this.locale=o,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const o=e[1];if("object"!=typeof o||Array.isArray(o))return t.error("Collator options argument must be an object.");const n=t.parse(void 0!==o["case-sensitive"]&&o["case-sensitive"],1,Xe);if(!n)return null;const i=t.parse(void 0!==o["diacritic-sensitive"]&&o["diacritic-sensitive"],1,Xe);if(!i)return null;let s=null;return o.locale&&(s=t.parse(o.locale,1,$e),!s)?null:new zt(n,i,s)}evaluate(e){return new ft(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Pt=8192;function Dt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Lt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Bt(e,t){const o=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(o*i*Pt),Math.round(n*i*Pt)]}function Rt(e,t,o){const n=e[0]-t[0],i=e[1]-t[1],s=e[0]-o[0],a=e[1]-o[1];return n*a-s*i==0&&n*s<=0&&i*a<=0}function Ft(e,t){let o=!1;for(let a=0,r=t.length;a<r;a++){const r=t[a];for(let t=0,a=r.length;t<a-1;t++){if(Rt(e,r[t],r[t+1]))return!1;(i=r[t])[1]>(n=e)[1]!=(s=r[t+1])[1]>n[1]&&n[0]<(s[0]-i[0])*(n[1]-i[1])/(s[1]-i[1])+i[0]&&(o=!o)}}var n,i,s;return o}function Ot(e,t){for(let o=0;o<t.length;o++)if(Ft(e,t[o]))return!0;return!1}function Nt(e,t,o,n){const i=n[0]-o[0],s=n[1]-o[1],a=(e[0]-o[0])*s-i*(e[1]-o[1]),r=(t[0]-o[0])*s-i*(t[1]-o[1]);return a>0&&r<0||a<0&&r>0}function Vt(e,t,o){for(const p of o)for(let o=0;o<p.length-1;++o)if(0!=(r=[(a=p[o+1])[0]-(s=p[o])[0],a[1]-s[1]])[0]*(_=[(i=t)[0]-(n=e)[0],i[1]-n[1]])[1]-r[1]*_[0]&&Nt(n,i,s,a)&&Nt(s,a,n,i))return!0;var n,i,s,a,r,_;return!1}function Ut(e,t){for(let o=0;o<e.length;++o)if(!Ft(e[o],t))return!1;for(let o=0;o<e.length-1;++o)if(Vt(e[o],e[o+1],t))return!1;return!0}function Gt(e,t){for(let o=0;o<t.length;o++)if(Ut(e,t[o]))return!0;return!1}function Wt(e,t,o){const n=[];for(let i=0;i<e.length;i++){const s=[];for(let n=0;n<e[i].length;n++){const a=Bt(e[i][n],o);Dt(t,a),s.push(a)}n.push(s)}return n}function Zt(e,t,o){const n=[];for(let i=0;i<e.length;i++){const s=Wt(e[i],t,o);n.push(s)}return n}function jt(e,t,o,n){if(e[0]<o[0]||e[0]>o[2]){const t=.5*n;let i=e[0]-o[0]>t?-n:o[0]-e[0]>t?n:0;0===i&&(i=e[0]-o[2]>t?-n:o[2]-e[0]>t?n:0),e[0]+=i}Dt(t,e)}function qt(e,t,o,n){const i=Math.pow(2,n.z)*Pt,s=[n.x*Pt,n.y*Pt],a=[];for(const n of e)for(const e of n){const n=[e.x+s[0],e.y+s[1]];jt(n,t,o,i),a.push(n)}return a}function Kt(e,t,o,n){const i=Math.pow(2,n.z)*Pt,s=[n.x*Pt,n.y*Pt],a=[];for(const o of e){const e=[];for(const n of o){const o=[n.x+s[0],n.y+s[1]];Dt(t,o),e.push(o)}a.push(e)}if(t[2]-t[0]<=i/2){(r=t)[0]=r[1]=1/0,r[2]=r[3]=-1/0;for(const e of a)for(const n of e)jt(n,t,o,i)}var r;return a}class Ht{constructor(e,t){this.type=Xe,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(yt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const o=t.features[e].geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Ht(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new Ht(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new Ht(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const o=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const s=Wt(t.coordinates,n,i),a=qt(e.geometry(),o,n,i);if(!Lt(o,n))return!1;for(const e of a)if(!Ft(e,s))return!1}if("MultiPolygon"===t.type){const s=Zt(t.coordinates,n,i),a=qt(e.geometry(),o,n,i);if(!Lt(o,n))return!1;for(const e of a)if(!Ot(e,s))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const o=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const s=Wt(t.coordinates,n,i),a=Kt(e.geometry(),o,n,i);if(!Lt(o,n))return!1;for(const e of a)if(!Ut(e,s))return!1}if("MultiPolygon"===t.type){const s=Zt(t.coordinates,n,i),a=Kt(e.geometry(),o,n,i);if(!Lt(o,n))return!1;for(const e of a)if(!Gt(e,s))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function $t(e){if(e instanceof It){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Ht)return!1;let t=!0;return e.eachChild(e=>{t&&!$t(e)&&(t=!1)}),t}function Xt(e){if(e instanceof It&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!Xt(e)&&(t=!1)}),t}function Yt(e,t){if(e instanceof It&&t.indexOf(e.name)>=0)return!1;let o=!0;return e.eachChild(e=>{o&&!Yt(e,t)&&(o=!1)}),o}class Jt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const o=e[1];return t.scope.has(o)?new Jt(o,t.scope.get(o)):t.error(`Unknown variable "${o}". Make sure "${o}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Qt{constructor(e,t=[],o,n=new qe,i=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=n,this.errors=i,this.expectedType=o}parse(e,t,o,n,i={}){return t?this.concat(t,o,n)._parse(e,i):this._parse(e,i)}_parse(e,t){function o(e,t,o){return"assert"===o?new wt(t,[e]):"coerce"===o?new St(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[n];if(i){let n=i.parse(e,this);if(!n)return null;if(this.expectedType){const e=this.expectedType,i=n.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==i.kind&&"string"!==i.kind){if(this.checkSubtype(e,i))return null}else n=o(n,e,t.typeAnnotation||"coerce");else n=o(n,e,t.typeAnnotation||"assert")}if(!(n instanceof xt)&&"resolvedImage"!==n.type.kind&&function e(t){if(t instanceof Jt)return e(t.boundExpression);if(t instanceof It&&"error"===t.name)return!1;if(t instanceof zt)return!1;if(t instanceof Ht)return!1;const o=t instanceof St||t instanceof wt;let n=!0;return t.eachChild(t=>{n=o?n&&e(t):n&&t instanceof xt}),!!n&&$t(t)&&Yt(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}(n)){const t=new At;try{n=new xt(n.type,n.evaluate(t))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,o){const n="number"==typeof e?this.path.concat(e):this.path,i=o?this.scope.concat(o):this.scope;return new Qt(this.registry,n,t||null,i,this.errors)}error(e,...t){const o=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new je(o,e))}checkSubtype(e,t){const o=at(e,t);return o&&this.error(o),o}}function eo(e,t){const o=e.length-1;let n,i,s=0,a=o,r=0;for(;s<=a;)if(r=Math.floor((s+a)/2),n=e[r],i=e[r+1],n<=t){if(r===o||t<i)return r;s=r+1}else{if(!(n>t))throw new Ct("Input is not a number.");a=r-1}return 0}class to{constructor(e,t,o){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of o)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const o=t.parse(e[1],1,He);if(!o)return null;const n=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let o=1;o<e.length;o+=2){const s=1===o?-1/0:e[o],a=e[o+1],r=o,_=o+1;if("number"!=typeof s)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',r);if(n.length&&n[n.length-1][0]>=s)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',r);const p=t.parse(a,_,i);if(!p)return null;i=i||p.type,n.push([s,p])}return new to(i,o,n)}evaluate(e){const t=this.labels,o=this.outputs;if(1===t.length)return o[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return o[0].evaluate(e);const i=t.length;return n>=t[i-1]?o[i-1].evaluate(e):o[eo(t,n)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}function oo(e,t,o){return e*(1-o)+t*o}var no=Object.freeze({__proto__:null,number:oo,color:function(e,t,o){return new ut(oo(e.r,t.r,o),oo(e.g,t.g,o),oo(e.b,t.b,o),oo(e.a,t.a,o))},array:function(e,t,o){return e.map((e,n)=>oo(e,t[n],o))}});const io=6/29*3*(6/29),so=Math.PI/180,ao=180/Math.PI;function ro(e){return e>.008856451679035631?Math.pow(e,1/3):e/io+4/29}function _o(e){return e>6/29?e*e*e:io*(e-4/29)}function po(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function lo(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function uo(e){const t=lo(e.r),o=lo(e.g),n=lo(e.b),i=ro((.4124564*t+.3575761*o+.1804375*n)/.95047),s=ro((.2126729*t+.7151522*o+.072175*n)/1);return{l:116*s-16,a:500*(i-s),b:200*(s-ro((.0193339*t+.119192*o+.9503041*n)/1.08883)),alpha:e.a}}function fo(e){let t=(e.l+16)/116,o=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*_o(t),o=.95047*_o(o),n=1.08883*_o(n),new ut(po(3.2404542*o-1.5371385*t-.4985314*n),po(-.969266*o+1.8760108*t+.041556*n),po(.0556434*o-.2040259*t+1.0572252*n),e.alpha)}function co(e,t,o){const n=t-e;return e+o*(n>180||n<-180?n-360*Math.round(n/360):n)}const mo={forward:uo,reverse:fo,interpolate:function(e,t,o){return{l:oo(e.l,t.l,o),a:oo(e.a,t.a,o),b:oo(e.b,t.b,o),alpha:oo(e.alpha,t.alpha,o)}}},ho={forward:function(e){const{l:t,a:o,b:n}=uo(e),i=Math.atan2(n,o)*ao;return{h:i<0?i+360:i,c:Math.sqrt(o*o+n*n),l:t,alpha:e.a}},reverse:function(e){const t=e.h*so,o=e.c;return fo({l:e.l,a:Math.cos(t)*o,b:Math.sin(t)*o,alpha:e.alpha})},interpolate:function(e,t,o){return{h:co(e.h,t.h,o),c:oo(e.c,t.c,o),l:oo(e.l,t.l,o),alpha:oo(e.alpha,t.alpha,o)}}};var yo=Object.freeze({__proto__:null,lab:mo,hcl:ho});class go{constructor(e,t,o,n,i){this.type=e,this.operator=t,this.interpolation=o,this.input=n,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,o,i){let s=0;if("exponential"===e.name)s=vo(t,e.base,o,i);else if("linear"===e.name)s=vo(t,1,o,i);else if("cubic-bezier"===e.name){const a=e.controlPoints;s=new n(a[0],a[1],a[2],a[3]).solve(vo(t,1,o,i))}return s}static parse(e,t){let[o,n,i,...s]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);{const e=n.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,He),!i)return null;const a=[];let r=null;"interpolate-hcl"===o||"interpolate-lab"===o?r=Ye:t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let e=0;e<s.length;e+=2){const o=s[e],n=s[e+1],i=e+3,_=e+4;if("number"!=typeof o)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=o)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const p=t.parse(n,_,r);if(!p)return null;r=r||p.type,a.push([o,p])}return"number"===r.kind||"color"===r.kind||"array"===r.kind&&"number"===r.itemType.kind&&"number"==typeof r.N?new go(r,o,n,i,a):t.error(`Type ${it(r)} is not interpolatable.`)}evaluate(e){const t=this.labels,o=this.outputs;if(1===t.length)return o[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return o[0].evaluate(e);const i=t.length;if(n>=t[i-1])return o[i-1].evaluate(e);const s=eo(t,n),a=go.interpolationFactor(this.interpolation,n,t[s],t[s+1]),r=o[s].evaluate(e),_=o[s+1].evaluate(e);return"interpolate"===this.operator?no[this.type.kind.toLowerCase()](r,_,a):"interpolate-hcl"===this.operator?ho.reverse(ho.interpolate(ho.forward(r),ho.forward(_),a)):mo.reverse(mo.interpolate(mo.forward(r),mo.forward(_),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function vo(e,t,o,n){const i=n-o,s=e-o;return 0===i?0:1===t?s/i:(Math.pow(t,s)-1)/(Math.pow(t,i)-1)}class xo{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let o=null;const n=t.expectedType;n&&"value"!==n.kind&&(o=n);const i=[];for(const n of e.slice(1)){const e=t.parse(n,1+i.length,o,void 0,{typeAnnotation:"omit"});if(!e)return null;o=o||e.type,i.push(e)}const s=n&&i.some(e=>at(n,e.type));return new xo(s?Qe:o,i)}evaluate(e){let t,o=null,n=0;for(const i of this.args)if(n++,o=i.evaluate(e),o&&o instanceof mt&&!o.available&&(t||(t=o.name),o=null,n===this.args.length&&(o=t)),null!==o)break;return o}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class Co{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const o=[];for(let n=1;n<e.length-1;n+=2){const i=e[n];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);const s=t.parse(e[n+1],n+1);if(!s)return null;o.push([i,s])}const n=t.parse(e[e.length-1],e.length-1,t.expectedType,o);return n?new Co(o,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,o]of this.bindings)e.push(t,o.serialize());return e.push(this.result.serialize()),e}}class bo{constructor(e,t,o){this.type=e,this.index=t,this.input=o}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const o=t.parse(e[1],1,He),n=t.parse(e[2],2,nt(t.expectedType||Qe));return o&&n?new bo(n.type.itemType,o,n):null}evaluate(e){const t=this.index.evaluate(e),o=this.input.evaluate(e);if(t<0)throw new Ct(`Array index out of bounds: ${t} < 0.`);if(t>=o.length)throw new Ct(`Array index out of bounds: ${t} > ${o.length-1}.`);if(t!==Math.floor(t))throw new Ct(`Array index must be an integer, but found ${t} instead.`);return o[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class wo{constructor(e,t){this.type=Xe,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const o=t.parse(e[1],1,Qe),n=t.parse(e[2],2,Qe);return o&&n?rt(o.type,[Xe,$e,He,Ke,Qe])?new wo(o,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${it(o.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!o)return!1;if(!_t(t,["boolean","string","number","null"]))throw new Ct(`Expected first argument to be of type boolean, string, number or null, but found ${it(gt(t))} instead.`);if(!_t(o,["string","array"]))throw new Ct(`Expected second argument to be of type array or string, but found ${it(gt(o))} instead.`);return o.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class To{constructor(e,t,o){this.type=He,this.needle=e,this.haystack=t,this.fromIndex=o}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const o=t.parse(e[1],1,Qe),n=t.parse(e[2],2,Qe);if(!o||!n)return null;if(!rt(o.type,[Xe,$e,He,Ke,Qe]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${it(o.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,He);return i?new To(o,n,i):null}return new To(o,n)}evaluate(e){const t=this.needle.evaluate(e),o=this.haystack.evaluate(e);if(!_t(t,["boolean","string","number","null"]))throw new Ct(`Expected first argument to be of type boolean, string, number or null, but found ${it(gt(t))} instead.`);if(!_t(o,["string","array"]))throw new Ct(`Expected second argument to be of type array or string, but found ${it(gt(o))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(e);return o.indexOf(t,n)}return o.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class ko{constructor(e,t,o,n,i,s){this.inputType=e,this.type=t,this.input=o,this.cases=n,this.outputs=i,this.otherwise=s}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let o,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i={},s=[];for(let a=2;a<e.length-1;a+=2){let r=e[a];const _=e[a+1];Array.isArray(r)||(r=[r]);const p=t.concat(a);if(0===r.length)return p.error("Expected at least one branch label.");for(const e of r){if("number"!=typeof e&&"string"!=typeof e)return p.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return p.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return p.error("Numeric branch labels must be integer values.");if(o){if(p.checkSubtype(o,gt(e)))return null}else o=gt(e);if(void 0!==i[String(e)])return p.error("Branch labels must be unique.");i[String(e)]=s.length}const l=t.parse(_,a,n);if(!l)return null;n=n||l.type,s.push(l)}const a=t.parse(e[1],1,Qe);if(!a)return null;const r=t.parse(e[e.length-1],e.length-1,n);return r?"value"!==a.type.kind&&t.concat(1).checkSubtype(o,a.type)?null:new ko(o,n,a,i,s,r):null}evaluate(e){const t=this.input.evaluate(e);return(gt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),o=[],n={};for(const e of t){const t=n[this.cases[e]];void 0===t?(n[this.cases[e]]=o.length,o.push([this.cases[e],[e]])):o[t][1].push(e)}const i=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,n]of o)e.push(1===n.length?i(n[0]):n.map(i)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}class Mo{constructor(e,t,o){this.type=e,this.branches=t,this.otherwise=o}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let o;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);const n=[];for(let i=1;i<e.length-1;i+=2){const s=t.parse(e[i],i,Xe);if(!s)return null;const a=t.parse(e[i+1],i+1,o);if(!a)return null;n.push([s,a]),o=o||a.type}const i=t.parse(e[e.length-1],e.length-1,o);return i?new Mo(o,n,i):null}evaluate(e){for(const[t,o]of this.branches)if(t.evaluate(e))return o.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,o]of this.branches)e(t),e(o);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class So{constructor(e,t,o,n){this.type=e,this.input=t,this.beginIndex=o,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const o=t.parse(e[1],1,Qe),n=t.parse(e[2],2,He);if(!o||!n)return null;if(!rt(o.type,[nt(Qe),$e,Qe]))return t.error(`Expected first argument to be of type array or string, but found ${it(o.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,He);return i?new So(o.type,o,n,i):null}return new So(o.type,o,n)}evaluate(e){const t=this.input.evaluate(e),o=this.beginIndex.evaluate(e);if(!_t(t,["string","array"]))throw new Ct(`Expected first argument to be of type array or string, but found ${it(gt(t))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(e);return t.slice(o,n)}return t.slice(o)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Eo(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Ao(e,t,o,n){return 0===n.compare(t,o)}function Io(e,t,o){const n="=="!==e&&"!="!==e;return class i{constructor(e,t,o){this.type=Xe,this.lhs=e,this.rhs=t,this.collator=o,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const o=e[0];let s=t.parse(e[1],1,Qe);if(!s)return null;if(!Eo(o,s.type))return t.concat(1).error(`"${o}" comparisons are not supported for type '${it(s.type)}'.`);let a=t.parse(e[2],2,Qe);if(!a)return null;if(!Eo(o,a.type))return t.concat(2).error(`"${o}" comparisons are not supported for type '${it(a.type)}'.`);if(s.type.kind!==a.type.kind&&"value"!==s.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${it(s.type)}' and '${it(a.type)}'.`);n&&("value"===s.type.kind&&"value"!==a.type.kind?s=new wt(a.type,[s]):"value"!==s.type.kind&&"value"===a.type.kind&&(a=new wt(s.type,[a])));let r=null;if(4===e.length){if("string"!==s.type.kind&&"string"!==a.type.kind&&"value"!==s.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(r=t.parse(e[3],3,et),!r)return null}return new i(s,a,r)}evaluate(i){const s=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){const t=gt(s),o=gt(a);if(t.kind!==o.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ct(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${o.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const e=gt(s),o=gt(a);if("string"!==e.kind||"string"!==o.kind)return t(i,s,a)}return this.collator?o(i,s,a,this.collator.evaluate(i)):t(i,s,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}const zo=Io("==",(function(e,t,o){return t===o}),Ao),Po=Io("!=",(function(e,t,o){return t!==o}),(function(e,t,o,n){return!Ao(0,t,o,n)})),Do=Io("<",(function(e,t,o){return t<o}),(function(e,t,o,n){return n.compare(t,o)<0})),Lo=Io(">",(function(e,t,o){return t>o}),(function(e,t,o,n){return n.compare(t,o)>0})),Bo=Io("<=",(function(e,t,o){return t<=o}),(function(e,t,o,n){return n.compare(t,o)<=0})),Ro=Io(">=",(function(e,t,o){return t>=o}),(function(e,t,o,n){return n.compare(t,o)>=0}));class Fo{constructor(e,t,o,n,i){this.type=$e,this.number=e,this.locale=t,this.currency=o,this.minFractionDigits=n,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const o=t.parse(e[1],1,He);if(!o)return null;const n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let i=null;if(n.locale&&(i=t.parse(n.locale,1,$e),!i))return null;let s=null;if(n.currency&&(s=t.parse(n.currency,1,$e),!s))return null;let a=null;if(n["min-fraction-digits"]&&(a=t.parse(n["min-fraction-digits"],1,He),!a))return null;let r=null;return n["max-fraction-digits"]&&(r=t.parse(n["max-fraction-digits"],1,He),!r)?null:new Fo(o,i,s,a,r)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Oo{constructor(e){this.type=He,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const o=t.parse(e[1],1);return o?"array"!==o.type.kind&&"string"!==o.type.kind&&"value"!==o.type.kind?t.error(`Expected argument of type string or array, but found ${it(o.type)} instead.`):new Oo(o):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ct(`Expected value to be of type string or array, but found ${it(gt(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}const No={"==":zo,"!=":Po,">":Lo,"<":Do,">=":Ro,"<=":Bo,array:wt,at:bo,boolean:wt,case:Mo,coalesce:xo,collator:zt,format:Tt,image:kt,in:wo,"index-of":To,interpolate:go,"interpolate-hcl":go,"interpolate-lab":go,length:Oo,let:Co,literal:xt,match:ko,number:wt,"number-format":Fo,object:wt,slice:So,step:to,string:wt,"to-boolean":St,"to-color":St,"to-number":St,"to-string":St,var:Jt,within:Ht};function Vo(e,[t,o,n,i]){t=t.evaluate(e),o=o.evaluate(e),n=n.evaluate(e);const s=i?i.evaluate(e):1,a=ht(t,o,n,s);if(a)throw new Ct(a);return new ut(t/255*s,o/255*s,n/255*s,s)}function Uo(e,t){return e in t}function Go(e,t){const o=t[e];return void 0===o?null:o}function Wo(e){return{type:e}}function Zo(e){return{result:"success",value:e}}function jo(e){return{result:"error",value:e}}function qo(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Ko(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Ho(e){return!!e.expression&&e.expression.interpolated}function $o(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Xo(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Yo(e){return e}function Jo(e,t,o){return void 0!==e?e:void 0!==t?t:void 0!==o?o:void 0}function Qo(e,t,o,n,i){return Jo(typeof o===i?n[o]:void 0,e.default,t.default)}function en(e,t,o){if("number"!==$o(o))return Jo(e.default,t.default);const n=e.stops.length;if(1===n)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[n-1][0])return e.stops[n-1][1];const i=eo(e.stops.map(e=>e[0]),o);return e.stops[i][1]}function tn(e,t,o){const n=void 0!==e.base?e.base:1;if("number"!==$o(o))return Jo(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[i-1][0])return e.stops[i-1][1];const s=eo(e.stops.map(e=>e[0]),o),a=function(e,t,o,n){const i=n-o,s=e-o;return 0===i?0:1===t?s/i:(Math.pow(t,s)-1)/(Math.pow(t,i)-1)}(o,n,e.stops[s][0],e.stops[s+1][0]),r=e.stops[s][1],_=e.stops[s+1][1];let p=no[t.type]||Yo;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=yo[e.colorSpace];p=(e,o)=>t.reverse(t.interpolate(t.forward(e),t.forward(o),a))}return"function"==typeof r.evaluate?{evaluate(...e){const t=r.evaluate.apply(void 0,e),o=_.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==o)return p(t,o,a)}}:p(r,_,a)}function on(e,t,o){return"color"===t.type?o=ut.parse(o):"formatted"===t.type?o=ct.fromString(o.toString()):"resolvedImage"===t.type?o=mt.fromString(o.toString()):$o(o)===t.type||"enum"===t.type&&t.values[o]||(o=void 0),Jo(o,e.default,t.default)}It.register(No,{error:[{kind:"error"},[$e],(e,[t])=>{throw new Ct(t.evaluate(e))}],typeof:[$e,[Qe],(e,[t])=>it(gt(t.evaluate(e)))],"to-rgba":[nt(He,4),[Ye],(e,[t])=>t.evaluate(e).toArray()],rgb:[Ye,[He,He,He],Vo],rgba:[Ye,[He,He,He,He],Vo],has:{type:Xe,overloads:[[[$e],(e,[t])=>Uo(t.evaluate(e),e.properties())],[[$e,Je],(e,[t,o])=>Uo(t.evaluate(e),o.evaluate(e))]]},get:{type:Qe,overloads:[[[$e],(e,[t])=>Go(t.evaluate(e),e.properties())],[[$e,Je],(e,[t,o])=>Go(t.evaluate(e),o.evaluate(e))]]},"feature-state":[Qe,[$e],(e,[t])=>Go(t.evaluate(e),e.featureState||{})],properties:[Je,[],e=>e.properties()],"geometry-type":[$e,[],e=>e.geometryType()],id:[Qe,[],e=>e.id()],zoom:[He,[],e=>e.globals.zoom],"heatmap-density":[He,[],e=>e.globals.heatmapDensity||0],"line-progress":[He,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[He,[],e=>e.globals.skyRadialProgress||0],accumulated:[Qe,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[He,Wo(He),(e,t)=>{let o=0;for(const n of t)o+=n.evaluate(e);return o}],"*":[He,Wo(He),(e,t)=>{let o=1;for(const n of t)o*=n.evaluate(e);return o}],"-":{type:He,overloads:[[[He,He],(e,[t,o])=>t.evaluate(e)-o.evaluate(e)],[[He],(e,[t])=>-t.evaluate(e)]]},"/":[He,[He,He],(e,[t,o])=>t.evaluate(e)/o.evaluate(e)],"%":[He,[He,He],(e,[t,o])=>t.evaluate(e)%o.evaluate(e)],ln2:[He,[],()=>Math.LN2],pi:[He,[],()=>Math.PI],e:[He,[],()=>Math.E],"^":[He,[He,He],(e,[t,o])=>Math.pow(t.evaluate(e),o.evaluate(e))],sqrt:[He,[He],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[He,[He],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[He,[He],(e,[t])=>Math.log(t.evaluate(e))],log2:[He,[He],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[He,[He],(e,[t])=>Math.sin(t.evaluate(e))],cos:[He,[He],(e,[t])=>Math.cos(t.evaluate(e))],tan:[He,[He],(e,[t])=>Math.tan(t.evaluate(e))],asin:[He,[He],(e,[t])=>Math.asin(t.evaluate(e))],acos:[He,[He],(e,[t])=>Math.acos(t.evaluate(e))],atan:[He,[He],(e,[t])=>Math.atan(t.evaluate(e))],min:[He,Wo(He),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[He,Wo(He),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[He,[He],(e,[t])=>Math.abs(t.evaluate(e))],round:[He,[He],(e,[t])=>{const o=t.evaluate(e);return o<0?-Math.round(-o):Math.round(o)}],floor:[He,[He],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[He,[He],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[Xe,[$e,Qe],(e,[t,o])=>e.properties()[t.value]===o.value],"filter-id-==":[Xe,[Qe],(e,[t])=>e.id()===t.value],"filter-type-==":[Xe,[$e],(e,[t])=>e.geometryType()===t.value],"filter-<":[Xe,[$e,Qe],(e,[t,o])=>{const n=e.properties()[t.value],i=o.value;return typeof n==typeof i&&n<i}],"filter-id-<":[Xe,[Qe],(e,[t])=>{const o=e.id(),n=t.value;return typeof o==typeof n&&o<n}],"filter->":[Xe,[$e,Qe],(e,[t,o])=>{const n=e.properties()[t.value],i=o.value;return typeof n==typeof i&&n>i}],"filter-id->":[Xe,[Qe],(e,[t])=>{const o=e.id(),n=t.value;return typeof o==typeof n&&o>n}],"filter-<=":[Xe,[$e,Qe],(e,[t,o])=>{const n=e.properties()[t.value],i=o.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[Xe,[Qe],(e,[t])=>{const o=e.id(),n=t.value;return typeof o==typeof n&&o<=n}],"filter->=":[Xe,[$e,Qe],(e,[t,o])=>{const n=e.properties()[t.value],i=o.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[Xe,[Qe],(e,[t])=>{const o=e.id(),n=t.value;return typeof o==typeof n&&o>=n}],"filter-has":[Xe,[Qe],(e,[t])=>t.value in e.properties()],"filter-has-id":[Xe,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[Xe,[nt($e)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[Xe,[nt(Qe)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[Xe,[$e,nt(Qe)],(e,[t,o])=>o.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[Xe,[$e,nt(Qe)],(e,[t,o])=>function(e,t,o,n){for(;o<=n;){const i=o+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:o=i+1}return!1}(e.properties()[t.value],o.value,0,o.value.length-1)],all:{type:Xe,overloads:[[[Xe,Xe],(e,[t,o])=>t.evaluate(e)&&o.evaluate(e)],[Wo(Xe),(e,t)=>{for(const o of t)if(!o.evaluate(e))return!1;return!0}]]},any:{type:Xe,overloads:[[[Xe,Xe],(e,[t,o])=>t.evaluate(e)||o.evaluate(e)],[Wo(Xe),(e,t)=>{for(const o of t)if(o.evaluate(e))return!0;return!1}]]},"!":[Xe,[Xe],(e,[t])=>!t.evaluate(e)],"is-supported-script":[Xe,[$e],(e,[t])=>{const o=e.globals&&e.globals.isSupportedScript;return!o||o(t.evaluate(e))}],upcase:[$e,[$e],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[$e,[$e],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[$e,Wo(Qe),(e,t)=>t.map(t=>vt(t.evaluate(e))).join("")],"resolved-locale":[$e,[et],(e,[t])=>t.evaluate(e).resolvedLocale()]});class nn{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new At,this._defaultValue=t?function(e){return"color"===e.type&&Xo(e.default)?new ut(0,0,0,0):"color"===e.type?ut.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,o,n,i,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=o,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(e,t,o,n,i,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=o||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ct(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function sn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in No}function an(e,t){const o=new Qt(No,[],t?function(e){const t={color:Ye,string:$e,number:He,enum:$e,boolean:Xe,formatted:tt,resolvedImage:ot};return"array"===e.type?nt(t[e.value]||Qe,e.length):t[e.type]}(t):void 0),n=o.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Zo(new nn(n,t)):jo(o.errors)}class rn{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Xt(t.expression)}evaluateWithoutErrorHandling(e,t,o,n,i,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,o,n,i,s)}evaluate(e,t,o,n,i,s){return this._styleExpression.evaluate(e,t,o,n,i,s)}}class _n{constructor(e,t,o,n){this.kind=e,this.zoomStops=o,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Xt(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,o,n,i,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,o,n,i,s)}evaluate(e,t,o,n,i,s){return this._styleExpression.evaluate(e,t,o,n,i,s)}interpolationFactor(e,t,o){return this.interpolationType?go.interpolationFactor(this.interpolationType,e,t,o):0}}function pn(e,t){if("error"===(e=an(e,t)).result)return e;const o=e.value.expression,n=$t(o);if(!n&&!qo(t))return jo([new je("","data expressions not supported")]);const i=Yt(o,["zoom"]);if(!i&&!Ko(t))return jo([new je("","zoom expressions not supported")]);const s=function e(t){let o=null;if(t instanceof Co)o=e(t.result);else if(t instanceof xo){for(const n of t.args)if(o=e(n),o)break}else(t instanceof to||t instanceof go)&&t.input instanceof It&&"zoom"===t.input.name&&(o=t);return o instanceof je||t.eachChild(t=>{const n=e(t);n instanceof je?o=n:!o&&n?o=new je("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&n&&o!==n&&(o=new je("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}(o);return s||i?s instanceof je?jo([s]):s instanceof go&&!Ho(t)?jo([new je("",'"interpolate" expressions cannot be used with this property')]):Zo(s?new _n(n?"camera":"composite",e.value,s.labels,s instanceof go?s.interpolation:void 0):new rn(n?"constant":"source",e.value)):jo([new je("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ln{constructor(e,t){this._parameters=e,this._specification=t,Ge(this,function e(t,o){const n="color"===o.type,i=t.stops&&"object"==typeof t.stops[0][0],s=i||!(i||void 0!==t.property),a=t.type||(Ho(o)?"exponential":"interval");if(n&&((t=Ge({},t)).stops&&(t.stops=t.stops.map(e=>[e[0],ut.parse(e[1])])),t.default=ut.parse(t.default?t.default:o.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!yo[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);let r,_,p;if("exponential"===a)r=tn;else if("interval"===a)r=en;else if("categorical"===a){r=Qo,_=Object.create(null);for(const e of t.stops)_[e[0]]=e[1];p=typeof t.stops[0][0]}else{if("identity"!==a)throw new Error(`Unknown function type "${a}"`);r=on}if(i){const n={},i=[];for(let e=0;e<t.stops.length;e++){const o=t.stops[e],s=o[0].zoom;void 0===n[s]&&(n[s]={zoom:s,type:t.type,property:t.property,default:t.default,stops:[]},i.push(s)),n[s].stops.push([o[0].value,o[1]])}const s=[];for(const t of i)s.push([n[t].zoom,e(n[t],o)]);const a={name:"linear"};return{kind:"composite",interpolationType:a,interpolationFactor:go.interpolationFactor.bind(void 0,a),zoomStops:s.map(e=>e[0]),evaluate:({zoom:e},n)=>tn({stops:s,base:t.base},o,e).evaluate(e,n)}}if(s){const e="exponential"===a?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:e,interpolationFactor:go.interpolationFactor.bind(void 0,e),zoomStops:t.stops.map(e=>e[0]),evaluate:({zoom:e})=>r(t,o,e,_,p)}}return{kind:"source",evaluate(e,n){const i=n&&n.properties?n.properties[t.property]:void 0;return void 0===i?Jo(t.default,o.default):r(t,o,i,_,p)}}}(this._parameters,this._specification))}static deserialize(e){return new ln(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function un(e){const t=e.key,o=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},s=e.style,a=e.styleSpec;let r=[];const _=$o(o);if("object"!==_)return[new Ve(t,o,`object expected, ${_} found`)];for(const e in o){const _=e.split(".")[0],p=n[_]||n["*"];let l;if(i[_])l=i[_];else if(n[_])l=Nn;else if(i["*"])l=i["*"];else{if(!n["*"]){r.push(new Ve(t,o[e],`unknown property "${e}"`));continue}l=Nn}r=r.concat(l({key:(t?t+".":t)+e,value:o[e],valueSpec:p,style:s,styleSpec:a,object:o,objectKey:e},o))}for(const e in n)i[e]||n[e].required&&void 0===n[e].default&&void 0===o[e]&&r.push(new Ve(t,o,`missing required property "${e}"`));return r}function fn(e){const t=e.value,o=e.valueSpec,n=e.style,i=e.styleSpec,s=e.key,a=e.arrayElementValidator||Nn;if("array"!==$o(t))return[new Ve(s,t,`array expected, ${$o(t)} found`)];if(o.length&&t.length!==o.length)return[new Ve(s,t,`array length ${o.length} expected, length ${t.length} found`)];if(o["min-length"]&&t.length<o["min-length"])return[new Ve(s,t,`array length at least ${o["min-length"]} expected, length ${t.length} found`)];let r={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum};i.$version<7&&(r.function=o.function),"object"===$o(o.value)&&(r=o.value);let _=[];for(let e=0;e<t.length;e++)_=_.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:r,style:n,styleSpec:i,key:`${s}[${e}]`}));return _}function dn(e){const t=e.key,o=e.value,n=e.valueSpec;let i=$o(o);if("number"===i&&o!=o&&(i="NaN"),"number"!==i)return[new Ve(t,o,`number expected, ${i} found`)];if("minimum"in n){let i=n.minimum;if("array"===$o(n.minimum)&&(i=n.minimum[e.arrayIndex]),o<i)return[new Ve(t,o,`${o} is less than the minimum value ${i}`)]}if("maximum"in n){let i=n.maximum;if("array"===$o(n.maximum)&&(i=n.maximum[e.arrayIndex]),o>i)return[new Ve(t,o,`${o} is greater than the maximum value ${i}`)]}return[]}function cn(e){const t=e.valueSpec,o=We(e.value.type);let n,i,s,a={};const r="categorical"!==o&&void 0===e.value.property,_=!r,p="array"===$o(e.value.stops)&&"array"===$o(e.value.stops[0])&&"object"===$o(e.value.stops[0][0]),l=un({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new Ve(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const n=e.value;return t=t.concat(fn({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:u})),"array"===$o(n)&&0===n.length&&t.push(new Ve(e.key,n,"array must have at least one stop")),t},default:function(e){return Nn({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&r&&l.push(new Ve(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||l.push(new Ve(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!Ho(e.valueSpec)&&l.push(new Ve(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(_&&!qo(e.valueSpec)?l.push(new Ve(e.key,e.value,"property functions not supported")):r&&!Ko(e.valueSpec)&&l.push(new Ve(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!p||void 0!==e.value.property||l.push(new Ve(e.key,e.value,'"property" property is required')),l;function u(e){let o=[];const n=e.value,r=e.key;if("array"!==$o(n))return[new Ve(r,n,`array expected, ${$o(n)} found`)];if(2!==n.length)return[new Ve(r,n,`array length 2 expected, length ${n.length} found`)];if(p){if("object"!==$o(n[0]))return[new Ve(r,n,`object expected, ${$o(n[0])} found`)];if(void 0===n[0].zoom)return[new Ve(r,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new Ve(r,n,"object stop key must have value")];if(s&&s>We(n[0].zoom))return[new Ve(r,n[0].zoom,"stop zoom values must appear in ascending order")];We(n[0].zoom)!==s&&(s=We(n[0].zoom),i=void 0,a={}),o=o.concat(un({key:r+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:dn,value:f}}))}else o=o.concat(f({key:r+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},n));return sn(Ze(n[1]))?o.concat([new Ve(r+"[1]",n[1],"expressions are not allowed in function stops.")]):o.concat(Nn({key:r+"[1]",value:n[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function f(e,s){const r=$o(e.value),_=We(e.value),p=null!==e.value?e.value:s;if(n){if(r!==n)return[new Ve(e.key,p,`${r} stop domain type must match previous stop domain type ${n}`)]}else n=r;if("number"!==r&&"string"!==r&&"boolean"!==r)return[new Ve(e.key,p,"stop domain value must be a number, string, or boolean")];if("number"!==r&&"categorical"!==o){let n=`number expected, ${r} found`;return qo(t)&&void 0===o&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ve(e.key,p,n)]}return"categorical"!==o||"number"!==r||isFinite(_)&&Math.floor(_)===_?"categorical"!==o&&"number"===r&&void 0!==i&&_<i?[new Ve(e.key,p,"stop domain values must appear in ascending order")]:(i=_,"categorical"===o&&_ in a?[new Ve(e.key,p,"stop domain values must be unique")]:(a[_]=!0,[])):[new Ve(e.key,p,"integer expected, found "+_)]}}function mn(e){const t=("property"===e.expressionContext?pn:an)(Ze(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new Ve(`${e.key}${t.key}`,e.value,t.message));const o=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!o.outputDefined())return[new Ve(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Xt(o))return[new Ve(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Xt(o))return[new Ve(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Yt(o,["zoom","feature-state"]))return[new Ve(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!$t(o))return[new Ve(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function hn(e){const t=e.key,o=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(We(o))&&i.push(new Ve(t,o,`expected one of [${n.values.join(", ")}], ${JSON.stringify(o)} found`)):-1===Object.keys(n.values).indexOf(We(o))&&i.push(new Ve(t,o,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(o)} found`)),i}function yn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!yn(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const gn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function vn(e){if(null==e)return{filter:()=>!0,needGeometry:!1};yn(e)||(e=bn(e));const t=an(e,gn);if("error"===t.result)throw new Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "));return{filter:(e,o,n)=>t.value.evaluate(e,o,{},n),needGeometry:Cn(e)}}function xn(e,t){return e<t?-1:e>t?1:0}function Cn(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(Cn(e[t]))return!0;return!1}function bn(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?wn(e[1],e[2],"=="):"!="===t?Mn(wn(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?wn(e[1],e[2],t):"any"===t?(o=e.slice(1),["any"].concat(o.map(bn))):"all"===t?["all"].concat(e.slice(1).map(bn)):"none"===t?["all"].concat(e.slice(1).map(bn).map(Mn)):"in"===t?Tn(e[1],e.slice(2)):"!in"===t?Mn(Tn(e[1],e.slice(2))):"has"===t?kn(e[1]):"!has"===t?Mn(kn(e[1])):"within"!==t||e;var o}function wn(e,t,o){switch(e){case"$type":return["filter-type-"+o,t];case"$id":return["filter-id-"+o,t];default:return["filter-"+o,e,t]}}function Tn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(xn)]]:["filter-in-small",e,["literal",t]]}}function kn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Mn(e){return["!",e]}function Sn(e){return yn(Ze(e.value))?mn(Ge({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){const o=t.value,n=t.key;if("array"!==$o(o))return[new Ve(n,o,`array expected, ${$o(o)} found`)];const i=t.styleSpec;let s,a=[];if(o.length<1)return[new Ve(n,o,"filter array must have at least 1 element")];switch(a=a.concat(hn({key:n+"[0]",value:o[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),We(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&"$type"===We(o[1])&&a.push(new Ve(n,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":3!==o.length&&a.push(new Ve(n,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(s=$o(o[1]),"string"!==s&&a.push(new Ve(n+"[1]",o[1],`string expected, ${s} found`)));for(let e=2;e<o.length;e++)s=$o(o[e]),"$type"===We(o[1])?a=a.concat(hn({key:`${n}[${e}]`,value:o[e],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==s&&"number"!==s&&"boolean"!==s&&a.push(new Ve(`${n}[${e}]`,o[e],`string, number, or boolean expected, ${s} found`));break;case"any":case"all":case"none":for(let i=1;i<o.length;i++)a=a.concat(e({key:`${n}[${i}]`,value:o[i],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":s=$o(o[1]),2!==o.length?a.push(new Ve(n,o,`filter array for "${o[0]}" operator must have 2 elements`)):"string"!==s&&a.push(new Ve(n+"[1]",o[1],`string expected, ${s} found`));break;case"within":s=$o(o[1]),2!==o.length?a.push(new Ve(n,o,`filter array for "${o[0]}" operator must have 2 elements`)):"object"!==s&&a.push(new Ve(n+"[1]",o[1],`object expected, ${s} found`))}return a}(e)}function En(e,t){const o=e.key,n=e.style,i=e.styleSpec,s=e.value,a=e.objectKey,r=i[`${t}_${e.layerType}`];if(!r)return[];const _=a.match(/^(.*)-transition$/);if("paint"===t&&_&&r[_[1]]&&r[_[1]].transition)return Nn({key:o,value:s,valueSpec:i.transition,style:n,styleSpec:i});const p=e.valueSpec||r[a];if(!p)return[new Ve(o,s,`unknown property "${a}"`)];let l;if("string"===$o(s)&&qo(p)&&!p.tokens&&(l=/^{([^}]+)}$/.exec(s)))return[new Ve(o,s,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(l[1])} }\`.`)];const u=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&u.push(new Ve(o,s,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Xo(Ze(s))&&"identity"===We(s.type)&&u.push(new Ve(o,s,'"text-font" does not support identity functions'))),u.concat(Nn({key:e.key,value:s,valueSpec:p,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function An(e){return En(e,"paint")}function In(e){return En(e,"layout")}function zn(e){let t=[];const o=e.value,n=e.key,i=e.style,s=e.styleSpec;o.type||o.ref||t.push(new Ve(n,o,'either "type" or "ref" is required'));let a=We(o.type);const r=We(o.ref);if(o.id){const s=We(o.id);for(let a=0;a<e.arrayIndex;a++){const e=i.layers[a];We(e.id)===s&&t.push(new Ve(n,o.id,`duplicate layer id "${o.id}", previously used at line ${e.id.__line__}`))}}if("ref"in o){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in o&&t.push(new Ve(n,o[e],`"${e}" is prohibited for ref layers`))}),i.layers.forEach(t=>{We(t.id)===r&&(e=t)}),e?e.ref?t.push(new Ve(n,o.ref,"ref cannot reference another ref layer")):a=We(e.type):t.push(new Ve(n,o.ref,`ref layer "${r}" not found`))}else if("background"!==a&&"sky"!==a)if(o.source){const e=i.sources&&i.sources[o.source],s=e&&We(e.type);e?"vector"===s&&"raster"===a?t.push(new Ve(n,o.source,`layer "${o.id}" requires a raster source`)):"raster"===s&&"raster"!==a?t.push(new Ve(n,o.source,`layer "${o.id}" requires a vector source`)):"vector"!==s||o["source-layer"]?"raster-dem"===s&&"hillshade"!==a?t.push(new Ve(n,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!o.paint||!o.paint["line-gradient"]||"geojson"===s&&e.lineMetrics||t.push(new Ve(n,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Ve(n,o,`layer "${o.id}" must specify a "source-layer"`)):t.push(new Ve(n,o.source,`source "${o.source}" not found`))}else t.push(new Ve(n,o,'missing required property "source"'));return t=t.concat(un({key:n,value:o,valueSpec:s.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Nn({key:n+".type",value:o.type,valueSpec:s.layer.type,style:e.style,styleSpec:e.styleSpec,object:o,objectKey:"type"}),filter:Sn,layout:e=>un({layer:o,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>In(Ge({layerType:a},e))}}),paint:e=>un({layer:o,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>An(Ge({layerType:a},e))}})}})),t}function Pn(e){const t=e.value,o=e.key,n=$o(t);return"string"!==n?[new Ve(o,t,`string expected, ${n} found`)]:[]}const Dn={promoteId:function({key:e,value:t}){if("string"===$o(t))return Pn({key:e,value:t});{const o=[];for(const n in t)o.push(...Pn({key:`${e}.${n}`,value:t[n]}));return o}}};function Ln(e){const t=e.value,o=e.key,n=e.styleSpec,i=e.style;if(!t.type)return[new Ve(o,t,'"type" is required')];const s=We(t.type);let a;switch(s){case"vector":case"raster":case"raster-dem":return a=un({key:o,value:t,valueSpec:n["source_"+s.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:Dn}),a;case"geojson":if(a=un({key:o,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:Dn}),t.cluster)for(const e in t.clusterProperties){const[n,i]=t.clusterProperties[e],s="string"==typeof n?[n,["accumulated"],["get",e]]:n;a.push(...mn({key:`${o}.${e}.map`,value:i,expressionContext:"cluster-map"})),a.push(...mn({key:`${o}.${e}.reduce`,value:s,expressionContext:"cluster-reduce"}))}return a;case"video":return un({key:o,value:t,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return un({key:o,value:t,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new Ve(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return hn({key:o+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function Bn(e){const t=e.value,o=e.styleSpec,n=o.light,i=e.style;let s=[];const a=$o(t);if(void 0===t)return s;if("object"!==a)return s=s.concat([new Ve("light",t,`object expected, ${a} found`)]),s;for(const e in t){const a=e.match(/^(.*)-transition$/);s=s.concat(a&&n[a[1]]&&n[a[1]].transition?Nn({key:e,value:t[e],valueSpec:o.transition,style:i,styleSpec:o}):n[e]?Nn({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:o}):[new Ve(e,t[e],`unknown property "${e}"`)])}return s}function Rn(e){const t=e.value,o=e.key,n=e.style,i=e.styleSpec,s=i.terrain;let a=[];const r=$o(t);if(void 0===t)return a;if("object"!==r)return a=a.concat([new Ve("terrain",t,`object expected, ${r} found`)]),a;for(const e in t){const o=e.match(/^(.*)-transition$/);a=a.concat(o&&s[o[1]]&&s[o[1]].transition?Nn({key:e,value:t[e],valueSpec:i.transition,style:n,styleSpec:i}):s[e]?Nn({key:e,value:t[e],valueSpec:s[e],style:n,styleSpec:i}):[new Ve(e,t[e],`unknown property "${e}"`)])}if(t.source){const e=n.sources&&n.sources[t.source],i=e&&We(e.type);e?"raster-dem"!==i&&a.push(new Ve(o,t.source,`terrain cannot be used with a source of type ${i}, it only be used with a "raster-dem" source type`)):a.push(new Ve(o,t.source,`source "${t.source}" not found`))}else a.push(new Ve(o,t,'terrain is missing required property "source"'));return a}function Fn(e){const t=e.value,o=e.style,n=e.styleSpec,i=n.fog;let s=[];const a=$o(t);if(void 0===t)return s;if("object"!==a)return s=s.concat([new Ve("fog",t,`object expected, ${a} found`)]),s;for(const e in t){const a=e.match(/^(.*)-transition$/);s=s.concat(a&&i[a[1]]&&i[a[1]].transition?Nn({key:e,value:t[e],valueSpec:n.transition,style:o,styleSpec:n}):i[e]?Nn({key:e,value:t[e],valueSpec:i[e],style:o,styleSpec:n}):[new Ve(e,t[e],`unknown property "${e}"`)])}return s}const On={"*":()=>[],array:fn,boolean:function(e){const t=e.value,o=e.key,n=$o(t);return"boolean"!==n?[new Ve(o,t,`boolean expected, ${n} found`)]:[]},number:dn,color:function(e){const t=e.key,o=e.value,n=$o(o);return"string"!==n?[new Ve(t,o,`color expected, ${n} found`)]:null===lt.parseCSSColor(o)?[new Ve(t,o,`color expected, "${o}" found`)]:[]},constants:Ue,enum:hn,filter:Sn,function:cn,layer:zn,object:un,source:Ln,light:Bn,terrain:Rn,fog:Fn,string:Pn,formatted:function(e){return 0===Pn(e).length?[]:mn(e)},resolvedImage:function(e){return 0===Pn(e).length?[]:mn(e)}};function Nn(e){const t=e.value,o=e.valueSpec,n=e.styleSpec;return o.expression&&Xo(We(t))?cn(e):o.expression&&sn(Ze(t))?mn(e):o.type&&On[o.type]?On[o.type](e):un(Ge({},e,{valueSpec:o.type?n[o.type]:o}))}function Vn(e){const t=e.value,o=e.key,n=Pn(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new Ve(o,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new Ve(o,t,'"glyphs" url must include a "{range}" token'))),n}function Un(e,t=Ne){let o=[];return o=o.concat(Nn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Vn,"*":()=>[]}})),e.constants&&(o=o.concat(Ue({key:"constants",value:e.constants,style:e,styleSpec:t}))),Gn(o)}function Gn(e){return[].concat(e).sort((e,t)=>e.line-t.line)}function Wn(e){return function(...t){return Gn(e.apply(this,t))}}Un.source=Wn(Ln),Un.light=Wn(Bn),Un.terrain=Wn(Rn),Un.fog=Wn(Fn),Un.layer=Wn(zn),Un.filter=Wn(Sn),Un.paintProperty=Wn(An),Un.layoutProperty=Wn(In);const Zn=Un,jn=Zn.light,qn=Zn.fog,Kn=Zn.paintProperty,Hn=Zn.layoutProperty;function $n(e,t){let o=!1;if(t&&t.length)for(const n of t)e.fire(new Fe(new Error(n.message))),o=!0;return o}var Xn=Yn;function Yn(e,t,o){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(o=i[2]);for(var s=0;s<this.d*this.d;s++){var a=i[3+s],r=i[3+s+1];n.push(a===r?null:i.subarray(a,r))}var _=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],_),this.bboxes=i.subarray(_),this.insert=this._insertReadonly}else{this.d=t+2*o;for(var p=0;p<this.d*this.d;p++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=o,this.scale=t/e,this.uid=0;var l=o/t*e;this.min=-l,this.max=e+l}Yn.prototype.insert=function(e,t,o,n,i){this._forEachCell(t,o,n,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(o),this.bboxes.push(n),this.bboxes.push(i)},Yn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Yn.prototype._insertCell=function(e,t,o,n,i,s){this.cells[i].push(s)},Yn.prototype.query=function(e,t,o,n,i){var s=this.min,a=this.max;if(e<=s&&t<=s&&a<=o&&a<=n&&!i)return Array.prototype.slice.call(this.keys);var r=[];return this._forEachCell(e,t,o,n,this._queryCell,r,{},i),r},Yn.prototype._queryCell=function(e,t,o,n,i,s,a,r){var _=this.cells[i];if(null!==_)for(var p=this.keys,l=this.bboxes,u=0;u<_.length;u++){var f=_[u];if(void 0===a[f]){var d=4*f;(r?r(l[d+0],l[d+1],l[d+2],l[d+3]):e<=l[d+2]&&t<=l[d+3]&&o>=l[d+0]&&n>=l[d+1])?(a[f]=!0,s.push(p[f])):a[f]=!1}}},Yn.prototype._forEachCell=function(e,t,o,n,i,s,a,r){for(var _=this._convertToCellCoord(e),p=this._convertToCellCoord(t),l=this._convertToCellCoord(o),u=this._convertToCellCoord(n),f=_;f<=l;f++)for(var d=p;d<=u;d++){var c=this.d*d+f;if((!r||r(this._convertFromCellCoord(f),this._convertFromCellCoord(d),this._convertFromCellCoord(f+1),this._convertFromCellCoord(d+1)))&&i.call(this,e,t,o,n,c,s,a,r))return}},Yn.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Yn.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Yn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,o=0,n=0;n<this.cells.length;n++)o+=this.cells[n].length;var i=new Int32Array(t+o+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var s=t,a=0;a<e.length;a++){var r=e[a];i[3+a]=s,i.set(r,s),s+=r.length}return i[3+e.length]=s,i.set(this.keys,s),i[3+e.length+1]=s+=this.keys.length,i.set(this.bboxes,s),s+=this.bboxes.length,i.buffer};const{ImageData:Jn,ImageBitmap:Qn}=r,ei={};function ti(e,t,o={}){Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),ei[e]={klass:t,omit:o.omit||[],shallow:o.shallow||[]}}ti("Object",Object),Xn.serialize=function(e,t){const o=e.toArrayBuffer();return t&&t.push(o),{buffer:o}},Xn.deserialize=function(e){return new Xn(e.buffer)},ti("Grid",Xn),ti("Color",ut),ti("Error",Error),ti("ResolvedImage",mt),ti("StylePropertyFunction",ln),ti("StyleExpression",nn,{omit:["_evaluator"]}),ti("ZoomDependentExpression",_n),ti("ZoomConstantExpression",rn),ti("CompoundExpression",It,{omit:["_evaluate"]});for(const e in No)No[e]._classRegistryKey||ti("Expression_"+e,No[e]);function oi(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function ni(e){return Qn&&e instanceof Qn}function ii(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(oi(e)||ni(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const o=e;return t&&t.push(o.buffer),o}if(e instanceof Jn)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const o=[];for(const n of e)o.push(ii(n,t));return o}if("object"==typeof e){const o=e.constructor,n=o._classRegistryKey;if(!n)throw new Error("can't serialize object of unregistered class");const i=o.serialize?o.serialize(e,t):{};if(!o.serialize){for(const o in e){if(!e.hasOwnProperty(o))continue;if(ei[n].omit.indexOf(o)>=0)continue;const s=e[o];i[o]=ei[n].shallow.indexOf(o)>=0?s:ii(s,t)}e instanceof Error&&(i.message=e.message)}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(i.$name=n),i}throw new Error("can't serialize object of type "+typeof e)}function si(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||oi(e)||ni(e)||ArrayBuffer.isView(e)||e instanceof Jn)return e;if(Array.isArray(e))return e.map(si);if("object"==typeof e){const t=e.$name||"Object",{klass:o}=ei[t];if(!o)throw new Error("can't deserialize unregistered class "+t);if(o.deserialize)return o.deserialize(e);const n=Object.create(o.prototype);for(const o of Object.keys(e)){if("$name"===o)continue;const i=e[o];n[o]=ei[t].shallow.indexOf(o)>=0?i:si(i)}return n}throw new Error("can't deserialize object of type "+typeof e)}class ai{constructor(){this.first=!0}update(e,t){const o=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=o,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=o,!0):(this.lastFloorZoom>o?(this.lastIntegerZoom=o+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<o&&(this.lastIntegerZoom=o,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=o,!0))}}const ri=e=>e>=1536&&e<=1791,_i=e=>e>=1872&&e<=1919,pi=e=>e>=2208&&e<=2303,li=e=>e>=11904&&e<=12031,ui=e=>e>=12032&&e<=12255,fi=e=>e>=12272&&e<=12287,di=e=>e>=12288&&e<=12351,ci=e=>e>=12352&&e<=12447,mi=e=>e>=12448&&e<=12543,hi=e=>e>=12544&&e<=12591,yi=e=>e>=12704&&e<=12735,gi=e=>e>=12736&&e<=12783,vi=e=>e>=12784&&e<=12799,xi=e=>e>=12800&&e<=13055,Ci=e=>e>=13056&&e<=13311,bi=e=>e>=13312&&e<=19903,wi=e=>e>=19968&&e<=40959,Ti=e=>e>=40960&&e<=42127,ki=e=>e>=42128&&e<=42191,Mi=e=>e>=44032&&e<=55215,Si=e=>e>=63744&&e<=64255,Ei=e=>e>=64336&&e<=65023,Ai=e=>e>=65040&&e<=65055,Ii=e=>e>=65072&&e<=65103,zi=e=>e>=65104&&e<=65135,Pi=e=>e>=65136&&e<=65279,Di=e=>e>=65280&&e<=65519;function Li(e){for(const t of e)if(Fi(t.charCodeAt(0)))return!0;return!1}function Bi(e){for(const t of e)if(!Ri(t.charCodeAt(0)))return!1;return!0}function Ri(e){return!(ri(e)||_i(e)||pi(e)||Ei(e)||Pi(e))}function Fi(e){return!(746!==e&&747!==e&&(e<4352||!(yi(e)||hi(e)||Ii(e)&&!(e>=65097&&e<=65103)||Si(e)||Ci(e)||li(e)||gi(e)||!(!di(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||bi(e)||wi(e)||xi(e)||(e=>e>=12592&&e<=12687)(e)||(e=>e>=43360&&e<=43391)(e)||(e=>e>=55216&&e<=55295)(e)||(e=>e>=4352&&e<=4607)(e)||Mi(e)||ci(e)||fi(e)||(e=>e>=12688&&e<=12703)(e)||ui(e)||vi(e)||mi(e)&&12540!==e||!(!Di(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!zi(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||(e=>e>=5120&&e<=5759)(e)||(e=>e>=6320&&e<=6399)(e)||Ai(e)||(e=>e>=19904&&e<=19967)(e)||Ti(e)||ki(e))))}function Oi(e){return!(Fi(e)||function(e){return!!((e=>e>=128&&e<=255)(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||(e=>e>=8192&&e<=8303)(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||(e=>e>=8448&&e<=8527)(e)||(e=>e>=8528&&e<=8591)(e)||(e=>e>=8960&&e<=9215)(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||(e=>e>=9216&&e<=9279)(e)&&9251!==e||(e=>e>=9280&&e<=9311)(e)||(e=>e>=9312&&e<=9471)(e)||(e=>e>=9632&&e<=9727)(e)||(e=>e>=9728&&e<=9983)(e)&&!(e>=9754&&e<=9759)||(e=>e>=11008&&e<=11263)(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||di(e)||mi(e)||(e=>e>=57344&&e<=63743)(e)||Ii(e)||zi(e)||Di(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Ni(e){return e>=1424&&e<=2303||Ei(e)||Pi(e)}function Vi(e,t){return!(!t&&Ni(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||(e=>e>=6016&&e<=6143)(e))}function Ui(e){for(const t of e)if(Ni(t.charCodeAt(0)))return!0;return!1}const Gi="deferred",Wi="loading",Zi="loaded";let ji=null,qi="unavailable",Ki=null;const Hi=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(qi="error"),ji&&ji(e)};function $i(){Xi.fire(new Re("pluginStateChange",{pluginStatus:qi,pluginURL:Ki}))}const Xi=new Oe,Yi=function(){return qi},Ji=function(){if(qi!==Gi||!Ki)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");qi=Wi,$i(),Ki&&Me({url:Ki},e=>{e?Hi(e):(qi=Zi,$i())})},Qi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>qi===Zi||null!=Qi.applyArabicShaping,isLoading:()=>qi===Wi,setState(e){qi=e.pluginStatus,Ki=e.pluginURL},isParsed:()=>null!=Qi.applyArabicShaping&&null!=Qi.processBidirectionalText&&null!=Qi.processStyledBidirectionalText,getPluginURL:()=>Ki};class es{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ai,this.transition={})}isSupportedScript(e){return function(e,t){for(const o of e)if(!Vi(o.charCodeAt(0),t))return!1;return!0}(e,Qi.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),o=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*o}:{fromScale:.5,toScale:1,t:1-(1-o)*t}}}class ts{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Xo(e))return new ln(e,t);if(sn(e)){const o=pn(e,t);if("error"===o.result)throw new Error(o.value.map(e=>`${e.key}: ${e.message}`).join(", "));return o.value}{let o=e;return"string"==typeof e&&"color"===t.type&&(o=ut.parse(e)),{kind:"constant",evaluate:()=>o}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,o){return this.property.possiblyEvaluate(this,e,t,o)}}class os{constructor(e){this.property=e,this.value=new ts(e,void 0)}transitioned(e,t){return new is(this.property,this.value,t,x({},e.transition,this.transition),e.now)}untransitioned(){return new is(this.property,this.value,null,{},0)}}class ns{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return I(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new os(this._values[e].property)),this._values[e].value=new ts(this._values[e].property,null===t?void 0:I(t))}getTransition(e){return I(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new os(this._values[e].property)),this._values[e].transition=I(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const o=this.getValue(t);void 0!==o&&(e[t]=o);const n=this.getTransition(t);void 0!==n&&(e[t+"-transition"]=n)}return e}transitioned(e,t){const o=new ss(this._properties);for(const n of Object.keys(this._values))o._values[n]=this._values[n].transitioned(e,t._values[n]);return o}untransitioned(){const e=new ss(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class is{constructor(e,t,o,n,i){const s=n.delay||0,a=n.duration||0;i=i||0,this.property=e,this.value=t,this.begin=i+s,this.end=this.begin+a,e.specification.transition&&(n.delay||n.duration)&&(this.prior=o)}possiblyEvaluate(e,t,o){const n=e.now||0,i=this.value.possiblyEvaluate(e,t,o),s=this.prior;if(s){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return s.possiblyEvaluate(e,t,o);{const a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(s.possiblyEvaluate(e,t,o),i,d(a))}}return i}}class ss{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,o){const n=new _s(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,o);return n}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class as{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return I(this._values[e].value)}setValue(e,t){this._values[e]=new ts(this._values[e].property,null===t?void 0:I(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const o=this.getValue(t);void 0!==o&&(e[t]=o)}return e}possiblyEvaluate(e,t,o){const n=new _s(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,o);return n}}class rs{constructor(e,t,o){this.property=e,this.value=t,this.parameters=o}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,o,n){return this.property.evaluate(this.value,this.parameters,e,t,o,n)}}class _s{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class ps{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,o){const n=no[this.specification.type];return n?n(e,t,o):e}}class ls{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,o,n){return new rs(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},o,n)}:e.expression,t)}interpolate(e,t,o){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new rs(this,{kind:"constant",value:void 0},e.parameters);const n=no[this.specification.type];return n?new rs(this,{kind:"constant",value:n(e.value.value,t.value.value,o)},e.parameters):e}evaluate(e,t,o,n,i,s){return"constant"===e.kind?e.value:e.evaluate(t,o,n,i,s)}}class us extends ls{possiblyEvaluate(e,t,o,n){if(void 0===e.value)return new rs(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},o,n),s="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(s,s,s,t);return new rs(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){const o=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new rs(this,{kind:"constant",value:o},t)}return new rs(this,e.expression,t)}evaluate(e,t,o,n,i,s){if("source"===e.kind){const a=e.evaluate(t,o,n,i,s);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},o,n),e.evaluate({zoom:Math.floor(t.zoom)},o,n),e.evaluate({zoom:Math.floor(t.zoom)+1},o,n),t):e.value}_calculate(e,t,o,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t,other:o}:{from:o,to:t,other:e}}interpolate(e){return e}}class fs{constructor(e){this.specification=e}possiblyEvaluate(e,t,o,n){if(void 0!==e.value){if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},o,n);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new es(Math.floor(t.zoom-1),t)),e.expression.evaluate(new es(Math.floor(t.zoom),t)),e.expression.evaluate(new es(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,o,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:o,to:t}}interpolate(e){return e}}class ds{constructor(e){this.specification=e}possiblyEvaluate(e,t,o,n){return!!e.expression.evaluate(t,null,{},o,n)}interpolate(){return!1}}class cs{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const o=e[t];o.specification.overridable&&this.overridableProperties.push(t);const n=this.defaultPropertyValues[t]=new ts(o,void 0),i=this.defaultTransitionablePropertyValues[t]=new os(o);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}}}function ms(e,t){return 256*(e=h(Math.floor(e),0,255))+h(Math.floor(t),0,255)}ti("DataDrivenProperty",ls),ti("DataConstantProperty",ps),ti("CrossFadedDataDrivenProperty",us),ti("CrossFadedProperty",fs),ti("ColorRampProperty",ds);const hs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ys{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class gs{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function vs(e,t=1){let o=0,n=0;return{members:e.map(e=>{const i=hs[e.type].BYTES_PER_ELEMENT,s=o=xs(o,Math.max(t,i)),a=e.components||1;return n=Math.max(n,i),o+=i*a,{name:e.name,type:e.type,components:a,offset:s}}),size:xs(o,Math.max(n,t)),alignment:t}}function xs(e,t){return Math.ceil(e/t)*t}class Cs extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const o=this.length;return this.resize(o+1),this.emplace(o,e,t)}emplace(e,t,o){const n=2*e;return this.int16[n+0]=t,this.int16[n+1]=o,e}}Cs.prototype.bytesPerElement=4,ti("StructArrayLayout2i4",Cs);class bs extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,o,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,o,n)}emplace(e,t,o,n,i){const s=4*e;return this.int16[s+0]=t,this.int16[s+1]=o,this.int16[s+2]=n,this.int16[s+3]=i,e}}bs.prototype.bytesPerElement=8,ti("StructArrayLayout4i8",bs);class ws extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i,s,a){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,o,n,i,s,a)}emplace(e,t,o,n,i,s,a,r){const _=6*e,p=12*e,l=3*e;return this.int16[_+0]=t,this.int16[_+1]=o,this.uint8[p+4]=n,this.uint8[p+5]=i,this.uint8[p+6]=s,this.uint8[p+7]=a,this.float32[l+2]=r,e}}ws.prototype.bytesPerElement=12,ti("StructArrayLayout2i4ub1f12",ws);class Ts extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,o){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,o)}emplace(e,t,o,n){const i=3*e;return this.float32[i+0]=t,this.float32[i+1]=o,this.float32[i+2]=n,e}}Ts.prototype.bytesPerElement=12,ti("StructArrayLayout3f12",Ts);class ks extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i,s,a,r,_,p){const l=this.length;return this.resize(l+1),this.emplace(l,e,t,o,n,i,s,a,r,_,p)}emplace(e,t,o,n,i,s,a,r,_,p,l){const u=10*e;return this.uint16[u+0]=t,this.uint16[u+1]=o,this.uint16[u+2]=n,this.uint16[u+3]=i,this.uint16[u+4]=s,this.uint16[u+5]=a,this.uint16[u+6]=r,this.uint16[u+7]=_,this.uint16[u+8]=p,this.uint16[u+9]=l,e}}ks.prototype.bytesPerElement=20,ti("StructArrayLayout10ui20",ks);class Ms extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i,s,a,r){const _=this.length;return this.resize(_+1),this.emplace(_,e,t,o,n,i,s,a,r)}emplace(e,t,o,n,i,s,a,r,_){const p=8*e;return this.uint16[p+0]=t,this.uint16[p+1]=o,this.uint16[p+2]=n,this.uint16[p+3]=i,this.uint16[p+4]=s,this.uint16[p+5]=a,this.uint16[p+6]=r,this.uint16[p+7]=_,e}}Ms.prototype.bytesPerElement=16,ti("StructArrayLayout8ui16",Ms);class Ss extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m){const h=this.length;return this.resize(h+1),this.emplace(h,e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m)}emplace(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m,h){const y=16*e;return this.int16[y+0]=t,this.int16[y+1]=o,this.int16[y+2]=n,this.int16[y+3]=i,this.uint16[y+4]=s,this.uint16[y+5]=a,this.uint16[y+6]=r,this.uint16[y+7]=_,this.int16[y+8]=p,this.int16[y+9]=l,this.int16[y+10]=u,this.int16[y+11]=f,this.int16[y+12]=d,this.int16[y+13]=c,this.int16[y+14]=m,this.int16[y+15]=h,e}}Ss.prototype.bytesPerElement=32,ti("StructArrayLayout4i4ui4i4i32",Ss);class Es extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}Es.prototype.bytesPerElement=4,ti("StructArrayLayout1ul4",Es);class As extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i,s,a,r,_,p,l,u,f){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,o,n,i,s,a,r,_,p,l,u,f)}emplace(e,t,o,n,i,s,a,r,_,p,l,u,f,d){const c=20*e,m=10*e;return this.int16[c+0]=t,this.int16[c+1]=o,this.int16[c+2]=n,this.int16[c+3]=i,this.int16[c+4]=s,this.float32[m+3]=a,this.float32[m+4]=r,this.float32[m+5]=_,this.float32[m+6]=p,this.int16[c+14]=l,this.uint32[m+8]=u,this.uint16[c+18]=f,this.uint16[c+19]=d,e}}As.prototype.bytesPerElement=40,ti("StructArrayLayout5i4f1i1ul2ui40",As);class Is extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i,s,a){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,o,n,i,s,a)}emplace(e,t,o,n,i,s,a,r){const _=8*e;return this.int16[_+0]=t,this.int16[_+1]=o,this.int16[_+2]=n,this.int16[_+4]=i,this.int16[_+5]=s,this.int16[_+6]=a,this.int16[_+7]=r,e}}Is.prototype.bytesPerElement=16,ti("StructArrayLayout3i2i2i16",Is);class zs extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,o,n,i)}emplace(e,t,o,n,i,s){const a=4*e,r=8*e;return this.float32[a+0]=t,this.float32[a+1]=o,this.float32[a+2]=n,this.int16[r+6]=i,this.int16[r+7]=s,e}}zs.prototype.bytesPerElement=16,ti("StructArrayLayout2f1f2i16",zs);class Ps extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,o,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,o,n)}emplace(e,t,o,n,i){const s=12*e,a=3*e;return this.uint8[s+0]=t,this.uint8[s+1]=o,this.float32[a+1]=n,this.float32[a+2]=i,e}}Ps.prototype.bytesPerElement=12,ti("StructArrayLayout2ub2f12",Ps);class Ds extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,o){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,o)}emplace(e,t,o,n){const i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=o,this.uint16[i+2]=n,e}}Ds.prototype.bytesPerElement=6,ti("StructArrayLayout3ui6",Ds);class Ls extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m,h,y,g,v,x){const C=this.length;return this.resize(C+1),this.emplace(C,e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m,h,y,g,v,x)}emplace(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m,h,y,g,v,x,C){const b=30*e,w=15*e,T=60*e;return this.int16[b+0]=t,this.int16[b+1]=o,this.int16[b+2]=n,this.float32[w+2]=i,this.float32[w+3]=s,this.uint16[b+8]=a,this.uint16[b+9]=r,this.uint32[w+5]=_,this.uint32[w+6]=p,this.uint32[w+7]=l,this.uint16[b+16]=u,this.uint16[b+17]=f,this.uint16[b+18]=d,this.float32[w+10]=c,this.float32[w+11]=m,this.uint8[T+48]=h,this.uint8[T+49]=y,this.uint8[T+50]=g,this.uint32[w+13]=v,this.int16[b+28]=x,this.uint8[T+58]=C,e}}Ls.prototype.bytesPerElement=60,ti("StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60",Ls);class Bs extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m,h,y,g,v,x,C,b,w,T,k,M,S,E,A){const I=this.length;return this.resize(I+1),this.emplace(I,e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m,h,y,g,v,x,C,b,w,T,k,M,S,E,A)}emplace(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m,h,y,g,v,x,C,b,w,T,k,M,S,E,A,I){const z=38*e,P=19*e;return this.int16[z+0]=t,this.int16[z+1]=o,this.int16[z+2]=n,this.float32[P+2]=i,this.float32[P+3]=s,this.int16[z+8]=a,this.int16[z+9]=r,this.int16[z+10]=_,this.int16[z+11]=p,this.int16[z+12]=l,this.int16[z+13]=u,this.uint16[z+14]=f,this.uint16[z+15]=d,this.uint16[z+16]=c,this.uint16[z+17]=m,this.uint16[z+18]=h,this.uint16[z+19]=y,this.uint16[z+20]=g,this.uint16[z+21]=v,this.uint16[z+22]=x,this.uint16[z+23]=C,this.uint16[z+24]=b,this.uint16[z+25]=w,this.uint16[z+26]=T,this.uint16[z+27]=k,this.uint16[z+28]=M,this.uint32[P+15]=S,this.float32[P+16]=E,this.float32[P+17]=A,this.float32[P+18]=I,e}}Bs.prototype.bytesPerElement=76,ti("StructArrayLayout3i2f6i15ui1ul3f76",Bs);class Rs extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Rs.prototype.bytesPerElement=4,ti("StructArrayLayout1f4",Rs);class Fs extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,o){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,o)}emplace(e,t,o,n){const i=3*e;return this.int16[i+0]=t,this.int16[i+1]=o,this.int16[i+2]=n,e}}Fs.prototype.bytesPerElement=6,ti("StructArrayLayout3i6",Fs);class Os extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,o,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,o,n)}emplace(e,t,o,n,i){const s=6*e;return this.uint32[3*e+0]=t,this.uint16[s+2]=o,this.uint16[s+3]=n,this.uint16[s+4]=i,e}}Os.prototype.bytesPerElement=12,ti("StructArrayLayout1ul3ui12",Os);class Ns extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const o=this.length;return this.resize(o+1),this.emplace(o,e,t)}emplace(e,t,o){const n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=o,e}}Ns.prototype.bytesPerElement=4,ti("StructArrayLayout2ui4",Ns);class Vs extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Vs.prototype.bytesPerElement=2,ti("StructArrayLayout1ui2",Vs);class Us extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,o,n,i){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,o,n,i)}emplace(e,t,o,n,i,s){const a=5*e;return this.float32[a+0]=t,this.float32[a+1]=o,this.float32[a+2]=n,this.float32[a+3]=i,this.float32[a+4]=s,e}}Us.prototype.bytesPerElement=20,ti("StructArrayLayout5f20",Us);class Gs extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const o=this.length;return this.resize(o+1),this.emplace(o,e,t)}emplace(e,t,o){const n=2*e;return this.float32[n+0]=t,this.float32[n+1]=o,e}}Gs.prototype.bytesPerElement=8,ti("StructArrayLayout2f8",Gs);class Ws extends gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,o,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,o,n)}emplace(e,t,o,n,i){const s=4*e;return this.float32[s+0]=t,this.float32[s+1]=o,this.float32[s+2]=n,this.float32[s+3]=i,e}}Ws.prototype.bytesPerElement=16,ti("StructArrayLayout4f16",Ws);class Zs extends ys{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Zs.prototype.size=40;class js extends As{get(e){return new Zs(this,e)}}ti("CollisionBoxArray",js);class qs extends ys{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}qs.prototype.size=60;class Ks extends Ls{get(e){return new qs(this,e)}}ti("PlacedSymbolArray",Ks);class Hs extends ys{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Hs.prototype.size=76;class $s extends Bs{get(e){return new Hs(this,e)}}ti("SymbolInstanceArray",$s);class Xs extends Rs{getoffsetX(e){return this.float32[1*e+0]}}ti("GlyphOffsetArray",Xs);class Ys extends Fs{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}ti("SymbolLineVertexArray",Ys);class Js extends ys{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Js.prototype.size=12;class Qs extends Os{get(e){return new Js(this,e)}}ti("FeatureIndexArray",Qs);class ea extends ys{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}ea.prototype.size=4;class ta extends Ns{get(e){return new ea(this,e)}}ti("FillExtrusionCentroidArray",ta);const oa=vs([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),na=vs([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var ia=pt((function(e){e.exports=function(e,t){var o,n,i,s,a,r,_,p;for(n=e.length-(o=3&e.length),i=t,a=3432918353,r=461845907,p=0;p<n;)_=255&e.charCodeAt(p)|(255&e.charCodeAt(++p))<<8|(255&e.charCodeAt(++p))<<16|(255&e.charCodeAt(++p))<<24,++p,i=27492+(65535&(s=5*(65535&(i=(i^=_=(65535&(_=(_=(65535&_)*a+(((_>>>16)*a&65535)<<16)&4294967295)<<15|_>>>17))*r+(((_>>>16)*r&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(s>>>16)&65535)<<16);switch(_=0,o){case 3:_^=(255&e.charCodeAt(p+2))<<16;case 2:_^=(255&e.charCodeAt(p+1))<<8;case 1:i^=_=(65535&(_=(_=(65535&(_^=255&e.charCodeAt(p)))*a+(((_>>>16)*a&65535)<<16)&4294967295)<<15|_>>>17))*r+(((_>>>16)*r&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),sa=pt((function(e){e.exports=function(e,t){for(var o,n=e.length,i=t^n,s=0;n>=4;)o=1540483477*(65535&(o=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24))+((1540483477*(o>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),n-=4,++s;switch(n){case 3:i^=(255&e.charCodeAt(s+2))<<16;case 2:i^=(255&e.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(s)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),aa=ia,ra=sa;aa.murmur3=ia,aa.murmur2=ra;class _a{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,o,n){this.ids.push(pa(e)),this.positions.push(t,o,n)}getPositions(e){const t=pa(e);let o=0,n=this.ids.length-1;for(;o<n;){const e=o+n>>1;this.ids[e]>=t?n=e:o=e+1}const i=[];for(;this.ids[o]===t;)i.push({index:this.positions[3*o],start:this.positions[3*o+1],end:this.positions[3*o+2]}),o++;return i}static serialize(e,t){const o=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,o,n,i){for(;n<i;){const s=t[n+i>>1];let a=n-1,r=i+1;for(;;){do{a++}while(t[a]<s);do{r--}while(t[r]>s);if(a>=r)break;la(t,a,r),la(o,3*a,3*r),la(o,3*a+1,3*r+1),la(o,3*a+2,3*r+2)}r-n<i-r?(e(t,o,n,r),n=r+1):(e(t,o,r+1,i),i=r)}}(o,n,0,o.length-1),t&&t.push(o.buffer,n.buffer),{ids:o,positions:n}}static deserialize(e){const t=new _a;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function pa(e){const t=+e;return!isNaN(t)&&t<=_?t:aa(String(e))}function la(e,t,o){const n=e[t];e[t]=e[o],e[o]=n}ti("FeaturePositionMap",_a);class ua{constructor(e,t){this.gl=e.gl,this.location=t}}class fa extends ua{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class da extends ua{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class ca extends ua{constructor(e,t){super(e,t),this.current=ut.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const ma=new Float32Array(16),ha=new Float32Array(9);function ya(e){return[ms(255*e.r,255*e.g),ms(255*e.b,255*e.a)]}class ga{constructor(e,t,o){this.value=e,this.uniformNames=t.map(e=>"u_"+e),this.type=o}setUniform(e,t,o){e.set(o.constantOr(this.value))}getBinding(e,t,o){return"color"===this.type?new ca(e,t):new fa(e,t)}}class va{constructor(e,t){this.uniformNames=t.map(e=>"u_"+e),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tl.concat(t.br),this.patternTo=e.tl.concat(e.br)}setUniform(e,t,o,n){const i="u_pattern_to"===n||"u_dash_to"===n?this.patternTo:"u_pattern_from"===n||"u_dash_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;i&&e.set(i)}getBinding(e,t,o){return"u_pattern_from"===o||"u_pattern_to"===o||"u_dash_from"===o||"u_dash_to"===o?new da(e,t):new fa(e,t)}}class xa{constructor(e,t,o,n){this.expression=e,this.type=o,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===o?2:1,offset:0})),this.paintVertexArray=new n}populatePaintArray(e,t,o,n,i){const s=this.paintVertexArray.length,a=this.expression.evaluate(new es(0),t,{},n,[],i);this.paintVertexArray.resize(e),this._setPaintValue(s,e,a)}updatePaintArray(e,t,o,n){const i=this.expression.evaluate({zoom:0},o,n);this._setPaintValue(e,t,i)}_setPaintValue(e,t,o){if("color"===this.type){const n=ya(o);for(let o=e;o<t;o++)this.paintVertexArray.emplace(o,n[0],n[1])}else{for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,o);this.maxValue=Math.max(this.maxValue,Math.abs(o))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ca{constructor(e,t,o,n,i,s){this.expression=e,this.uniformNames=t.map(e=>`u_${e}_t`),this.type=o,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===o?4:2,offset:0})),this.paintVertexArray=new s}populatePaintArray(e,t,o,n,i){const s=this.expression.evaluate(new es(this.zoom),t,{},n,[],i),a=this.expression.evaluate(new es(this.zoom+1),t,{},n,[],i),r=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(r,e,s,a)}updatePaintArray(e,t,o,n){const i=this.expression.evaluate({zoom:this.zoom},o,n),s=this.expression.evaluate({zoom:this.zoom+1},o,n);this._setPaintValue(e,t,i,s)}_setPaintValue(e,t,o,n){if("color"===this.type){const i=ya(o),s=ya(n);for(let o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],s[0],s[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,o,n);this.maxValue=Math.max(this.maxValue,Math.abs(o),Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const o=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,n=h(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);e.set(n)}getBinding(e,t,o){return new fa(e,t)}}class ba{constructor(e,t,o,n,i,s,a){this.expression=e,this.type=o,this.useIntegerZoom=n,this.zoom=i,this.layerId=a,this.paintVertexAttributes=("array"===o?na:oa).members;for(let e=0;e<t.length;++e);this.zoomInPaintVertexArray=new s,this.zoomOutPaintVertexArray=new s}populatePaintArray(e,t,o){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],o)}updatePaintArray(e,t,o,n,i){this._setPaintValues(e,t,o.patterns&&o.patterns[this.layerId],i)}_setPaintValues(e,t,o,n){if(!n||!o)return;const{min:i,mid:s,max:a}=o,r=n[i],_=n[s],p=n[a];if(r&&_&&p)for(let o=e;o<t;o++)this._setPaintValue(this.zoomInPaintVertexArray,o,_,r),this._setPaintValue(this.zoomOutPaintVertexArray,o,_,p)}_setPaintValue(e,t,o,n){e.emplace(t,o.tl[0],o.tl[1],o.br[0],o.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],o.pixelRatio,n.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class wa{constructor(e,t,o=(()=>!0)){this.binders={},this._buffers=[];const n=[];for(const i in e.paint._values){if(!o(i))continue;const s=e.paint.get(i);if(!(s instanceof rs&&qo(s.property.specification)))continue;const a=Ma(i,e.type),r=s.value,_=s.property.specification.type,p=s.property.useIntegerZoom,l=s.property.specification["property-type"],u="cross-faded"===l||"cross-faded-data-driven"===l,f="line-dasharray"===String(i)&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==r.kind||f)if("source"===r.kind||f||u){const o=Aa(i,_,"source");this.binders[i]=u?new ba(r,a,_,p,t,o,e.id):new xa(r,a,_,o),n.push("/a_"+i)}else{const e=Aa(i,_,"composite");this.binders[i]=new Ca(r,a,_,p,t,e),n.push("/z_"+i)}else this.binders[i]=u?new va(r.value,a):new ga(r.value,a,_),n.push("/u_"+i)}this.cacheKey=n.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof xa||t instanceof Ca?t.maxValue:0}populatePaintArrays(e,t,o,n,i){for(const s in this.binders){const a=this.binders[s];(a instanceof xa||a instanceof Ca||a instanceof ba)&&a.populatePaintArray(e,t,o,n,i)}}setConstantPatternPositions(e,t){for(const o in this.binders){const n=this.binders[o];n instanceof va&&n.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,o,n,i){let s=!1;for(const a in e){const r=t.getPositions(a);for(const t of r){const r=o.feature(t.index);for(const o in this.binders){const _=this.binders[o];if((_ instanceof xa||_ instanceof Ca||_ instanceof ba)&&!0===_.expression.isStateDependent){const p=n.paint.get(o);_.expression=p.value,_.updatePaintArray(t.start,t.end,r,e[a],i),s=!0}}}}return s}defines(){const e=[];for(const t in this.binders){const o=this.binders[t];(o instanceof ga||o instanceof va)&&e.push(...o.uniformNames.map(e=>"#define HAS_UNIFORM_"+e))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const o=this.binders[t];if(o instanceof xa||o instanceof Ca||o instanceof ba)for(let t=0;t<o.paintVertexAttributes.length;t++)e.push(o.paintVertexAttributes[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const o=this.binders[t];if(o instanceof ga||o instanceof va||o instanceof Ca)for(const t of o.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const o=[];for(const n in this.binders){const i=this.binders[n];if(i instanceof ga||i instanceof va||i instanceof Ca)for(const s of i.uniformNames)if(t[s]){const a=i.getBinding(e,t[s],s);o.push({name:s,property:n,binding:a})}}return o}setUniforms(e,t,o,n){for(const{name:e,property:i,binding:s}of t)this.binders[i].setUniform(s,n,o.get(i),e)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const o=this.binders[t];if(e&&o instanceof ba){const t=2===e.fromScale?o.zoomInPaintVertexBuffer:o.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(o instanceof xa||o instanceof Ca)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}}upload(e){for(const t in this.binders){const o=this.binders[t];(o instanceof xa||o instanceof Ca||o instanceof ba)&&o.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof xa||t instanceof Ca||t instanceof ba)&&t.destroy()}}}class Ta{constructor(e,t,o=(()=>!0)){this.programConfigurations={};for(const n of e)this.programConfigurations[n.id]=new wa(n,t,o);this.needsUpload=!1,this._featureMap=new _a,this._bufferOffset=0}populatePaintArrays(e,t,o,n,i,s){for(const o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,n,i,s);void 0!==t.id&&this._featureMap.add(t.id,o,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,o,n){for(const i of o)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(e,this._featureMap,t,i,n)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const ka={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function Ma(e,t){return ka[e]||[e.replace(t+"-","").replace(/-/g,"_")]}const Sa={"line-pattern":{source:ks,composite:ks},"fill-pattern":{source:ks,composite:ks},"fill-extrusion-pattern":{source:ks,composite:ks},"line-dasharray":{source:Ms,composite:Ms}},Ea={color:{source:Gs,composite:Ws},number:{source:Rs,composite:Gs}};function Aa(e,t,o){const n=Sa[e];return n&&n[o]||Ea[t][o]}ti("ConstantBinder",ga),ti("CrossFadedConstantBinder",va),ti("SourceExpressionBinder",xa),ti("CrossFadedCompositeBinder",ba),ti("CompositeExpressionBinder",Ca),ti("ProgramConfiguration",wa,{omit:["_buffers"]}),ti("ProgramConfigurationSet",Ta);const Ia="-transition";class za extends Oe{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new as(t.layout)),t.paint)){this._transitionablePaint=new ns(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new _s(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,o={}){null!=t&&this._validate(Hn,`layers.${this.id}.layout.${e}`,e,t,o)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return S(e,Ia)?this._transitionablePaint.getTransition(e.slice(0,-Ia.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,o={}){if(null!=t&&this._validate(Kn,`layers.${this.id}.paint.${e}`,e,t,o))return!1;if(S(e,Ia))return this._transitionablePaint.setTransition(e.slice(0,-Ia.length),t||void 0),!1;{const o=this._transitionablePaint._values[e],n="cross-faded-data-driven"===o.property.specification["property-type"],i=o.value.isDataDriven(),s=o.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const a=this._transitionablePaint._values[e].value;return a.isDataDriven()||i||n||this._handleOverridablePaintPropertyUpdate(e,s,a)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,t,o){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),A(e,(e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length))}_validate(e,t,o,n,i={}){return(!i||!1!==i.validate)&&$n(this,e.call(Zn,{key:t,layerType:this.type,objectKey:o,value:n,styleSpec:Ne,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof rs&&qo(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}const Pa=vs([{name:"a_pos",components:2,type:"Int16"}],4),{members:Da}=Pa;class La{constructor(e=[]){this.segments=e}prepareSegment(e,t,o,n){let i=this.segments[this.segments.length-1];return e>La.MAX_VERTEX_ARRAY_LENGTH&&P(`Max vertices per segment is ${La.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!i||i.vertexLength+e>La.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:t.length,primitiveOffset:o.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,o,n){return new La([{vertexOffset:e,primitiveOffset:t,vertexLength:o,primitiveLength:n,vaos:{},sortKey:0}])}}La.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ti("SegmentVector",La);var Ba=8192;const Ra=Math.pow(2,14)-1,Fa=-Ra-1;function Oa(e){const t=Ba/e.extent,o=e.loadGeometry();for(let e=0;e<o.length;e++){const n=o[e];for(let e=0;e<n.length;e++){const o=n[e],i=Math.round(o.x*t),s=Math.round(o.y*t);o.x=h(i,Fa,Ra),o.y=h(s,Fa,Ra),(i<o.x||i>o.x+1||s<o.y||s>o.y+1)&&P("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return o}function Na(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Oa(e):[]}}function Va(e,t,o,n,i){e.emplaceBack(2*t+(n+1)/2,2*o+(i+1)/2)}class Ua{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Cs,this.indexArray=new Ds,this.segments=new La,this.programConfigurations=new Ta(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,o){const n=this.layers[0],i=[];let s=null;"circle"===n.type&&(s=n.layout.get("circle-sort-key"));for(const{feature:t,id:n,index:a,sourceLayerIndex:r}of e){const e=this.layers[0]._featureFilter.needGeometry,_=Na(t,e);if(!this.layers[0]._featureFilter.filter(new es(this.zoom),_,o))continue;const p=s?s.evaluate(_,{},o):void 0,l={id:n,properties:t.properties,type:t.type,sourceLayerIndex:r,index:a,geometry:e?_.geometry:Oa(t),patterns:{},sortKey:p};i.push(l)}s&&i.sort((e,t)=>e.sortKey-t.sortKey);for(const n of i){const{geometry:i,index:s,sourceLayerIndex:a}=n,r=e[s].feature;this.addFeature(n,i,s,o),t.featureIndex.insert(r,i,s,a,this.index)}}update(e,t,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,o)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Da),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,o,n){for(const o of t)for(const t of o){const o=t.x,n=t.y;if(o<0||o>=Ba||n<0||n>=Ba)continue;const i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),s=i.vertexLength;Va(this.layoutVertexArray,o,n,-1,-1),Va(this.layoutVertexArray,o,n,1,-1),Va(this.layoutVertexArray,o,n,1,1),Va(this.layoutVertexArray,o,n,-1,1),this.indexArray.emplaceBack(s,s+1,s+2),this.indexArray.emplaceBack(s,s+3,s+2),i.vertexLength+=4,i.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,{},n)}}function Ga(e,t){for(let o=0;o<e.length;o++)if(Ya(t,e[o]))return!0;for(let o=0;o<t.length;o++)if(Ya(e,t[o]))return!0;return!!qa(e,t)}function Wa(e,t,o){return!!Ya(e,t)||!!Ha(t,e,o)}function Za(e,t){if(1===e.length)return Xa(t,e[0]);for(let o=0;o<t.length;o++){const n=t[o];for(let t=0;t<n.length;t++)if(Ya(e,n[t]))return!0}for(let o=0;o<e.length;o++)if(Xa(t,e[o]))return!0;for(let o=0;o<t.length;o++)if(qa(e,t[o]))return!0;return!1}function ja(e,t,o){if(e.length>1){if(qa(e,t))return!0;for(let n=0;n<t.length;n++)if(Ha(t[n],e,o))return!0}for(let n=0;n<e.length;n++)if(Ha(e[n],t,o))return!0;return!1}function qa(e,t){if(0===e.length||0===t.length)return!1;for(let o=0;o<e.length-1;o++){const n=e[o],i=e[o+1];for(let e=0;e<t.length-1;e++)if(Ka(n,i,t[e],t[e+1]))return!0}return!1}function Ka(e,t,o,n){return D(e,o,n)!==D(t,o,n)&&D(e,t,o)!==D(e,t,n)}function Ha(e,t,o){const n=o*o;if(1===t.length)return e.distSqr(t[0])<n;for(let o=1;o<t.length;o++)if($a(e,t[o-1],t[o])<n)return!0;return!1}function $a(e,t,o){const n=t.distSqr(o);if(0===n)return e.distSqr(t);const i=((e.x-t.x)*(o.x-t.x)+(e.y-t.y)*(o.y-t.y))/n;return e.distSqr(i<0?t:i>1?o:o.sub(t)._mult(i)._add(t))}function Xa(e,t){let o,n,i,s=!1;for(let a=0;a<e.length;a++){o=e[a];for(let e=0,a=o.length-1;e<o.length;a=e++)n=o[e],i=o[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(s=!s)}return s}function Ya(e,t){let o=!1;for(let n=0,i=e.length-1;n<e.length;i=n++){const s=e[n],a=e[i];s.y>t.y!=a.y>t.y&&t.x<(a.x-s.x)*(t.y-s.y)/(a.y-s.y)+s.x&&(o=!o)}return o}function Ja(e,t,o,n,i){for(const s of e)if(t<=s.x&&o<=s.y&&n>=s.x&&i>=s.y)return!0;const a=[new s(t,o),new s(t,i),new s(n,i),new s(n,o)];if(e.length>2)for(const t of a)if(Ya(e,t))return!0;for(let t=0;t<e.length-1;t++)if(Qa(e[t],e[t+1],a))return!0;return!1}function Qa(e,t,o){const n=o[0],i=o[2];if(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y)return!1;const s=D(e,t,o[0]);return s!==D(e,t,o[1])||s!==D(e,t,o[2])||s!==D(e,t,o[3])}function er(e,t,o){const n=t.paint.get(e).value;return"constant"===n.kind?n.value:o.programConfigurations.get(t.id).getMaxValue(e)}function tr(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function or(e,t,o,n,i){if(!t[0]&&!t[1])return e;const a=s.convert(t)._mult(i);"viewport"===o&&a._rotate(-n);const r=[];for(let t=0;t<e.length;t++)r.push(e[t].sub(a));return r}function nr(e,t,o,n){const i=s.convert(e)._mult(n);return"viewport"===t&&i._rotate(-o),i}ti("CircleBucket",Ua,{omit:["layers"]});const ir=new cs({"circle-sort-key":new ls(Ne.layout_circle["circle-sort-key"])});var sr={paint:new cs({"circle-radius":new ls(Ne.paint_circle["circle-radius"]),"circle-color":new ls(Ne.paint_circle["circle-color"]),"circle-blur":new ls(Ne.paint_circle["circle-blur"]),"circle-opacity":new ls(Ne.paint_circle["circle-opacity"]),"circle-translate":new ps(Ne.paint_circle["circle-translate"]),"circle-translate-anchor":new ps(Ne.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ps(Ne.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ps(Ne.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ls(Ne.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ls(Ne.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ls(Ne.paint_circle["circle-stroke-opacity"])}),layout:ir},ar="undefined"!=typeof Float32Array?Float32Array:Array;function rr(){var e=new ar(9);return ar!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function _r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pr(e,t,o){var n=t[0],i=t[1],s=t[2],a=t[3],r=t[4],_=t[5],p=t[6],l=t[7],u=t[8],f=t[9],d=t[10],c=t[11],m=t[12],h=t[13],y=t[14],g=t[15],v=o[0],x=o[1],C=o[2],b=o[3];return e[0]=v*n+x*r+C*u+b*m,e[1]=v*i+x*_+C*f+b*h,e[2]=v*s+x*p+C*d+b*y,e[3]=v*a+x*l+C*c+b*g,e[4]=(v=o[4])*n+(x=o[5])*r+(C=o[6])*u+(b=o[7])*m,e[5]=v*i+x*_+C*f+b*h,e[6]=v*s+x*p+C*d+b*y,e[7]=v*a+x*l+C*c+b*g,e[8]=(v=o[8])*n+(x=o[9])*r+(C=o[10])*u+(b=o[11])*m,e[9]=v*i+x*_+C*f+b*h,e[10]=v*s+x*p+C*d+b*y,e[11]=v*a+x*l+C*c+b*g,e[12]=(v=o[12])*n+(x=o[13])*r+(C=o[14])*u+(b=o[15])*m,e[13]=v*i+x*_+C*f+b*h,e[14]=v*s+x*p+C*d+b*y,e[15]=v*a+x*l+C*c+b*g,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var lr=pr;function ur(){var e=new ar(3);return ar!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function fr(e){return Math.hypot(e[0],e[1],e[2])}function dr(e,t,o){var n=new ar(3);return n[0]=e,n[1]=t,n[2]=o,n}function cr(e,t,o){return e[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e}function mr(e,t,o){return e[0]=t[0]*o[0],e[1]=t[1]*o[1],e[2]=t[2]*o[2],e}function hr(e,t,o,n){return e[0]=t[0]+o[0]*n,e[1]=t[1]+o[1]*n,e[2]=t[2]+o[2]*n,e}function yr(e,t){var o=t[0],n=t[1],i=t[2],s=o*o+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}function gr(e,t,o){var n=o[0],i=o[1],s=o[2],a=t[0],r=t[1],_=t[2],p=i*_-s*r,l=s*a-n*_,u=n*r-i*a,f=i*u-s*l,d=s*p-n*u,c=n*l-i*p,m=2*o[3];return l*=m,u*=m,d*=2,c*=2,e[0]=a+(p*=m)+(f*=2),e[1]=r+l+d,e[2]=_+u+c,e}var vr,xr=cr,Cr=mr,br=fr;function wr(e,t,o){var n=t[0],i=t[1],s=t[2],a=t[3];return e[0]=o[0]*n+o[4]*i+o[8]*s+o[12]*a,e[1]=o[1]*n+o[5]*i+o[9]*s+o[13]*a,e[2]=o[2]*n+o[6]*i+o[10]*s+o[14]*a,e[3]=o[3]*n+o[7]*i+o[11]*s+o[15]*a,e}function Tr(){var e=new ar(4);return ar!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function kr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Mr(e,t,o){o*=.5;var n=t[0],i=t[1],s=t[2],a=t[3],r=Math.sin(o),_=Math.cos(o);return e[0]=n*_+a*r,e[1]=i*_+s*r,e[2]=s*_-i*r,e[3]=a*_-n*r,e}function Sr(e,t,o,n,i,s,a,r,_){if(s&&e.queryGeometry.isAboveHorizon)return!1;s&&(_*=e.pixelToTileUnitsFactor);for(const p of t)for(const t of p){const p=t.add(r),l=i&&o.elevation?o.elevation.exaggeration()*i.getElevationAt(p.x,p.y,!0):0,u=s?p:Er(p,l,n),f=s?e.tilespaceRays.map(e=>zr(e,l)):e.queryGeometry.screenGeometry,d=wr([],[t.x,t.y,l,1],n);if(!a&&s?_*=d[3]/o.cameraToCenterDistance:a&&!s&&(_*=o.cameraToCenterDistance/d[3]),Wa(f,u,_))return!0}return!1}function Er(e,t,o){const n=wr([],[e.x,e.y,t,1],o);return new s(n[0]/n[3],n[1]/n[3])}ur(),vr=new ar(4),ar!=Float32Array&&(vr[0]=0,vr[1]=0,vr[2]=0,vr[3]=0),ur(),dr(1,0,0),dr(0,1,0),Tr(),Tr(),rr();const Ar=dr(0,0,0),Ir=dr(0,0,1);function zr(e,t){const o=ur();return Ar[2]=t,e.intersectsPlane(Ar,Ir,o),new s(o[0],o[1])}class Pr extends Ua{}function Dr(e,{width:t,height:o},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*o*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(t*o*n);return e.width=t,e.height=o,e.data=i,e}function Lr(e,{width:t,height:o},n){if(t===e.width&&o===e.height)return;const i=Dr({},{width:t,height:o},n);Br(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,o)},n),e.width=t,e.height=o,e.data=i.data}function Br(e,t,o,n,i,s){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||o.x>e.width-i.width||o.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,r=t.data;for(let _=0;_<i.height;_++){const p=((o.y+_)*e.width+o.x)*s,l=((n.y+_)*t.width+n.x)*s;for(let e=0;e<i.width*s;e++)r[l+e]=a[p+e]}return t}ti("HeatmapBucket",Pr,{omit:["layers"]});class Rr{constructor(e,t){Dr(this,e,1,t)}resize(e){Lr(this,e,1)}clone(){return new Rr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,o,n,i){Br(e,t,o,n,i,1)}}class Fr{constructor(e,t){Dr(this,e,4,t)}resize(e){Lr(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Fr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,o,n,i){Br(e,t,o,n,i,4)}}ti("AlphaImage",Rr),ti("RGBAImage",Fr);var Or={paint:new cs({"heatmap-radius":new ls(Ne.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ls(Ne.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ps(Ne.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ds(Ne.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ps(Ne.paint_heatmap["heatmap-opacity"])})};function Nr(e){const t={},o=e.resolution||256,n=e.clips?e.clips.length:1,i=e.image||new Fr({width:o,height:n}),s=(o,n,s)=>{t[e.evaluationKey]=s;const a=e.expression.evaluate(t);i.data[o+n+0]=Math.floor(255*a.r/a.a),i.data[o+n+1]=Math.floor(255*a.g/a.a),i.data[o+n+2]=Math.floor(255*a.b/a.a),i.data[o+n+3]=Math.floor(255*a.a)};if(e.clips)for(let t=0,i=0;t<n;++t,i+=4*o)for(let n=0,a=0;n<o;n++,a+=4){const r=n/(o-1),{start:_,end:p}=e.clips[t];s(i,a,_*(1-r)+p*r)}else for(let e=0,t=0;e<o;e++,t+=4)s(0,t,e/(o-1));return i}var Vr={paint:new cs({"hillshade-illumination-direction":new ps(Ne.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ps(Ne.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ps(Ne.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ps(Ne.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ps(Ne.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ps(Ne.paint_hillshade["hillshade-accent-color"])})};const Ur=vs([{name:"a_pos",components:2,type:"Int16"}],4),{members:Gr}=Ur;var Wr=jr,Zr=jr;function jr(e,t,o){o=o||2;var n,i,s,a,r,_,p,l=t&&t.length,u=l?t[0]*o:e.length,f=qr(e,0,u,o,!0),d=[];if(!f||f.next===f.prev)return d;if(l&&(f=function(e,t,o,n){var i,s,a,r=[];for(i=0,s=t.length;i<s;i++)(a=qr(e,t[i]*n,i<s-1?t[i+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),r.push(n_(a));for(r.sort(Qr),i=0;i<r.length;i++)e_(r[i],o),o=Kr(o,o.next);return o}(e,t,f,o)),e.length>80*o){n=s=e[0],i=a=e[1];for(var c=o;c<u;c+=o)(r=e[c])<n&&(n=r),(_=e[c+1])<i&&(i=_),r>s&&(s=r),_>a&&(a=_);p=0!==(p=Math.max(s-n,a-i))?1/p:0}return Hr(f,d,o,n,i,p),d}function qr(e,t,o,n,i){var s,a;if(i===h_(e,t,o,n)>0)for(s=t;s<o;s+=n)a=d_(s,e[s],e[s+1],a);else for(s=o-n;s>=t;s-=n)a=d_(s,e[s],e[s+1],a);return a&&r_(a,a.next)&&(c_(a),a=a.next),a}function Kr(e,t){if(!e)return e;t||(t=e);var o,n=e;do{if(o=!1,n.steiner||!r_(n,n.next)&&0!==a_(n.prev,n,n.next))n=n.next;else{if(c_(n),(n=t=n.prev)===n.next)break;o=!0}}while(o||n!==t);return t}function Hr(e,t,o,n,i,s,a){if(e){!a&&s&&function(e,t,o,n){var i=e;do{null===i.z&&(i.z=o_(i.x,i.y,t,o,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,o,n,i,s,a,r,_,p=1;do{for(o=e,e=null,s=null,a=0;o;){for(a++,n=o,r=0,t=0;t<p&&(r++,n=n.nextZ);t++);for(_=p;r>0||_>0&&n;)0!==r&&(0===_||!n||o.z<=n.z)?(i=o,o=o.nextZ,r--):(i=n,n=n.nextZ,_--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;o=n}s.nextZ=null,p*=2}while(a>1)}(i)}(e,n,i,s);for(var r,_,p=e;e.prev!==e.next;)if(r=e.prev,_=e.next,s?Xr(e,n,i,s):$r(e))t.push(r.i/o),t.push(e.i/o),t.push(_.i/o),c_(e),e=_.next,p=_.next;else if((e=_)===p){a?1===a?Hr(e=Yr(Kr(e),t,o),t,o,n,i,s,2):2===a&&Jr(e,t,o,n,i,s):Hr(Kr(e),t,o,n,i,s,1);break}}}function $r(e){var t=e.prev,o=e,n=e.next;if(a_(t,o,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(i_(t.x,t.y,o.x,o.y,n.x,n.y,i.x,i.y)&&a_(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Xr(e,t,o,n){var i=e.prev,s=e,a=e.next;if(a_(i,s,a)>=0)return!1;for(var r=i.x>s.x?i.x>a.x?i.x:a.x:s.x>a.x?s.x:a.x,_=i.y>s.y?i.y>a.y?i.y:a.y:s.y>a.y?s.y:a.y,p=o_(i.x<s.x?i.x<a.x?i.x:a.x:s.x<a.x?s.x:a.x,i.y<s.y?i.y<a.y?i.y:a.y:s.y<a.y?s.y:a.y,t,o,n),l=o_(r,_,t,o,n),u=e.prevZ,f=e.nextZ;u&&u.z>=p&&f&&f.z<=l;){if(u!==e.prev&&u!==e.next&&i_(i.x,i.y,s.x,s.y,a.x,a.y,u.x,u.y)&&a_(u.prev,u,u.next)>=0)return!1;if(u=u.prevZ,f!==e.prev&&f!==e.next&&i_(i.x,i.y,s.x,s.y,a.x,a.y,f.x,f.y)&&a_(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;u&&u.z>=p;){if(u!==e.prev&&u!==e.next&&i_(i.x,i.y,s.x,s.y,a.x,a.y,u.x,u.y)&&a_(u.prev,u,u.next)>=0)return!1;u=u.prevZ}for(;f&&f.z<=l;){if(f!==e.prev&&f!==e.next&&i_(i.x,i.y,s.x,s.y,a.x,a.y,f.x,f.y)&&a_(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Yr(e,t,o){var n=e;do{var i=n.prev,s=n.next.next;!r_(i,s)&&__(i,n,n.next,s)&&u_(i,s)&&u_(s,i)&&(t.push(i.i/o),t.push(n.i/o),t.push(s.i/o),c_(n),c_(n.next),n=e=s),n=n.next}while(n!==e);return Kr(n)}function Jr(e,t,o,n,i,s){var a=e;do{for(var r=a.next.next;r!==a.prev;){if(a.i!==r.i&&s_(a,r)){var _=f_(a,r);return a=Kr(a,a.next),_=Kr(_,_.next),Hr(a,t,o,n,i,s),void Hr(_,t,o,n,i,s)}r=r.next}a=a.next}while(a!==e)}function Qr(e,t){return e.x-t.x}function e_(e,t){if(t=function(e,t){var o,n=t,i=e.x,s=e.y,a=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var r=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(r<=i&&r>a){if(a=r,r===i){if(s===n.y)return n;if(s===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(i===a)return o;var _,p=o,l=o.x,u=o.y,f=1/0;n=o;do{i>=n.x&&n.x>=l&&i!==n.x&&i_(s<u?i:a,s,l,u,s<u?a:i,s,n.x,n.y)&&(_=Math.abs(s-n.y)/(i-n.x),u_(n,e)&&(_<f||_===f&&(n.x>o.x||n.x===o.x&&t_(o,n)))&&(o=n,f=_)),n=n.next}while(n!==p);return o}(e,t)){var o=f_(t,e);Kr(t,t.next),Kr(o,o.next)}}function t_(e,t){return a_(e.prev,e,t.prev)<0&&a_(t.next,e,e.next)<0}function o_(e,t,o,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-o)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function n_(e){var t=e,o=e;do{(t.x<o.x||t.x===o.x&&t.y<o.y)&&(o=t),t=t.next}while(t!==e);return o}function i_(e,t,o,n,i,s,a,r){return(i-a)*(t-r)-(e-a)*(s-r)>=0&&(e-a)*(n-r)-(o-a)*(t-r)>=0&&(o-a)*(s-r)-(i-a)*(n-r)>=0}function s_(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var o=e;do{if(o.i!==e.i&&o.next.i!==e.i&&o.i!==t.i&&o.next.i!==t.i&&__(o,o.next,e,t))return!0;o=o.next}while(o!==e);return!1}(e,t)&&(u_(e,t)&&u_(t,e)&&function(e,t){var o=e,n=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{o.y>s!=o.next.y>s&&o.next.y!==o.y&&i<(o.next.x-o.x)*(s-o.y)/(o.next.y-o.y)+o.x&&(n=!n),o=o.next}while(o!==e);return n}(e,t)&&(a_(e.prev,e,t.prev)||a_(e,t.prev,t))||r_(e,t)&&a_(e.prev,e,e.next)>0&&a_(t.prev,t,t.next)>0)}function a_(e,t,o){return(t.y-e.y)*(o.x-t.x)-(t.x-e.x)*(o.y-t.y)}function r_(e,t){return e.x===t.x&&e.y===t.y}function __(e,t,o,n){var i=l_(a_(e,t,o)),s=l_(a_(e,t,n)),a=l_(a_(o,n,e)),r=l_(a_(o,n,t));return i!==s&&a!==r||!(0!==i||!p_(e,o,t))||!(0!==s||!p_(e,n,t))||!(0!==a||!p_(o,e,n))||!(0!==r||!p_(o,t,n))}function p_(e,t,o){return t.x<=Math.max(e.x,o.x)&&t.x>=Math.min(e.x,o.x)&&t.y<=Math.max(e.y,o.y)&&t.y>=Math.min(e.y,o.y)}function l_(e){return e>0?1:e<0?-1:0}function u_(e,t){return a_(e.prev,e,e.next)<0?a_(e,t,e.next)>=0&&a_(e,e.prev,t)>=0:a_(e,t,e.prev)<0||a_(e,e.next,t)<0}function f_(e,t){var o=new m_(e.i,e.x,e.y),n=new m_(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,o.next=i,i.prev=o,n.next=o,o.prev=n,s.next=n,n.prev=s,n}function d_(e,t,o,n){var i=new m_(e,t,o);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function c_(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function m_(e,t,o){this.i=e,this.x=t,this.y=o,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function h_(e,t,o,n){for(var i=0,s=t,a=o-n;s<o;s+=n)i+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return i}function y_(e,t,o,n,i){!function e(t,o,n,i,s){for(;i>n;){if(i-n>600){var a=i-n+1,r=o-n+1,_=Math.log(a),p=.5*Math.exp(2*_/3),l=.5*Math.sqrt(_*p*(a-p)/a)*(r-a/2<0?-1:1);e(t,o,Math.max(n,Math.floor(o-r*p/a+l)),Math.min(i,Math.floor(o+(a-r)*p/a+l)),s)}var u=t[o],f=n,d=i;for(g_(t,n,o),s(t[i],u)>0&&g_(t,n,i);f<d;){for(g_(t,f,d),f++,d--;s(t[f],u)<0;)f++;for(;s(t[d],u)>0;)d--}0===s(t[n],u)?g_(t,n,d):g_(t,++d,i),d<=o&&(n=d+1),o<=d&&(i=d-1)}}(e,t,o||0,n||e.length-1,i||v_)}function g_(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function v_(e,t){return e<t?-1:e>t?1:0}function x_(e,t){const o=e.length;if(o<=1)return[e];const n=[];let i,s;for(let t=0;t<o;t++){const o=L(e[t]);0!==o&&(e[t].area=Math.abs(o),void 0===s&&(s=o<0),s===o<0?(i&&n.push(i),i=[e[t]]):i.push(e[t]))}if(i&&n.push(i),t>1)for(let e=0;e<n.length;e++)n[e].length<=t||(y_(n[e],t,1,n[e].length-1,C_),n[e]=n[e].slice(0,t));return n}function C_(e,t){return t.area-e.area}function b_(e,t,o){const n=o.patternDependencies;let i=!1;for(const o of t){const t=o.paint.get(e+"-pattern");t.isConstant()||(i=!0);const s=t.constantOr(null);s&&(i=!0,n[s.to]=!0,n[s.from]=!0)}return i}function w_(e,t,o,n,i){const s=i.patternDependencies;for(const a of t){const t=a.paint.get(e+"-pattern").value;if("constant"!==t.kind){let e=t.evaluate({zoom:n-1},o,{},i.availableImages),r=t.evaluate({zoom:n},o,{},i.availableImages),_=t.evaluate({zoom:n+1},o,{},i.availableImages);e=e&&e.name?e.name:e,r=r&&r.name?r.name:r,_=_&&_.name?_.name:_,s[e]=!0,s[r]=!0,s[_]=!0,o.patterns[a.id]={min:e,mid:r,max:_}}}return o}jr.deviation=function(e,t,o,n){var i=t&&t.length,s=Math.abs(h_(e,0,i?t[0]*o:e.length,o));if(i)for(var a=0,r=t.length;a<r;a++)s-=Math.abs(h_(e,t[a]*o,a<r-1?t[a+1]*o:e.length,o));var _=0;for(a=0;a<n.length;a+=3){var p=n[a]*o,l=n[a+1]*o,u=n[a+2]*o;_+=Math.abs((e[p]-e[u])*(e[l+1]-e[p+1])-(e[p]-e[l])*(e[u+1]-e[p+1]))}return 0===s&&0===_?0:Math.abs((_-s)/s)},jr.flatten=function(e){for(var t=e[0][0].length,o={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var a=0;a<t;a++)o.vertices.push(e[i][s][a]);i>0&&o.holes.push(n+=e[i-1].length)}return o},Wr.default=Zr;class T_{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Cs,this.indexArray=new Ds,this.indexArray2=new Ns,this.programConfigurations=new Ta(e.layers,e.zoom),this.segments=new La,this.segments2=new La,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,o){this.hasPattern=b_("fill",this.layers,t);const n=this.layers[0].layout.get("fill-sort-key"),i=[];for(const{feature:s,id:a,index:r,sourceLayerIndex:_}of e){const e=this.layers[0]._featureFilter.needGeometry,p=Na(s,e);if(!this.layers[0]._featureFilter.filter(new es(this.zoom),p,o))continue;const l=n?n.evaluate(p,{},o,t.availableImages):void 0,u={id:a,properties:s.properties,type:s.type,sourceLayerIndex:_,index:r,geometry:e?p.geometry:Oa(s),patterns:{},sortKey:l};i.push(u)}n&&i.sort((e,t)=>e.sortKey-t.sortKey);for(const n of i){const{geometry:i,index:s,sourceLayerIndex:a}=n;if(this.hasPattern){const e=w_("fill",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,s,o,{});t.featureIndex.insert(e[s].feature,i,s,a,this.index)}}update(e,t,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,o)}addFeatures(e,t,o){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,o)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Gr),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,o,n,i){for(const e of x_(t,500)){let t=0;for(const o of e)t+=o.length;const o=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),n=o.vertexLength,i=[],s=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&s.push(i.length/2);const o=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),n=o.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(n+t.length-1,n),i.push(t[0].x),i.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(n+e-1,n+e),i.push(t[e].x),i.push(t[e].y);o.vertexLength+=t.length,o.primitiveLength+=t.length}const a=Wr(i,s);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(n+a[e],n+a[e+1],n+a[e+2]);o.vertexLength+=t,o.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,i,n)}}ti("FillBucket",T_,{omit:["layers","patternFeatures"]});const k_=new cs({"fill-sort-key":new ls(Ne.layout_fill["fill-sort-key"])});var M_={paint:new cs({"fill-antialias":new ps(Ne.paint_fill["fill-antialias"]),"fill-opacity":new ls(Ne.paint_fill["fill-opacity"]),"fill-color":new ls(Ne.paint_fill["fill-color"]),"fill-outline-color":new ls(Ne.paint_fill["fill-outline-color"]),"fill-translate":new ps(Ne.paint_fill["fill-translate"]),"fill-translate-anchor":new ps(Ne.paint_fill["fill-translate-anchor"]),"fill-pattern":new us(Ne.paint_fill["fill-pattern"])}),layout:k_};const S_=vs([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),E_=vs([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:A_}=S_;var I_=z_;function z_(e,t,o,n,i){this.properties={},this.extent=o,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(P_,this,t)}function P_(e,t,o){1==e?t.id=o.readVarint():2==e?function(e,t){for(var o=e.readVarint()+e.pos;e.pos<o;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(o,t):3==e?t.type=o.readVarint():4==e&&(t._geometry=o.pos)}function D_(e){for(var t,o,n=0,i=0,s=e.length,a=s-1;i<s;a=i++)n+=((o=e[a]).x-(t=e[i]).x)*(t.y+o.y);return n}z_.types=["Unknown","Point","LineString","Polygon"],z_.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,o=e.readVarint()+e.pos,n=1,i=0,a=0,r=0,_=[];e.pos<o;){if(i<=0){var p=e.readVarint();n=7&p,i=p>>3}if(i--,1===n||2===n)a+=e.readSVarint(),r+=e.readSVarint(),1===n&&(t&&_.push(t),t=[]),t.push(new s(a,r));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&_.push(t),_},z_.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,o=1,n=0,i=0,s=0,a=1/0,r=-1/0,_=1/0,p=-1/0;e.pos<t;){if(n<=0){var l=e.readVarint();o=7&l,n=l>>3}if(n--,1===o||2===o)(i+=e.readSVarint())<a&&(a=i),i>r&&(r=i),(s+=e.readSVarint())<_&&(_=s),s>p&&(p=s);else if(7!==o)throw new Error("unknown command "+o)}return[a,_,r,p]},z_.prototype.toGeoJSON=function(e,t,o){var n,i,s=this.extent*Math.pow(2,o),a=this.extent*e,r=this.extent*t,_=this.loadGeometry(),p=z_.types[this.type];function l(e){for(var t=0;t<e.length;t++){var o=e[t];e[t]=[360*(o.x+a)/s-180,360/Math.PI*Math.atan(Math.exp((180-360*(o.y+r)/s)*Math.PI/180))-90]}}switch(this.type){case 1:var u=[];for(n=0;n<_.length;n++)u[n]=_[n][0];l(_=u);break;case 2:for(n=0;n<_.length;n++)l(_[n]);break;case 3:for(_=function(e){var t=e.length;if(t<=1)return[e];for(var o,n,i=[],s=0;s<t;s++){var a=D_(e[s]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(o&&i.push(o),o=[e[s]]):o.push(e[s]))}return o&&i.push(o),i}(_),n=0;n<_.length;n++)for(i=0;i<_[n].length;i++)l(_[n][i])}1===_.length?_=_[0]:p="Multi"+p;var f={type:"Feature",geometry:{type:p,coordinates:_},properties:this.properties};return"id"in this&&(f.id=this.id),f};var L_=B_;function B_(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(R_,this,t),this.length=this._features.length}function R_(e,t,o){15===e?t.version=o.readVarint():1===e?t.name=o.readString():5===e?t.extent=o.readVarint():2===e?t._features.push(o.pos):3===e?t._keys.push(o.readString()):4===e&&t._values.push(function(e){for(var t=null,o=e.readVarint()+e.pos;e.pos<o;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(o))}function F_(e,t,o){if(3===e){var n=new L_(o,o.readVarint()+o.pos);n.length&&(t[n.name]=n)}}B_.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new I_(this._pbf,t,this.extent,this._keys,this._values)};var O_={VectorTile:function(e,t){this.layers=e.readFields(F_,{},t)},VectorTileFeature:I_,VectorTileLayer:L_};const N_=O_.VectorTileFeature.types,V_=Math.pow(2,13);function U_(e,t,o,n,i,s,a,r){e.emplaceBack((t<<1)+a,(o<<1)+s,(Math.floor(n*V_)<<1)+i,Math.round(r))}class G_{constructor(){this.acc=new s(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new s(e.x,e.y),this.max=new s(e.x,e.y))}append(e,t){this.currentPolyCount.edges++,this.acc._add(e);let o=!!this.borders;const n=this.min,i=this.max;e.x<n.x?(n.x=e.x,o=!0):e.x>i.x&&(i.x=e.x,o=!0),e.y<n.y?(n.y=e.y,o=!0):e.y>i.y&&(i.y=e.y,o=!0),((0===e.x||e.x===Ba)&&e.x===t.x)!=((0===e.y||e.y===Ba)&&e.y===t.y)&&this.processBorderOverlap(e,t),o&&this.checkBorderIntersection(e,t)}checkBorderIntersection(e,t){t.x<0!=e.x<0&&this.addBorderIntersection(0,oo(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>Ba!=e.x>Ba&&this.addBorderIntersection(1,oo(t.y,e.y,(Ba-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,oo(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>Ba!=e.y>Ba&&this.addBorderIntersection(3,oo(t.x,e.x,(Ba-t.y)/(e.y-t.y)))}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const o=this.borders[e];t<o[0]&&(o[0]=t),t>o[1]&&(o[1]=t)}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const o=0===e.x?0:1;this.addBorderIntersection(o,t.y),this.addBorderIntersection(o,e.y)}else{const o=0===e.y?2:3;this.addBorderIntersection(o,t.x),this.addBorderIntersection(o,e.x)}}centroid(){const e=this.polyCount.reduce((e,t)=>e+t.edges,0);return 0!==e?this.acc.div(e)._round():new s(0,0)}span(){return new s(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,t)=>e+ +(t[0]!==Number.MAX_VALUE),0)}}class W_{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new bs,this.centroidVertexArray=new ta,this.indexArray=new Ds,this.programConfigurations=new Ta(e.layers,e.zoom),this.segments=new La,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.enableTerrain=e.enableTerrain}populate(e,t,o){this.features=[],this.hasPattern=b_("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(e){const t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/Ba/(1<<e.z)}(o);for(const{feature:n,id:i,index:s,sourceLayerIndex:a}of e){const e=this.layers[0]._featureFilter.needGeometry,r=Na(n,e);if(!this.layers[0]._featureFilter.filter(new es(this.zoom),r,o))continue;const _={id:i,sourceLayerIndex:a,index:s,geometry:e?r.geometry:Oa(n),properties:n.properties,type:n.type,patterns:{}},p=this.layoutVertexArray.length;this.hasPattern?this.features.push(w_("fill-extrusion",this.layers,_,this.zoom,t)):this.addFeature(_,_.geometry,s,o,{}),t.featureIndex.insert(n,_.geometry,s,a,this.index,p)}this.sortBorders()}addFeatures(e,t,o){for(const e of this.features){const{geometry:n}=e;this.addFeature(e,n,e.index,t,o)}this.sortBorders()}update(e,t,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,o)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,A_),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,E_.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,o,n,i){const s=this.enableTerrain?new G_:null;for(const o of x_(t,500)){let t=0,n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===o.length||(a=o[0]).every(e=>e.x<=0)||a.every(e=>e.x>=Ba)||a.every(e=>e.y<=0)||a.every(e=>e.y>=Ba))continue;for(let e=0;e<o.length;e++){const i=o[e];if(0===i.length)continue;t+=i.length;let a=0;s&&s.startRing(i[0]);for(let e=0;e<i.length;e++){const t=i[e];if(e>=1){const o=i[e-1];if(!Z_(t,o)){s&&s.append(t,o),n.vertexLength+4>La.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const e=t.sub(o)._perp(),i=e.x/(Math.abs(e.x)+Math.abs(e.y)),r=e.y>0?1:0,_=o.dist(t);a+_>32768&&(a=0),U_(this.layoutVertexArray,t.x,t.y,i,r,0,0,a),U_(this.layoutVertexArray,t.x,t.y,i,r,0,1,a),a+=_,U_(this.layoutVertexArray,o.x,o.y,i,r,0,0,a),U_(this.layoutVertexArray,o.x,o.y,i,r,0,1,a);const p=n.vertexLength;this.indexArray.emplaceBack(p,p+2,p+1),this.indexArray.emplaceBack(p+1,p+2,p+3),n.vertexLength+=4,n.primitiveLength+=2}}}}if(n.vertexLength+t>La.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray)),"Polygon"!==N_[e.type])continue;const i=[],r=[],_=n.vertexLength;for(let e=0;e<o.length;e++){const t=o[e];if(0!==t.length){t!==o[0]&&r.push(i.length/2);for(let e=0;e<t.length;e++){const o=t[e];U_(this.layoutVertexArray,o.x,o.y,0,0,1,1,0),i.push(o.x),i.push(o.y),s&&s.currentPolyCount.top++}}}const p=Wr(i,r);for(let e=0;e<p.length;e+=3)this.indexArray.emplaceBack(_+p[e],_+p[e+2],_+p[e+1]);n.primitiveLength+=p.length/3,n.vertexLength+=t}var a;if(s&&s.polyCount.length>0){if(s.borders){s.vertexArrayOffset=this.centroidVertexArray.length;const e=s.borders,t=this.featuresOnBorder.push(s)-1;for(let o=0;o<4;o++)e[o][0]!==Number.MAX_VALUE&&this.borders[o].push(t)}this.encodeCentroid(s.borders?void 0:s.centroid(),s)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,i,n)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((t,o)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[o].borders[e][0])}encodeCentroid(e,t,o=!0){let n,i;if(e)if(0!==e.y){const o=t.span()._mult(this.tileToMeter);n=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(o.x/10)),i=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(o.y/10))}else n=Math.ceil(7*(e.x+450)),i=0;else n=0,i=+o;let s=o?this.centroidVertexArray.length:t.vertexArrayOffset;for(const e of t.polyCount){o&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*e.edges+e.top);for(let t=0;t<2*e.edges;t++)this.centroidVertexArray.emplace(s++,0,i),this.centroidVertexArray.emplace(s++,n,i);for(let t=0;t<e.top;t++)this.centroidVertexArray.emplace(s++,n,i)}}}function Z_(e,t){return e.x===t.x&&(e.x<0||e.x>Ba)||e.y===t.y&&(e.y<0||e.y>Ba)}ti("FillExtrusionBucket",W_,{omit:["layers","features"]}),ti("PartMetadata",G_);var j_={paint:new cs({"fill-extrusion-opacity":new ps(Ne["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ls(Ne["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ps(Ne["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ps(Ne["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new us(Ne["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ls(Ne["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ls(Ne["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ps(Ne["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function q_(e,t){return e.x*t.x+e.y*t.y}function K_(e,t){if(1===e.length){let o=0;const n=t[o++];let i;for(;!i||n.equals(i);)if(i=t[o++],!i)return 1/0;for(;o<t.length;o++){const s=t[o],a=e[0],r=i.sub(n),_=s.sub(n),p=a.sub(n),l=q_(r,r),u=q_(r,_),f=q_(_,_),d=q_(p,r),c=q_(p,_),m=l*f-u*u,h=(f*d-u*c)/m,y=(l*c-u*d)/m,g=n.z*(1-h-y)+i.z*h+s.z*y;if(isFinite(g))return g}return 1/0}{let e=1/0;for(const o of t)e=Math.min(e,o.z);return e}}function H_(e){const t=new s(e[0],e[1]);return t.z=e[2],t}function $_(e,t,o,n,i,s,a,r){const _=a*i.getElevationAt(e,t,!0,!0),p=0!==s[0],l=p?0===s[1]?a*(s[0]/7-450):a*function(e,t,o){const n=Math.floor(t[0]/8),i=Math.floor(t[1]/8),s=10*(t[0]-8*n),a=10*(t[1]-8*i),r=e.getElevationAt(n,i,!0,!0),_=e.getMeterToDEM(o),p=Math.floor(.5*(s*_-1)),l=Math.floor(.5*(a*_-1)),u=e.tileCoordToPixel(n,i),f=2*p+1,d=2*l+1,c=function(e,t,o,n,i){return[e.getElevationAtPixel(t,o,!0),e.getElevationAtPixel(t+i,o,!0),e.getElevationAtPixel(t,o+i,!0),e.getElevationAtPixel(t+n,o+i,!0)]}(e,u.x-p,u.y-l,f,d),m=Math.abs(c[0]-c[1]),h=Math.abs(c[2]-c[3]),y=Math.abs(c[0]-c[2])+Math.abs(c[1]-c[3]),g=Math.min(.25,.5*_*(m+h)/f),v=Math.min(.25,.5*_*y/d);return r+Math.max(g*s,v*a)}(i,s,r):_;return{base:_+(0===o)?-1:o,top:p?Math.max(l+n,_+o+2):_+n}}const X_=vs([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Y_}=X_,J_=vs([{name:"a_packed",components:3,type:"Float32"}]),{members:Q_}=J_,ep=O_.VectorTileFeature.types,tp=Math.cos(Math.PI/180*37.5);class op{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(e=>{this.gradients[e.id]={}}),this.layoutVertexArray=new ws,this.layoutVertexArray2=new Ts,this.indexArray=new Ds,this.programConfigurations=new Ta(e.layers,e.zoom),this.segments=new La,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,o){this.hasPattern=b_("line",this.layers,t);const n=this.layers[0].layout.get("line-sort-key"),i=[];for(const{feature:t,id:s,index:a,sourceLayerIndex:r}of e){const e=this.layers[0]._featureFilter.needGeometry,_=Na(t,e);if(!this.layers[0]._featureFilter.filter(new es(this.zoom),_,o))continue;const p=n?n.evaluate(_,{},o):void 0,l={id:s,properties:t.properties,type:t.type,sourceLayerIndex:r,index:a,geometry:e?_.geometry:Oa(t),patterns:{},sortKey:p};i.push(l)}n&&i.sort((e,t)=>e.sortKey-t.sortKey);const{lineAtlas:s,featureIndex:a}=t,r=this.addConstantDashes(s);for(const n of i){const{geometry:i,index:_,sourceLayerIndex:p}=n;if(r&&this.addFeatureDashes(n,s),this.hasPattern){const e=w_("line",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,_,o,s.positions);a.insert(e[_].feature,i,_,p,this.index)}}addConstantDashes(e){let t=!1;for(const o of this.layers){const n=o.paint.get("line-dasharray").value,i=o.layout.get("line-cap").value;if("constant"!==n.kind||"constant"!==i.kind)t=!0;else{const t=i.value,o=n.value;if(!o)continue;e.addDash(o.from,t),e.addDash(o.to,t),o.other&&e.addDash(o.other,t)}}return t}addFeatureDashes(e,t){const o=this.zoom;for(const n of this.layers){const i=n.paint.get("line-dasharray").value,s=n.layout.get("line-cap").value;if("constant"===i.kind&&"constant"===s.kind)continue;let a,r,_,p,l,u;if("constant"===i.kind){const e=i.value;if(!e)continue;a=e.other||e.to,r=e.to,_=e.from}else a=i.evaluate({zoom:o-1},e),r=i.evaluate({zoom:o},e),_=i.evaluate({zoom:o+1},e);"constant"===s.kind?p=l=u=s.value:(p=s.evaluate({zoom:o-1},e),l=s.evaluate({zoom:o},e),u=s.evaluate({zoom:o+1},e)),t.addDash(a,p),t.addDash(r,l),t.addDash(_,u);const f=t.getKey(a,p),d=t.getKey(r,l),c=t.getKey(_,u);e.patterns[n.id]={min:f,mid:d,max:c}}}update(e,t,o){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,o)}addFeatures(e,t,o){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,o)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Q_)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Y_),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,o,n,i){const s=this.layers[0].layout,a=s.get("line-join").evaluate(e,{}),r=s.get("line-cap").evaluate(e,{}),_=s.get("line-miter-limit"),p=s.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const o of t)this.addLine(o,e,a,r,_,p);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,i,n)}addLine(e,t,o,n,i,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===ep[t.type];let r=e.length;for(;r>=2&&e[r-1].equals(e[r-2]);)r--;let _=0;for(;_<r-1&&e[_].equals(e[_+1]);)_++;if(r<(a?3:2))return;"bevel"===o&&(i=1.05);const p=this.overscaling<=16?122880/(512*this.overscaling):0,l=this.segments.prepareSegment(10*r,this.layoutVertexArray,this.indexArray);let u,f,d,c,m;this.e1=this.e2=-1,a&&(u=e[r-2],m=e[_].sub(u)._unit()._perp());for(let t=_;t<r;t++){if(d=t===r-1?a?e[_+1]:void 0:e[t+1],d&&e[t].equals(d))continue;m&&(c=m),u&&(f=u),u=e[t],m=d?d.sub(u)._unit()._perp():c,c=c||m;let h=c.add(m);0===h.x&&0===h.y||h._unit();const y=c.x*m.x+c.y*m.y,g=h.x*m.x+h.y*m.y,v=0!==g?1/g:1/0,x=2*Math.sqrt(2-2*g),C=g<tp&&f&&d,b=c.x*m.y-c.y*m.x>0;if(C&&t>_){const e=u.dist(f);if(e>2*p){const t=u.sub(u.sub(f)._mult(p/e)._round());this.updateDistance(f,t),this.addCurrentVertex(t,c,0,0,l),f=t}}const w=f&&d;let T=w?o:a?"butt":n;if(w&&"round"===T&&(v<s?T="miter":v<=2&&(T="fakeround")),"miter"===T&&v>i&&(T="bevel"),"bevel"===T&&(v>2&&(T="flipbevel"),v<i&&(T="miter")),f&&this.updateDistance(f,u),"miter"===T)h._mult(v),this.addCurrentVertex(u,h,0,0,l);else if("flipbevel"===T){if(v>100)h=m.mult(-1);else{const e=v*c.add(m).mag()/c.sub(m).mag();h._perp()._mult(e*(b?-1:1))}this.addCurrentVertex(u,h,0,0,l),this.addCurrentVertex(u,h.mult(-1),0,0,l)}else if("bevel"===T||"fakeround"===T){const e=-Math.sqrt(v*v-1),t=b?e:0,o=b?0:e;if(f&&this.addCurrentVertex(u,c,t,o,l),"fakeround"===T){const e=Math.round(180*x/Math.PI/20);for(let t=1;t<e;t++){let o=t/e;if(.5!==o){const e=o-.5;o+=o*e*(o-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*e*e+(.848013+y*(.215638*y-1.06021)))}const n=m.sub(c)._mult(o)._add(c)._unit()._mult(b?-1:1);this.addHalfVertex(u,n.x,n.y,!1,b,0,l)}}d&&this.addCurrentVertex(u,m,-t,-o,l)}else if("butt"===T)this.addCurrentVertex(u,h,0,0,l);else if("square"===T){const e=f?1:-1;f||this.addCurrentVertex(u,h,e,e,l),this.addCurrentVertex(u,h,0,0,l),f&&this.addCurrentVertex(u,h,e,e,l)}else"round"===T&&(f&&(this.addCurrentVertex(u,c,0,0,l),this.addCurrentVertex(u,c,1,1,l,!0)),d&&(this.addCurrentVertex(u,m,-1,-1,l,!0),this.addCurrentVertex(u,m,0,0,l)));if(C&&t<r-1){const e=u.dist(d);if(e>2*p){const t=u.add(d.sub(u)._mult(p/e)._round());this.updateDistance(u,t),this.addCurrentVertex(t,m,0,0,l),u=t}}}}addCurrentVertex(e,t,o,n,i,s=!1){const a=t.y*n-t.x,r=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*o,t.y-t.x*o,s,!1,o,i),this.addHalfVertex(e,a,r,s,!0,-n,i)}addHalfVertex({x:e,y:t},o,n,i,s,a,r){this.layoutVertexArray.emplaceBack((e<<1)+(i?1:0),(t<<1)+(s?1:0),Math.round(63*o)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineSoFar);const _=r.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,_),r.primitiveLength++),s?this.e2=_:this.e1=_}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}ti("LineBucket",op,{omit:["layers","patternFeatures"]});const np=new cs({"line-cap":new ls(Ne.layout_line["line-cap"]),"line-join":new ls(Ne.layout_line["line-join"]),"line-miter-limit":new ps(Ne.layout_line["line-miter-limit"]),"line-round-limit":new ps(Ne.layout_line["line-round-limit"]),"line-sort-key":new ls(Ne.layout_line["line-sort-key"])});var ip={paint:new cs({"line-opacity":new ls(Ne.paint_line["line-opacity"]),"line-color":new ls(Ne.paint_line["line-color"]),"line-translate":new ps(Ne.paint_line["line-translate"]),"line-translate-anchor":new ps(Ne.paint_line["line-translate-anchor"]),"line-width":new ls(Ne.paint_line["line-width"]),"line-gap-width":new ls(Ne.paint_line["line-gap-width"]),"line-offset":new ls(Ne.paint_line["line-offset"]),"line-blur":new ls(Ne.paint_line["line-blur"]),"line-dasharray":new us(Ne.paint_line["line-dasharray"]),"line-pattern":new us(Ne.paint_line["line-pattern"]),"line-gradient":new ds(Ne.paint_line["line-gradient"])}),layout:np};const sp=new class extends ls{possiblyEvaluate(e,t){return t=new es(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,o,n){return t=x({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,o,n)}}(ip.paint.properties["line-width"].specification);function ap(e,t){return t>0?t+2*e:e}sp.useIntegerZoom=!0;const rp=vs([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"},{name:"a_z_tile_anchor",components:4,type:"Int16"}],4),_p=vs([{name:"a_projected_pos",components:3,type:"Float32"}],4);vs([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const pp=vs([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),lp=vs([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);vs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const up=vs([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),fp=vs([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);vs([{name:"triangle",components:3,type:"Uint16"}]),vs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),vs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),vs([{type:"Float32",name:"offsetX"}]),vs([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const dp=128;function cp(e,t){const{expression:o}=t;if("constant"===o.kind)return{kind:"constant",layoutSize:o.evaluate(new es(e+1))};if("source"===o.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:n}=o;let i=0;for(;i<t.length&&t[i]<=e;)i++;i=Math.max(0,i-1);let s=i;for(;s<t.length&&t[s]<e+1;)s++;s=Math.min(t.length-1,s);const a=t[i],r=t[s];return"composite"===o.kind?{kind:"composite",minZoom:a,maxZoom:r,interpolationType:n}:{kind:"camera",minZoom:a,maxZoom:r,minSize:o.evaluate(new es(a)),maxSize:o.evaluate(new es(r)),interpolationType:n}}}function mp(e,{uSize:t,uSizeT:o},{lowerSize:n,upperSize:i}){return"source"===e.kind?n/dp:"composite"===e.kind?oo(n/dp,i/dp,o):t}function hp(e,t){let o=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){const{interpolationType:i,minZoom:s,maxZoom:a}=e,r=i?h(go.interpolationFactor(i,t,s,a),0,1):0;"camera"===e.kind?n=oo(e.minSize,e.maxSize,r):o=r}return{uSizeT:o,uSize:n}}var yp=Object.freeze({__proto__:null,getSizeData:cp,evaluateSizeForFeature:mp,evaluateSizeForZoom:hp,SIZE_PACK_FACTOR:dp});function gp(e,t,o){return e.sections.forEach(e=>{e.text=function(e,t,o){const n=t.layout.get("text-transform").evaluate(o,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),Qi.applyArabicShaping&&(e=Qi.applyArabicShaping(e)),e}(e.text,t,o)}),e}const vp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function xp(e){return"︶"===e||"﹈"===e||"︸"===e||"﹄"===e||"﹂"===e||"︾"===e||"︼"===e||"︺"===e||"︘"===e||"﹀"===e||"︐"===e||"︓"===e||"︔"===e||"｀"===e||"￣"===e||"︑"===e||"︒"===e}function Cp(e){return"︵"===e||"﹇"===e||"︷"===e||"﹃"===e||"﹁"===e||"︽"===e||"︻"===e||"︹"===e||"︗"===e||"︿"===e}var bp=function(e,t,o,n,i){var s,a,r=8*i-n-1,_=(1<<r)-1,p=_>>1,l=-7,u=o?i-1:0,f=o?-1:1,d=e[t+u];for(u+=f,s=d&(1<<-l)-1,d>>=-l,l+=r;l>0;s=256*s+e[t+u],u+=f,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=256*a+e[t+u],u+=f,l-=8);if(0===s)s=1-p;else{if(s===_)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),s-=p}return(d?-1:1)*a*Math.pow(2,s-n)},wp=function(e,t,o,n,i,s){var a,r,_,p=8*s-i-1,l=(1<<p)-1,u=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,c=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(_=Math.pow(2,-a))<1&&(a--,_*=2),(t+=a+u>=1?f/_:f*Math.pow(2,1-u))*_>=2&&(a++,_/=2),a+u>=l?(r=0,a=l):a+u>=1?(r=(t*_-1)*Math.pow(2,i),a+=u):(r=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));i>=8;e[o+d]=255&r,d+=c,r/=256,i-=8);for(a=a<<i|r,p+=i;p>0;e[o+d]=255&a,d+=c,a/=256,p-=8);e[o+d-c]|=128*m},Tp=kp;function kp(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}kp.Varint=0,kp.Fixed64=1,kp.Bytes=2,kp.Fixed32=5;var Mp=4294967296,Sp=1/Mp,Ep="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Ap(e){return e.type===kp.Bytes?e.readVarint()+e.pos:e.pos+1}function Ip(e,t,o){return o?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function zp(e,t,o){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));o.realloc(n);for(var i=o.pos-1;i>=e;i--)o.buf[i+n]=o.buf[i]}function Pp(e,t){for(var o=0;o<e.length;o++)t.writeVarint(e[o])}function Dp(e,t){for(var o=0;o<e.length;o++)t.writeSVarint(e[o])}function Lp(e,t){for(var o=0;o<e.length;o++)t.writeFloat(e[o])}function Bp(e,t){for(var o=0;o<e.length;o++)t.writeDouble(e[o])}function Rp(e,t){for(var o=0;o<e.length;o++)t.writeBoolean(e[o])}function Fp(e,t){for(var o=0;o<e.length;o++)t.writeFixed32(e[o])}function Op(e,t){for(var o=0;o<e.length;o++)t.writeSFixed32(e[o])}function Np(e,t){for(var o=0;o<e.length;o++)t.writeFixed64(e[o])}function Vp(e,t){for(var o=0;o<e.length;o++)t.writeSFixed64(e[o])}function Up(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Gp(e,t,o){e[o]=t,e[o+1]=t>>>8,e[o+2]=t>>>16,e[o+3]=t>>>24}function Wp(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Zp(e,t,o){t.glyphs=[],1===e&&o.readMessage(jp,t)}function jp(e,t,o){if(3===e){const{id:e,bitmap:n,width:i,height:s,left:a,top:r,advance:_}=o.readMessage(qp,{});t.glyphs.push({id:e,bitmap:new Rr({width:i+6,height:s+6},n),metrics:{width:i,height:s,left:a,top:r,advance:_}})}else 4===e?t.ascender=o.readSVarint():5===e&&(t.descender=o.readSVarint())}function qp(e,t,o){1===e?t.id=o.readVarint():2===e?t.bitmap=o.readBytes():3===e?t.width=o.readVarint():4===e?t.height=o.readVarint():5===e?t.left=o.readSVarint():6===e?t.top=o.readSVarint():7===e&&(t.advance=o.readVarint())}function Kp(e){let t=0,o=0;for(const n of e)t+=n.w*n.h,o=Math.max(o,n.w);e.sort((e,t)=>t.h-e.h);const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),o),h:1/0}];let i=0,s=0;for(const t of e)for(let e=n.length-1;e>=0;e--){const o=n[e];if(!(t.w>o.w||t.h>o.h)){if(t.x=o.x,t.y=o.y,s=Math.max(s,t.y+t.h),i=Math.max(i,t.x+t.w),t.w===o.w&&t.h===o.h){const t=n.pop();e<n.length&&(n[e]=t)}else t.h===o.h?(o.x+=t.w,o.w-=t.w):t.w===o.w?(o.y+=t.h,o.h-=t.h):(n.push({x:o.x+t.w,y:o.y,w:o.w-t.w,h:t.h}),o.y+=t.h,o.h-=t.h);break}}return{w:i,h:s,fill:t/(i*s)||0}}kp.prototype={destroy:function(){this.buf=null},readFields:function(e,t,o){for(o=o||this.length;this.pos<o;){var n=this.readVarint(),i=n>>3,s=this.pos;this.type=7&n,e(i,t,this),this.pos===s&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Up(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Wp(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Up(this.buf,this.pos)+Up(this.buf,this.pos+4)*Mp;return this.pos+=8,e},readSFixed64:function(){var e=Up(this.buf,this.pos)+Wp(this.buf,this.pos+4)*Mp;return this.pos+=8,e},readFloat:function(){var e=bp(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=bp(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,o,n=this.buf;return t=127&(o=n[this.pos++]),o<128?t:(t|=(127&(o=n[this.pos++]))<<7,o<128?t:(t|=(127&(o=n[this.pos++]))<<14,o<128?t:(t|=(127&(o=n[this.pos++]))<<21,o<128?t:function(e,t,o){var n,i,s=o.buf;if(n=(112&(i=s[o.pos++]))>>4,i<128)return Ip(e,n,t);if(n|=(127&(i=s[o.pos++]))<<3,i<128)return Ip(e,n,t);if(n|=(127&(i=s[o.pos++]))<<10,i<128)return Ip(e,n,t);if(n|=(127&(i=s[o.pos++]))<<17,i<128)return Ip(e,n,t);if(n|=(127&(i=s[o.pos++]))<<24,i<128)return Ip(e,n,t);if(n|=(1&(i=s[o.pos++]))<<31,i<128)return Ip(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(o=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Ep?function(e,t,o){return Ep.decode(e.subarray(t,o))}(this.buf,t,e):function(e,t,o){for(var n="",i=t;i<o;){var s,a,r,_=e[i],p=null,l=_>239?4:_>223?3:_>191?2:1;if(i+l>o)break;1===l?_<128&&(p=_):2===l?128==(192&(s=e[i+1]))&&(p=(31&_)<<6|63&s)<=127&&(p=null):3===l?(a=e[i+2],128==(192&(s=e[i+1]))&&128==(192&a)&&((p=(15&_)<<12|(63&s)<<6|63&a)<=2047||p>=55296&&p<=57343)&&(p=null)):4===l&&(a=e[i+2],r=e[i+3],128==(192&(s=e[i+1]))&&128==(192&a)&&128==(192&r)&&((p=(15&_)<<18|(63&s)<<12|(63&a)<<6|63&r)<=65535||p>=1114112)&&(p=null)),null===p?(p=65533,l=1):p>65535&&(p-=65536,n+=String.fromCharCode(p>>>10&1023|55296),p=56320|1023&p),n+=String.fromCharCode(p),i+=l}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==kp.Bytes)return e.push(this.readVarint(t));var o=Ap(this);for(e=e||[];this.pos<o;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==kp.Bytes)return e.push(this.readSVarint());var t=Ap(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==kp.Bytes)return e.push(this.readBoolean());var t=Ap(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==kp.Bytes)return e.push(this.readFloat());var t=Ap(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==kp.Bytes)return e.push(this.readDouble());var t=Ap(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==kp.Bytes)return e.push(this.readFixed32());var t=Ap(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==kp.Bytes)return e.push(this.readSFixed32());var t=Ap(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==kp.Bytes)return e.push(this.readFixed64());var t=Ap(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==kp.Bytes)return e.push(this.readSFixed64());var t=Ap(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===kp.Varint)for(;this.buf[this.pos++]>127;);else if(t===kp.Bytes)this.pos=this.readVarint()+this.pos;else if(t===kp.Fixed32)this.pos+=4;else{if(t!==kp.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var o=new Uint8Array(t);o.set(this.buf),this.buf=o,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Gp(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Gp(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Gp(this.buf,-1&e,this.pos),Gp(this.buf,Math.floor(e*Sp),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Gp(this.buf,-1&e,this.pos),Gp(this.buf,Math.floor(e*Sp),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var o,n;if(e>=0?(o=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(o=~(-e%4294967296))?o=o+1|0:(o=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,o){o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos++]=127&e|128,o.buf[o.pos]=127&(e>>>=7)}(o,0,t),function(e,t){var o=(7&e)<<4;t.buf[t.pos++]|=o|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,o){for(var n,i,s=0;s<t.length;s++){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){n>56319||s+1===t.length?(e[o++]=239,e[o++]=191,e[o++]=189):i=n;continue}if(n<56320){e[o++]=239,e[o++]=191,e[o++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[o++]=239,e[o++]=191,e[o++]=189,i=null);n<128?e[o++]=n:(n<2048?e[o++]=n>>6|192:(n<65536?e[o++]=n>>12|224:(e[o++]=n>>18|240,e[o++]=n>>12&63|128),e[o++]=n>>6&63|128),e[o++]=63&n|128)}return o}(this.buf,e,this.pos);var o=this.pos-t;o>=128&&zp(t,o,this),this.pos=t-1,this.writeVarint(o),this.pos+=o},writeFloat:function(e){this.realloc(4),wp(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),wp(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var o=0;o<t;o++)this.buf[this.pos++]=e[o]},writeRawMessage:function(e,t){this.pos++;var o=this.pos;e(t,this);var n=this.pos-o;n>=128&&zp(o,n,this),this.pos=o-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,o){this.writeTag(e,kp.Bytes),this.writeRawMessage(t,o)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Pp,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Dp,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Rp,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Lp,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Bp,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Fp,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Op,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Np,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Vp,t)},writeBytesField:function(e,t){this.writeTag(e,kp.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,kp.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,kp.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,kp.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,kp.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,kp.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,kp.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,kp.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,kp.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,kp.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class Hp{constructor(e,{pixelRatio:t,version:o,stretchX:n,stretchY:i,content:s}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=n,this.stretchY=i,this.content=s,this.version=o}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class $p{constructor(e,t){const o={},n={};this.haveRenderCallbacks=[];const i=[];this.addImages(e,o,i),this.addImages(t,n,i);const{w:s,h:a}=Kp(i),r=new Fr({width:s||1,height:a||1});for(const t in e){const n=e[t],i=o[t].paddedRect;Fr.copy(n.data,r,{x:0,y:0},{x:i.x+1,y:i.y+1},n.data)}for(const e in t){const o=t[e],i=n[e].paddedRect,s=i.x+1,a=i.y+1,_=o.data.width,p=o.data.height;Fr.copy(o.data,r,{x:0,y:0},{x:s,y:a},o.data),Fr.copy(o.data,r,{x:0,y:p-1},{x:s,y:a-1},{width:_,height:1}),Fr.copy(o.data,r,{x:0,y:0},{x:s,y:a+p},{width:_,height:1}),Fr.copy(o.data,r,{x:_-1,y:0},{x:s-1,y:a},{width:1,height:p}),Fr.copy(o.data,r,{x:0,y:0},{x:s+_,y:a},{width:1,height:p})}this.image=r,this.iconPositions=o,this.patternPositions=n}addImages(e,t,o){for(const n in e){const i=e[n],s={x:0,y:0,w:i.data.width+2,h:i.data.height+2};o.push(s),t[n]=new Hp(s,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const o in e.updatedImages)this.patchUpdatedImage(this.iconPositions[o],e.getImage(o),t),this.patchUpdatedImage(this.patternPositions[o],e.getImage(o),t)}patchUpdatedImage(e,t,o){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[n,i]=e.tl;o.update(t.data,void 0,{x:n,y:i})}}ti("ImagePosition",Hp),ti("ImageAtlas",$p);const Xp={horizontal:1,vertical:2,horizontalOnly:3};class Yp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const o=new Yp;return o.scale=e||1,o.fontStack=t,o}static forImage(e){const t=new Yp;return t.imageName=e,t}}class Jp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const o=new Jp;for(let n=0;n<e.sections.length;n++){const i=e.sections[n];i.image?o.addImageSection(i):o.addTextSection(i,t)}return o}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(e,t){let o="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n+1)||null,s=e.charCodeAt(n-1)||null;o+=!t&&(i&&Oi(i)&&!vp[e[n+1]]||s&&Oi(s)&&!vp[e[n-1]])||!vp[e[n]]?e[n]:vp[e[n]]}return o}(this.text,e)}trim(){let e=0;for(let t=0;t<this.text.length&&el[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let o=this.text.length-1;o>=0&&o>=e&&el[this.text.charCodeAt(o)];o--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const o=new Jp;return o.text=this.text.substring(e,t),o.sectionIndex=this.sectionIndex.slice(e,t),o.sections=this.sections,o}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,t)=>Math.max(e,this.sections[t].scale),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Yp.forText(e.scale,e.fontStack||t));const o=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(o)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void P("Can't add FormattedSection with an empty image.");const o=this.getNextImageSectionCharCode();o?(this.text+=String.fromCharCode(o),this.sections.push(Yp.forImage(t)),this.sectionIndex.push(this.sections.length-1)):P("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Qp(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m){const h=Jp.fromFeature(e,i);let y;u===Xp.vertical&&h.verticalizePunctuation(f);const{processBidirectionalText:g,processStyledBidirectionalText:v}=Qi;if(g&&1===h.sections.length){y=[];const e=g(h.toString(),al(h,p,s,t,n,d,c));for(const t of e){const e=new Jp;e.text=t,e.sections=h.sections;for(let o=0;o<t.length;o++)e.sectionIndex.push(0);y.push(e)}}else if(v){y=[];const e=v(h.text,h.sectionIndex,al(h,p,s,t,n,d,c));for(const t of e){const e=new Jp;e.text=t[0],e.sectionIndex=t[1],e.sections=h.sections,y.push(e)}}else y=function(e,t){const o=[],n=e.text;let i=0;for(const n of t)o.push(e.substring(i,n)),i=n;return i<n.length&&o.push(e.substring(i,n.length)),o}(h,al(h,p,s,t,n,d,c));const x=[],C={positionedLines:x,text:h.toString(),top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:u,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,o,n,i,s,a,r,_,p,l,u){let f=0,d=0,c=0;const m="right"===r?1:"left"===r?0:.5;let h=!1;for(const e of i){const o=e.getSections();for(const e of o){if(e.imageName)continue;const o=t[e.fontStack];if(o&&(h=void 0!==o.ascender&&void 0!==o.descender,!h))break}if(!h)break}let y=0;for(const a of i){a.trim();const i=a.getMaxScale(),r=24*(i-1),v={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=v;const x=v.positionedGlyphs;let C=0;if(!a.length()){d+=s,++y;continue}let b=0,w=0;for(let s=0;s<a.length();s++){const r=a.getSection(s),c=a.getSectionIndex(s),m=a.getCharCode(s);let y=r.scale,v=null,T=null,k=null,M=24,S=0;const E=!(_===Xp.horizontal||!l&&!Fi(m)||l&&(el[m]||(g=m,ri(g)||_i(g)||pi(g)||Ei(g)||Pi(g))));if(r.imageName){const t=n[r.imageName];if(!t)continue;k=r.imageName,e.iconsInText=e.iconsInText||!0,T=t.paddedRect;const o=t.displaySize;y=24*y/u,v={width:o[0],height:o[1],left:1,top:-3,advance:E?o[1]:o[0],localGlyph:!1},S=h?-v.height*y:24*i-17-o[1]*y,M=v.advance;const s=(E?o[0]:o[1])*y-24*i;s>0&&s>C&&(C=s)}else{const e=o[r.fontStack];if(!e)continue;e[m]&&(T=e[m]);const n=t[r.fontStack];if(!n)continue;const s=n.glyphs[m];if(!s)continue;if(v=s.metrics,M=8203!==m?24:0,h){const e=void 0!==n.ascender?Math.abs(n.ascender):0,t=void 0!==n.descender?Math.abs(n.descender):0,o=(e+t)*y;b<o&&(b=o,w=(e-t)/2*y),S=-e*y}else S=24*(i-y)-17}E?(e.verticalizable=!0,x.push({glyph:m,imageName:k,x:f,y:d+S,vertical:E,scale:y,localGlyph:v.localGlyph,fontStack:r.fontStack,sectionIndex:c,metrics:v,rect:T}),f+=M*y+p):(x.push({glyph:m,imageName:k,x:f,y:d+S,vertical:E,scale:y,localGlyph:v.localGlyph,fontStack:r.fontStack,sectionIndex:c,metrics:v,rect:T}),f+=v.advance*y+p)}0!==x.length&&(c=Math.max(f-p,c),h?_l(x,m,C,w,s*i/2):_l(x,m,C,0,s/2)),f=0;const T=s*i+C;v.lineOffset=Math.max(C,r),d+=T,++y}var g;const v=d,{horizontalAlign:x,verticalAlign:C}=rl(a);(function(e,t,o,n,i,s){const a=(t-o)*i,r=-s*n;for(const t of e)for(const e of t.positionedGlyphs)e.x+=a,e.y+=r})(e.positionedLines,m,x,C,c,v),e.top+=-C*v,e.bottom=e.top+v,e.left+=-x*c,e.right=e.left+c,e.hasBaseline=h}(C,t,o,n,y,a,r,_,u,p,f,m),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&C}const el={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},tl={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ol(e,t,o,n,i,s){if(t.imageName){const e=n[t.imageName];return e?e.displaySize[0]*t.scale*24/s+i:0}{const n=o[t.fontStack],s=n&&n.glyphs[e];return s?s.metrics.advance*t.scale+i:0}}function nl(e,t,o,n){const i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(o)*o}function il(e,t,o){let n=0;return 10===e&&(n-=1e4),o&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function sl(e,t,o,n,i,s){let a=null,r=nl(t,o,i,s);for(const e of n){const n=nl(t-e.x,o,i,s)+e.badness;n<=r&&(a=e,r=n)}return{index:e,x:t,priorBreak:a,badness:r}}function al(e,t,o,n,i,s,a){if("point"!==s)return[];if(!e)return[];const r=[],_=function(e,t,o,n,i,s){let a=0;for(let o=0;o<e.length();o++){const r=e.getSection(o);a+=ol(e.getCharCode(o),r,n,i,t,s)}return a/Math.max(1,Math.ceil(a/o))}(e,t,o,n,i,a),p=e.text.indexOf("​")>=0;let l=0;for(let o=0;o<e.length();o++){const s=e.getSection(o),f=e.getCharCode(o);if(el[f]||(l+=ol(f,s,n,i,t,a)),o<e.length()-1){const t=!((u=f)<11904||!(yi(u)||hi(u)||Ii(u)||Si(u)||Ci(u)||li(u)||gi(u)||di(u)||bi(u)||wi(u)||xi(u)||Di(u)||ci(u)||fi(u)||ui(u)||vi(u)||mi(u)||Ai(u)||ki(u)||Ti(u)));(tl[f]||t||s.imageName)&&r.push(sl(o+1,l,_,r,il(f,e.getCharCode(o+1),t&&p),!1))}}var u;return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(sl(e.length(),l,_,r,0,!0))}function rl(e){let t=.5,o=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:t,verticalAlign:o}}function _l(e,t,o,n,i){if(!(t||o||n||i))return;const s=e.length-1,a=e[s],r=(a.x+a.metrics.advance*a.scale)*t;for(let t=0;t<=s;t++)e[t].x-=r,e[t].y+=o+n+i}function pl(e,t,o){const{horizontalAlign:n,verticalAlign:i}=rl(o),s=t[0]-e.displaySize[0]*n,a=t[1]-e.displaySize[1]*i;return{image:e,top:a,bottom:a+e.displaySize[1],left:s,right:s+e.displaySize[0]}}function ll(e,t,o,n,i,s){const a=e.image;let r;if(a.content){const e=a.content,t=a.pixelRatio||1;r=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const _=t.left*s,p=t.right*s;let l,u,f,d;"width"===o||"both"===o?(d=i[0]+_-n[3],u=i[0]+p+n[1]):(d=i[0]+(_+p-a.displaySize[0])/2,u=d+a.displaySize[0]);const c=t.top*s,m=t.bottom*s;return"height"===o||"both"===o?(l=i[1]+c-n[0],f=i[1]+m+n[2]):(l=i[1]+(c+m-a.displaySize[1])/2,f=l+a.displaySize[1]),{image:a,top:l,right:u,bottom:f,left:d,collisionPadding:r}}class ul extends s{constructor(e,t,o,n,i){super(e,t),this.angle=n,this.z=o,void 0!==i&&(this.segment=i)}clone(){return new ul(this.x,this.y,this.z,this.angle,this.segment)}}function fl(e,t,o,n,i){if(void 0===t.segment)return!0;let s=t,a=t.segment+1,r=0;for(;r>-o/2;){if(a--,a<0)return!1;r-=e[a].dist(s),s=e[a]}r+=e[a].dist(e[a+1]),a++;const _=[];let p=0;for(;r<o/2;){const t=e[a],o=e[a+1];if(!o)return!1;let s=e[a-1].angleTo(t)-t.angleTo(o);for(s=Math.abs((s+3*Math.PI)%(2*Math.PI)-Math.PI),_.push({distance:r,angleDelta:s}),p+=s;r-_[0].distance>n;)p-=_.shift().angleDelta;if(p>i)return!1;a++,r+=t.dist(o)}return!0}function dl(e){let t=0;for(let o=0;o<e.length-1;o++)t+=e[o].dist(e[o+1]);return t}function cl(e,t,o){return e?.6*t*o:0}function ml(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function hl(e,t,o,n,i,s){const a=cl(o,i,s),r=ml(o,n)*s;let _=0;const p=dl(e)/2;for(let o=0;o<e.length-1;o++){const n=e[o],i=e[o+1],s=n.dist(i);if(_+s>p){const l=(p-_)/s,u=oo(n.x,i.x,l),f=oo(n.y,i.y,l),d=new ul(u,f,0,i.angleTo(n),o);return!a||fl(e,d,r,a,t)?d:void 0}_+=s}}function yl(e,t,o,n,i,s,a,r,_){const p=cl(n,s,a),l=ml(n,i),u=l*a,f=0===e[0].x||e[0].x===_||0===e[0].y||e[0].y===_;return t-u<t/4&&(t=u+t/4),function e(t,o,n,i,s,a,r,_,p){const l=a/2,u=dl(t);let f=0,d=o-n,c=[];for(let e=0;e<t.length-1;e++){const o=t[e],r=t[e+1],_=o.dist(r),m=r.angleTo(o);for(;d+n<f+_;){d+=n;const h=(d-f)/_,y=oo(o.x,r.x,h),g=oo(o.y,r.y,h);if(y>=0&&y<p&&g>=0&&g<p&&d-l>=0&&d+l<=u){const o=new ul(y,g,0,m,e);o._round(),i&&!fl(t,o,a,i,s)||c.push(o)}}f+=_}return _||c.length||r||(c=e(t,f/2,n,i,s,a,r,!0,p)),c}(e,f?t/2*r%t:(l/2+2*s)*a*r%t,t,p,o,u,f,!1,_)}function gl(e,t,o,n,i){const a=[];for(let r=0;r<e.length;r++){const _=e[r];let p;for(let e=0;e<_.length-1;e++){let r=_[e],l=_[e+1];r.x<t&&l.x<t||(r.x<t?r=new s(t,r.y+(t-r.x)/(l.x-r.x)*(l.y-r.y))._round():l.x<t&&(l=new s(t,r.y+(t-r.x)/(l.x-r.x)*(l.y-r.y))._round()),r.y<o&&l.y<o||(r.y<o?r=new s(r.x+(o-r.y)/(l.y-r.y)*(l.x-r.x),o)._round():l.y<o&&(l=new s(r.x+(o-r.y)/(l.y-r.y)*(l.x-r.x),o)._round()),r.x>=n&&l.x>=n||(r.x>=n?r=new s(n,r.y+(n-r.x)/(l.x-r.x)*(l.y-r.y))._round():l.x>=n&&(l=new s(n,r.y+(n-r.x)/(l.x-r.x)*(l.y-r.y))._round()),r.y>=i&&l.y>=i||(r.y>=i?r=new s(r.x+(i-r.y)/(l.y-r.y)*(l.x-r.x),i)._round():l.y>=i&&(l=new s(r.x+(i-r.y)/(l.y-r.y)*(l.x-r.x),i)._round()),p&&r.equals(p[p.length-1])||(p=[r],a.push(p)),p.push(l)))))}}return a}ti("Anchor",ul);const vl=1e20;function xl(e,t,o,n,i,s,a,r,_){for(let p=t;p<t+n;p++)Cl(e,o*s+p,s,i,a,r,_);for(let p=o;p<o+i;p++)Cl(e,p*s+t,1,n,a,r,_)}function Cl(e,t,o,n,i,s,a){s[0]=0,a[0]=-vl,a[1]=vl,i[0]=e[t];for(let r=1,_=0,p=0;r<n;r++){i[r]=e[t+r*o];const n=r*r;do{const e=s[_];p=(i[r]-i[e]+n-e*e)/(r-e)/2}while(p<=a[_]&&--_>-1);_++,s[_]=r,a[_]=p,a[_+1]=vl}for(let r=0,_=0;r<n;r++){for(;a[_+1]<r;)_++;const n=s[_],p=r-n;e[t+r*o]=i[n]+p*p}}const bl={none:0,ideographs:1,all:2};class wl{constructor(e,t,o){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=o,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,t){const o=[];for(const t in e)for(const n of e[t])o.push({stack:t,id:n});g(o,({stack:e,id:t},o)=>{let n=this.entries[e];n||(n=this.entries[e]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let i=n.glyphs[t];if(void 0!==i)return void o(null,{stack:e,id:t,glyph:i});if(i=this._tinySDF(n,e,t),i)return n.glyphs[t]=i,void o(null,{stack:e,id:t,glyph:i});const s=Math.floor(t/256);if(256*s>65535)return void o(new Error("glyphs > 65535 not supported"));if(n.ranges[s])return void o(null,{stack:e,id:t,glyph:i});let a=n.requests[s];a||(a=n.requests[s]=[],wl.loadGlyphRange(e,s,this.url,this.requestManager,(e,t)=>{if(t){n.ascender=t.ascender,n.descender=t.descender;for(const e in t.glyphs)this._doesCharSupportLocalGlyph(+e)||(n.glyphs[+e]=t.glyphs[+e]);n.ranges[s]=!0}for(const o of a)o(e,t);delete n.requests[s]})),a.push((n,i)=>{n?o(n):i&&o(null,{stack:e,id:t,glyph:i.glyphs[t]||null})})},(e,o)=>{if(e)t(e);else if(o){const e={};for(const{stack:t,id:n,glyph:i}of o)void 0===e[t]&&(e[t]={}),void 0===e[t].glyphs&&(e[t].glyphs={}),e[t].glyphs[n]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics},e[t].ascender=this.entries[t].ascender,e[t].descender=this.entries[t].descender;t(null,e)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==bl.none&&(this.localGlyphMode===bl.all?!!this.localFontFamily:!!this.localFontFamily&&(wi(e)||Mi(e)||ci(e)||mi(e))||di(e))}_tinySDF(e,t,o){const n=this.localFontFamily;if(!n||!this._doesCharSupportLocalGlyph(o))return;let i=e.tinySDF;if(!i){let o="400";/bold/i.test(t)?o="900":/medium/i.test(t)?o="500":/light/i.test(t)&&(o="200"),i=e.tinySDF=new wl.TinySDF({fontFamily:n,fontWeight:o,fontSize:48,buffer:6,radius:16}),i.fontWeight=o}if(this.localGlyphs[i.fontWeight][o])return this.localGlyphs[i.fontWeight][o];const s=String.fromCharCode(o),{data:a,width:r,height:_,glyphWidth:p,glyphHeight:l,glyphLeft:u,glyphTop:f,glyphAdvance:d}=i.draw(s);return this.localGlyphs[i.fontWeight][o]={id:o,bitmap:new Rr({width:r,height:_},a),metrics:{width:p/2,height:l/2,left:u/2,top:f/2-27,advance:d/2,localGlyph:!0}}}}function Tl(e,t,o,n){const i=[],a=e.image,r=a.pixelRatio,_=a.paddedRect.w-2,p=a.paddedRect.h-2,l=e.right-e.left,u=e.bottom-e.top,f=a.stretchX||[[0,_]],d=a.stretchY||[[0,p]],c=(e,t)=>e+t[1]-t[0],m=f.reduce(c,0),h=d.reduce(c,0),y=_-m,g=p-h;let v=0,x=m,C=0,b=h,w=0,T=y,k=0,M=g;if(a.content&&n){const e=a.content;v=kl(f,0,e[0]),C=kl(d,0,e[1]),x=kl(f,e[0],e[2]),b=kl(d,e[1],e[3]),w=e[0]-v,k=e[1]-C,T=e[2]-e[0]-x,M=e[3]-e[1]-b}const S=(n,i,_,p)=>{const f=Sl(n.stretch-v,x,l,e.left),d=El(n.fixed-w,T,n.stretch,m),c=Sl(i.stretch-C,b,u,e.top),y=El(i.fixed-k,M,i.stretch,h),g=Sl(_.stretch-v,x,l,e.left),S=El(_.fixed-w,T,_.stretch,m),E=Sl(p.stretch-C,b,u,e.top),A=El(p.fixed-k,M,p.stretch,h),I=new s(f,c),z=new s(g,c),P=new s(g,E),D=new s(f,E),L=new s(d/r,y/r),B=new s(S/r,A/r),R=t*Math.PI/180;if(R){const e=Math.sin(R),t=Math.cos(R),o=[t,-e,e,t];I._matMult(o),z._matMult(o),D._matMult(o),P._matMult(o)}const F=n.stretch+n.fixed,O=i.stretch+i.fixed;return{tl:I,tr:z,bl:D,br:P,tex:{x:a.paddedRect.x+1+F,y:a.paddedRect.y+1+O,w:_.stretch+_.fixed-F,h:p.stretch+p.fixed-O},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:B,minFontScaleX:T/r/l,minFontScaleY:M/r/u,isSDF:o}};if(n&&(a.stretchX||a.stretchY)){const e=Ml(f,y,m),t=Ml(d,g,h);for(let o=0;o<e.length-1;o++){const n=e[o],s=e[o+1];for(let e=0;e<t.length-1;e++)i.push(S(n,t[e],s,t[e+1]))}}else i.push(S({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:_+1},{fixed:0,stretch:p+1}));return i}function kl(e,t,o){let n=0;for(const i of e)n+=Math.max(t,Math.min(o,i[1]))-Math.max(t,Math.min(o,i[0]));return n}function Ml(e,t,o){const n=[{fixed:-1,stretch:0}];for(const[t,o]of e){const e=n[n.length-1];n.push({fixed:t-e.stretch,stretch:e.stretch}),n.push({fixed:t-e.stretch,stretch:e.stretch+(o-t)})}return n.push({fixed:t+1,stretch:o}),n}function Sl(e,t,o,n){return e/t*o+n}function El(e,t,o,n){return e-t*o/n}function Al(e,t,o,n){const i=t+e.positionedLines[n].lineOffset;return 0===n?o+i/2:o+(i+(t+e.positionedLines[n-1].lineOffset))/2}wl.loadGlyphRange=function(e,t,o,n,i){const s=256*t,a=s+255,r=n.transformRequest(n.normalizeGlyphsURL(o).replace("{fontstack}",e).replace("{range}",`${s}-${a}`),be.Glyphs);Me(r,(e,t)=>{if(e)i(e);else if(t){const e={},o=function(e){return new Tp(e).readFields(Zp,{})}(t);for(const t of o.glyphs)e[t.id]=t;i(null,{glyphs:e,ascender:o.ascender,descender:o.descender})}})},wl.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:o=8,cutoff:n=.25,fontFamily:i="sans-serif",fontWeight:s="normal",fontStyle:a="normal"}){this.buffer=t,this.cutoff=n,this.radius=o;const r=this.size=e+4*t,_=this._createCanvas(r),p=this.ctx=_.getContext("2d",{willReadFrequently:!0});p.font=`${a} ${s} ${e}px ${i}`,p.textBaseline="alphabetic",p.textAlign="left",p.fillStyle="black",this.gridOuter=new Float64Array(r*r),this.gridInner=new Float64Array(r*r),this.f=new Float64Array(r),this.z=new Float64Array(r+1),this.v=new Uint16Array(r)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:o,actualBoundingBoxDescent:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:s}=this.ctx.measureText(e),a=Math.floor(o),r=Math.min(this.size-this.buffer,Math.ceil(s-i)),_=Math.min(this.size-this.buffer,Math.ceil(o)+Math.ceil(n)),p=r+2*this.buffer,l=_+2*this.buffer,u=p*l,f=new Uint8ClampedArray(u),d={data:f,width:p,height:l,glyphWidth:r,glyphHeight:_,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===r||0===_)return d;const{ctx:c,buffer:m,gridInner:h,gridOuter:y}=this;c.clearRect(m,m,r,_),c.fillText(e,m,m+a+1);const g=c.getImageData(m,m,r,_);y.fill(vl,0,u),h.fill(0,0,u);for(let e=0;e<_;e++)for(let t=0;t<r;t++){const o=g.data[4*(e*r+t)+3]/255;if(0===o)continue;const n=(e+m)*p+t+m;if(1===o)y[n]=0,h[n]=vl;else{const e=.5-o;y[n]=e>0?e*e:0,h[n]=e<0?e*e:0}}xl(y,0,0,p,l,p,this.f,this.v,this.z),xl(h,m,m,r,_,p,this.f,this.v,this.z);for(let e=0;e<u;e++){const t=Math.sqrt(y[e])-Math.sqrt(h[e]);f[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return d}};class Il{constructor(e=[],t=zl){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:o}=this,n=t[e];for(;e>0;){const i=e-1>>1,s=t[i];if(o(n,s)>=0)break;t[e]=s,e=i}t[e]=n}_down(e){const{data:t,compare:o}=this,n=this.length>>1,i=t[e];for(;e<n;){let n=1+(e<<1),s=t[n];const a=n+1;if(a<this.length&&o(t[a],s)<0&&(n=a,s=t[a]),o(s,i)>=0)break;t[e]=s,e=n}t[e]=i}}function zl(e,t){return e<t?-1:e>t?1:0}function Pl(e,t=1,o=!1){let n=1/0,i=1/0,a=-1/0,r=-1/0;const _=e[0];for(let e=0;e<_.length;e++){const t=_[e];(!e||t.x<n)&&(n=t.x),(!e||t.y<i)&&(i=t.y),(!e||t.x>a)&&(a=t.x),(!e||t.y>r)&&(r=t.y)}const p=Math.min(a-n,r-i);let l=p/2;const u=new Il([],Dl);if(0===p)return new s(n,i);for(let t=n;t<a;t+=p)for(let o=i;o<r;o+=p)u.push(new Ll(t+l,o+l,l,e));let f=function(e){let t=0,o=0,n=0;const i=e[0];for(let e=0,s=i.length,a=s-1;e<s;a=e++){const s=i[e],r=i[a],_=s.x*r.y-r.x*s.y;o+=(s.x+r.x)*_,n+=(s.y+r.y)*_,t+=3*_}return new Ll(o/t,n/t,0,e)}(e),d=u.length;for(;u.length;){const n=u.pop();(n.d>f.d||!f.d)&&(f=n,o&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,d)),n.max-f.d<=t||(l=n.h/2,u.push(new Ll(n.p.x-l,n.p.y-l,l,e)),u.push(new Ll(n.p.x+l,n.p.y-l,l,e)),u.push(new Ll(n.p.x-l,n.p.y+l,l,e)),u.push(new Ll(n.p.x+l,n.p.y+l,l,e)),d+=4)}return o&&(console.log("num probes: "+d),console.log("best distance: "+f.d)),f.p}function Dl(e,t){return t.max-e.max}function Ll(e,t,o,n){this.p=new s(e,t),this.h=o,this.d=function(e,t){let o=!1,n=1/0;for(let i=0;i<t.length;i++){const s=t[i];for(let t=0,i=s.length,a=i-1;t<i;a=t++){const i=s[t],r=s[a];i.y>e.y!=r.y>e.y&&e.x<(r.x-i.x)*(e.y-i.y)/(r.y-i.y)+i.x&&(o=!o),n=Math.min(n,$a(e,i,r))}}return(o?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}const Bl=Number.POSITIVE_INFINITY,Rl=Math.sqrt(2);function Fl(e,t){return t[1]!==Bl?function(e,t,o){let n=0,i=0;switch(t=Math.abs(t),o=Math.abs(o),e){case"top-right":case"top-left":case"top":i=o-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-o}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,i]}(e,t[0],t[1]):function(e,t){let o=0,n=0;t<0&&(t=0);const i=t/Rl;switch(e){case"top-right":case"top-left":n=i-7;break;case"bottom-right":case"bottom-left":n=7-i;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":o=-i;break;case"top-left":case"bottom-left":o=i;break;case"left":o=t;break;case"right":o=-t}return[o,n]}(e,t[0])}function Ol(e,t,o,n,i,s,a,r){e.createArrays(),e.tilePixelRatio=Ba/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const _=e.layers[0].layout,p=e.layers[0]._unevaluatedLayout._values,l={};if("composite"===e.textSizeData.kind){const{minZoom:t,maxZoom:o}=e.textSizeData;l.compositeTextSizes=[p["text-size"].possiblyEvaluate(new es(t),a),p["text-size"].possiblyEvaluate(new es(o),a)]}if("composite"===e.iconSizeData.kind){const{minZoom:t,maxZoom:o}=e.iconSizeData;l.compositeIconSizes=[p["icon-size"].possiblyEvaluate(new es(t),a),p["icon-size"].possiblyEvaluate(new es(o),a)]}l.layoutTextSize=p["text-size"].possiblyEvaluate(new es(r+1),a),l.layoutIconSize=p["icon-size"].possiblyEvaluate(new es(r+1),a),l.textMaxSize=p["text-size"].possiblyEvaluate(new es(18),a);const u="map"===_.get("text-rotation-alignment")&&"point"!==_.get("symbol-placement"),f=_.get("text-size");for(const s of e.features){const r=_.get("text-font").evaluate(s,{},a).join(","),p=f.evaluate(s,{},a),d=l.layoutTextSize.evaluate(s,{},a),c=(l.layoutIconSize.evaluate(s,{},a),{horizontal:{},vertical:void 0}),m=s.text;let h,y=[0,0];if(m){const n=m.toString(),l=24*_.get("text-letter-spacing").evaluate(s,{},a),f=24*_.get("text-line-height").evaluate(s,{},a),h=Bi(n)?l:0,g=_.get("text-anchor").evaluate(s,{},a),v=_.get("text-variable-anchor");if(!v){const e=_.get("text-radial-offset").evaluate(s,{},a);y=e?Fl(g,[24*e,Bl]):_.get("text-offset").evaluate(s,{},a).map(e=>24*e)}let x=u?"center":_.get("text-justify").evaluate(s,{},a);const C=_.get("symbol-placement"),b="point"===C,w="point"===C?24*_.get("text-max-width").evaluate(s,{},a):0,T=s=>{e.allowVerticalPlacement&&Li(n)&&(c.vertical=Qp(m,t,o,i,r,w,f,g,s,h,y,Xp.vertical,!0,C,d,p))};if(!u&&v){const e="auto"===x?v.map(e=>Nl(e)):[x];let n=!1;for(let s=0;s<e.length;s++){const a=e[s];if(!c.horizontal[a])if(n)c.horizontal[a]=c.horizontal[0];else{const e=Qp(m,t,o,i,r,w,f,"center",a,h,y,Xp.horizontal,!1,C,d,p);e&&(c.horizontal[a]=e,n=1===e.positionedLines.length)}}T("left")}else{if("auto"===x&&(x=Nl(g)),b||_.get("text-writing-mode").indexOf("horizontal")>=0||!Li(n)){const e=Qp(m,t,o,i,r,w,f,g,x,h,y,Xp.horizontal,!1,C,d,p);e&&(c.horizontal[x]=e)}T("point"===C?"left":x)}}let g=!1;if(s.icon&&s.icon.name){const t=n[s.icon.name];t&&(h=pl(i[s.icon.name],_.get("icon-offset").evaluate(s,{},a),_.get("icon-anchor").evaluate(s,{},a)),g=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&P("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.pixelRatio||0!==_.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}const v=Wl(c.horizontal)||c.vertical;e.iconsInText||(e.iconsInText=!!v&&v.iconsInText),(v||h)&&Vl(e,s,c,h,n,l,d,0,y,g,a)}s&&e.generateCollisionDebugBuffers(r,e.collisionBoxArray)}function Nl(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Vl(e,t,o,n,i,s,a,r,_,p,l){let f=s.textMaxSize.evaluate(t,{},l);void 0===f&&(f=a);const d=e.layers[0].layout,c=d.get("icon-offset").evaluate(t,{},l),m=Wl(o.horizontal)||o.vertical,h=a/24,y=e.tilePixelRatio*f/24,g=e.tilePixelRatio*d.get("symbol-spacing"),v=d.get("text-padding")*e.tilePixelRatio,x=d.get("icon-padding")*e.tilePixelRatio,C=u(d.get("text-max-angle")),b="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),w="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),T=d.get("symbol-placement"),k=g/2,M=d.get("icon-text-fit");let S;n&&"none"!==M&&(e.allowVerticalPlacement&&o.vertical&&(S=ll(n,o.vertical,M,d.get("icon-text-fit-padding"),c,h)),m&&(n=ll(n,m,M,d.get("icon-text-fit-padding"),c,h)));const E=(a,r)=>{r.x<0||r.x>=Ba||r.y<0||r.y>=Ba||function(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m,h,y,g,v,x,C,b,w){const T=e.addToLineVertexArray(t,n);let k,M,S,E,A,I,z,D=0,L=0,B=0,R=0,F=-1,O=-1;const N={};let V=aa(""),U=0,G=0;if(void 0===_._unevaluatedLayout.getValue("text-radial-offset")?[U,G]=_.layout.get("text-offset").evaluate(x,{},w).map(e=>24*e):(U=24*_.layout.get("text-radial-offset").evaluate(x,{},w),G=Bl),e.allowVerticalPlacement&&i.vertical){const e=i.vertical;if(c)I=jl(e),r&&(z=jl(r));else{const n=_.layout.get("text-rotate").evaluate(x,{},w)+90;S=Zl(p,o,t,l,u,f,e,d,n,m),r&&(E=Zl(p,o,t,l,u,f,r,y,n))}}if(s){const n=_.layout.get("icon-rotate").evaluate(x,{},w),i="none"!==_.layout.get("icon-text-fit"),a=Tl(s,n,b,i),d=r?Tl(r,n,b,i):void 0;M=Zl(p,o,t,l,u,f,s,y,n),D=4*a.length;const c=e.iconSizeData;let m=null;"source"===c.kind?(m=[dp*_.layout.get("icon-size").evaluate(x,{},w)],m[0]>Ul&&P(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===c.kind&&(m=[dp*C.compositeIconSizes[0].evaluate(x,{},w),dp*C.compositeIconSizes[1].evaluate(x,{},w)],(m[0]>Ul||m[1]>Ul)&&P(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,a,m,v,g,x,!1,o,t,T.lineStartIndex,T.lineLength,-1,w),F=e.icon.placedSymbolArray.length-1,d&&(L=4*d.length,e.addSymbols(e.icon,d,m,v,g,x,Xp.vertical,o,t,T.lineStartIndex,T.lineLength,-1,w),O=e.icon.placedSymbolArray.length-1)}for(const n in i.horizontal){const s=i.horizontal[n];k||(V=aa(s.text),c?A=jl(s):k=Zl(p,o,t,l,u,f,s,d,_.layout.get("text-rotate").evaluate(x,{},w),m));const r=1===s.positionedLines.length;if(B+=Gl(e,o,t,s,a,_,c,x,m,T,i.vertical?Xp.horizontal:Xp.horizontalOnly,r?Object.keys(i.horizontal):[n],N,F,C,w),r)break}i.vertical&&(R+=Gl(e,o,t,i.vertical,a,_,c,x,m,T,Xp.vertical,["vertical"],N,O,C,w));let W=-1;const Z=(e,t)=>e?Math.max(e,t):t;W=Z(A,W),W=Z(I,W),W=Z(z,W);const j=W>-1?1:0;e.glyphOffsetArray.length>=eu.MAX_GLYPHS&&P("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(o.x,o.y,o.z,t.x,t.y,N.right>=0?N.right:-1,N.center>=0?N.center:-1,N.left>=0?N.left:-1,N.vertical>=0?N.vertical:-1,F,O,V,void 0!==k?k:e.collisionBoxArray.length,void 0!==k?k+1:e.collisionBoxArray.length,void 0!==S?S:e.collisionBoxArray.length,void 0!==S?S+1:e.collisionBoxArray.length,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,E||e.collisionBoxArray.length,E?E+1:e.collisionBoxArray.length,l,B,R,D,L,j,0,U,G,W)}(e,r,r,a,o,n,i,S,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,v,b,_,0,x,w,c,t,s,p,l)};if("line"===T)for(const i of gl(t.geometry,0,0,Ba,Ba)){const t=yl(i,g,C,o.vertical||m,n,24,y,e.overscaling,Ba);for(const o of t){const t=m;t&&ql(e,t.text,k,o)||E(i,o)}}else if("line-center"===T){for(const e of t.geometry)if(e.length>1){const t=hl(e,C,o.vertical||m,n,24,y);t&&E(e,t)}}else if("Polygon"===t.type)for(const e of x_(t.geometry,0)){const t=Pl(e,16);E(e[0],new ul(t.x,t.y,0,0,void 0))}else if("LineString"===t.type)for(const e of t.geometry)E(e,new ul(e[0].x,e[0].y,0,0,void 0));else if("Point"===t.type)for(const e of t.geometry)for(const t of e)E([t],new ul(t.x,t.y,0,0,void 0))}const Ul=32640;function Gl(e,t,o,n,i,a,r,_,p,l,u,f,d,c,m,h){const y=function(e,t,o,n,i,a,r,_){const p=[];if(0===t.positionedLines.length)return p;const l=n.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=function(e){const t=e[0],o=e[1],n=t*o;return n>0?[t,-o]:n<0?[-t,o]:0===t?[o,t]:[o,-t]}(o);let f=Math.abs(t.top-t.bottom);for(const e of t.positionedLines)f-=e.lineOffset;const d=t.positionedLines.length,c=f/d;let m=t.top-o[1];for(let e=0;e<d;++e){const n=t.positionedLines[e];m=Al(t,c,m,e);for(const e of n.positionedGlyphs){if(!e.rect)continue;const n=e.rect||{};let a=4,f=!0,d=1,c=0;if(e.imageName){const t=r[e.imageName];if(!t)continue;if(t.sdf){P("SDF images are not supported in formatted text and will be ignored.");continue}f=!1,d=t.pixelRatio,a=1/d}const h=(i||_)&&e.vertical,y=e.metrics.advance*e.scale/2,g=e.metrics,v=e.rect;if(null===v)continue;_&&t.verticalizable&&(c=e.imageName?y-e.metrics.width*e.scale/2:0);const x=i?[e.x+y,e.y]:[0,0];let C=[0,0],b=[0,0],w=!1;i||(h?(b=[e.x+y+u[0],e.y+u[1]-c],w=!0):C=[e.x+y+o[0],e.y+o[1]-c]);const T=v.w*e.scale/(d*(e.localGlyph?2:1)),k=v.h*e.scale/(d*(e.localGlyph?2:1));let M,S,E,A;if(h){const t=e.y-m,o=new s(-y,y-t),n=-Math.PI/2,i=new s(...b);M=new s(-y+C[0],C[1]),M._rotateAround(n,o)._add(i),M.x+=-t+y,M.y-=(g.left-a)*e.scale;const r=e.imageName?g.advance*e.scale:24*e.scale,_=String.fromCharCode(e.glyph);xp(_)?M.x+=(1-a)*e.scale:Cp(_)?M.x+=r-g.height*e.scale+(-a-1)*e.scale:M.x+=e.imageName||g.width+2*a===v.w&&g.height+2*a===v.h?(r-k)/2:(r-(g.height+2*a)*e.scale)/2,S=new s(M.x,M.y-T),E=new s(M.x+k,M.y),A=new s(M.x+k,M.y-T)}else{const t=(g.left-a)*e.scale-y+C[0],o=(-g.top-a)*e.scale+C[1],n=t+T,i=o+k;M=new s(t,o),S=new s(n,o),E=new s(t,i),A=new s(n,i)}if(l){let e;e=i?new s(0,0):w?new s(u[0],u[1]):new s(o[0],o[1]),M._rotateAround(l,e),S._rotateAround(l,e),E._rotateAround(l,e),A._rotateAround(l,e)}const I=new s(0,0),z=new s(0,0);p.push({tl:M,tr:S,bl:E,br:A,tex:n,writingMode:t.writingMode,glyphOffset:x,sectionIndex:e.sectionIndex,isSDF:f,pixelOffsetTL:I,pixelOffsetBR:z,minFontScaleX:0,minFontScaleY:0})}}return p}(0,n,p,a,r,_,i,e.allowVerticalPlacement),g=e.textSizeData;let v=null;"source"===g.kind?(v=[dp*a.layout.get("text-size").evaluate(_,{},h)],v[0]>Ul&&P(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===g.kind&&(v=[dp*m.compositeTextSizes[0].evaluate(_,{},h),dp*m.compositeTextSizes[1].evaluate(_,{},h)],(v[0]>Ul||v[1]>Ul)&&P(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,y,v,p,r,_,u,t,o,l.lineStartIndex,l.lineLength,c,h);for(const t of f)d[t]=e.text.placedSymbolArray.length-1;return 4*y.length}function Wl(e){for(const t in e)return e[t];return null}function Zl(e,t,o,n,i,a,r,_,p,l){let f=r.top,d=r.bottom,c=r.left,m=r.right;const h=r.collisionPadding;if(h&&(c-=h[0],f-=h[1],m+=h[2],d+=h[3]),p){const e=new s(c,f),t=new s(m,f),o=new s(c,d),n=new s(m,d),i=u(p);let a=new s(0,0);l&&(a=new s(l[0],l[1])),e._rotateAround(i,a),t._rotateAround(i,a),o._rotateAround(i,a),n._rotateAround(i,a),c=Math.min(e.x,t.x,o.x,n.x),m=Math.max(e.x,t.x,o.x,n.x),f=Math.min(e.y,t.y,o.y,n.y),d=Math.max(e.y,t.y,o.y,n.y)}return e.emplaceBack(t.x,t.y,t.z,o.x,o.y,c,f,m,d,_,n,i,a),e.length-1}function jl(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function ql(e,t,o,n){const i=e.compareText;if(t in i){const e=i[t];for(let t=e.length-1;t>=0;t--)if(n.dist(e[t])<o)return!0}else i[t]=[];return i[t].push(n),!1}const Kl=O_.VectorTileFeature.types,Hl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function $l(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m){const h=l?Math.min(Ul,Math.round(l[0])):0,y=l?Math.min(Ul,Math.round(l[1])):0;e.emplaceBack(t,o,Math.round(32*a),Math.round(32*r),_,p,(h<<1)+(u?1:0),y,16*f,16*d,256*c,256*m,n,i,s,0)}function Xl(e,t,o){e.emplaceBack(t.x,t.y,o),e.emplaceBack(t.x,t.y,o),e.emplaceBack(t.x,t.y,o),e.emplaceBack(t.x,t.y,o)}function Yl(e){for(const t of e.sections)if(Ui(t.text))return!0;return!1}class Jl{constructor(e){this.layoutVertexArray=new Ss,this.indexArray=new Ds,this.programConfigurations=e,this.segments=new La,this.dynamicLayoutVertexArray=new Ts,this.opacityVertexArray=new Es,this.placedSymbolArray=new Ks}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,o,n){this.isEmpty()||(o&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,rp.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,_p.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Hl,!0),this.opacityVertexBuffer.itemSize=1),(o||n)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}ti("SymbolBuffers",Jl);class Ql{constructor(e,t,o){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new o,this.segments=new La,this.collisionVertexArray=new Ps,this.collisionVertexArrayExt=new Ts}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,pp.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,lp.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}ti("CollisionBuffers",Ql);class eu{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=_r([]),this.placementViewportMatrix=_r([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=cp(this.zoom,t["text-size"]),this.iconSizeData=cp(this.zoom,t["icon-size"]);const o=this.layers[0].layout,n=o.get("symbol-sort-key"),i=o.get("symbol-z-order");this.canOverlap=o.get("text-allow-overlap")||o.get("icon-allow-overlap")||o.get("text-ignore-placement")||o.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==n.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=o.get("text-writing-mode").map(e=>Xp[e]),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.sourceID=e.sourceID}createArrays(){this.text=new Jl(new Ta(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Jl(new Ta(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Xs,this.lineVertexArray=new Ys,this.symbolInstances=new $s}calculateGlyphDependencies(e,t,o,n,i){for(let o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,n&&i){const n=vp[e.charAt(o)];n&&(t[n.charCodeAt(0)]=!0)}}populate(e,t,o){const n=this.layers[0],i=n.layout,s=i.get("text-font"),a=i.get("text-field"),r=i.get("icon-image"),_=("constant"!==a.value.kind||a.value.value instanceof ct&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),p="constant"!==r.value.kind||!!r.value.value||Object.keys(r.parameters).length>0,l=i.get("symbol-sort-key");if(this.features=[],!_&&!p)return;const u=t.iconDependencies,f=t.glyphDependencies,d=t.availableImages,c=new es(this.zoom);for(const{feature:t,id:a,index:r,sourceLayerIndex:m}of e){const e=n._featureFilter.needGeometry,h=Na(t,e);if(!n._featureFilter.filter(c,h,o))continue;let y,g;if(e||(h.geometry=Oa(t)),_){const e=n.getValueAndResolveTokens("text-field",h,o,d),t=ct.factory(e);Yl(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Yi()||this.hasRTLText&&Qi.isParsed())&&(y=gp(t,n,h))}if(p){const e=n.getValueAndResolveTokens("icon-image",h,o,d);g=e instanceof mt?e:mt.fromString(e)}if(!y&&!g)continue;const v=this.sortFeaturesByKey?l.evaluate(h,{},o):void 0;if(this.features.push({id:a,text:y,icon:g,index:r,sourceLayerIndex:m,geometry:h.geometry,properties:t.properties,type:Kl[t.type],sortKey:v}),g&&(u[g.name]=!0),y){const e=s.evaluate(h,{},o).join(","),t="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Xp.vertical)>=0;for(const o of y.sections)if(o.image)u[o.image.name]=!0;else{const n=Li(y.toString()),i=o.fontStack||e,s=f[i]=f[i]||{};this.calculateGlyphDependencies(o.text,s,t,this.allowVerticalPlacement,n)}}}"line"===i.get("symbol-placement")&&(this.features=function(e){const t={},o={},n=[];let i=0;function s(t){n.push(e[t]),i++}function a(e,t,i){const s=o[e];return delete o[e],o[t]=s,n[s].geometry[0].pop(),n[s].geometry[0]=n[s].geometry[0].concat(i[0]),s}function r(e,o,i){const s=t[o];return delete t[o],t[e]=s,n[s].geometry[0].shift(),n[s].geometry[0]=i[0].concat(n[s].geometry[0]),s}function _(e,t,o){const n=o?t[0][t[0].length-1]:t[0][0];return`${e}:${n.x}:${n.y}`}for(let p=0;p<e.length;p++){const l=e[p],u=l.geometry,f=l.text?l.text.toString():null;if(!f){s(p);continue}const d=_(f,u),c=_(f,u,!0);if(d in o&&c in t&&o[d]!==t[c]){const e=r(d,c,u),i=a(d,c,n[e].geometry);delete t[d],delete o[c],o[_(f,n[i].geometry,!0)]=i,n[e].geometry=null}else d in o?a(d,c,u):c in t?r(d,c,u):(s(p),t[d]=i-1,o[c]=i-1)}return n.filter(e=>e.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((e,t)=>e.sortKey-t.sortKey)}update(e,t,o){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,o),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,o))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const o=this.lineVertexArray.length;if(void 0!==e.segment){let o=e.dist(t[e.segment+1]),n=e.dist(t[e.segment]);const i={};for(let n=e.segment+1;n<t.length;n++)i[n]={x:t[n].x,y:t[n].y,tileUnitDistanceFromAnchor:o},n<t.length-1&&(o+=t[n+1].dist(t[n]));for(let o=e.segment||0;o>=0;o--)i[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:n},o>0&&(n+=t[o-1].dist(t[o]));for(let e=0;e<t.length;e++){const t=i[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:o,lineLength:this.lineVertexArray.length-o}}addSymbols(e,t,o,n,i,s,a,r,_,p,l,u,f){const d=e.indexArray,c=e.layoutVertexArray,m=e.segments.prepareSegment(4*t.length,c,d,this.canOverlap?s.sortKey:void 0),h=this.glyphOffsetArray.length,y=m.vertexLength,g=this.allowVerticalPlacement&&a===Xp.vertical?Math.PI/2:0,v=s.text&&s.text.sections;for(let n=0;n<t.length;n++){const{tl:i,tr:a,bl:p,br:l,tex:u,pixelOffsetTL:h,pixelOffsetBR:y,minFontScaleX:x,minFontScaleY:C,glyphOffset:b,isSDF:w,sectionIndex:T}=t[n],k=m.vertexLength,M=b[1];$l(c,r.x,r.y,r.z,_.x,_.y,i.x,M+i.y,u.x,u.y,o,w,h.x,h.y,x,C),$l(c,r.x,r.y,r.z,_.x,_.y,a.x,M+a.y,u.x+u.w,u.y,o,w,y.x,h.y,x,C),$l(c,r.x,r.y,r.z,_.x,_.y,p.x,M+p.y,u.x,u.y+u.h,o,w,h.x,y.y,x,C),$l(c,r.x,r.y,r.z,_.x,_.y,l.x,M+l.y,u.x+u.w,u.y+u.h,o,w,y.x,y.y,x,C),Xl(e.dynamicLayoutVertexArray,r,g),d.emplaceBack(k,k+1,k+2),d.emplaceBack(k+1,k+2,k+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(b[0]),n!==t.length-1&&T===t[n+1].sectionIndex||e.programConfigurations.populatePaintArrays(c.length,s,s.index,{},f,v&&v[T])}e.placedSymbolArray.emplaceBack(r.x,r.y,r.z,_.x,_.y,h,this.glyphOffsetArray.length-h,y,p,l,_.segment,o?o[0]:0,o?o[1]:0,n[0],n[1],a,0,!1,0,u,0)}_commitLayoutVertex(e,t,o,n,i,s,a){e.emplaceBack(t,o,n,i,s,Math.round(a.x),Math.round(a.y))}_addCollisionDebugVertices(e,t,o,n,i,a,r){const _=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),p=_.vertexLength,l=r.tileAnchorX,u=r.tileAnchorY;for(let e=0;e<4;e++)o.collisionVertexArray.emplaceBack(0,0,0,0);o.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),o.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),o.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),o.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(o.layoutVertexArray,n,i,a,l,u,new s(e.x1,e.y1)),this._commitLayoutVertex(o.layoutVertexArray,n,i,a,l,u,new s(e.x2,e.y1)),this._commitLayoutVertex(o.layoutVertexArray,n,i,a,l,u,new s(e.x2,e.y2)),this._commitLayoutVertex(o.layoutVertexArray,n,i,a,l,u,new s(e.x1,e.y2)),_.vertexLength+=4;const f=o.indexArray;f.emplaceBack(p,p+1),f.emplaceBack(p+1,p+2),f.emplaceBack(p+2,p+3),f.emplaceBack(p+3,p),_.primitiveLength+=4}_addTextDebugCollisionBoxes(e,t,o,n,i,s){for(let a=n;a<i;a++){const n=o.get(a),i=this.getSymbolInstanceTextSize(e,s,t,a);this._addCollisionDebugVertices(n,i,this.textCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,s)}}_addIconDebugCollisionBoxes(e,t,o,n,i,s){for(let a=n;a<i;a++){const n=o.get(a),i=this.getSymbolInstanceIconSize(e,t,a);this._addCollisionDebugVertices(n,i,this.iconCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,s)}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ql(Is,up.members,Ns),this.iconCollisionBox=new Ql(Is,up.members,Ns);const o=hp(this.iconSizeData,e),n=hp(this.textSizeData,e);for(let i=0;i<this.symbolInstances.length;i++){const s=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(n,e,t,s.textBoxStartIndex,s.textBoxEndIndex,s),this._addTextDebugCollisionBoxes(n,e,t,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s),this._addIconDebugCollisionBoxes(o,e,t,s.iconBoxStartIndex,s.iconBoxEndIndex,s),this._addIconDebugCollisionBoxes(o,e,t,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex,s)}}getSymbolInstanceTextSize(e,t,o,n){const i=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:n),s=mp(this.textSizeData,e,i)/24;return this.tilePixelRatio*s}getSymbolInstanceIconSize(e,t,o){const n=this.icon.placedSymbolArray.get(o),i=mp(this.iconSizeData,e,n);return this.tilePixelRatio*i}_commitDebugCollisionVertexUpdate(e,t,o){e.emplaceBack(t,-o,-o),e.emplaceBack(t,o,-o),e.emplaceBack(t,o,o),e.emplaceBack(t,-o,o)}_updateTextDebugCollisionBoxes(e,t,o,n,i,s){for(let a=n;a<i;a++){const n=o.get(a),i=this.getSymbolInstanceTextSize(e,s,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,i,n.padding)}}_updateIconDebugCollisionBoxes(e,t,o,n,i){for(let s=n;s<i;s++){const n=o.get(s),i=this.getSymbolInstanceIconSize(e,t,s);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,i,n.padding)}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const o=hp(this.iconSizeData,e),n=hp(this.textSizeData,e);for(let i=0;i<this.symbolInstances.length;i++){const s=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(n,e,t,s.textBoxStartIndex,s.textBoxEndIndex,s),this._updateTextDebugCollisionBoxes(n,e,t,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s),this._updateIconDebugCollisionBoxes(o,e,t,s.iconBoxStartIndex,s.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(o,e,t,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,t,o,n,i,s,a,r,_){const p={};for(let n=t;n<o;n++){const t=e.get(n);p.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,padding:t.padding,projectedAnchorX:t.projectedAnchorX,projectedAnchorY:t.projectedAnchorY,projectedAnchorZ:t.projectedAnchorZ,tileAnchorX:t.tileAnchorX,tileAnchorY:t.tileAnchorY},p.textFeatureIndex=t.featureIndex;break}for(let t=n;t<i;t++){const o=e.get(t);p.verticalTextBox={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,padding:o.padding,projectedAnchorX:o.projectedAnchorX,projectedAnchorY:o.projectedAnchorY,projectedAnchorZ:o.projectedAnchorZ,tileAnchorX:o.tileAnchorX,tileAnchorY:o.tileAnchorY},p.verticalTextFeatureIndex=o.featureIndex;break}for(let t=s;t<a;t++){const o=e.get(t);p.iconBox={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,padding:o.padding,projectedAnchorX:o.projectedAnchorX,projectedAnchorY:o.projectedAnchorY,projectedAnchorZ:o.projectedAnchorZ,tileAnchorX:o.tileAnchorX,tileAnchorY:o.tileAnchorY},p.iconFeatureIndex=o.featureIndex;break}for(let t=r;t<_;t++){const o=e.get(t);p.verticalIconBox={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,padding:o.padding,projectedAnchorX:o.projectedAnchorX,projectedAnchorY:o.projectedAnchorY,projectedAnchorZ:o.projectedAnchorZ,tileAnchorX:o.tileAnchorX,tileAnchorY:o.tileAnchorY},p.verticalIconFeatureIndex=o.featureIndex;break}return p}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const o=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,o.textBoxStartIndex,o.textBoxEndIndex,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o.iconBoxStartIndex,o.iconBoxEndIndex,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const o=e.placedSymbolArray.get(t),n=o.vertexStartIndex+4*o.numGlyphs;for(let t=o.vertexStartIndex;t<n;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),o=Math.cos(e),n=[],i=[],s=[];for(let e=0;e<this.symbolInstances.length;++e){s.push(e);const a=this.symbolInstances.get(e);n.push(0|Math.round(t*a.tileAnchorX+o*a.tileAnchorY)),i.push(a.featureIndex)}return s.sort((e,t)=>n[e]-n[t]||i[t]-i[e]),s}addToSortKeyRanges(e,t){const o=this.sortKeyRanges[this.sortKeyRanges.length-1];o&&o.sortKey===t?o.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach((e,t,o)=>{e>=0&&o.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)}),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}ti("SymbolBucket",eu,{omit:["layers","collisionBoxArray","features","compareText"]}),eu.MAX_GLYPHS=65535,eu.addDynamicAttributes=Xl;const tu=new cs({"symbol-placement":new ps(Ne.layout_symbol["symbol-placement"]),"symbol-spacing":new ps(Ne.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ps(Ne.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ls(Ne.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ps(Ne.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ps(Ne.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ps(Ne.layout_symbol["icon-ignore-placement"]),"icon-optional":new ps(Ne.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ps(Ne.layout_symbol["icon-rotation-alignment"]),"icon-size":new ls(Ne.layout_symbol["icon-size"]),"icon-text-fit":new ps(Ne.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ps(Ne.layout_symbol["icon-text-fit-padding"]),"icon-image":new ls(Ne.layout_symbol["icon-image"]),"icon-rotate":new ls(Ne.layout_symbol["icon-rotate"]),"icon-padding":new ps(Ne.layout_symbol["icon-padding"]),"icon-keep-upright":new ps(Ne.layout_symbol["icon-keep-upright"]),"icon-offset":new ls(Ne.layout_symbol["icon-offset"]),"icon-anchor":new ls(Ne.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ps(Ne.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ps(Ne.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ps(Ne.layout_symbol["text-rotation-alignment"]),"text-field":new ls(Ne.layout_symbol["text-field"]),"text-font":new ls(Ne.layout_symbol["text-font"]),"text-size":new ls(Ne.layout_symbol["text-size"]),"text-max-width":new ls(Ne.layout_symbol["text-max-width"]),"text-line-height":new ls(Ne.layout_symbol["text-line-height"]),"text-letter-spacing":new ls(Ne.layout_symbol["text-letter-spacing"]),"text-justify":new ls(Ne.layout_symbol["text-justify"]),"text-radial-offset":new ls(Ne.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ps(Ne.layout_symbol["text-variable-anchor"]),"text-anchor":new ls(Ne.layout_symbol["text-anchor"]),"text-max-angle":new ps(Ne.layout_symbol["text-max-angle"]),"text-writing-mode":new ps(Ne.layout_symbol["text-writing-mode"]),"text-rotate":new ls(Ne.layout_symbol["text-rotate"]),"text-padding":new ps(Ne.layout_symbol["text-padding"]),"text-keep-upright":new ps(Ne.layout_symbol["text-keep-upright"]),"text-transform":new ls(Ne.layout_symbol["text-transform"]),"text-offset":new ls(Ne.layout_symbol["text-offset"]),"text-allow-overlap":new ps(Ne.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ps(Ne.layout_symbol["text-ignore-placement"]),"text-optional":new ps(Ne.layout_symbol["text-optional"])});var ou={paint:new cs({"icon-opacity":new ls(Ne.paint_symbol["icon-opacity"]),"icon-color":new ls(Ne.paint_symbol["icon-color"]),"icon-halo-color":new ls(Ne.paint_symbol["icon-halo-color"]),"icon-halo-width":new ls(Ne.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ls(Ne.paint_symbol["icon-halo-blur"]),"icon-translate":new ps(Ne.paint_symbol["icon-translate"]),"icon-translate-anchor":new ps(Ne.paint_symbol["icon-translate-anchor"]),"text-opacity":new ls(Ne.paint_symbol["text-opacity"]),"text-color":new ls(Ne.paint_symbol["text-color"],{runtimeType:Ye,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new ls(Ne.paint_symbol["text-halo-color"]),"text-halo-width":new ls(Ne.paint_symbol["text-halo-width"]),"text-halo-blur":new ls(Ne.paint_symbol["text-halo-blur"]),"text-translate":new ps(Ne.paint_symbol["text-translate"]),"text-translate-anchor":new ps(Ne.paint_symbol["text-translate-anchor"])}),layout:tu};class nu{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Ke,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ti("FormatSectionOverride",nu,{omit:["defaultValue"]});class iu extends za{constructor(e){super(e,ou)}recalculate(e,t){super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const o=this.layout.get("text-writing-mode");if(o){const e=[];for(const t of o)e.indexOf(t)<0&&e.push(t);this.layout._values["text-writing-mode"]=e}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,t,o,n){const i=this.layout.get(e).evaluate(t,{},o,n),s=this._unevaluatedLayout._values[e];return s.isDataDriven()||sn(s.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(t,o)=>o in e?String(e[o]):"")}(t.properties,i)}createBucket(e){return new eu(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of ou.paint.overridableProperties){if(!iu.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),o=new nu(t),n=new nn(o,t.property.specification);let i=null;i="constant"===t.value.kind||"source"===t.value.kind?new rn("source",n):new _n("composite",n,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new rs(t.property,i,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,o){return!(!this.layout||t.isDataDriven()||o.isDataDriven())&&iu.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const o=e.get("text-field"),n=ou.paint.properties[t];let i=!1;const s=e=>{for(const t of e)if(n.overrides&&n.overrides.hasOverride(t))return void(i=!0)};if("constant"===o.value.kind&&o.value.value instanceof ct)s(o.value.value.sections);else if("source"===o.value.kind){const e=t=>{i||(t instanceof xt&&gt(t.value)===tt?s(t.value.sections):t instanceof Tt?s(t.sections):t.eachChild(e))},t=o.value;t._styleExpression&&e(t._styleExpression.expression)}return i}getProgramConfiguration(e){return new wa(this,e)}}var su={paint:new cs({"background-color":new ps(Ne.paint_background["background-color"]),"background-pattern":new fs(Ne.paint_background["background-pattern"]),"background-opacity":new ps(Ne.paint_background["background-opacity"])})},au={paint:new cs({"raster-opacity":new ps(Ne.paint_raster["raster-opacity"]),"raster-hue-rotate":new ps(Ne.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ps(Ne.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ps(Ne.paint_raster["raster-brightness-max"]),"raster-saturation":new ps(Ne.paint_raster["raster-saturation"]),"raster-contrast":new ps(Ne.paint_raster["raster-contrast"]),"raster-resampling":new ps(Ne.paint_raster["raster-resampling"]),"raster-fade-duration":new ps(Ne.paint_raster["raster-fade-duration"])})};class ru extends za{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var _u={paint:new cs({"sky-type":new ps(Ne.paint_sky["sky-type"]),"sky-atmosphere-sun":new ps(Ne.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new ps(Ne.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new ps(Ne.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new ps(Ne.paint_sky["sky-gradient-radius"]),"sky-gradient":new ds(Ne.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new ps(Ne.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new ps(Ne.paint_sky["sky-atmosphere-color"]),"sky-opacity":new ps(Ne.paint_sky["sky-opacity"])})};function pu(e,t,o){const n=dr(0,0,1),i=kr(Tr());return function(e,t,o){o*=.5;var n=t[0],i=t[1],s=t[2],a=t[3],r=Math.sin(o),_=Math.cos(o);e[0]=n*_-s*r,e[1]=i*_+a*r,e[2]=s*_+n*r,e[3]=a*_-i*r}(i,i,o?-u(e)+Math.PI:u(e)),Mr(i,i,-u(t)),gr(n,n,i),yr(n,n)}const lu={circle:class extends za{constructor(e){super(e,sr)}createBucket(e){return new Ua(e)}queryRadius(e){const t=e;return er("circle-radius",this,t)+er("circle-stroke-width",this,t)+tr(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,o,n,i,s,a,r){const _=nr(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),s.angle,e.pixelToTileUnitsFactor),p=this.paint.get("circle-radius").evaluate(t,o)+this.paint.get("circle-stroke-width").evaluate(t,o);return Sr(e,n,s,a,r,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),_,p)}getProgramIds(){return["circle"]}getProgramConfiguration(e){return new wa(this,e)}},heatmap:class extends za{createBucket(e){return new Pr(e)}constructor(e){super(e,Or),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Nr({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(e){return er("heatmap-radius",this,e)}queryIntersectsFeature(e,t,o,n,i,a,r,_){const p=this.paint.get("heatmap-radius").evaluate(t,o);return Sr(e,n,a,r,_,!0,!0,new s(0,0),p)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(e){return new wa(this,e)}},hillshade:class extends za{constructor(e){super(e,Vr)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(e){return new wa(this,e)}},fill:class extends za{constructor(e){super(e,M_)}getProgramIds(){const e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),o=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&o.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),o}getProgramConfiguration(e){return new wa(this,e)}recalculate(e,t){super.recalculate(e,t);const o=this.paint._values["fill-outline-color"];"constant"===o.value.kind&&void 0===o.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new T_(e)}queryRadius(){return tr(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,o,n,i,s){return!e.queryGeometry.isAboveHorizon&&Za(or(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),s.angle,e.pixelToTileUnitsFactor),n)}isTileClipped(){return!0}},"fill-extrusion":class extends za{constructor(e){super(e,j_)}createBucket(e){return new W_(e)}queryRadius(){return tr(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(e){return new wa(this,e)}queryIntersectsFeature(e,t,o,n,i,a,r,_,p){const l=nr(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),u=this.paint.get("fill-extrusion-height").evaluate(t,o),f=this.paint.get("fill-extrusion-base").evaluate(t,o),d=[0,0],c=_&&a.elevation,m=a.elevation?a.elevation.exaggeration():1;if(c){const t=e.tile.getBucket(this).centroidVertexArray,o=p+1;if(o<t.length){const e=t.get(o);d[0]=e.a_centroid_pos0,d[1]=e.a_centroid_pos1}}if(0===d[0]&&1===d[1])return!1;const h=function(e,t,o,n,i,a,r,_,p){return a?function(e,t,o,n,i,s,a,r,_){const p=[],l=[],u=[0,0,0,1];for(const f of e){const e=[],d=[];for(const p of f){const l=p.x+n.x,f=p.y+n.y,c=$_(l,f,t,o,s,a,r,_);u[0]=l,u[1]=f,u[2]=c.base,u[3]=1,wr(u,u,i),u[3]=Math.max(u[3],1e-5);const m=H_([u[0]/u[3],u[1]/u[3],u[2]/u[3]]);u[0]=l,u[1]=f,u[2]=c.top,u[3]=1,wr(u,u,i),u[3]=Math.max(u[3],1e-5);const h=H_([u[0]/u[3],u[1]/u[3],u[2]/u[3]]);e.push(m),d.push(h)}p.push(e),l.push(d)}return[p,l]}(e,t,o,n,i,a,r,_,p):function(e,t,o,n,i){const a=[],r=[],_=i[8]*t,p=i[9]*t,l=i[10]*t,u=i[11]*t,f=i[8]*o,d=i[9]*o,c=i[10]*o,m=i[11]*o;for(const t of e){const e=[],o=[];for(const a of t){const t=a.x+n.x,r=a.y+n.y,h=i[0]*t+i[4]*r+i[12],y=i[1]*t+i[5]*r+i[13],g=i[2]*t+i[6]*r+i[14],v=i[3]*t+i[7]*r+i[15],x=h+_,C=y+p,b=g+l,w=Math.max(v+u,1e-5),T=h+f,k=y+d,M=g+c,S=Math.max(v+m,1e-5),E=new s(x/w,C/w);E.z=b/w,e.push(E);const A=new s(T/S,k/S);A.z=M/S,o.push(A)}a.push(e),r.push(o)}return[a,r]}(e,t,o,n,i)}(n,f,u,l,r,c?_:null,d,m,a.center.lat),y=e.queryGeometry;return function(e,t,o){let n=1/0;Za(o,t)&&(n=K_(o,t[0]));for(let i=0;i<t.length;i++){const s=t[i],a=e[i];for(let e=0;e<s.length-1;e++){const t=s[e],i=[t,s[e+1],a[e+1],a[e],t];Ga(o,i)&&(n=Math.min(n,K_(o,i)))}}return n!==1/0&&n}(h[0],h[1],y.isPointQuery()?y.screenBounds:y.screenGeometry)}},line:class extends za{constructor(e){super(e,ip),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof to,this.gradientVersion=(this.gradientVersion+1)%_}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=sp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new op(e)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(e){return new wa(this,e)}queryRadius(e){const t=e,o=ap(er("line-width",this,t),er("line-gap-width",this,t)),n=er("line-offset",this,t);return o/2+Math.abs(n)+tr(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,o,n,i,a){if(e.queryGeometry.isAboveHorizon)return!1;const r=or(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),_=e.pixelToTileUnitsFactor/2*ap(this.paint.get("line-width").evaluate(t,o),this.paint.get("line-gap-width").evaluate(t,o)),p=this.paint.get("line-offset").evaluate(t,o);return p&&(n=function(e,t){const o=[],n=new s(0,0);for(let i=0;i<e.length;i++){const s=e[i],a=[];for(let e=0;e<s.length;e++){const o=s[e-1],i=s[e],r=s[e+1],_=0===e?n:i.sub(o)._unit()._perp(),p=e===s.length-1?n:r.sub(i)._unit()._perp(),l=_._add(p)._unit();l._mult(1/(l.x*p.x+l.y*p.y)),a.push(l._mult(t)._add(i))}o.push(a)}return o}(n,p*e.pixelToTileUnitsFactor)),function(e,t,o){for(let n=0;n<t.length;n++){const i=t[n];if(e.length>=3)for(let t=0;t<i.length;t++)if(Ya(e,i[t]))return!0;if(ja(e,i,o))return!0}return!1}(r,n,_)}isTileClipped(){return!0}},symbol:iu,background:class extends za{constructor(e){super(e,su)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends za{constructor(e){super(e,au)}getProgramIds(){return["raster"]}},sky:class extends za{constructor(e){super(e,_u),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Nr({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}}getCenter(e,t){const o=this.paint.get("sky-type");if("atmosphere"===o){const o=this.paint.get("sky-atmosphere-sun"),n=!o,i=e.style.light,s=i.properties.get("position");return n&&"viewport"===i.properties.get("anchor")&&P("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),n?pu(s.azimuthal,90-s.polar,t):pu(o[0],90-o[1],t)}if("gradient"===o){const e=this.paint.get("sky-gradient-center");return pu(e[0],90-e[1],t)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}},{HTMLImageElement:uu,HTMLCanvasElement:fu,HTMLVideoElement:du,ImageData:cu,ImageBitmap:mu}=r;class hu{constructor(e,t,o,n){this.context=e,this.format=o,this.texture=e.gl.createTexture(),this.update(t,n)}update(e,t,o){const{width:n,height:i}=e,s=!(this.size&&this.size[0]===n&&this.size[1]===i||o),{context:a}=this,{gl:r}=a;if(this.useMipmap=Boolean(t&&t.useMipmap),r.bindTexture(r.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===r.RGBA&&(!t||!1!==t.premultiply)),s)this.size=[n,i],e instanceof uu||e instanceof fu||e instanceof du||e instanceof cu||mu&&e instanceof mu?r.texImage2D(r.TEXTURE_2D,0,this.format,this.format,r.UNSIGNED_BYTE,e):r.texImage2D(r.TEXTURE_2D,0,this.format,n,i,0,this.format,r.UNSIGNED_BYTE,e.data);else{const{x:t,y:s}=o||{x:0,y:0};e instanceof uu||e instanceof fu||e instanceof du||e instanceof cu||mu&&e instanceof mu?r.texSubImage2D(r.TEXTURE_2D,0,t,s,r.RGBA,r.UNSIGNED_BYTE,e):r.texSubImage2D(r.TEXTURE_2D,0,t,s,n,i,r.RGBA,r.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&r.generateMipmap(r.TEXTURE_2D)}bind(e,t,o){const{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),o!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(o=i.LINEAR),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,o||e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class yu{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof vu?new vu(e.lng,e.lat):vu.convert(e),this}setSouthWest(e){return this._sw=e instanceof vu?new vu(e.lng,e.lat):vu.convert(e),this}extend(e){const t=this._sw,o=this._ne;let n,i;if(e instanceof vu)n=e,i=e;else{if(!(e instanceof yu))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(yu.convert(e)):this.extend(vu.convert(e)):this;if(n=e._sw,i=e._ne,!n||!i)return this}return t||o?(t.lng=Math.min(n.lng,t.lng),t.lat=Math.min(n.lat,t.lat),o.lng=Math.max(i.lng,o.lng),o.lat=Math.max(i.lat,o.lat)):(this._sw=new vu(n.lng,n.lat),this._ne=new vu(i.lng,i.lat)),this}getCenter(){return new vu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new vu(this.getWest(),this.getNorth())}getSouthEast(){return new vu(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:o}=vu.convert(e);let n=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=o&&o<=this._ne.lat&&n}static convert(e){return!e||e instanceof yu?e:new yu(e)}}const gu=6371008.8;class vu{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new vu(y(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,o=this.lat*t,n=e.lat*t,i=Math.sin(o)*Math.sin(n)+Math.cos(o)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return gu*Math.acos(Math.min(i,1))}toBounds(e=0){const t=360*e/40075017,o=t/Math.cos(Math.PI/180*this.lat);return new yu(new vu(this.lng-o,this.lat-t),new vu(this.lng+o,this.lat+t))}static convert(e){if(e instanceof vu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new vu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new vu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const xu=2*Math.PI*gu;function Cu(e){return xu*Math.cos(e*Math.PI/180)}function bu(e){return(180+e)/360}function wu(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Tu(e,t){return e/Cu(t)}function ku(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Mu(e,t){return e*Cu(ku(t))}class Su{constructor(e,t,o=0){this.x=+e,this.y=+t,this.z=+o}static fromLngLat(e,t=0){const o=vu.convert(e);return new Su(bu(o.lng),wu(o.lat),Tu(t,o.lat))}toLngLat(){return new vu(360*this.x-180,ku(this.y))}toAltitude(){return Mu(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/xu*(e=ku(this.y),1/Math.cos(e*Math.PI/180));var e}}class Eu{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.image=new Rr({width:e,height:t}),this.positions={},this.uploaded=!1}getDash(e,t){const o=this.getKey(e,t);return this.positions[o]}trim(){const e=this.width,t=this.height=T(this.nextRow);this.image.resize({width:e,height:t})}getKey(e,t){return e.join(",")+t}getDashRanges(e,t,o){const n=[];let i=e.length%2==1?-e[e.length-1]*o:0,s=e[0]*o,a=!0;n.push({left:i,right:s,isDash:a,zeroLength:0===e[0]});let r=e[0];for(let t=1;t<e.length;t++){a=!a;const _=e[t];i=r*o,r+=_,s=r*o,n.push({left:i,right:s,isDash:a,zeroLength:0===_})}return n}addRoundDash(e,t,o){const n=t/2;for(let t=-o;t<=o;t++){const i=this.width*(this.nextRow+o+t);let s=0,a=e[s];for(let r=0;r<this.width;r++){r/a.right>1&&(a=e[++s]);const _=Math.abs(r-a.left),p=Math.abs(r-a.right),l=Math.min(_,p);let u;const f=t/o*(n+1);if(a.isDash){const e=n-Math.abs(f);u=Math.sqrt(l*l+e*e)}else u=n-Math.sqrt(l*l+f*f);this.image.data[i+r]=Math.max(0,Math.min(255,u+128))}}}addRegularDash(e,t){for(let t=e.length-1;t>=0;--t){const o=e[t],n=e[t+1];o.zeroLength?e.splice(t,1):n&&n.isDash===o.isDash&&(n.left=o.left,e.splice(t,1))}const o=e[0],n=e[e.length-1];o.isDash===n.isDash&&(o.left=n.left-this.width,n.right=o.right+this.width);const i=this.width*this.nextRow;let s=0,a=e[s];for(let o=0;o<this.width;o++){o/a.right>1&&(a=e[++s]);const n=Math.abs(o-a.left),r=Math.abs(o-a.right),_=Math.min(n,r);this.image.data[i+o]=Math.max(0,Math.min(255,(a.isDash?_:-_)+t+128))}}addDash(e,t){const o=this.getKey(e,t);if(this.positions[o])return this.positions[o];const n="round"===t,i=n?7:0,s=2*i+1;if(this.nextRow+s>this.height)return P("LineAtlas out of space"),null;0===e.length&&e.push(1);let a=0;for(let t=0;t<e.length;t++)e[t]<0&&(P("Negative value is found in line dasharray, replacing values with 0"),e[t]=0),a+=e[t];if(0!==a){const o=this.width/a,s=this.getDashRanges(e,this.width,o);n?this.addRoundDash(s,o,i):this.addRegularDash(s,"square"===t?.5*o:0)}const r=this.nextRow+i;this.nextRow+=s;const _={tl:[r,i],br:[a,0]};return this.positions[o]=_,_}}ti("LineAtlas",Eu);class Au{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Iu=r.performance;function zu(e){const t=e?e.url.toString():void 0;return Iu.getEntriesByName(t)}class Pu{constructor(){this.tasks={},this.taskQueue=[],M(["process"],this),this.invoker=new Au(this.process),this.nextId=0}add(e,t){const o=this.nextId++,n=function({type:e,isSymbolTile:t,zoom:o}){return o=o||0,"message"===e?0:"maybePrepare"!==e||t?"parseTile"!==e||t?"parseTile"===e&&t?300-o:"maybePrepare"===e&&t?400-o:500:200-o:100-o}(t);if(0===n){B();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[o]={fn:e,metadata:t,priority:n,id:o},this.taskQueue.push(o),this.invoker.trigger(),{cancel:()=>{delete this.tasks[o]}}}process(){B();try{if(this.taskQueue=this.taskQueue.filter(e=>!!this.tasks[e]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn()}finally{}}pick(){let e=null,t=1/0;for(let o=0;o<this.taskQueue.length;o++){const n=this.tasks[this.taskQueue[o]];n.priority<t&&(t=n.priority,e=o)}if(null===e)return null;const o=this.taskQueue[e];return this.taskQueue.splice(e,1),o}remove(){this.invoker.remove()}}function Du(e,t,o){var n=2*Math.PI*6378137/256/Math.pow(2,o);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}class Lu{constructor(e,t,o){this.z=e,this.x=t,this.y=o,this.key=Fu(0,e,e,t,o)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const o=(i=this.y,s=this.z,a=Du(256*(n=this.x),256*(i=Math.pow(2,s)-i-1),s),r=Du(256*(n+1),256*(i+1),s),a[0]+","+a[1]+","+r[0]+","+r[1]);var n,i,s,a,r;const _=function(e,t,o){let n,i="";for(let s=e;s>0;s--)n=1<<s-1,i+=(t&n?1:0)+(o&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",_).replace("{bbox-epsg-3857}",o)}getTilePoint(e){const t=Math.pow(2,this.z);return new s((e.x*t-this.x)*Ba,(e.y*t-this.y)*Ba)}getTileVec3(e){const t=Math.pow(2,this.z);return dr((e.x*t-this.x)*Ba,(e.y*t-this.y)*Ba,Mu(e.z,e.y))}toString(){return`${this.z}/${this.x}/${this.y}`}}class Bu{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Fu(e,t.z,t.z,t.x,t.y)}}class Ru{constructor(e,t,o,n,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Lu(o,+n,+i),this.key=0===t&&e===o?this.canonical.key:Fu(t,e,o,n,i)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new Ru(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ru(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Fu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const o=this.canonical.z-e;return Fu(this.wrap*+t,e,e,this.canonical.x>>o,this.canonical.y>>o)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new Ru(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,o=2*this.canonical.x,n=2*this.canonical.y;return[new Ru(t,this.wrap,t,o,n),new Ru(t,this.wrap,t,o+1,n),new Ru(t,this.wrap,t,o,n+1),new Ru(t,this.wrap,t,o+1,n+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Ru(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Ru(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Bu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new Su(e.x-this.wrap,e.y))}getTileVec3(e){return this.canonical.getTileVec3(new Su(e.x-this.wrap,e.y,e.z))}}function Fu(e,t,o,n,i){const s=1<<Math.min(o,22);let a=s*(i%s)+n%s;return e&&o<22&&(a+=s*s*((e<0?-2*e-1:2*e)%(1<<2*(22-o)))),16*(32*a+o)+(t-o)}ti("CanonicalTileID",Lu),ti("OverscaledTileID",Ru,{omit:["projMatrix"]});class Ou{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const o=e[t];this._stringToNumber[o]=t,this._numberToString[t]=o}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}class Nu{constructor(e,t,o,n,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=o,e._y=n,this.properties=e.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}var Vu=vs([{name:"a_pos",type:"Int16",components:2}]);class Uu{constructor(e,t,o){this.tileID=e,this.uid=b(),this.uses=0,this.tileSize=t,this.tileZoom=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){const t=e+this.timeAdded;t<W.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(e,t,o){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const o={};if(!t)return o;for(const n of e){const e=n.layerIds.map(e=>t.getLayer(e)).filter(Boolean);if(0!==e.length){n.layers=e,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map(t=>e.filter(e=>e.id===t)[0]));for(const t of e)o[t.id]=n}}return o}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof eu){if(this.hasSymbolBuckets=!0,!o)break;t.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof eu&&t.hasRTLText){this.hasRTLText=!0,Qi.isLoading()||Qi.isLoaded()||"deferred"!==Yi()||Ji();break}}this.queryPadding=0;for(const e in this.buckets){const o=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(e).queryRadius(o))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new js}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const o=this.buckets[t];o.uploadPending()&&o.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new hu(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new hu(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new hu(e,this.lineAtlas.image,t.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,o,n,i,s,a,r){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:a,transform:s,params:i},e,t,o):{}}querySourceFeatures(e,t){const o=this.latestFeatureIndex;if(!o||!o.rawTileData)return;const n=o.loadVTLayers(),i=t?t.sourceLayer:"",s=n._geojsonTileLayer||n[i];if(!s)return;const a=vn(t&&t.filter),{z:r,x:_,y:p}=this.tileID.canonical,l={z:r,x:_,y:p};for(let t=0;t<s.length;t++){const n=s.feature(t);if(a.needGeometry){const e=Na(n,!0);if(!a.filter(new es(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!a.filter(new es(this.tileID.overscaledZ),n))continue;const u=o.getId(n,i),f=new Nu(n,r,_,p,u);f.tile=l,e.push(f)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=R(e.cacheControl);t["max-age"]&&(this.expirationTime=Date.now()+1e3*t["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let o=!1;if(this.expirationTime>e)o=!1;else if(t)if(this.expirationTime<t)o=!0;else{const n=this.expirationTime-t;n?this.expirationTime=e+Math.max(n,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const o=this.latestFeatureIndex.loadVTLayers();for(const n in this.buckets){if(!t.style.hasLayer(n))continue;const i=this.buckets[n],s=i.layers[0].sourceLayer||"_geojsonTileLayer",a=o[s],r=e[s];if(!a||!r||0===Object.keys(r).length)continue;i.update(r,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});const _=t&&t.style&&t.style.getLayer(n);_&&(this.queryPadding=Math.max(this.queryPadding,_.queryRadius(i)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<W.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=W.now()+e}setDependencies(e,t){const o={};for(const e of t)o[e]=!0;this.dependencies[e]=o}hasDependency(e,t){for(const o of e){const e=this.dependencies[o];if(e)for(const o of t)if(e[o])return!0}return!1}clearQueryDebugViz(){}}class Gu{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,t,o){const n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},x(this.stateChanges[e][n],o),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==n&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][n]){this.deletedStates[e][n]={};for(const t in this.state[e][n])o[t]||(this.deletedStates[e][n][t]=null)}else for(const t in o)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][t]&&delete this.deletedStates[e][n][t]}removeFeatureState(e,t,o){if(null===this.deletedStates[e])return;const n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},o&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][o]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(o in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][o]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}getState(e,t){const o=String(t),n=x({},(this.state[e]||{})[o],(this.stateChanges[e]||{})[o]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const o=this.deletedStates[e][t];if(null===o)return{};for(const e in o)delete n[e]}return n}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,t){const o={};for(const e in this.stateChanges){this.state[e]=this.state[e]||{};const t={};for(const o in this.stateChanges[e])this.state[e][o]||(this.state[e][o]={}),x(this.state[e][o],this.stateChanges[e][o]),t[o]=this.state[e][o];o[e]=t}for(const e in this.deletedStates){this.state[e]=this.state[e]||{};const t={};if(null===this.deletedStates[e])for(const o in this.state[e])t[o]={},this.state[e][o]={};else for(const o in this.deletedStates[e]){if(null===this.deletedStates[e][o])this.state[e][o]={};else for(const t of Object.keys(this.deletedStates[e][o]))delete this.state[e][o][t];t[o]=this.state[e][o]}o[e]=o[e]||{},x(o[e],t)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(o).length)for(const n in e)e[n].setFeatureState(o,t)}}class Wu{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,t){const o=this.toIdx(e,t);return{min:this.minimums[o],max:this.maximums[o]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function Zu(e,t,o,n){let i=0,s=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(n[a])<1e-15){if(o[a]<e[a]||o[a]>t[a])return null}else{const r=1/n[a];let _=(e[a]-o[a])*r,p=(t[a]-o[a])*r;if(_>p){const e=_;_=p,p=e}if(_>i&&(i=_),p<s&&(s=p),i>s)return null}return i}function ju(e,t,o,n,i,s,a,r,_,p,l){const u=n-e,f=i-t,d=s-o,c=a-e,m=r-t,h=_-o,y=l[1]*h-l[2]*m,g=l[2]*c-l[0]*h,v=l[0]*m-l[1]*c,x=u*y+f*g+d*v;if(Math.abs(x)<1e-15)return null;const C=1/x,b=p[0]-e,w=p[1]-t,T=p[2]-o,k=(b*y+w*g+T*v)*C;if(k<0||k>1)return null;const M=w*d-T*f,S=T*u-b*d,E=b*f-w*u,A=(l[0]*M+l[1]*S+l[2]*E)*C;return A<0||k+A>1?null:(c*M+m*S+h*E)*C}function qu(e,t,o){return(e-t)/(o-t)}function Ku(e,t,o,n,i,s,a,r,_){const p=1<<o,l=s-n,u=a-i,f=(e+1)/p*l+n,d=(t+0)/p*u+i,c=(t+1)/p*u+i;r[0]=(e+0)/p*l+n,r[1]=d,_[0]=f,_[1]=c}class Hu{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),o=[];let n=Math.ceil(Math.pow(2,t));const i=1/n,s=(e,t,o,n,i)=>{const s=n?1:0,a=(e+1)*o-s,r=t*o,_=(t+1)*o-s;i[0]=e*o,i[1]=r,i[2]=a,i[3]=_};let a=new Wu(n);const r=[];for(let t=0;t<n*n;t++){s(t%n,Math.floor(t/n),i,!1,r);const o=Xu(r[0],r[1],e),_=Xu(r[2],r[1],e),p=Xu(r[2],r[3],e),l=Xu(r[0],r[3],e);a.minimums.push(Math.min(o,_,p,l)),a.maximums.push(Math.max(o,_,p,l)),a.leaves.push(1)}for(o.push(a),n/=2;n>=1;n/=2){const e=o[o.length-1];a=new Wu(n);for(let t=0;t<n*n;t++){s(t%n,Math.floor(t/n),2,!0,r);const o=e.getElevation(r[0],r[1]),i=e.getElevation(r[2],r[1]),_=e.getElevation(r[2],r[3]),p=e.getElevation(r[0],r[3]),l=e.isLeaf(r[0],r[1]),u=e.isLeaf(r[2],r[1]),f=e.isLeaf(r[2],r[3]),d=e.isLeaf(r[0],r[3]),c=Math.min(o.min,i.min,_.min,p.min),m=Math.max(o.max,i.max,_.max,p.max),h=l&&u&&f&&d;a.maximums.push(m),a.minimums.push(c),a.leaves.push(m-c<=5&&h?1:0)}o.push(a)}return o}(this.dem),o=t.length-1,n=t[o];this._addNode(n.minimums[0],n.maximums[0],n.leaves[0]),this._construct(t,0,0,o,0)}raycastRoot(e,t,o,n,i,s,a=1){return Zu([e,t,-100],[o,n,this.maximums[0]*a],i,s)}raycast(e,t,o,n,i,s,a=1){if(!this.nodeCount)return null;const r=this.raycastRoot(e,t,o,n,i,s,a);if(null==r)return null;const _=[],p=[],l=[],u=[],f=[{idx:0,t:r,nodex:0,nodey:0,depth:0}];for(;f.length>0;){const{idx:r,t:d,nodex:c,nodey:m,depth:h}=f.pop();if(this.leaves[r]){Ku(c,m,h,e,t,o,n,l,u);const r=1<<h,_=(c+0)/r,p=(c+1)/r,f=(m+0)/r,y=(m+1)/r,g=Xu(_,f,this.dem)*a,v=Xu(p,f,this.dem)*a,x=Xu(p,y,this.dem)*a,C=Xu(_,y,this.dem)*a,b=ju(l[0],l[1],g,u[0],l[1],v,u[0],u[1],x,i,s),w=ju(u[0],u[1],x,l[0],u[1],C,l[0],l[1],g,i,s),T=Math.min(null!==b?b:Number.MAX_VALUE,null!==w?w:Number.MAX_VALUE);if(T!==Number.MAX_VALUE)return T;{const e=hr([],i,s,d);if($u(g,v,C,x,qu(e[0],l[0],u[0]),qu(e[1],l[1],u[1]))>=e[2])return d}continue}let y=0;for(let f=0;f<this._siblingOffset.length;f++){Ku((c<<1)+this._siblingOffset[f][0],(m<<1)+this._siblingOffset[f][1],h+1,e,t,o,n,l,u),l[2]=-100,u[2]=this.maximums[this.childOffsets[r]+f]*a;const d=Zu(l,u,i,s);if(null!=d){const e=d;_[f]=e;let t=!1;for(let o=0;o<y&&!t;o++)e>=_[p[o]]&&(p.splice(o,0,f),t=!0);t||(p[y]=f),y++}}for(let e=0;e<y;e++){const t=p[e];f.push({idx:this.childOffsets[r]+t,t:_[t],nodex:(c<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:h+1})}}return null}_addNode(e,t,o){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(o),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,o,n,i){if(1===e[n].isLeaf(t,o))return;this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);const s=n-1,a=e[s];let r,_=0;for(let e=0;e<this._siblingOffset.length;e++){const n=2*t+this._siblingOffset[e][0],i=2*o+this._siblingOffset[e][1],s=a.getElevation(n,i),p=a.isLeaf(n,i),l=this._addNode(s.min,s.max,p);p&&(_|=1<<e),r||(r=l)}for(let n=0;n<this._siblingOffset.length;n++)_&1<<n||this._construct(e,2*t+this._siblingOffset[n][0],2*o+this._siblingOffset[n][1],s,r+n)}}function $u(e,t,o,n,i,s){return oo(oo(e,o,s),oo(t,n,s),i)}function Xu(e,t,o){const n=o.dim,i=h(e*n-.5,0,n-1),s=h(t*n-.5,0,n-1),a=Math.floor(i),r=Math.floor(s),_=Math.min(a+1,n-1),p=Math.min(r+1,n-1);return $u(o.get(a,r),o.get(_,r),o.get(a,p),o.get(_,p),i-a,s-r)}const Yu={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Ju{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,o,n=!1,i=!1){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(o&&"mapbox"!==o&&"terrarium"!==o)return P(`"${o}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const s=this.dim=t.height-2;if(this.data=new Uint32Array(t.data.buffer),this.encoding=o||"mapbox",this.borderReady=n,!n){for(let e=0;e<s;e++)this.data[this._idx(-1,e)]=this.data[this._idx(0,e)],this.data[this._idx(s,e)]=this.data[this._idx(s-1,e)],this.data[this._idx(e,-1)]=this.data[this._idx(e,0)],this.data[this._idx(e,s)]=this.data[this._idx(e,s-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(s,-1)]=this.data[this._idx(s-1,0)],this.data[this._idx(-1,s)]=this.data[this._idx(0,s-1)],this.data[this._idx(s,s)]=this.data[this._idx(s-1,s-1)],i&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Hu(this)}get(e,t,o=!1){const n=new Uint8Array(this.data.buffer);o&&(e=h(e,-1,this.dim),t=h(t,-1,this.dim));const i=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[i],n[i+1],n[i+2])}static getUnpackVector(e){return Yu[e]}get unpackVector(){return Yu[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,o){return(256*e*256+256*t+o)/10-1e4}_unpackTerrarium(e,t,o){return 256*e+t+o/256-32768}static pack(e,t){const o=[0,0,0,0],n=Ju.getUnpackVector(t);let i=Math.floor((e+n[3])/n[2]);return o[2]=i%256,i=Math.floor(i/256),o[1]=i%256,i=Math.floor(i/256),o[0]=i,o}getPixels(){return new Fr({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,o){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let n=t*this.dim,i=t*this.dim+this.dim,s=o*this.dim,a=o*this.dim+this.dim;switch(t){case-1:n=i-1;break;case 1:i=n+1}switch(o){case-1:s=a-1;break;case 1:a=s+1}const r=-t*this.dim,_=-o*this.dim;for(let t=s;t<a;t++)for(let o=n;o<i;o++)this.data[this._idx(o,t)]=e.data[this._idx(o+r,t+_)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}ti("DEMData",Ju),ti("DemMinMaxQuadTree",Hu,{omit:["dem"]});class Qu{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,o){const n=e.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const i={value:t,timeout:void 0};if(void 0!==o&&(i.timeout=setTimeout(()=>{this.remove(e,i)},o)),this.data[n].push(i),this.order.push(n),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const o=e.wrapped().key,n=void 0===t?0:this.data[o].indexOf(t),i=this.data[o][n];return this.data[o].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[o].length&&delete this.data[o],this.onRemove(i.value),this.order.splice(this.order.indexOf(o),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const o in this.data)for(const n of this.data[o])e(n.value)||t.push(n);for(const e of t)this.remove(e.value.tileID,e)}}class ef{constructor(e,t,o){this.func=e,this.mask=t,this.range=o}}ef.ReadOnly=!1,ef.ReadWrite=!0,ef.disabled=new ef(519,ef.ReadOnly,[0,1]);class tf{constructor(e,t,o,n,i,s){this.test=e,this.ref=t,this.mask=o,this.fail=n,this.depthFail=i,this.pass=s}}tf.disabled=new tf({func:519,mask:0},0,0,7680,7680,7680);class of{constructor(e,t,o){this.blendFunction=e,this.blendColor=t,this.mask=o}}of.Replace=[1,0],of.disabled=new of(of.Replace,ut.transparent,[!1,!1,!1,!1]),of.unblended=new of(of.Replace,ut.transparent,[!0,!0,!0,!0]),of.alphaBlended=new of([1,771],ut.transparent,[!0,!0,!0,!0]);class nf{constructor(e,t,o){this.enable=e,this.mode=t,this.frontFace=o}}nf.disabled=new nf(!1,1029,2305),nf.backCCW=new nf(!0,1029,2305),nf.backCW=new nf(!0,1029,2304),nf.frontCW=new nf(!0,1028,2304),nf.frontCCW=new nf(!0,1028,2305);class sf extends Oe{constructor(e,t,o){super(),this.id=e,this._onlySymbols=o,t.on("data",e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),t.on("error",()=>{this._sourceErrored=!0}),this._source=t,this._tiles={},this._cache=new Qu(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Gu}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const o=this._tiles[t];o.upload(e),o.prepare(this.map.style.imageManager)}}getIds(){return v(this._tiles).map(e=>e.tileID).sort(af).map(e=>e.key)}getRenderableIds(e){const t=[];for(const o in this._tiles)this._isIdRenderable(+o,e)&&t.push(this._tiles[o]);return e?t.sort((e,t)=>{const o=e.tileID,n=t.tileID,i=new s(o.canonical.x,o.canonical.y)._rotate(this.transform.angle),a=new s(n.canonical.x,n.canonical.y)._rotate(this.transform.angle);return o.overscaledZ-n.overscaledZ||a.y-i.y||a.x-i.x}).map(e=>e.tileID.key):t.map(e=>e.tileID).sort(af).map(e=>e.key)}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,t){const o=this._tiles[e];o&&("loading"!==o.state&&(o.state=t),this._loadTile(o,this._tileLoaded.bind(this,o,e,t)))}_tileLoaded(e,t,o,n){if(n)return e.state="errored",void(404!==n.status?this._source.fire(new Fe(n,{tile:e})):this.update(this.transform));e.timeAdded=W.now(),"expired"===o&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Re("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const t=this.getRenderableIds();for(let n=0;n<t.length;n++){const i=t[n];if(e.neighboringTiles&&e.neighboringTiles[i]){const t=this.getTileByID(i);o(e,t),o(t,e)}}function o(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let o=t.tileID.canonical.x-e.tileID.canonical.x;const n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),s=t.tileID.key;0===o&&0===n||Math.abs(n)>1||(Math.abs(o)>1&&(1===Math.abs(o+i)?o+=i:1===Math.abs(o-i)&&(o-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,o,n),e.neighboringTiles&&e.neighboringTiles[s]&&(e.neighboringTiles[s].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,o,n){for(const i in this._tiles){let s=this._tiles[i];if(n[i]||!s.hasData()||s.tileID.overscaledZ<=t||s.tileID.overscaledZ>o)continue;let a=s.tileID;for(;s&&s.tileID.overscaledZ>t+1;){const e=s.tileID.scaledTo(s.tileID.overscaledZ-1);s=this._tiles[e.key],s&&s.hasData()&&(a=e)}let r=a;for(;r.overscaledZ>t;)if(r=r.scaledTo(r.overscaledZ-1),e[r.key]){n[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const o=this._loadedParentTiles[e.key];return o&&o.tileID.overscaledZ>=t?o:null}for(let o=e.overscaledZ-1;o>=t;o--){const t=e.scaledTo(o),n=this._getLoadedTile(t);if(n)return n}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const o=Math.ceil(e.width/t)+1,n=Math.ceil(e.height/t)+1,i=Math.floor(o*n*5),s="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(s)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const o in this._tiles){const n=this._tiles[o];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+t),e[n.tileID.key]=n}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e])}}update(e,t,o){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!o)return;let n;this.updateCacheSize(e,t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(e=>new Ru(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)):(n=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!o,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(n=n.filter(e=>this._source.hasTile(e)))):n=[];const i=this._updateRetainedTiles(n);if(rf(this._source.type)&&0!==n.length){const e={},t={},o=Object.keys(i);for(const n of o){const o=i[n],s=this._tiles[n];if(!s||s.fadeEndTime&&s.fadeEndTime<=W.now())continue;const a=this.findLoadedParent(o,Math.max(o.overscaledZ-sf.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),e[a.tileID.key]=a.tileID),t[n]=o}const s=n[n.length-1].overscaledZ;for(const e in this._tiles){const o=this._tiles[e];if(i[e]||!o.hasData())continue;let n=o.tileID;for(;n.overscaledZ>s;){n=n.scaledTo(n.overscaledZ-1);const s=this._tiles[n.key];if(s&&s.hasData()&&t[n.key]){i[e]=o.tileID;break}}}for(const t in e)i[t]||(this._coveredTiles[t]=!0,i[t]=e[t])}for(const e in i)this._tiles[e].clearFadeHold();const s=function(e,t){const o=[];for(const n in e)n in t||o.push(n);return o}(this._tiles,i);for(const e of s){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+e)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const o={},n=e[e.length-1].overscaledZ,i=e[0].overscaledZ,s=Math.max(i-sf.maxOverzooming,this._source.minzoom),a=Math.max(i+sf.maxUnderzooming,this._source.minzoom),r={};for(const o of e){const e=this._addTile(o);t[o.key]=o,e.hasData()||n<this._source.maxzoom&&(r[o.key]=o)}this._retainLoadedChildren(r,n,a,t);for(const n of e){let e=this._tiles[n.key];if(e.hasData())continue;if(n.canonical.z>=this._source.maxzoom){const e=n.children(this._source.maxzoom)[0],o=this.getTile(e);if(o&&o.hasData()){t[e.key]=e;continue}}else{const e=n.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let i=e.wasRequested();for(let a=n.overscaledZ-1;a>=s;--a){const s=n.scaledTo(a);if(o[s.key])break;if(o[s.key]=!0,e=this.getTile(s),!e&&i&&(e=this._addTile(s)),e&&(t[s.key]=s,i=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let o,n=this._tiles[e].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){o=this._loadedParentTiles[n.key];break}t.push(n.key);const e=n.scaledTo(n.overscaledZ-1);if(o=this._getLoadedTile(e),o)break;n=e}for(const e of t)this._loadedParentTiles[e]=o}}_addTile(e){let t=this._tiles[e.key];if(t)return t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const o=Boolean(t);return o||(t=new Uu(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))),t?(t.uses++,this._tiles[e.key]=t,o||this._source.fire(new Re("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const o=t.getExpiryTimeout();o&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},o))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._cache.reset()}tilesIn(e,t,o){const n=[],i=this.transform;if(!i)return n;for(const s in this._tiles){const a=this._tiles[s];if(o&&a.clearQueryDebugViz(),a.holdingForFade())continue;const r=e.containsTile(a,i,t);r&&n.push(r)}return n}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map(e=>this._tiles[e].tileID);for(const e of t)e.projMatrix=this.transform.calculateProjMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(rf(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=W.now())return!0}return!1}setFeatureState(e,t,o){this._state.updateState(e=e||"_geojsonTileLayer",t,o)}removeFeatureState(e,t,o){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,o)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,o){const n=this._tiles[e];n&&n.setDependencies(t,o)}reloadTilesForDependencies(e,t){for(const o in this._tiles)this._tiles[o].hasDependency(e,t)&&this._reloadTile(+o,"reloading");this._cache.filter(o=>!o.hasDependency(e,t))}}function af(e,t){const o=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-o||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function rf(e){return"raster"===e||"image"===e||"video"===e}sf.maxOverzooming=10,sf.maxUnderzooming=3;class _f{constructor(e,t,o){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=o}static create(e,t,o){const n=o||e.findDEMTileFor(t);if(!n||!n.dem)return;const i=n.dem,s=n.tileID,a=1<<t.canonical.z-s.canonical.z;return new _f(n,n.tileSize/Ba/a,[(t.canonical.x/a-s.canonical.x)*i.dim,(t.canonical.y/a-s.canonical.y)*i.dim])}tileCoordToPixel(e,t){const o=t*this._scale+this._offset[1],n=Math.floor(e*this._scale+this._offset[0]),i=Math.floor(o);return new s(n,i)}getElevationAt(e,t,o,n){const i=e*this._scale+this._offset[0],s=t*this._scale+this._offset[1],a=Math.floor(i),r=Math.floor(s),_=this._dem;return n=!!n,o?oo(oo(_.get(a,r,n),_.get(a,r+1,n),s-r),oo(_.get(a+1,r,n),_.get(a+1,r+1,n),s-r),i-a):_.get(a,r,n)}getElevationAtPixel(e,t,o){return this._dem.get(e,t,!!o)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*Tu(1,e)*this._dem.stride}}class pf{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Xn(Ba,16,0),this.featureIndexArray=new Qs,this.promoteId=t}insert(e,t,o,n,i,s=0){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(o,n,i,s);const r=this.grid;for(let e=0;e<t.length;e++){const o=t[e],n=[1/0,1/0,-1/0,-1/0];for(let e=0;e<o.length;e++){const t=o[e];n[0]=Math.min(n[0],t.x),n[1]=Math.min(n[1],t.y),n[2]=Math.max(n[2],t.x),n[3]=Math.max(n[3],t.y)}n[0]<Ba&&n[1]<Ba&&n[2]>=0&&n[3]>=0&&r.insert(a,n[0],n[1],n[2],n[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new O_.VectorTile(new Tp(this.rawTileData)).layers,this.sourceLayerCoder=new Ou(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,o,n){this.loadVTLayers();const i=e.params||{},s=vn(i.filter),a=e.tileResult,r=e.transform,_=a.bufferedTilespaceBounds,p=this.grid.query(_.min.x,_.min.y,_.max.x,_.max.y,(e,t,o,n)=>Ja(a.bufferedTilespaceGeometry,e,t,o,n));p.sort(uf);let l=null;r.elevation&&p.length>0&&(l=_f.create(r.elevation,this.tileID));const u={};let f;for(let r=0;r<p.length;r++){const _=p[r];if(_===f)continue;f=_;const d=this.featureIndexArray.get(_);let c=null;this.loadMatchingFeature(u,d,s,i.layers,i.availableImages,t,o,n,(t,o,n,i=0)=>(c||(c=Oa(t)),o.queryIntersectsFeature(a,t,n,c,this.z,e.transform,e.pixelPosMatrix,l,i)))}return u}loadMatchingFeature(e,t,o,n,i,s,a,r,_){const{featureIndex:p,bucketIndex:l,sourceLayerIndex:u,layoutVertexArrayOffset:f}=t,d=this.bucketLayerIDs[l];if(n&&!function(e,t){for(let o=0;o<e.length;o++)if(t.indexOf(e[o])>=0)return!0;return!1}(n,d))return;const c=this.sourceLayerCoder.decode(u),m=this.vtLayers[c].feature(p);if(o.needGeometry){const e=Na(m,!0);if(!o.filter(new es(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!o.filter(new es(this.tileID.overscaledZ),m))return;const h=this.getId(m,c);for(let t=0;t<d.length;t++){const o=d[t];if(n&&n.indexOf(o)<0)continue;const l=s[o];if(!l)continue;let u={};void 0!==h&&r&&(u=r.getState(l.sourceLayer||"_geojsonTileLayer",h));const c=x({},a[o]);c.paint=lf(c.paint,l.paint,m,u,i),c.layout=lf(c.layout,l.layout,m,u,i);const y=!_||_(m,l,u,f);if(!y)continue;const g=new Nu(m,this.z,this.x,this.y,h);g.layer=c;let v=e[o];void 0===v&&(v=e[o]=[]),v.push({featureIndex:p,feature:g,intersectionZ:y})}}lookupSymbolFeatures(e,t,o,n,i,s,a,r){const _={};this.loadVTLayers();const p=vn(i);for(const i of e)this.loadMatchingFeature(_,{bucketIndex:o,sourceLayerIndex:n,featureIndex:i,layoutVertexArrayOffset:0},p,s,a,r,t);return _}hasLayer(e){for(const t of this.bucketLayerIDs)for(const o of t)if(e===o)return!0;return!1}getId(e,t){let o=e.id;return this.promoteId&&(o=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof o&&(o=Number(o))),o}}function lf(e,t,o,n,i){return E(e,(e,s)=>{const a=t instanceof _s?t.get(s):null;return a&&a.evaluate?a.evaluate(o,n,i):a})}function uf(e,t){return t-e}ti("FeatureIndex",pf,{omit:["rawTileData","sourceLayerCoder"]});class ff{constructor(e){const t={},o=[];for(const n in e){const i=e[n],s=t[n]={};for(const e in i.glyphs){const t=i.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const n=t.metrics.localGlyph?2:1,a={x:0,y:0,w:t.bitmap.width+2*n,h:t.bitmap.height+2*n};o.push(a),s[e]=a}}const{w:n,h:i}=Kp(o),s=new Rr({width:n||1,height:i||1});for(const o in e){const n=e[o];for(const e in n.glyphs){const i=n.glyphs[+e];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const a=t[o][e],r=i.metrics.localGlyph?2:1;Rr.copy(i.bitmap,s,{x:0,y:0},{x:a.x+r,y:a.y+r},i.bitmap)}}this.image=s,this.positions=t}}ti("GlyphAtlas",ff);class df{constructor(e){this.tileID=new Ru(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile}parse(e,t,o,n,i){this.status="parsing",this.data=e,this.collisionBoxArray=new js;const s=new Ou(Object.keys(e.layers).sort()),a=new pf(this.tileID,this.promoteId);a.bucketLayerIDs=[];const r={},_=new Eu(256,256),p={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:_,availableImages:o},l=t.familiesBySource[this.source];for(const t in l){const n=e.layers[t];if(!n)continue;let i=!1,_=!1;for(const e of l[t])"symbol"===e[0].type?i=!0:_=!0;if(!0===this.isSymbolTile&&!i)continue;if(!1===this.isSymbolTile&&!_)continue;1===n.version&&P(`Vector tile source "${this.source}" layer "${t}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const u=s.encode(t),f=[];for(let e=0;e<n.length;e++){const o=n.feature(e),i=a.getId(o,t);f.push({feature:o,id:i,index:e,sourceLayerIndex:u})}for(const e of l[t]){const t=e[0];void 0!==this.isSymbolTile&&"symbol"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(cf(e,this.zoom,o),(r[t.id]=t.createBucket({index:a.bucketLayerIDs.length,layers:e,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:u,sourceID:this.source,enableTerrain:this.enableTerrain})).populate(f,p,this.tileID.canonical),a.bucketLayerIDs.push(e.map(e=>e.id)))}}let u,f,d,c;_.trim();const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},h=E(p.glyphDependencies,e=>Object.keys(e).map(Number));Object.keys(h).length?n.send("getGlyphs",{uid:this.uid,stacks:h},(e,t)=>{u||(u=e,f=t,x.call(this))},void 0,!1,m):f={};const y=Object.keys(p.iconDependencies);y.length?n.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"icons"},(e,t)=>{u||(u=e,d=t,x.call(this))},void 0,!1,m):d={};const g=Object.keys(p.patternDependencies);function x(){if(u)return i(u);if(f&&d&&c){const e=new ff(f),t=new $p(d,c);for(const n in r){const i=r[n];i instanceof eu?(cf(i.layers,this.zoom,o),Ol(i,f,e.positions,d,t.iconPositions,this.showCollisionBoxes,this.tileID.canonical,this.tileZoom)):i.hasPattern&&(i instanceof op||i instanceof T_||i instanceof W_)&&(cf(i.layers,this.zoom,o),i.addFeatures(p,this.tileID.canonical,t.patternPositions))}this.status="done",i(null,{buckets:v(r).filter(e=>!e.isEmpty()),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:_,imageAtlas:t,glyphMap:this.returnDependencies?f:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?e.positions:null})}}g.length?n.send("getImages",{icons:g,source:this.source,tileID:this.tileID,type:"patterns"},(e,t)=>{u||(u=e,c=t,x.call(this))},void 0,!1,m):c={},x.call(this)}}function cf(e,t,o){const n=new es(t);for(const t of e)t.recalculate(n,o)}class mf{constructor(e){this.entries={},this.scheduler=e}request(e,t,o,n){const i=this.entries[e]=this.entries[e]||{callbacks:[]};if(i.result){const[e,o]=i.result;return this.scheduler?this.scheduler.add(()=>{n(e,o)},t):n(e,o),()=>{}}return i.callbacks.push(n),i.cancel||(i.cancel=o((o,n)=>{i.result=[o,n];for(const e of i.callbacks)this.scheduler?this.scheduler.add(()=>{e(o,n)},t):e(o,n);setTimeout(()=>delete this.entries[e],3e3)})),()=>{i.result||(i.callbacks=i.callbacks.filter(e=>e!==n),i.callbacks.length||(i.cancel(),delete this.entries[e]))}}}function hf(e,t,o){const n=JSON.stringify(e.request);return e.data&&(this.deduped.entries[n]={result:[null,e.data]}),this.deduped.request(n,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},t=>{const n=Me(e.request,(e,n,i,s)=>{e?t(e):n&&t(null,{vectorTile:o?void 0:new O_.VectorTile(new Tp(n)),rawData:n,cacheControl:i,expires:s})});return()=>{n.cancel(),t()}},t)}e.ARRAY_TYPE=ar,e.AUTH_ERR_MSG=Q,e.Actor=class{constructor(e,t,o){this.target=e,this.parent=t,this.mapId=o,this.callbacks={},this.cancelCallbacks={},M(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=B()?e:r,this.scheduler=new Pu}send(e,t,o,n,i=!1,s){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(o.metadata=s,this.callbacks[a]=o);const r=U(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!o,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:ii(t,r)},r),{cancel:()=>{o&&delete this.callbacks[a],this.target.postMessage({id:a,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId})}}}receive(e){const t=e.data,o=t.id;if(o&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){const e=this.cancelCallbacks[o];delete this.cancelCallbacks[o],e&&e.cancel()}else if(t.mustQueue||B()){const e=this.callbacks[o];this.cancelCallbacks[o]=this.scheduler.add(()=>this.processTask(o,t),e&&e.metadata||{type:"message"})}else this.processTask(o,t)}processTask(e,t){if("<response>"===t.type){const o=this.callbacks[e];delete this.callbacks[e],o&&(t.error?o(si(t.error)):o(null,si(t.data)))}else{const o=U(this.globalScope)?void 0:[],n=t.hasCallback?(t,n)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?ii(t):null,data:ii(n,o)},o)}:e=>{},i=si(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,i,n);else if(this.parent.getWorkerSource){const e=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,e[0],i.source)[e[1]](i,n)}else n(new Error("Could not find function "+t.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.CanonicalTileID=Lu,e.Color=ut,e.ColorMode=of,e.CullFaceMode=nf,e.DEMData=Ju,e.DataConstantProperty=ps,e.DedupedRequest=mf,e.DepthMode=ef,e.EXTENT=Ba,e.Elevation=class{getAtPointOrZero(e,t=0){return this.getAtPoint(e,t)||0}getAtPoint(e,t,o=!0){null==t&&(t=null);const n=this._source();if(!n)return t;if(e.y<0||e.y>1)return t;const i=n.getSource().maxzoom,s=1<<i,a=Math.floor(e.x),r=e.x-a,_=new Ru(i,a,i,Math.floor(r*s),Math.floor(e.y*s)),p=this.findDEMTileFor(_);if(!p||!p.dem)return t;const l=p.dem,u=1<<p.tileID.canonical.z,f=(r*u-p.tileID.canonical.x)*l.dim,d=(e.y*u-p.tileID.canonical.y)*l.dim,c=Math.floor(f),m=Math.floor(d);return(o?this.exaggeration():1)*oo(oo(l.get(c,m),l.get(c,m+1),d-m),oo(l.get(c+1,m),l.get(c+1,m+1),d-m),f-c)}getAtTileOffset(e,t,o){const n=1<<e.canonical.z;return this.getAtPointOrZero(new Su(e.wrap+(e.canonical.x+t/Ba)/n,(e.canonical.y+o/Ba)/n))}getForTilePoints(e,t,o,n){const i=_f.create(this,e,n);return!!i&&(t.forEach(e=>{e[2]=this.exaggeration()*i.getElevationAt(e[0],e[1],o)}),!0)}getMinMaxForTile(e){const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const o=t.dem.tree,n=t.tileID,i=1<<e.canonical.z-n.canonical.z;let s=e.canonical.x/i-n.canonical.x,a=e.canonical.y/i-n.canonical.y,r=0;for(let t=0;t<e.canonical.z-n.canonical.z&&!o.leaves[r];t++){s*=2,a*=2;const e=2*Math.floor(a)+Math.floor(s);r=o.childOffsets[r]+e,s%=1,a%=1}return{min:this.exaggeration()*o.minimums[r],max:this.exaggeration()*o.maximums[r]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(e,t,o){throw new Error("Pure virtual method called.")}pointCoordinate(e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},e.ErrorEvent=Fe,e.EvaluationParameters=es,e.Event=Re,e.Evented=Oe,e.GlyphManager=wl,e.ImagePosition=Hp,e.LineAtlas=Eu,e.LngLat=vu,e.LngLatBounds=yu,e.LocalGlyphMode=bl,e.MAX_SAFE_INTEGER=_,e.MercatorCoordinate=Su,e.ONE_EM=24,e.OverscaledTileID=Ru,e.Properties=cs,e.RGBAImage=Fr,e.RequestManager=class{constructor(e,t,o){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!o,this._createSkuToken()}_createSkuToken(){const e=function(){let e="";for(let t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",J,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!ee(e))return e;const o=ne(e);return o.path="/styles/v1"+o.path,this._makeAPIURL(o,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!ee(e))return e;const o=ne(e);return o.path="/fonts/v1"+o.path,this._makeAPIURL(o,this._customAccessToken||t)}normalizeSourceURL(e,t){if(!ee(e))return e;const o=ne(e);return o.path=`/v4/${o.authority}.json`,o.params.push("secure"),this._makeAPIURL(o,this._customAccessToken||t)}normalizeSpriteURL(e,t,o,n){const i=ne(e);return ee(e)?(i.path=`/styles/v1${i.path}/sprite${t}${o}`,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=`${t}${o}`,ie(i))}normalizeTileURL(e,t,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!ee(e))return e;const n=ne(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||o&&"raster"!==n.authority&&512===o?"@2x":""}${q.supported?".webp":"$1"}`),"raster"===n.authority?n.path=`/${j.RASTER_URL_PREFIX}${n.path}`:(n.path=n.path.replace(/^.+\/v4\//,"/"),n.path=`/${j.TILE_URL_VERSION}${n.path}`);const i=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(n.params)||j.ACCESS_TOKEN;return j.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,i)}canonicalizeTileURL(e,t){const o=ne(e);if(!o.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!o.path.match(/\.[\w]+$/))return e;let n="mapbox://";o.path.match(/^\/raster\/v1\//)?n+="raster/"+o.path.replace(`/${j.RASTER_URL_PREFIX}/`,""):n+="tiles/"+o.path.replace(`/${j.TILE_URL_VERSION}/`,"");let i=o.params;return t&&(i=i.filter(e=>!e.match(/^access_token=/))),i.length&&(n+="?"+i.join("&")),n}canonicalizeTileset(e,t){const o=!!t&&ee(t),n=[];for(const t of e.tiles||[])te(t)?n.push(this.canonicalizeTileURL(t,o)):n.push(t);return n}_makeAPIURL(e,t){const o="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=ne(j.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"http"===e.protocol){const t=e.params.indexOf("secure");t>=0&&e.params.splice(t,1)}if("/"!==n.path&&(e.path=`${n.path}${e.path}`),!j.REQUIRE_ACCESS_TOKEN)return ie(e);if(t=t||j.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. "+o);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+o)}return e.params=e.params.filter(e=>-1===e.indexOf("access_token")),e.params.push("access_token="+(t||"")),ie(e)}},e.ResourceType=be,e.SegmentVector=La,e.SourceCache=sf,e.StencilMode=tf,e.StructArrayLayout1ui2=Vs,e.StructArrayLayout2f1f2i16=zs,e.StructArrayLayout2i4=Cs,e.StructArrayLayout2ui4=Ns,e.StructArrayLayout3f12=Ts,e.StructArrayLayout3ui6=Ds,e.StructArrayLayout4i8=bs,e.Texture=hu,e.Tile=Uu,e.Transitionable=ns,e.Uniform1f=fa,e.Uniform1i=class extends ua{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.Uniform2f=class extends ua{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.Uniform3f=class extends ua{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.Uniform4f=da,e.UniformColor=ca,e.UniformMatrix3f=class extends ua{constructor(e,t){super(e,t),this.current=ha}set(e){for(let t=0;t<9;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix3fv(this.location,!1,e);break}}},e.UniformMatrix4f=class extends ua{constructor(e,t){super(e,t),this.current=ma}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.UnwrappedTileID=Bu,e.ValidationError=Ve,e.VectorTileWorkerSource=class extends Oe{constructor(e,t,o,n,i){super(),this.actor=e,this.layerIndex=t,this.availableImages=o,this.loadVectorData=i||hf,this.loading={},this.loaded={},this.deduped=new mf(e.scheduler),this.isSpriteLoaded=n,this.scheduler=e.scheduler}loadTile(e,t){const o=e.uid,n=e&&e.request,i=n&&n.collectResourceTiming,s=this.loading[o]=new df(e);s.abort=this.loadVectorData(e,(a,r)=>{const _=!this.loading[o];if(delete this.loading[o],_||a||!r)return s.status="done",_||(this.loaded[o]=s),t(a);const p=r.rawData,l={};r.expires&&(l.expires=r.expires),r.cacheControl&&(l.cacheControl=r.cacheControl),s.vectorTile=r.vectorTile||new O_.VectorTile(new Tp(p));const u=()=>{s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,(e,o)=>{if(e||!o)return t(e);const s={};if(i){const e=zu(n);e.length>0&&(s.resourceTiming=JSON.parse(JSON.stringify(e)))}t(null,x({rawTileData:p.slice(0)},o,l,s))})};this.isSpriteLoaded?u():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(u,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):u()}),this.loaded=this.loaded||{},this.loaded[o]=s})}reloadTile(e,t){const o=this.loaded,n=e.uid,i=this;if(o&&o[n]){const s=o[n];s.showCollisionBoxes=e.showCollisionBoxes,s.enableTerrain=!!e.enableTerrain;const a=(e,o)=>{const n=s.reloadCallback;n&&(delete s.reloadCallback,s.parse(s.vectorTile,i.layerIndex,this.availableImages,i.actor,n)),t(e,o)};"parsing"===s.status?s.reloadCallback=a:"done"===s.status&&(s.vectorTile?s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const o=e.uid,n=this.loading[o];n&&(n.abort&&n.abort(),delete this.loading[o]),t()}removeTile(e,t){const o=this.loaded,n=e.uid;o&&o[n]&&delete o[n],t()}},e.WritingMode=Xp,e.ZoomHistory=ai,e.add=function(e,t,o){return e[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e},e.addDynamicAttributes=Xl,e.altitudeFromMercatorZ=Mu,e.asyncAll=g,e.bezier=c,e.bindAll=M,e.bufferConvexPolygon=function(e,t){const o=[];for(let n=0;n<e.length;n++){const i=y(n-1,-1,e.length-1),s=y(n+1,-1,e.length-1),a=e[n],r=e[s],_=e[i].sub(a).unit(),p=r.sub(a).unit(),l=p.angleWithSep(_.x,_.y),u=_.add(p).unit().mult(-1*t/Math.sin(l/2));o.push(a.add(u))}return o},e.cacheEntryPossiblyAdded=function(e){Ce++,Ce>ge&&(e.getActor().send("enforceCacheSizeLimit",ye),Ce=0)},e.clamp=h,e.clearTileCache=function(e){const t=r.caches.delete(ce);e&&t.catch(e).then(()=>e())},e.clipLine=gl,e.clone=function(e){var t=new ar(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.clone$1=function(e){var t=new ar(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$2=I,e.collisionCircleLayout=fp,e.config=j,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.create=ur,e.create$1=function(){var e=new ar(16);return ar!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$2=rr,e.createExpression=an,e.createFilter=vn,e.createLayout=vs,e.createStyleLayer=function(e){return"custom"===e.type?new ru(e):new lu[e.type](e)},e.cross=function(e,t,o){var n=t[0],i=t[1],s=t[2],a=o[0],r=o[1],_=o[2];return e[0]=i*_-s*r,e[1]=s*a-n*_,e[2]=n*r-i*a,e},e.degToRad=u,e.div=function(e,t,o){return e[0]=t[0]/o[0],e[1]=t[1]/o[1],e[2]=t[2]/o[2],e},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=m,e.easeCubicInOut=d,e.emitValidationErrors=$n,e.endsWith=S,e.enforceCacheSizeLimit=function(e){ve(),me&&me.then(t=>{t.keys().then(o=>{for(let n=0;n<o.length-e;n++)t.delete(o[n])})})},e.evaluateSizeForFeature=mp,e.evaluateSizeForZoom=hp,e.evaluateVariableOffset=Fl,e.evented=Xi,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=W,e.exported$1=q,e.extend=x,e.filterObject=A,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var o=t[0],n=t[1],i=t[2],s=t[3],a=o+o,r=n+n,_=i+i,p=o*a,l=n*a,u=n*r,f=i*a,d=i*r,c=i*_,m=s*a,h=s*r,y=s*_;return e[0]=1-u-c,e[1]=l+y,e[2]=f-h,e[3]=0,e[4]=l-y,e[5]=1-p-c,e[6]=d+m,e[7]=0,e[8]=f+h,e[9]=d-m,e[10]=1-p-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var o=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=o,e[2]=0,e[3]=-o,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.furthestTileCorner=function(e){const t=Math.round((e+45+360)%360/90)%4;return f[t]},e.getAABBPointSquareDist=function(e,t,o){let n=0;for(let i=0;i<2;++i){const s=o?o[i]:0;e[i]>s&&(n+=(e[i]-s)*(e[i]-s)),t[i]<s&&(n+=(s-t[i])*(s-t[i]))}return n},e.getAnchorAlignment=rl,e.getAnchorJustification=Nl,e.getBounds=function(e){let t=1/0,o=1/0,n=-1/0,i=-1/0;for(const s of e)t=Math.min(t,s.x),o=Math.min(o,s.y),n=Math.max(n,s.x),i=Math.max(i,s.y);return{min:new s(t,o),max:new s(n,i)}},e.getImage=De,e.getJSON=function(e,t){return ke(x(e,{type:"json"}),t)},e.getMapSessionAPI=fe,e.getPerformanceMeasurement=zu,e.getRTLTextPluginStatus=Yi,e.getReferrer=Te,e.getVideo=function(e,t){const o=r.document.createElement("video");o.muted=!0,o.onloadstart=function(){t(null,o)};for(let t=0;t<e.length;t++){const n=r.document.createElement("source");Ae(e[t])||(o.crossOrigin="Anonymous"),n.src=e[t],o.appendChild(n)}return{cancel:()=>{}}},e.identity=_r,e.identity$1=kr,e.invert=function(e,t){var o=t[0],n=t[1],i=t[2],s=t[3],a=t[4],r=t[5],_=t[6],p=t[7],l=t[8],u=t[9],f=t[10],d=t[11],c=t[12],m=t[13],h=t[14],y=t[15],g=o*r-n*a,v=o*_-i*a,x=o*p-s*a,C=n*_-i*r,b=n*p-s*r,w=i*p-s*_,T=l*m-u*c,k=l*h-f*c,M=l*y-d*c,S=u*h-f*m,E=u*y-d*m,A=f*y-d*h,I=g*A-v*E+x*S+C*M-b*k+w*T;return I?(e[0]=(r*A-_*E+p*S)*(I=1/I),e[1]=(i*E-n*A-s*S)*I,e[2]=(m*w-h*b+y*C)*I,e[3]=(f*b-u*w-d*C)*I,e[4]=(_*M-a*A-p*k)*I,e[5]=(o*A-i*M+s*k)*I,e[6]=(h*x-c*w-y*v)*I,e[7]=(l*w-f*x+d*v)*I,e[8]=(a*E-r*M+p*T)*I,e[9]=(n*M-o*E-s*T)*I,e[10]=(c*b-m*x+y*g)*I,e[11]=(u*x-l*b-d*g)*I,e[12]=(r*k-a*S-_*T)*I,e[13]=(o*S-n*k+i*T)*I,e[14]=(m*v-c*C-h*g)*I,e[15]=(l*C-u*v+f*g)*I,e):null},e.isMapAuthenticated=function(e){return de.has(e)},e.isMapboxURL=ee,e.latFromMercatorY=ku,e.len=br,e.length=fr,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.loadVectorTile=hf,e.makeRequest=ke,e.mercatorXfromLng=bu,e.mercatorYfromLat=wu,e.mercatorZfromAltitude=Tu,e.mul=function(e,t,o){return e[0]=t[0]*o[0],e[1]=t[1]*o[1],e[2]=t[2]*o[2],e[3]=t[3]*o[3],e},e.mul$1=lr,e.mul$2=Cr,e.multiply=pr,e.multiply$1=mr,e.nextPowerOfTwo=T,e.normalize=yr,e.normalize$1=function(e,t){var o=t[0],n=t[1],i=t[2],s=t[3],a=o*o+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),e[0]=o*a,e[1]=n*a,e[2]=i*a,e[3]=s*a,e},e.number=oo,e.ortho=function(e,t,o,n,i,s,a){var r=1/(t-o),_=1/(n-i),p=1/(s-a);return e[0]=-2*r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*_,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*p,e[11]=0,e[12]=(t+o)*r,e[13]=(i+n)*_,e[14]=(a+s)*p,e[15]=1,e},e.pbf=Tp,e.perspective=function(e,t,o,n,i){var s,a=1/Math.tan(t/2);return e[0]=a/o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(s=1/(n-i)),e[14]=2*i*n*s):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){const o={};for(let n=0;n<t.length;n++){const i=t[n];i in e&&(o[i]=e[i])}return o},e.plugin=Qi,e.pointGeometry=s,e.polygonIntersectsBox=Ja,e.polygonIntersectsPolygon=Ga,e.polygonizeBounds=function(e,t,o=0,n=!0){const i=new s(o,o),a=e.sub(i),r=t.add(i),_=[a,new s(r.x,a.y),r,new s(a.x,r.y)];return n&&_.push(a),_},e.posAttributes=Vu,e.postMapLoadEvent=le,e.postTurnstileEvent=_e,e.potpack=Kp,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=function(e){return e*l},e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:qi,pluginURL:Ki}),Xi.on("pluginStateChange",e),e},e.removeAuthState=function(e){de.delete(e)},e.renderColorRamp=Nr,e.rotateX=function(e,t,o){var n=Math.sin(o),i=Math.cos(o),s=t[4],a=t[5],r=t[6],_=t[7],p=t[8],l=t[9],u=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+p*n,e[5]=a*i+l*n,e[6]=r*i+u*n,e[7]=_*i+f*n,e[8]=p*i-s*n,e[9]=l*i-a*n,e[10]=u*i-r*n,e[11]=f*i-_*n,e},e.rotateX$1=Mr,e.rotateY=function(e,t,o){var n=Math.sin(o),i=Math.cos(o),s=t[0],a=t[1],r=t[2],_=t[3],p=t[8],l=t[9],u=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-p*n,e[1]=a*i-l*n,e[2]=r*i-u*n,e[3]=_*i-f*n,e[8]=s*n+p*i,e[9]=a*n+l*i,e[10]=r*n+u*i,e[11]=_*n+f*i,e},e.rotateZ=function(e,t,o){var n=Math.sin(o),i=Math.cos(o),s=t[0],a=t[1],r=t[2],_=t[3],p=t[4],l=t[5],u=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+p*n,e[1]=a*i+l*n,e[2]=r*i+u*n,e[3]=_*i+f*n,e[4]=p*i-s*n,e[5]=l*i-a*n,e[6]=u*i-r*n,e[7]=f*i-_*n,e},e.rotateZ$1=function(e,t,o){o*=.5;var n=t[0],i=t[1],s=t[2],a=t[3],r=Math.sin(o),_=Math.cos(o);return e[0]=n*_+i*r,e[1]=i*_-n*r,e[2]=s*_+a*r,e[3]=a*_-s*r,e},e.scale=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.scale$1=function(e,t,o){var n=o[0],i=o[1],s=o[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$2=function(e,t,o){return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e},e.scaleAndAdd=hr,e.setCacheLimits=function(e,t){ye=e,ge=t},e.setRTLTextPlugin=function(e,t,o=!1){if(qi===Gi||qi===Wi||qi===Zi)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ki=W.resolveURL(e),qi=Gi,ji=t,$i(),o||Ji()},e.smoothstep=function(e,t,o){return(o=h((o-e)/(t-e),0,1))*o*(3-2*o)},e.spec=Ne,e.storeAuthState=function(e,t){t?de.add(e):de.delete(e)},e.sub=xr,e.subtract=cr,e.symbolSize=yp,e.transformMat3=function(e,t,o){var n=t[0],i=t[1],s=t[2];return e[0]=n*o[0]+i*o[3]+s*o[6],e[1]=n*o[1]+i*o[4]+s*o[7],e[2]=n*o[2]+i*o[5]+s*o[8],e},e.transformMat4=wr,e.transformMat4$1=function(e,t,o){var n=t[0],i=t[1],s=t[2],a=o[3]*n+o[7]*i+o[11]*s+o[15];return e[0]=(o[0]*n+o[4]*i+o[8]*s+o[12])/(a=a||1),e[1]=(o[1]*n+o[5]*i+o[9]*s+o[13])/a,e[2]=(o[2]*n+o[6]*i+o[10]*s+o[14])/a,e},e.transformQuat=gr,e.translate=function(e,t,o){var n,i,s,a,r,_,p,l,u,f,d,c,m=o[0],h=o[1],y=o[2];return t===e?(e[12]=t[0]*m+t[4]*h+t[8]*y+t[12],e[13]=t[1]*m+t[5]*h+t[9]*y+t[13],e[14]=t[2]*m+t[6]*h+t[10]*y+t[14],e[15]=t[3]*m+t[7]*h+t[11]*y+t[15]):(i=t[1],s=t[2],a=t[3],r=t[4],_=t[5],p=t[6],l=t[7],u=t[8],f=t[9],d=t[10],c=t[11],e[0]=n=t[0],e[1]=i,e[2]=s,e[3]=a,e[4]=r,e[5]=_,e[6]=p,e[7]=l,e[8]=u,e[9]=f,e[10]=d,e[11]=c,e[12]=n*m+r*h+u*y+t[12],e[13]=i*m+_*h+f*y+t[13],e[14]=s*m+p*h+d*y+t[14],e[15]=a*m+l*h+c*y+t[15]),e},e.triggerPluginCompletionEvent=Hi,e.uniqueId=b,e.validateCustomStyleLayer=function(e){const t=[],o=e.id;return void 0===o&&t.push({message:`layers.${o}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${o}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateFog=qn,e.validateLight=jn,e.validateStyle=Zn,e.values=v,e.vectorTile=O_,e.version=o,e.warnOnce=P,e.window=r,e.wrap=y})),i(0,(function(e){function t(e){const o=typeof e;if("number"===o||"boolean"===o||"string"===o||null==e)return JSON.stringify(e);if(Array.isArray(e)){let o="[";for(const n of e)o+=t(n)+",";return o+"]"}const n=Object.keys(e).sort();let i="{";for(let o=0;o<n.length;o++)i+=`${JSON.stringify(n[o])}:${t(e[n[o]])},`;return i+"}"}function o(o){let n="";for(const i of e.refProperties)n+="/"+t(o[i]);return n}class n{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,n){for(const o of t){this._layerConfigs[o.id]=o;const t=this._layers[o.id]=e.createStyleLayer(o);t._featureFilter=e.createFilter(t.filter),this.keyCache[o.id]&&delete this.keyCache[o.id]}for(const e of n)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=function(e,t){const n={};for(let i=0;i<e.length;i++){const s=t&&t[e[i].id]||o(e[i]);t&&(t[e[i].id]=s);let a=n[s];a||(a=n[s]=[]),a.push(e[i])}const i=[];for(const e in n)i.push(n[e]);return i}(e.values(this._layerConfigs),this.keyCache);for(const e of i){const t=e.map(e=>this._layers[e.id]),o=t[0];if("none"===o.visibility)continue;const n=o.source||"";let i=this.familiesBySource[n];i||(i=this.familiesBySource[n]={});const s=o.sourceLayer||"_geojsonTileLayer";let a=i[s];a||(a=i[s]=[]),a.push(t)}}}const{ImageBitmap:i}=e.window;class s{loadTile(t,o){const{uid:n,encoding:s,rawImageData:a,padding:r,buildQuadTree:_}=t,p=i&&a instanceof i?this.getImageData(a,r):a;o(null,new e.DEMData(n,p,s,r<1,_))}getImageData(t,o){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);const n=this.offscreenCanvasContext.getImageData(-o,-o,t.width+2*o,t.height+2*o);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)}}var a=function e(t,o){var n,i=t&&t.type;if("FeatureCollection"===i)for(n=0;n<t.features.length;n++)e(t.features[n],o);else if("GeometryCollection"===i)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],o);else if("Feature"===i)e(t.geometry,o);else if("Polygon"===i)r(t.coordinates,o);else if("MultiPolygon"===i)for(n=0;n<t.coordinates.length;n++)r(t.coordinates[n],o);return t};function r(e,t){if(0!==e.length){_(e[0],t);for(var o=1;o<e.length;o++)_(e[o],!t)}}function _(e,t){for(var o=0,n=0,i=e.length,s=i-1;n<i;s=n++)o+=(e[n][0]-e[s][0])*(e[s][1]+e[n][1]);o>=0!=!!t&&e.reverse()}const p=e.vectorTile.VectorTileFeature.prototype.toGeoJSON;class l{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const o of this._feature.geometry)t.push([new e.pointGeometry(o[0],o[1])]);return t}{const t=[];for(const o of this._feature.geometry){const n=[];for(const t of o)n.push(new e.pointGeometry(t[0],t[1]));t.push(n)}return t}}toGeoJSON(e,t,o){return p.call(this,e,t,o)}}class u{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new l(this._features[e])}}var f=e.vectorTile.VectorTileFeature,d=c;function c(e,t){this.options=t||{},this.features=e,this.length=e.length}function m(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}c.prototype.feature=function(e){return new m(this.features[e],this.options.extent)},m.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var o=0;o<t.length;o++){for(var n=t[o],i=[],s=0;s<n.length;s++)i.push(new e.pointGeometry(n[s][0],n[s][1]));this.geometry.push(i)}return this.geometry},m.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,o=-1/0,n=1/0,i=-1/0,s=0;s<e.length;s++)for(var a=e[s],r=0;r<a.length;r++){var _=a[r];t=Math.min(t,_.x),o=Math.max(o,_.x),n=Math.min(n,_.y),i=Math.max(i,_.y)}return[t,n,o,i]},m.prototype.toGeoJSON=f.prototype.toGeoJSON;var h=g,y=d;function g(t){var o=new e.pbf;return function(e,t){for(var o in e.layers)t.writeMessage(3,v,e.layers[o])}(t,o),o.finish()}function v(e,t){var o;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(o=0;o<e.length;o++)n.feature=e.feature(o),t.writeMessage(2,x,n);var i=n.keys;for(o=0;o<i.length;o++)t.writeStringField(3,i[o]);var s=n.values;for(o=0;o<s.length;o++)t.writeMessage(4,k,s[o])}function x(e,t){var o=e.feature;void 0!==o.id&&t.writeVarintField(1,o.id),t.writeMessage(2,C,e),t.writeVarintField(3,o.type),t.writeMessage(4,T,o)}function C(e,t){var o=e.feature,n=e.keys,i=e.values,s=e.keycache,a=e.valuecache;for(var r in o.properties){var _=s[r];void 0===_&&(n.push(r),s[r]=_=n.length-1),t.writeVarint(_);var p=o.properties[r],l=typeof p;"string"!==l&&"boolean"!==l&&"number"!==l&&(p=JSON.stringify(p));var u=l+":"+p,f=a[u];void 0===f&&(i.push(p),a[u]=f=i.length-1),t.writeVarint(f)}}function b(e,t){return(t<<3)+(7&e)}function w(e){return e<<1^e>>31}function T(e,t){for(var o=e.loadGeometry(),n=e.type,i=0,s=0,a=o.length,r=0;r<a;r++){var _=o[r],p=1;1===n&&(p=_.length),t.writeVarint(b(1,p));for(var l=3===n?_.length-1:_.length,u=0;u<l;u++){1===u&&1!==n&&t.writeVarint(b(2,l-1));var f=_[u].x-i,d=_[u].y-s;t.writeVarint(w(f)),t.writeVarint(w(d)),i+=f,s+=d}3===n&&t.writeVarint(b(7,1))}}function k(e,t){var o=typeof e;"string"===o?t.writeStringField(1,e):"boolean"===o?t.writeBooleanField(7,e):"number"===o&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function M(e,t,o,n,i,s){if(i-n<=o)return;const a=n+i>>1;(function e(t,o,n,i,s,a){for(;s>i;){if(s-i>600){const r=s-i+1,_=n-i+1,p=Math.log(r),l=.5*Math.exp(2*p/3),u=.5*Math.sqrt(p*l*(r-l)/r)*(_-r/2<0?-1:1);e(t,o,n,Math.max(i,Math.floor(n-_*l/r+u)),Math.min(s,Math.floor(n+(r-_)*l/r+u)),a)}const r=o[2*n+a];let _=i,p=s;for(S(t,o,i,n),o[2*s+a]>r&&S(t,o,i,s);_<p;){for(S(t,o,_,p),_++,p--;o[2*_+a]<r;)_++;for(;o[2*p+a]>r;)p--}o[2*i+a]===r?S(t,o,i,p):(p++,S(t,o,p,s)),p<=n&&(i=p+1),n<=p&&(s=p-1)}})(e,t,a,n,i,s%2),M(e,t,o,n,a-1,s+1),M(e,t,o,a+1,i,s+1)}function S(e,t,o,n){E(e,o,n),E(t,2*o,2*n),E(t,2*o+1,2*n+1)}function E(e,t,o){const n=e[t];e[t]=e[o],e[o]=n}function A(e,t,o,n){const i=e-o,s=t-n;return i*i+s*s}h.fromVectorTileJs=g,h.fromGeojsonVt=function(e,t){t=t||{};var o={};for(var n in e)o[n]=new d(e[n].features,t),o[n].name=n,o[n].version=t.version,o[n].extent=t.extent;return g({layers:o})},h.GeoJSONWrapper=y;const I=e=>e[0],z=e=>e[1];class P{constructor(e,t=I,o=z,n=64,i=Float64Array){this.nodeSize=n,this.points=e;const s=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new s(e.length),r=this.coords=new i(2*e.length);for(let n=0;n<e.length;n++)a[n]=n,r[2*n]=t(e[n]),r[2*n+1]=o(e[n]);M(a,r,n,0,a.length-1,0)}range(e,t,o,n){return function(e,t,o,n,i,s,a){const r=[0,e.length-1,0],_=[];let p,l;for(;r.length;){const u=r.pop(),f=r.pop(),d=r.pop();if(f-d<=a){for(let a=d;a<=f;a++)p=t[2*a],l=t[2*a+1],p>=o&&p<=i&&l>=n&&l<=s&&_.push(e[a]);continue}const c=Math.floor((d+f)/2);p=t[2*c],l=t[2*c+1],p>=o&&p<=i&&l>=n&&l<=s&&_.push(e[c]);const m=(u+1)%2;(0===u?o<=p:n<=l)&&(r.push(d),r.push(c-1),r.push(m)),(0===u?i>=p:s>=l)&&(r.push(c+1),r.push(f),r.push(m))}return _}(this.ids,this.coords,e,t,o,n,this.nodeSize)}within(e,t,o){return function(e,t,o,n,i,s){const a=[0,e.length-1,0],r=[],_=i*i;for(;a.length;){const p=a.pop(),l=a.pop(),u=a.pop();if(l-u<=s){for(let i=u;i<=l;i++)A(t[2*i],t[2*i+1],o,n)<=_&&r.push(e[i]);continue}const f=Math.floor((u+l)/2),d=t[2*f],c=t[2*f+1];A(d,c,o,n)<=_&&r.push(e[f]);const m=(p+1)%2;(0===p?o-i<=d:n-i<=c)&&(a.push(u),a.push(f-1),a.push(m)),(0===p?o+i>=d:n+i>=c)&&(a.push(f+1),a.push(l),a.push(m))}return r}(this.ids,this.coords,e,t,o,this.nodeSize)}}const D={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},L=Math.fround||(B=new Float32Array(1),e=>(B[0]=+e,B[0]));var B;class R{constructor(e){this.options=Z(Object.create(D),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:o,maxZoom:n,nodeSize:i}=this.options;t&&console.time("total time");const s=`prepare ${e.length} points`;t&&console.time(s),this.points=e;let a=[];for(let t=0;t<e.length;t++)e[t].geometry&&a.push(O(e[t],t));this.trees[n+1]=new P(a,j,q,i,Float32Array),t&&console.timeEnd(s);for(let e=n;e>=o;e--){const o=+Date.now();a=this._cluster(a,e),this.trees[e]=new P(a,j,q,i,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,a.length,+Date.now()-o)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let o=((e[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)o=-180,i=180;else if(o>i){const e=this.getClusters([o,n,180,s],t),a=this.getClusters([-180,n,i,s],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],r=a.range(U(o),G(s),U(i),G(n)),_=[];for(const e of r){const t=a.points[e];_.push(t.numPoints?N(t):this.points[t.index])}return _}getChildren(e){const t=this._getOriginId(e),o=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[o];if(!i)throw new Error(n);const s=i.points[t];if(!s)throw new Error(n);const a=this.options.radius/(this.options.extent*Math.pow(2,o-1)),r=i.within(s.x,s.y,a),_=[];for(const t of r){const o=i.points[t];o.parentId===e&&_.push(o.numPoints?N(o):this.points[o.index])}if(0===_.length)throw new Error(n);return _}getLeaves(e,t,o){const n=[];return this._appendLeaves(n,e,t=t||10,o=o||0,0),n}getTile(e,t,o){const n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:s,radius:a}=this.options,r=a/s,_=(o-r)/i,p=(o+1+r)/i,l={features:[]};return this._addTileFeatures(n.range((t-r)/i,_,(t+1+r)/i,p),n.points,t,o,i,l),0===t&&this._addTileFeatures(n.range(1-r/i,_,1,p),n.points,i,o,i,l),t===i-1&&this._addTileFeatures(n.range(0,_,r/i,p),n.points,-1,o,i,l),l.features.length?l:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const o=this.getChildren(e);if(t++,1!==o.length)break;e=o[0].properties.cluster_id}return t}_appendLeaves(e,t,o,n,i){const s=this.getChildren(t);for(const t of s){const s=t.properties;if(s&&s.cluster?i+s.point_count<=n?i+=s.point_count:i=this._appendLeaves(e,s.cluster_id,o,n,i):i<n?i++:e.push(t),e.length===o)break}return i}_addTileFeatures(e,t,o,n,i,s){for(const a of e){const e=t[a],r=e.numPoints;let _,p,l;if(r)_=V(e),p=e.x,l=e.y;else{const t=this.points[e.index];_=t.properties,p=U(t.geometry.coordinates[0]),l=G(t.geometry.coordinates[1])}const u={type:1,geometry:[[Math.round(this.options.extent*(p*i-o)),Math.round(this.options.extent*(l*i-n))]],tags:_};let f;r?f=e.id:this.options.generateId?f=e.index:this.points[e.index].id&&(f=this.points[e.index].id),void 0!==f&&(u.id=f),s.features.push(u)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,t){const o=[],{radius:n,extent:i,reduce:s,minPoints:a}=this.options,r=n/(i*Math.pow(2,t));for(let n=0;n<e.length;n++){const i=e[n];if(i.zoom<=t)continue;i.zoom=t;const _=this.trees[t+1],p=_.within(i.x,i.y,r),l=i.numPoints||1;let u=l;for(const e of p){const o=_.points[e];o.zoom>t&&(u+=o.numPoints||1)}if(u>=a){let e=i.x*l,a=i.y*l,r=s&&l>1?this._map(i,!0):null;const f=(n<<5)+(t+1)+this.points.length;for(const o of p){const n=_.points[o];if(n.zoom<=t)continue;n.zoom=t;const p=n.numPoints||1;e+=n.x*p,a+=n.y*p,n.parentId=f,s&&(r||(r=this._map(i,!0)),s(r,this._map(n)))}i.parentId=f,o.push(F(e/u,a/u,f,u,r))}else if(o.push(i),u>1)for(const e of p){const n=_.points[e];n.zoom<=t||(n.zoom=t,o.push(n))}}return o}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?Z({},e.properties):e.properties;const o=this.points[e.index].properties,n=this.options.map(o);return t&&n===o?Z({},n):n}}function F(e,t,o,n,i){return{x:L(e),y:L(t),zoom:1/0,id:o,parentId:-1,numPoints:n,properties:i}}function O(e,t){const[o,n]=e.geometry.coordinates;return{x:L(U(o)),y:L(G(n)),zoom:1/0,index:t,parentId:-1}}function N(e){return{type:"Feature",id:e.id,properties:V(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),W(e.y)]}};var t}function V(e){const t=e.numPoints,o=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return Z(Z({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:o})}function U(e){return e/360+.5}function G(e){const t=Math.sin(e*Math.PI/180),o=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return o<0?0:o>1?1:o}function W(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Z(e,t){for(const o in t)e[o]=t[o];return e}function j(e){return e.x}function q(e){return e.y}function K(e,t,o,n,i,s){var a=i-o,r=s-n;if(0!==a||0!==r){var _=((e-o)*a+(t-n)*r)/(a*a+r*r);_>1?(o=i,n=s):_>0&&(o+=a*_,n+=r*_)}return(a=e-o)*a+(r=t-n)*r}function H(e,t,o,n){var i={id:void 0===e?null:e,type:t,geometry:o,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,o=e.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)$(e,t);else if("Polygon"===o||"MultiLineString"===o)for(var n=0;n<t.length;n++)$(e,t[n]);else if("MultiPolygon"===o)for(n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)$(e,t[n][i])}(i),i}function $(e,t){for(var o=0;o<t.length;o+=3)e.minX=Math.min(e.minX,t[o]),e.minY=Math.min(e.minY,t[o+1]),e.maxX=Math.max(e.maxX,t[o]),e.maxY=Math.max(e.maxY,t[o+1])}function X(e,t,o,n){if(t.geometry){var i=t.geometry.coordinates,s=t.geometry.type,a=Math.pow(o.tolerance/((1<<o.maxZoom)*o.extent),2),r=[],_=t.id;if(o.promoteId?_=t.properties[o.promoteId]:o.generateId&&(_=n||0),"Point"===s)Y(i,r);else if("MultiPoint"===s)for(var p=0;p<i.length;p++)Y(i[p],r);else if("LineString"===s)J(i,r,a,!1);else if("MultiLineString"===s){if(o.lineMetrics){for(p=0;p<i.length;p++)J(i[p],r=[],a,!1),e.push(H(_,"LineString",r,t.properties));return}Q(i,r,a,!1)}else if("Polygon"===s)Q(i,r,a,!0);else{if("MultiPolygon"!==s){if("GeometryCollection"===s){for(p=0;p<t.geometry.geometries.length;p++)X(e,{id:_,geometry:t.geometry.geometries[p],properties:t.properties},o,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(p=0;p<i.length;p++){var l=[];Q(i[p],l,a,!0),r.push(l)}}e.push(H(_,s,r,t.properties))}}function Y(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function J(e,t,o,n){for(var i,s,a=0,r=0;r<e.length;r++){var _=ee(e[r][0]),p=te(e[r][1]);t.push(_),t.push(p),t.push(0),r>0&&(a+=n?(i*p-_*s)/2:Math.sqrt(Math.pow(_-i,2)+Math.pow(p-s,2))),i=_,s=p}var l=t.length-3;t[2]=1,function e(t,o,n,i){for(var s,a=i,r=n-o>>1,_=n-o,p=t[o],l=t[o+1],u=t[n],f=t[n+1],d=o+3;d<n;d+=3){var c=K(t[d],t[d+1],p,l,u,f);if(c>a)s=d,a=c;else if(c===a){var m=Math.abs(d-r);m<_&&(s=d,_=m)}}a>i&&(s-o>3&&e(t,o,s,i),t[s+2]=a,n-s>3&&e(t,s,n,i))}(t,0,l,o),t[l+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function Q(e,t,o,n){for(var i=0;i<e.length;i++){var s=[];J(e[i],s,o,n),t.push(s)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),o=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return o<0?0:o>1?1:o}function oe(e,t,o,n,i,s,a,r){if(n/=t,s>=(o/=t)&&a<n)return e;if(a<o||s>=n)return null;for(var _=[],p=0;p<e.length;p++){var l=e[p],u=l.geometry,f=l.type,d=0===i?l.minX:l.minY,c=0===i?l.maxX:l.maxY;if(d>=o&&c<n)_.push(l);else if(!(c<o||d>=n)){var m=[];if("Point"===f||"MultiPoint"===f)ne(u,m,o,n,i);else if("LineString"===f)ie(u,m,o,n,i,!1,r.lineMetrics);else if("MultiLineString"===f)ae(u,m,o,n,i,!1);else if("Polygon"===f)ae(u,m,o,n,i,!0);else if("MultiPolygon"===f)for(var h=0;h<u.length;h++){var y=[];ae(u[h],y,o,n,i,!0),y.length&&m.push(y)}if(m.length){if(r.lineMetrics&&"LineString"===f){for(h=0;h<m.length;h++)_.push(H(l.id,f,m[h],l.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===m.length?(f="LineString",m=m[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===m.length?"Point":"MultiPoint"),_.push(H(l.id,f,m,l.tags))}}}return _.length?_:null}function ne(e,t,o,n,i){for(var s=0;s<e.length;s+=3){var a=e[s+i];a>=o&&a<=n&&(t.push(e[s]),t.push(e[s+1]),t.push(e[s+2]))}}function ie(e,t,o,n,i,s,a){for(var r,_,p=se(e),l=0===i?_e:pe,u=e.start,f=0;f<e.length-3;f+=3){var d=e[f],c=e[f+1],m=e[f+2],h=e[f+3],y=e[f+4],g=0===i?d:c,v=0===i?h:y,x=!1;a&&(r=Math.sqrt(Math.pow(d-h,2)+Math.pow(c-y,2))),g<o?v>o&&(_=l(p,d,c,h,y,o),a&&(p.start=u+r*_)):g>n?v<n&&(_=l(p,d,c,h,y,n),a&&(p.start=u+r*_)):re(p,d,c,m),v<o&&g>=o&&(_=l(p,d,c,h,y,o),x=!0),v>n&&g<=n&&(_=l(p,d,c,h,y,n),x=!0),!s&&x&&(a&&(p.end=u+r*_),t.push(p),p=se(e)),a&&(u+=r)}var C=e.length-3;d=e[C],c=e[C+1],m=e[C+2],(g=0===i?d:c)>=o&&g<=n&&re(p,d,c,m),C=p.length-3,s&&C>=3&&(p[C]!==p[0]||p[C+1]!==p[1])&&re(p,p[0],p[1],p[2]),p.length&&t.push(p)}function se(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,o,n,i,s){for(var a=0;a<e.length;a++)ie(e[a],t,o,n,i,s,!1)}function re(e,t,o,n){e.push(t),e.push(o),e.push(n)}function _e(e,t,o,n,i,s){var a=(s-t)/(n-t);return e.push(s),e.push(o+(i-o)*a),e.push(1),a}function pe(e,t,o,n,i,s){var a=(s-o)/(i-o);return e.push(t+(n-t)*a),e.push(s),e.push(1),a}function le(e,t){for(var o=[],n=0;n<e.length;n++){var i,s=e[n],a=s.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=ue(s.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var r=0;r<s.geometry.length;r++)i.push(ue(s.geometry[r],t))}else if("MultiPolygon"===a)for(i=[],r=0;r<s.geometry.length;r++){for(var _=[],p=0;p<s.geometry[r].length;p++)_.push(ue(s.geometry[r][p],t));i.push(_)}o.push(H(s.id,a,i,s.tags))}return o}function ue(e,t){var o=[];o.size=e.size,void 0!==e.start&&(o.start=e.start,o.end=e.end);for(var n=0;n<e.length;n+=3)o.push(e[n]+t,e[n+1],e[n+2]);return o}function fe(e,t){if(e.transformed)return e;var o,n,i,s=1<<e.z,a=e.x,r=e.y;for(o=0;o<e.features.length;o++){var _=e.features[o],p=_.geometry,l=_.type;if(_.geometry=[],1===l)for(n=0;n<p.length;n+=2)_.geometry.push(de(p[n],p[n+1],t,s,a,r));else for(n=0;n<p.length;n++){var u=[];for(i=0;i<p[n].length;i+=2)u.push(de(p[n][i],p[n][i+1],t,s,a,r));_.geometry.push(u)}}return e.transformed=!0,e}function de(e,t,o,n,i,s){return[Math.round(o*(e*n-i)),Math.round(o*(t*n-s))]}function ce(e,t,o,n,i){for(var s=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:o,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},r=0;r<e.length;r++){a.numFeatures++,me(a,e[r],s,i);var _=e[r].minX,p=e[r].minY,l=e[r].maxX,u=e[r].maxY;_<a.minX&&(a.minX=_),p<a.minY&&(a.minY=p),l>a.maxX&&(a.maxX=l),u>a.maxY&&(a.maxY=u)}return a}function me(e,t,o,n){var i=t.geometry,s=t.type,a=[];if("Point"===s||"MultiPoint"===s)for(var r=0;r<i.length;r+=3)a.push(i[r]),a.push(i[r+1]),e.numPoints++,e.numSimplified++;else if("LineString"===s)he(a,i,e,o,!1,!1);else if("MultiLineString"===s||"Polygon"===s)for(r=0;r<i.length;r++)he(a,i[r],e,o,"Polygon"===s,0===r);else if("MultiPolygon"===s)for(var _=0;_<i.length;_++){var p=i[_];for(r=0;r<p.length;r++)he(a,p[r],e,o,!0,0===r)}if(a.length){var l=t.tags||null;if("LineString"===s&&n.lineMetrics){for(var u in l={},t.tags)l[u]=t.tags[u];l.mapbox_clip_start=i.start/i.size,l.mapbox_clip_end=i.end/i.size}var f={geometry:a,type:"Polygon"===s||"MultiPolygon"===s?3:"LineString"===s||"MultiLineString"===s?2:1,tags:l};null!==t.id&&(f.id=t.id),e.features.push(f)}}function he(e,t,o,n,i,s){var a=n*n;if(n>0&&t.size<(i?a:n))o.numPoints+=t.length/3;else{for(var r=[],_=0;_<t.length;_+=3)(0===n||t[_+2]>a)&&(o.numSimplified++,r.push(t[_]),r.push(t[_+1])),o.numPoints++;i&&function(e,t){for(var o=0,n=0,i=e.length,s=i-2;n<i;s=n,n+=2)o+=(e[n]-e[s])*(e[n+1]+e[s+1]);if(o>0===t)for(n=0,i=e.length;n<i/2;n+=2){var a=e[n],r=e[n+1];e[n]=e[i-2-n],e[n+1]=e[i-1-n],e[i-2-n]=a,e[i-1-n]=r}}(r,s),e.push(r)}}function ye(e,t){var o=(t=this.options=function(e,t){for(var o in t)e[o]=t[o];return e}(Object.create(this.options),t)).debug;if(o&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var o=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)X(o,e.features[n],t,n);else X(o,"Feature"===e.type?e:{geometry:e},t);return o}(e,t);this.tiles={},this.tileCoords=[],o&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var o=t.buffer/t.extent,n=e,i=oe(e,1,-1-o,o,0,-1,2,t),s=oe(e,1,1-o,2+o,0,-1,2,t);return(i||s)&&(n=oe(e,1,-o,1+o,0,-1,2,t)||[],i&&(n=le(i,1).concat(n)),s&&(n=n.concat(le(s,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),o&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ge(e,t,o){return 32*((1<<e)*o+t)+e}function ve(e,t){const o=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const n=this._geoJSONIndex.getTile(o.z,o.x,o.y);if(!n)return t(null,null);const i=new u(n.features);let s=h(i);0===s.byteOffset&&s.byteLength===s.buffer.byteLength||(s=new Uint8Array(s)),t(null,{vectorTile:i,rawData:s.buffer})}ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ye.prototype.splitTile=function(e,t,o,n,i,s,a){for(var r=[e,t,o,n],_=this.options,p=_.debug;r.length;){n=r.pop(),o=r.pop(),t=r.pop(),e=r.pop();var l=1<<t,u=ge(t,o,n),f=this.tiles[u];if(!f&&(p>1&&console.time("creation"),f=this.tiles[u]=ce(e,t,o,n,_),this.tileCoords.push({z:t,x:o,y:n}),p)){p>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,o,n,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var d="z"+t;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(f.source=e,i){if(t===_.maxZoom||t===i)continue;var c=1<<i-t;if(o!==Math.floor(s/c)||n!==Math.floor(a/c))continue}else if(t===_.indexMaxZoom||f.numPoints<=_.indexMaxPoints)continue;if(f.source=null,0!==e.length){p>1&&console.time("clipping");var m,h,y,g,v,x,C=.5*_.buffer/_.extent,b=.5-C,w=.5+C,T=1+C;m=h=y=g=null,v=oe(e,l,o-C,o+w,0,f.minX,f.maxX,_),x=oe(e,l,o+b,o+T,0,f.minX,f.maxX,_),e=null,v&&(m=oe(v,l,n-C,n+w,1,f.minY,f.maxY,_),h=oe(v,l,n+b,n+T,1,f.minY,f.maxY,_),v=null),x&&(y=oe(x,l,n-C,n+w,1,f.minY,f.maxY,_),g=oe(x,l,n+b,n+T,1,f.minY,f.maxY,_),x=null),p>1&&console.timeEnd("clipping"),r.push(m||[],t+1,2*o,2*n),r.push(h||[],t+1,2*o,2*n+1),r.push(y||[],t+1,2*o+1,2*n),r.push(g||[],t+1,2*o+1,2*n+1)}}},ye.prototype.getTile=function(e,t,o){var n=this.options,i=n.extent,s=n.debug;if(e<0||e>24)return null;var a=1<<e,r=ge(e,t=(t%a+a)%a,o);if(this.tiles[r])return fe(this.tiles[r],i);s>1&&console.log("drilling down to z%d-%d-%d",e,t,o);for(var _,p=e,l=t,u=o;!_&&p>0;)p--,l=Math.floor(l/2),u=Math.floor(u/2),_=this.tiles[ge(p,l,u)];return _&&_.source?(s>1&&console.log("found parent tile z%d-%d-%d",p,l,u),s>1&&console.time("drilling down"),this.splitTile(_.source,p,l,u,e,t,o),s>1&&console.timeEnd("drilling down"),this.tiles[r]?fe(this.tiles[r],i):null):null};class xe extends e.VectorTileWorkerSource{constructor(e,t,o,n,i){super(e,t,o,n,ve),i&&(this.loadGeoJSON=i)}loadData(t,o){const n=t&&t.request,i=n&&n.collectResourceTiming;this.loadGeoJSON(t,(s,r)=>{if(s||!r)return o(s);if("object"!=typeof r)return o(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{a(r,!0);try{if(t.filter){const o=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===o.result)throw new Error(o.value.map(e=>`${e.key}: ${e.message}`).join(", "));const n=r.features.filter(e=>o.value.evaluate({zoom:0},e));r={type:"FeatureCollection",features:n}}this._geoJSONIndex=t.cluster?new R(function({superclusterOptions:t,clusterProperties:o}){if(!o||!t)return t;const n={},i={},s={accumulated:null,zoom:0},a={properties:null},r=Object.keys(o);for(const t of r){const[s,a]=o[t],r=e.createExpression(a),_=e.createExpression("string"==typeof s?[s,["accumulated"],["get",t]]:s);n[t]=r.value,i[t]=_.value}return t.map=e=>{a.properties=e;const t={};for(const e of r)t[e]=n[e].evaluate(s,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const t of r)s.accumulated=e[t],e[t]=i[t].evaluate(s,a)},t}(t)).load(r.features):function(e,t){return new ye(e,t)}(r,t.geojsonVtOptions)}catch(s){return o(s)}this.loaded={};const _={};if(i){const o=e.getPerformanceMeasurement(n);o&&(_.resourceTiming={},_.resourceTiming[t.source]=JSON.parse(JSON.stringify(o)))}o(null,_)}})}reloadTile(e,t){const o=this.loaded;return o&&o[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,o){if(t.request)e.getJSON(t.request,o);else{if("string"!=typeof t.data)return o(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return o(null,JSON.parse(t.data))}catch(e){return o(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class Ce{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded=!1,this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:xe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}checkIfReady(e,t,o){o()}setReferrer(e,t){this.referrer=t}spriteLoaded(t,o){this.isSpriteLoaded=o;for(const n in this.workerSources[t]){const i=this.workerSources[t][n];for(const t in i)i[t]instanceof e.VectorTileWorkerSource&&(i[t].isSpriteLoaded=o,i[t].fire(new e.Event("isSpriteLoaded")))}}setImages(e,t,o){this.availableImages[e]=t;for(const o in this.workerSources[e]){const n=this.workerSources[e][o];for(const e in n)n[e].availableImages=t}o()}enableTerrain(e,t,o){this.terrain=t,o()}setLayers(e,t,o){this.getLayerIndex(e).replace(t),o()}updateLayers(e,t,o){this.getLayerIndex(e).update(t.layers,t.removedIds),o()}loadTile(t,o,n){const i=this.enableTerrain?e.extend({enableTerrain:this.terrain},o):o;this.getWorkerSource(t,o.type,o.source).loadTile(i,n)}loadDEMTile(t,o,n){const i=this.enableTerrain?e.extend({buildQuadTree:this.terrain},o):o;this.getDEMWorkerSource(t,o.source).loadTile(i,n)}reloadTile(t,o,n){const i=this.enableTerrain?e.extend({enableTerrain:this.terrain},o):o;this.getWorkerSource(t,o.type,o.source).reloadTile(i,n)}abortTile(e,t,o){this.getWorkerSource(e,t.type,t.source).abortTile(t,o)}removeTile(e,t,o){this.getWorkerSource(e,t.type,t.source).removeTile(t,o)}removeSource(e,t,o){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,o):o()}loadWorkerSource(e,t,o){try{this.self.importScripts(t.url),o()}catch(e){o(e.toString())}}syncRTLPluginState(t,o,n){try{e.plugin.setState(o);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const o=e.plugin.isParsed();n(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+t),o)}}catch(e){n(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t}getWorkerSource(e,t,o){return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][o]||(this.workerSources[e][t][o]=new this.workerSourceTypes[t]({send:(t,o,n,i,s,a)=>{this.actor.send(t,o,n,e,s,a)},scheduler:this.actor.scheduler},this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded)),this.workerSources[e][t][o]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new s),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,o){e.enforceCacheSizeLimit(o)}getWorkerPerformanceMetrics(e,t,o){o(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Ce(self)),Ce})),i(0,(function(e){var t=o;function o(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,o=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(o);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var o=t.getImageData(0,0,1,1);return o&&o.width===e.width}()?(void 0===n[t=e&&e.failIfMajorPerformanceCaveat]&&(n[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(o.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),n[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var n={};function i(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!i(e[o],t[o]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!i(e[o],t[o]))return!1;return!0}return e===t}o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s={create:function(t,o,n){const i=e.window.document.createElement(t);return void 0!==o&&(i.className=o),n&&n.appendChild(i),i},createNS:function(t,o){return e.window.document.createElementNS(t,o)}},a=e.window.document&&e.window.document.documentElement.style,r=a&&void 0!==a.userSelect?"userSelect":"WebkitUserSelect";let _;s.disableDrag=function(){a&&r&&(_=a[r],a[r]="none")},s.enableDrag=function(){a&&r&&(a[r]=_)},s.setTransform=function(e,t){e.style.transform=t};let p=!1;try{const t=Object.defineProperty({},"passive",{get(){p=!0}});e.window.addEventListener("test",t,t),e.window.removeEventListener("test",t,t)}catch(e){p=!1}s.addEventListener=function(e,t,o,n={}){e.addEventListener(t,o,"passive"in n&&p?n:n.capture)},s.removeEventListener=function(e,t,o,n={}){e.removeEventListener(t,o,"passive"in n&&p?n:n.capture)};const l=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",l,!0)};function u(t,o,n){const i=t.offsetWidth===o.width?1:t.offsetWidth/o.width;return new e.pointGeometry((n.clientX-o.left)*i,(n.clientY-o.top)*i)}s.suppressClick=function(){e.window.addEventListener("click",l,!0),e.window.setTimeout(()=>{e.window.removeEventListener("click",l,!0)},0)},s.mousePos=function(e,t){const o=e.getBoundingClientRect();return u(e,o,t)},s.touchPos=function(e,t){const o=e.getBoundingClientRect(),n=[];for(let i=0;i<t.length;i++)n.push(u(e,o,t[i]));return n},s.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},s.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};class f{constructor(e,t){this.pos=e,this.dir=t}intersectsPlane(t,o,n){const i=e.dot(o,this.dir);if(Math.abs(i)<1e-6)return!1;const s=e.dot(e.sub(e.create(),t,this.pos),o)/i,a=e.scaleAndAdd(e.create(),this.pos,this.dir,s);return e.copy(n,a),!0}}class d{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(t,o,n){const i=Math.pow(2,n),s=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(n=>{const s=e.transformMat4([],n,t),a=1/s[3]/o*i;return e.mul(s,s,[a,a,1/s[3],a])}),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(t=>{const o=e.sub([],s[t[0]],s[t[1]]),n=e.sub([],s[t[2]],s[t[1]]),i=e.normalize([],e.cross([],o,n)),a=-e.dot(i,s[t[1]]);return i.concat(a)});return new d(s,a)}}class c{constructor(t,o){this.min=t,this.max=o,this.center=e.scale([],e.add([],this.min,this.max),.5)}quadrant(t){const o=[t%2==0,t<2],n=e.clone(this.min),i=e.clone(this.max);for(let e=0;e<o.length;e++)n[e]=o[e]?this.min[e]:this.center[e],i[e]=o[e]?this.center[e]:this.max[e];return i[2]=this.max[2],new c(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}intersects(t){const o=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let n=!0;for(let i=0;i<t.planes.length;i++){const s=t.planes[i];let a=0;for(let t=0;t<o.length;t++)a+=e.dot$1(s,o[t])>=0;if(0===a)return 0;a!==o.length&&(n=!1)}if(n)return 2;for(let e=0;e<3;e++){let o=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let i=0;i<t.points.length;i++){const s=t.points[i][e]-this.min[e];o=Math.min(o,s),n=Math.max(n,s)}if(n<0||o>this.max[e]-this.min[e])return 0}return 1}}function m(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class h extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,o){let n=!0;return this._validateStretch(o.stretchX,o.data&&o.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),n=!1),this._validateStretch(o.stretchY,o.data&&o.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),n=!1),this._validateContent(o.content,o)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),n=!1),n}_validateStretch(e,t){if(!e)return!0;let o=0;for(const n of e){if(n[0]<o||n[1]<n[0]||t<n[1])return!1;o=n[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let o=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(o=!1);this.isLoaded()||o?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,o){const n={};for(const o of t){this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));const t=this.images[o];t?n[o]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${o}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}o(null,n)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const o=this.patterns[t],n=this.getImage(t);if(!n)return null;if(o&&o.position.version===n.version)return o.position;if(o)o.position.version=n.version;else{const o={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new e.ImagePosition(o,n);this.patterns[t]={bin:o,position:i}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const o=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,o.RGBA),this.atlasTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:o,h:n}=e.potpack(t),i=this.atlasImage;i.resize({width:o||1,height:n||1});for(const t in this.patterns){const{bin:o}=this.patterns[t],n=o.x+1,s=o.y+1,a=this.images[t].data,r=a.width,_=a.height;e.RGBAImage.copy(a,i,{x:0,y:0},{x:n,y:s},{width:r,height:_}),e.RGBAImage.copy(a,i,{x:0,y:_-1},{x:n,y:s-1},{width:r,height:1}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:n,y:s+_},{width:r,height:1}),e.RGBAImage.copy(a,i,{x:r-1,y:0},{x:n-1,y:s},{width:1,height:_}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:n+r,y:s},{width:1,height:_})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];m(e)&&this.updateImage(t,e)}}}const y=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,o){return function([t,o,n]){const i=e.degToRad(o+90),s=e.degToRad(n);return{x:t*Math.cos(i)*Math.sin(s),y:t*Math.sin(i)*Math.sin(s),z:t*Math.cos(s),azimuthal:o,polar:n}}(t.expression.evaluate(o))}interpolate(t,o,n){return{x:e.number(t.x,o.x,n),y:e.number(t.y,o.y,n),z:e.number(t.z,o.z,n),azimuthal:e.number(t.azimuthal,o.azimuthal,n),polar:e.number(t.polar,o.polar,n)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),g="-transition";class v extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(y),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,o={}){if(!this._validate(e.validateLight,t,o))for(const o in t){const n=t[o];e.endsWith(o,g)?this._transitionable.setTransition(o.slice(0,-g.length),n):this._transitionable.setValue(o,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,o,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:o,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const x=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),C="-transition";class b extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(x),this.set(t),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(t){for(const o in t){const n=t[o];e.endsWith(o,C)?this._transitionable.setTransition(o.slice(0,-C.length),n):this._transitionable.setValue(o,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}function w(t,o,n,i){const s=e.smoothstep(45,65,n),[a,r]=T(t,i),_=e.length(o);let p=1-Math.min(1,Math.exp((_-a)/(r-a)*-6));return p*=p*p,p=Math.min(1,1.00747*p),p*s*t.alpha}function T(e,t){const o=.5/Math.tan(.5*t);return[e.range[0]+o,e.range[1]+o]}const k=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"])}),M="-transition";class S extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(k),this.set(t),this._transitioning=this._transitionable.untransitioned()}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t,o={}){if(!this._validate(e.validateFog,t,o))for(const o in t){const n=t[o];e.endsWith(o,M)?this._transitionable.setTransition(o.slice(0,-M.length),n):this._transitionable.setValue(o,n)}}getOpacity(t){const o=this.properties&&this.properties.get("color")||1;return e.smoothstep(45,65,t)*o.a}getOpacityAtLatLng(t,o){return function(t,o,n){const i=e.MercatorCoordinate.fromLngLat(o),s=n.elevation?n.elevation.getAtPointOrZero(i):0,a=[i.x,i.y,s];return e.transformMat4$1(a,a,n.mercatorFogMatrix),w(t,a,n.pitch,n._fov)}(this.state,t,o)}getFovAdjustedRange(e){return T(this.state,e)}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,o,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:o,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class E{constructor(t,o){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const n=this.workerPool.acquire(this.id);for(let e=0;e<n.length;e++){const t=new E.Actor(n[e],o,this.id);t.name="Worker "+e,this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(t,o,n){e.asyncAll(this.actors,(e,n)=>{e.send(t,o,n)},n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(e=>{e.remove()}),this.actors=[],this.workerPool.release(this.id)}}function A(t,o,n){return o*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}E.Actor=e.Actor;class I{constructor(e,t,o,n){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=o,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(e=>n.pointCoordinate3D(e)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(t,o){let n,i;if(t instanceof e.pointGeometry||"number"==typeof t[0]){const s=e.pointGeometry.convert(t);n=[e.pointGeometry.convert(t)],i=o.isPointAboveHorizon(s)}else{const s=e.pointGeometry.convert(t[0]),a=e.pointGeometry.convert(t[1]);n=[s,a],i=e.polygonizeBounds(s,a).every(e=>o.isPointAboveHorizon(e))}return new I(n,o.getCameraPoint(),i,o)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const o=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(o,n,0,!1);return this.cameraPoint.y>n.y&&(this.cameraPoint.x>o.x&&this.cameraPoint.x<n.x?i.splice(3,0,this.cameraPoint):this.cameraPoint.x>=n.x?i[2]=this.cameraPoint:this.cameraPoint.x<=o.x&&(i[3]=this.cameraPoint)),e.bufferConvexPolygon(i,t)}containsTile(t,o,n){const i=t.queryPadding+1,s=n?this._bufferedCameraMercator(i,o).map(e=>t.tileID.getTilePoint(e)):this._bufferedScreenMercator(i,o).map(e=>t.tileID.getTilePoint(e)),a=this.screenGeometryMercator.map(e=>t.tileID.getTileVec3(e)),r=a.map(t=>new e.pointGeometry(t[0],t[1])),_=o.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),p=t.tileID.getTileVec3(_),l=a.map(t=>{const o=e.sub(t,t,p);return e.normalize(o,o),new f(p,o)}),u=A(t,1,o.zoom);if(e.polygonIntersectsBox(s,0,0,e.EXTENT,e.EXTENT))return{queryGeometry:this,tilespaceGeometry:r,tilespaceRays:l,bufferedTilespaceGeometry:s,bufferedTilespaceBounds:(d=e.getBounds(s),d.min.x=e.clamp(d.min.x,0,e.EXTENT),d.min.y=e.clamp(d.min.y,0,e.EXTENT),d.max.x=e.clamp(d.max.x,0,e.EXTENT),d.max.y=e.clamp(d.max.y,0,e.EXTENT),d),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:u};var d}_bufferedScreenMercator(e,t){const o=z(e);if(this._screenRaycastCache[o])return this._screenRaycastCache[o];{const n=this.bufferedScreenGeometry(e).map(e=>t.pointCoordinate3D(e));return this._screenRaycastCache[o]=n,n}}_bufferedCameraMercator(e,t){const o=z(e);if(this._cameraRaycastCache[o])return this._cameraRaycastCache[o];{const n=this.bufferedCameraGeometry(e).map(e=>t.pointCoordinate3D(e));return this._cameraRaycastCache[o]=n,n}}}function z(e){return 100*e|0}function P(t,o,n){const i=function(i,s){if(i)return n(i);if(s){const i=e.pick(e.extend(s,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);s.vector_layers&&(i.vectorLayers=s.vector_layers,i.vectorLayerIds=i.vectorLayers.map(e=>e.id)),i.tiles=o.canonicalizeTileset(i,t.url),n(null,i)}};return t.url?e.getJSON(o.transformRequest(o.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.exported.frame(()=>i(null,t))}class D{constructor(t,o,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=o||0,this.maxzoom=n||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const o=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*o),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*o),s=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*o),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*o);return t.x>=n&&t.x<s&&t.y>=i&&t.y<a}}class L{constructor(e,t,o){this.context=e;const n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(o),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const B={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class R{constructor(e,t,o,n){this.length=t.length,this.attributes=o,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;const i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let o=0;o<this.attributes.length;o++){const n=t.attributes[this.attributes[o].name];void 0!==n&&e.enableVertexAttribArray(n)}}setVertexAttribPointers(e,t,o){for(let n=0;n<this.attributes.length;n++){const i=this.attributes[n],s=t.attributes[i.name];void 0!==s&&e.vertexAttribPointer(s,i.components,e[B[i.type]],!1,this.itemSize,i.offset+this.itemSize*(o||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class F{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class O extends F{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class N extends F{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class V extends F{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class U extends F{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class G extends F{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class W extends F{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Z extends F{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class j extends F{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class q extends F{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class K extends F{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class H extends F{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class $ extends F{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class X extends F{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class Y extends F{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class J extends F{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Q extends F{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class ee extends F{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class te extends F{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class oe extends F{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class ne extends F{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class ie extends F{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class se extends F{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class ae extends F{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class re extends F{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class _e extends F{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class pe extends F{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class le extends F{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ue extends F{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class fe extends F{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class de extends F{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class ce extends F{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class me extends F{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class he extends me{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class ye extends me{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class ge extends ye{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ve{constructor(e,t,o,n){this.context=e,this.width=t,this.height=o;const i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new he(e,i),n&&(this.depthAttachment=new ye(e,i))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class xe{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new O(this),this.clearDepth=new N(this),this.clearStencil=new V(this),this.colorMask=new U(this),this.depthMask=new G(this),this.stencilMask=new W(this),this.stencilFunc=new Z(this),this.stencilOp=new j(this),this.stencilTest=new q(this),this.depthRange=new K(this),this.depthTest=new H(this),this.depthFunc=new $(this),this.blend=new X(this),this.blendFunc=new Y(this),this.blendColor=new J(this),this.blendEquation=new Q(this),this.cullFace=new ee(this),this.cullFaceSide=new te(this),this.frontFace=new oe(this),this.program=new ne(this),this.activeTexture=new ie(this),this.viewport=new se(this),this.bindFramebuffer=new ae(this),this.bindRenderbuffer=new re(this),this.bindTexture=new _e(this),this.bindVertexBuffer=new pe(this),this.bindElementBuffer=new le(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ue(this),this.pixelStoreUnpack=new fe(this),this.pixelStoreUnpackPremultiplyAlpha=new de(this),this.pixelStoreUnpackFlipY=new ce(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new L(this,e,t)}createVertexBuffer(e,t,o){return new R(this,e,t,o)}createRenderbuffer(e,t,o){const n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,o),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,o){return new ve(this,e,t,o)}clear({color:e,depth:t,stencil:o}){const n=this.gl;let i=0;e&&(i|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(i|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==o&&(i|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(o),this.stencilMask.set(255)),n.clear(i)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(t){i(t.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ce extends e.Evented{constructor(t,o,n,i){super(),this.id=t,this.dispatcher=n,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},o),e.extend(this,e.pick(o,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,(t,o)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new D(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,o){const n=e.exported.devicePixelRatio>=2,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),n,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(n,i,s,a)=>{if(delete t.request,t.aborted)t.state="unloaded",o(null);else if(n)t.state="errored",o(n);else if(i){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:s,expires:a});const n=this.map.painter.context,r=n.gl;t.texture=this.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new e.Texture(n,i,r.RGBA,{useMipmap:!0}),t.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),n.extTextureFilterAnisotropic&&r.texParameterf(r.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),o(null)}})}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let be;var we=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Te extends e.Evented{constructor(e,t,o,n){super(),this.id=e,this.dispatcher=o,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(n),this.options=t}load(t,o){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(n,i)=>{this._loaded=!0,n?this.fire(new e.ErrorEvent(n)):i&&(this.image=e.exported.getImageData(i),t&&(this.coordinates=t),o&&o(),this._finishLoading())})}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}setCoordinates(t){this.coordinates=t;const o=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){let o=1/0,n=1/0,i=-1/0,s=-1/0;for(const e of t)o=Math.min(o,e.x),n=Math.min(n,e.y),i=Math.max(i,e.x),s=Math.max(s,e.y);const a=Math.max(i-o,s-n),r=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),_=Math.pow(2,r);return new e.CanonicalTileID(r,Math.floor((o+i)/2*_),Math.floor((n+s)/2*_))}(o),this.minzoom=this.maxzoom=this.tileID.z;const n=o.map(e=>this.tileID.getTilePoint(e)._round());return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(n[0].x,n[0].y,0,0),this._boundsArray.emplaceBack(n[1].x,n[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(n[3].x,n[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(n[2].x,n[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,o=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,we.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const ke={vector:class extends e.Evented{constructor(t,o,n,i){if(super(),this.id=t,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(o,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},o),this._collectResourceTiming=o.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,(t,o)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new D(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e();const t=this.map.style._getSourceCaches(this.id);for(const e of t)e.clearTiles();this.load()}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}loadTile(t,o){const n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=o:t.request=t.actor.send("reloadTile",i,s.bind(this));else if(t.actor=this._tileWorkers[n]=this._tileWorkers[n]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",i,s.bind(this),void 0,!0);else{const o=e.loadVectorTile.call({deduped:this._deduped},i,(e,o)=>{e||!o?s.call(this,e):(i.data={cacheControl:o.cacheControl,expires:o.expires,rawData:o.rawData.slice(0)},t.actor&&t.actor.send("loadTile",i,s.bind(this),void 0,!0))},!0);t.request={cancel:o}}function s(n,i){return delete t.request,t.aborted?o(null):n&&404!==n.status?o(n):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),o(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:Ce,"raster-dem":class extends Ce{constructor(t,o,n,i){super(t,o,n,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},o),this.encoding=o.encoding||"mapbox"}loadTile(t,o){const n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function i(e,n){e&&(t.state="errored",o(e)),n&&(t.dem=n,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",o(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,s,a,r){if(delete t.request,t.aborted)t.state="unloaded",o(null);else if(n)t.state="errored",o(n);else if(s){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:r});const o=e.window.ImageBitmap&&s instanceof e.window.ImageBitmap&&(null==be&&(be=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),be),n=1-(s.width-e.prevPowerOfTwo(s.width))/2;n<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const _=o?s:e.exported.getImageData(s,n),p={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:_,encoding:this.encoding,padding:n};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",p,i.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(t){const o=t.canonical,n=Math.pow(2,o.z),i=(o.x-1+n)%n,s=0===o.x?t.wrap-1:t.wrap,a=(o.x+1+n)%n,r=o.x+1===n?t.wrap+1:t.wrap,_={};return _[new e.OverscaledTileID(t.overscaledZ,s,o.z,i,o.y).key]={backfilled:!1},_[new e.OverscaledTileID(t.overscaledZ,r,o.z,a,o.y).key]={backfilled:!1},o.y>0&&(_[new e.OverscaledTileID(t.overscaledZ,s,o.z,i,o.y-1).key]={backfilled:!1},_[new e.OverscaledTileID(t.overscaledZ,t.wrap,o.z,o.x,o.y-1).key]={backfilled:!1},_[new e.OverscaledTileID(t.overscaledZ,r,o.z,a,o.y-1).key]={backfilled:!1}),o.y+1<n&&(_[new e.OverscaledTileID(t.overscaledZ,s,o.z,i,o.y+1).key]={backfilled:!1},_[new e.OverscaledTileID(t.overscaledZ,t.wrap,o.z,o.x,o.y+1).key]={backfilled:!1},_[new e.OverscaledTileID(t.overscaledZ,r,o.z,a,o.y+1).key]={backfilled:!1}),_}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,o,n,i){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=n.getActor(),this.setEventedParent(i),this._data=o.data,this._options=e.extend({},o),this._collectResourceTiming=o.collectResourceTiming,void 0!==o.maxzoom&&(this.maxzoom=o.maxzoom),o.type&&(this.type=o.type),o.attribution&&(this.attribution=o.attribution),this.promoteId=o.promoteId;const s=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:(void 0!==o.buffer?o.buffer:128)*s,tolerance:(void 0!==o.tolerance?o.tolerance:.375)*s,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:o.lineMetrics||!1,generateId:o.generateId||!1},superclusterOptions:{maxZoom:void 0!==o.clusterMaxZoom?o.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,o.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==o.clusterRadius?o.clusterRadius:50)*s,log:!1,generateId:o.generateId||!1},clusterProperties:o.clusterProperties,filter:o.filter},o.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,o,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:o},n),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const t=e.extend({},this.workerOptions),o=this._data;"string"==typeof o?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(o),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(o),this._pendingLoad=this.actor.send(this.type+".loadData",t,(t,o)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else{const t={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&o&&o.resourceTiming&&o.resourceTiming[this.id]&&(t.resourceTiming=o.resourceTiming[this.id]),this.fire(new e.Event("data",t)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(t,o){const n=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(n,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(e,i)=>(delete t.request,t.unloadVectorData(),t.aborted?o(null):e?o(e):(t.loadVectorData(i,this.map.painter,"reloadTile"===n),o(null))),void 0,"loadTile"===n)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Te{constructor(e,t,o,n){super(e,t,o,n),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const o of t.urls)this.urls.push(this.map._requestManager.transformRequest(o,e.ResourceType.Source).url);e.getVideo(this.urls,(t,o)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):o&&(this.video=o,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const o=this.video.seekable;t<o.start(0)||t>o.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${o.start(0)} and ${o.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,o=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,we.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Te,canvas:class extends Te{constructor(t,o,n,i){super(t,o,n,i),o.coordinates?Array.isArray(o.coordinates)&&4===o.coordinates.length&&!o.coordinates.some(e=>!Array.isArray(e)||2!==e.length||e.some(e=>"number"!=typeof e))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "coordinates"'))),o.animate&&"boolean"!=typeof o.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'optional "animate" property must be a boolean value'))),o.canvas?"string"==typeof o.canvas||o.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "canvas"'))),this.options=o,this.animate=void 0===o.animate||o.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const o=this.map.painter.context,n=o.gl;this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,we.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(o,this.canvas,n.RGBA,{premultiply:!0});for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}},Me=function(t,o,n,i){const s=new ke[o.type](t,o,n,i);if(s.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${s.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],s),s};function Se(t,o){const n=e.identity([]);return e.scale$1(n,n,[.5*t.width,.5*-t.height,1]),e.translate(n,n,[1,-1,0]),e.multiply(n,n,t.calculateProjMatrix(o.toUnwrapped()))}function Ee(e,t,o,n,i,s,a,r=!1){const _=e.tilesIn(n,a,r);_.sort(Ie);const p=[];for(const n of _)p.push({wrappedTileID:n.tile.tileID.wrapped().key,queryResults:n.tile.queryRenderedFeatures(t,o,e._state,n,i,s,Se(e.transform,n.tile.tileID),r)});const l=function(e){const t={},o={};for(const n of e){const e=n.queryResults,i=n.wrappedTileID,s=o[i]=o[i]||{};for(const o in e){const n=e[o],i=s[o]=s[o]||{},a=t[o]=t[o]||[];for(const e of n)i[e.featureIndex]||(i[e.featureIndex]=!0,a.push(e))}}return t}(p);for(const t in l)l[t].forEach(t=>{const o=t.feature,n=e.getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=n});return l}function Ae(e,t){const o=e.getRenderableIds().map(t=>e.getTileByID(t)),n=[],i={};for(let e=0;e<o.length;e++){const s=o[e],a=s.tileID.canonical.key;i[a]||(i[a]=!0,s.querySourceFeatures(n,t))}return n}function Ie(e,t){const o=e.tileID,n=t.tileID;return o.overscaledZ-n.overscaledZ||o.canonical.y-n.canonical.y||o.wrap-n.wrap||o.canonical.x-n.canonical.x}function ze(){return null!=Ki.workerClass?new Ki.workerClass:new e.window.Worker(Ki.workerUrl)}const Pe="mapboxgl_preloaded_worker_pool";class De{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<De.workerCount;)this.workers.push(new ze);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(e=>{e.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Pe]}numActive(){return Object.keys(this.active).length}}let Le;function Be(){return Le||(Le=new De),Le}function Re(t,o){const n={};for(const e in t)"ref"!==e&&(n[e]=t[e]);return e.refProperties.forEach(e=>{e in o&&(n[e]=o[e])}),n}function Fe(e){e=e.slice();const t=Object.create(null);for(let o=0;o<e.length;o++)t[e[o].id]=e[o];for(let o=0;o<e.length;o++)"ref"in e[o]&&(e[o]=Re(e[o],t[e[o].ref]));return e}De.workerCount=2;const Oe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog"};function Ne(e,t,o){o.push({command:Oe.addSource,args:[e,t[e]]})}function Ve(e,t,o){t.push({command:Oe.removeSource,args:[e]}),o[e]=!0}function Ue(e,t,o,n){Ve(e,o,n),Ne(e,t,o)}function Ge(e,t,o){let n;for(n in e[o])if(e[o].hasOwnProperty(n)&&"data"!==n&&!i(e[o][n],t[o][n]))return!1;for(n in t[o])if(t[o].hasOwnProperty(n)&&"data"!==n&&!i(e[o][n],t[o][n]))return!1;return!0}function We(e,t,o,n,s,a){let r;for(r in t=t||{},e=e||{})e.hasOwnProperty(r)&&(i(e[r],t[r])||o.push({command:a,args:[n,r,t[r],s]}));for(r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(i(e[r],t[r])||o.push({command:a,args:[n,r,t[r],s]}))}function Ze(e){return e.id}function je(e,t){return e[t.id]=t,e}class qe{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let o=1,n=this._distances[o];const i=t*this.paddedLength+this.padding;for(;n<i&&o<this._distances.length;)n=this._distances[++o];const s=o-1,a=this._distances[s],r=n-a,_=r>0?(i-a)/r:0;return this.points[s].mult(1-_).add(this.points[o].mult(_))}}class Ke{constructor(e,t,o){const n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/o),this.yCellCount=Math.ceil(t/o);for(let e=0;e<this.xCellCount*this.yCellCount;e++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,o,n,i){this._forEachCell(t,o,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(o),this.bboxes.push(n),this.bboxes.push(i)}insertCircle(e,t,o,n){this._forEachCell(t-n,o-n,t+n,o+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(o),this.circles.push(n)}_insertBoxCell(e,t,o,n,i,s){this.boxCells[i].push(s)}_insertCircleCell(e,t,o,n,i,s){this.circleCells[i].push(s)}_query(e,t,o,n,i,s){if(o<0||e>this.width||n<0||t>this.height)return!i&&[];const a=[];if(e<=0&&t<=0&&this.width<=o&&this.height<=n){if(i)return!0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],o=this.circles[3*e+1],n=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-n,y1:o-n,x2:t+n,y2:o+n})}return s?a.filter(s):a}return this._forEachCell(e,t,o,n,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},s),i?a.length>0:a}_queryCircle(e,t,o,n,i){const s=e-o,a=e+o,r=t-o,_=t+o;if(a<0||s>this.width||_<0||r>this.height)return!n&&[];const p=[];return this._forEachCell(s,r,a,_,this._queryCellCircle,p,{hitTest:n,circle:{x:e,y:t,radius:o},seenUids:{box:{},circle:{}}},i),n?p.length>0:p}query(e,t,o,n,i){return this._query(e,t,o,n,!1,i)}hitTest(e,t,o,n,i){return this._query(e,t,o,n,!0,i)}hitTestCircle(e,t,o,n){return this._queryCircle(e,t,o,!0,n)}_queryCell(e,t,o,n,i,s,a,r){const _=a.seenUids,p=this.boxCells[i];if(null!==p){const i=this.bboxes;for(const l of p)if(!_.box[l]){_.box[l]=!0;const p=4*l;if(e<=i[p+2]&&t<=i[p+3]&&o>=i[p+0]&&n>=i[p+1]&&(!r||r(this.boxKeys[l]))){if(a.hitTest)return s.push(!0),!0;s.push({key:this.boxKeys[l],x1:i[p],y1:i[p+1],x2:i[p+2],y2:i[p+3]})}}}const l=this.circleCells[i];if(null!==l){const i=this.circles;for(const p of l)if(!_.circle[p]){_.circle[p]=!0;const l=3*p;if(this._circleAndRectCollide(i[l],i[l+1],i[l+2],e,t,o,n)&&(!r||r(this.circleKeys[p]))){if(a.hitTest)return s.push(!0),!0;{const e=i[l],t=i[l+1],o=i[l+2];s.push({key:this.circleKeys[p],x1:e-o,y1:t-o,x2:e+o,y2:t+o})}}}}}_queryCellCircle(e,t,o,n,i,s,a,r){const _=a.circle,p=a.seenUids,l=this.boxCells[i];if(null!==l){const e=this.bboxes;for(const t of l)if(!p.box[t]){p.box[t]=!0;const o=4*t;if(this._circleAndRectCollide(_.x,_.y,_.radius,e[o+0],e[o+1],e[o+2],e[o+3])&&(!r||r(this.boxKeys[t])))return s.push(!0),!0}}const u=this.circleCells[i];if(null!==u){const e=this.circles;for(const t of u)if(!p.circle[t]){p.circle[t]=!0;const o=3*t;if(this._circlesCollide(e[o],e[o+1],e[o+2],_.x,_.y,_.radius)&&(!r||r(this.circleKeys[t])))return s.push(!0),!0}}}_forEachCell(e,t,o,n,i,s,a,r){const _=this._convertToXCellCoord(e),p=this._convertToYCellCoord(t),l=this._convertToXCellCoord(o),u=this._convertToYCellCoord(n);for(let f=_;f<=l;f++)for(let _=p;_<=u;_++)if(i.call(this,e,t,o,n,this.xCellCount*_+f,s,a,r))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,o,n,i,s){const a=n-e,r=i-t,_=o+s;return _*_>a*a+r*r}_circleAndRectCollide(e,t,o,n,i,s,a){const r=(s-n)/2,_=Math.abs(e-(n+r));if(_>r+o)return!1;const p=(a-i)/2,l=Math.abs(t-(i+p));if(l>p+o)return!1;if(_<=r||l<=p)return!0;const u=_-r,f=l-p;return u*u+f*f<=o*o}}const He=Math.tan(85*Math.PI/180);function $e(t,o,n,i,s){const a=e.create$1();return o?(e.scale$1(a,a,[1/s,1/s,1]),n||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function Xe(t,o,n,i,s){if(o){const o=e.clone$1(t);return e.scale$1(o,o,[s,s,1]),n||e.rotateZ(o,o,-i.angle),o}return i.glCoordMatrix}function Ye(t,o,n=0){const i=[t.x,t.y,n,1];n?e.transformMat4(i,i,o):pt(i,i,o);const s=i[3];return{point:new e.pointGeometry(i[0]/s,i[1]/s),signedDistanceFromCamera:s}}function Je(e,t){return Math.min(.5+e/t*.5,1.5)}function Qe(e,t){const o=e[0]/e[3],n=e[1]/e[3];return o>=-t[0]&&o<=t[0]&&n>=-t[1]&&n<=t[1]}function et(t,o,n,i,s,a,r,_,p){const l=i?t.textSizeData:t.iconSizeData,u=e.evaluateSizeForZoom(l,n.transform.zoom),f=[256/n.width*2+1,256/n.height*2+1],d=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;d.clear();const c=t.lineVertexArray,m=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,h=n.transform.width/n.transform.height;let y=!1;for(let i=0;i<m.length;i++){const g=m.get(i);if(g.writingMode!==e.WritingMode.vertical||y||0!==i&&m.get(i-1).writingMode===e.WritingMode.horizontal||(y=!0),g.hidden||g.writingMode===e.WritingMode.vertical&&!y){_t(g.numGlyphs,d);continue}y=!1;const v=new e.pointGeometry(g.tileAnchorX,g.tileAnchorY),x=p?p(v):0,C=[v.x,v.y,x],b=[...C,1];if(e.transformMat4(b,b,o),!Qe(b,f)){_t(g.numGlyphs,d);continue}const w=Je(n.transform.cameraToCenterDistance,b[3]),T=e.evaluateSizeForFeature(l,u,g),k=r?T/w:T*w,M=Ye(new e.pointGeometry(C[0],C[1]),s,C[2]);if(M.signedDistanceFromCamera<=0){_t(g.numGlyphs,d);continue}let S={};const E=r?null:p,A=nt(g,k,!1,_,o,s,a,t.glyphOffsetArray,c,d,M.point,v,S,h,E);y=A.useVertical,E&&A.needsFlipping&&(S={}),(A.notEnoughRoom||y||A.needsFlipping&&nt(g,k,!0,_,o,s,a,t.glyphOffsetArray,c,d,M.point,v,S,h,E).notEnoughRoom)&&_t(g.numGlyphs,d)}i?t.text.dynamicLayoutVertexBuffer.updateData(d):t.icon.dynamicLayoutVertexBuffer.updateData(d)}function tt(e,t,o,n,i,s,a,r,_,p,l,u,f){const d=r.glyphStartIndex+r.numGlyphs,c=r.lineStartIndex,m=r.lineStartIndex+r.lineLength,h=t.getoffsetX(r.glyphStartIndex),y=t.getoffsetX(d-1),g=at(e*h,o,n,i,s,a,r.segment,c,m,_,p,l,u,f,!0);if(!g)return null;const v=at(e*y,o,n,i,s,a,r.segment,c,m,_,p,l,u,f,!0);return v?{first:g,last:v}:null}function ot(t,o,n,i){return t.writingMode===e.WritingMode.horizontal&&Math.abs(n.y-o.y)>Math.abs(n.x-o.x)*i?{useVertical:!0}:t.writingMode===e.WritingMode.vertical?o.y<n.y?{needsFlipping:!0}:null:0!==t.flipState&&function(e,t,o){const n=(t.x-e.x)*o;return 0===n||Math.abs((t.y-e.y)/n)>He}(o,n,i)?1===t.flipState?{needsFlipping:!0}:null:o.x>n.x?{needsFlipping:!0}:null}function nt(t,o,n,i,s,a,r,_,p,l,u,f,d,c,m){const h=o/24,y=t.lineOffsetX*h,g=t.lineOffsetY*h;let v;if(t.numGlyphs>1){const e=t.glyphStartIndex+t.numGlyphs,o=t.lineStartIndex,s=t.lineStartIndex+t.lineLength,l=tt(h,_,y,g,n,u,f,t,p,a,d,m,!1);if(!l)return{notEnoughRoom:!0};const x=Ye(l.first.point,r).point,C=Ye(l.last.point,r).point;if(i&&!n){const e=ot(t,x,C,c);if(t.flipState=e&&e.needsFlipping?1:2,e)return e}v=[l.first];for(let i=t.glyphStartIndex+1;i<e-1;i++)v.push(at(h*_.getoffsetX(i),y,g,n,u,f,t.segment,o,s,p,a,d,m,!1,!1));v.push(l.last)}else{if(i&&!n){const o=Ye(f,s).point,n=t.lineStartIndex+t.segment+1,i=new e.pointGeometry(p.getx(n),p.gety(n)),a=Ye(i,s),r=ot(t,o,a.signedDistanceFromCamera>0?a.point:st(f,i,o,1,s,void 0),c);if(t.flipState=r&&r.needsFlipping?1:2,r)return r}const o=at(h*_.getoffsetX(t.glyphStartIndex),y,g,n,u,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,p,a,d,m,!1,!1);if(!o)return{notEnoughRoom:!0};v=[o]}for(const t of v)e.addDynamicAttributes(l,t.point,t.angle);return{}}function it(t,o,n){const i={x:t.x,y:t.y,z:0};if(!n)return Ye(i,o,i.z);const s=n(t);return Ye(new e.pointGeometry(i.x,i.y),o,i.z+s)}function st(e,t,o,n,i,s){const a=it(e.add(e.sub(t)._unit()),i,s).point,r=o.sub(a);return o.add(r._mult(n/r.mag()))}function at(t,o,n,i,s,a,r,_,p,l,u,f,d,c,m){const h=i?t-o:t+o;let y=h>0?1:-1,g=0;i&&(y*=-1,g=Math.PI),y<0&&(g+=Math.PI);let v=y>0?_+r:_+r+1,x=s,C=s,b=0,w=0;const T=Math.abs(h),k=[],M=[];let S=a;const E=()=>{const t=v-y;return 0===b?a:new e.pointGeometry(l.getx(t),l.gety(t))},A=()=>st(E(),S,C,T-b+1,u,d);for(;b+w<=T;){if(v+=y,v<_||v>=p)return null;if(C=x,k.push(x),c&&M.push(S||E()),x=f[v],void 0===x){S=new e.pointGeometry(l.getx(v),l.gety(v));const t=it(S,u,d);x=t.signedDistanceFromCamera>0?f[v]=t.point:A()}else S=null;b+=w,w=C.dist(x)}m&&d&&(S=S||new e.pointGeometry(l.getx(v),l.gety(v)),f[v]=x=void 0===f[v]?x:A(),w=C.dist(x));const I=(T-b)/w,z=x.sub(C),P=z.mult(I)._add(C);n&&P._add(z._unit()._perp()._mult(n*y));const D=g+Math.atan2(x.y-C.y,x.x-C.x);return k.push(P),c&&(S=S||new e.pointGeometry(l.getx(v),l.gety(v)),M.push(function(t,o,n){const i=1-n;return new e.pointGeometry(t.x*i+o.x*n,t.y*i+o.y*n)}(M.length>0?M[M.length-1]:S,S,I))),{point:P,angle:D,path:k,tilePath:M}}const rt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function _t(e,t){for(let o=0;o<e;o++){const e=t.length;t.resize(e+4),t.float32.set(rt,3*e)}}function pt(e,t,o){const n=t[0],i=t[1];return e[0]=o[0]*n+o[4]*i+o[12],e[1]=o[1]*n+o[5]*i+o[13],e[3]=o[3]*n+o[7]*i+o[15],e}const lt=100;class ut{constructor(e,t,o=new Ke(e.width+200,e.height+200,25),n=new Ke(e.width+200,e.height+200,25)){this.transform=e,this.grid=o,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+lt,this.screenBottomBoundary=e.height+lt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t}placeCollisionBox(e,t,o,n,i,s,a){let r=t.projectedAnchorZ;t.elevation&&(r+=t.elevation);const _=this.projectAndGetPerspectiveRatio(s,t.projectedAnchorX,t.projectedAnchorY,r,t.tileID),p=i*_.perspectiveRatio,l=(t.x1*e+o.x-t.padding)*p+_.point.x,u=(t.y1*e+o.y-t.padding)*p+_.point.y,f=(t.x2*e+o.x+t.padding)*p+_.point.x,d=(t.y2*e+o.y+t.padding)*p+_.point.y,c=_.perspectiveRatio<=.55||_.aboveHorizon;return!this.isInsideGrid(l,u,f,d)||!n&&this.grid.hitTest(l,u,f,d,a)||c?{box:[],offscreen:!1}:{box:[l,u,f,d],offscreen:this.isOffscreen(l,u,f,d)}}placeCollisionCircles(t,o,n,i,s,a,r,_,p,l,u,f,d,c){const m=[],h=this.transform.elevation,y=h?e=>h.getAtTileOffset(c,e.x,e.y):e=>0,g=new e.pointGeometry(o.tileAnchorX,o.tileAnchorY),v=y(g),x=this.projectAndGetPerspectiveRatio(a,g.x,g.y,v,c),{perspectiveRatio:C}=x,b=(l?s/C:s*C)/e.ONE_EM,w=Ye(g,r,v).point,T=x.signedDistanceFromCamera>0?tt(b,i,o.lineOffsetX*b,o.lineOffsetY*b,!1,w,g,o,n,r,{},h&&!l?y:null,l&&!!h):null;let k=!1,M=!1,S=!0;if(T&&!x.aboveHorizon){const o=.5*f*C+d,n=new e.pointGeometry(-100,-100),i=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),s=new qe,a=T.first,r=T.last;let l=[];for(let e=a.path.length-1;e>=1;e--)l.push(a.path[e]);for(let e=1;e<r.path.length;e++)l.push(r.path[e]);const c=2.5*o;if(_){const e=l.map(h?(e,t)=>{const o=y(t<a.path.length-1?a.tilePath[a.path.length-1-t]:r.tilePath[t-a.path.length+2]);return Ye(e,_,o)}:e=>Ye(e,_));l=e.some(e=>e.signedDistanceFromCamera<=0)?[]:e.map(e=>e.point)}let g=[];if(l.length>0){const t=l[0].clone(),o=l[0].clone();for(let e=1;e<l.length;e++)t.x=Math.min(t.x,l[e].x),t.y=Math.min(t.y,l[e].y),o.x=Math.max(o.x,l[e].x),o.y=Math.max(o.y,l[e].y);g=t.x>=n.x&&o.x<=i.x&&t.y>=n.y&&o.y<=i.y?[l]:o.x<n.x||t.x>i.x||o.y<n.y||t.y>i.y?[]:e.clipLine([l],n.x,n.y,i.x,i.y)}for(const e of g){s.reset(e,.25*o);let n=0;n=s.length<=.5*o?1:Math.ceil(s.paddedLength/c)+1;for(let e=0;e<n;e++){const i=e/Math.max(n-1,1),a=s.lerp(i),r=a.x+lt,_=a.y+lt;m.push(r,_,o,0);const l=r-o,f=_-o,d=r+o,c=_+o;if(S=S&&this.isOffscreen(l,f,d,c),M=M||this.isInsideGrid(l,f,d,c),!t&&this.grid.hitTestCircle(r,_,o,u)&&(k=!0,!p))return{circles:[],offscreen:!1,collisionDetected:k}}}}return{circles:!p&&k||!M?[]:m,offscreen:S,collisionDetected:k}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const o=[];let n=1/0,i=1/0,s=-1/0,a=-1/0;for(const r of t){const t=new e.pointGeometry(r.x+lt,r.y+lt);n=Math.min(n,t.x),i=Math.min(i,t.y),s=Math.max(s,t.x),a=Math.max(a,t.y),o.push(t)}const r=this.grid.query(n,i,s,a).concat(this.ignoredGrid.query(n,i,s,a)),_={},p={};for(const t of r){const n=t.key;if(void 0===_[n.bucketInstanceId]&&(_[n.bucketInstanceId]={}),_[n.bucketInstanceId][n.featureIndex])continue;const i=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(o,i)&&(_[n.bucketInstanceId][n.featureIndex]=!0,void 0===p[n.bucketInstanceId]&&(p[n.bucketInstanceId]=[]),p[n.bucketInstanceId].push(n.featureIndex))}return p}insertCollisionBox(e,t,o,n,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:o,featureIndex:n,collisionGroupID:i},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,o,n,i){const s=t?this.ignoredGrid:this.grid,a={bucketInstanceId:o,featureIndex:n,collisionGroupID:i};for(let t=0;t<e.length;t+=4)s.insertCircle(a,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,o,n,i,s){const a=[o,n,i||0,1];let r=!1;if(i||this.transform.pitch>0){e.transformMat4(a,a,t);let _=!1;this.fogState&&s&&(_=function(t,o,n,i,s,a){const r=a.calculateFogTileMatrix(s),_=[o,n,i];return e.transformMat4$1(_,_,r),w(t,_,a.pitch,a._fov)}(this.fogState,o,n,i||0,s.toUnwrapped(),this.transform)>.9),r=a[2]>a[3]||_}else pt(a,a,t);return{point:new e.pointGeometry((a[0]/a[3]+1)/2*this.transform.width+lt,(-a[1]/a[3]+1)/2*this.transform.height+lt),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/a[3]*.5,1.5),signedDistanceFromCamera:a[3],aboveHorizon:r}}isOffscreen(e,t,o,n){return o<lt||e>=this.screenRightBoundary||n<lt||t>this.screenBottomBoundary}isInsideGrid(e,t,o,n){return o>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}class ft{constructor(e,t,o,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&o?1:0,this.placed=o}isHidden(){return 0===this.opacity&&!this.placed}}class dt{constructor(e,t,o,n,i){this.text=new ft(e?e.text:null,t,o,i),this.icon=new ft(e?e.icon:null,t,n,i)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ct{constructor(e,t,o){this.text=e,this.icon=t,this.skipFade=o}}class mt{constructor(){this.invProjMatrix=e.create$1(),this.viewportMatrix=e.create$1(),this.circles=[]}}class ht{constructor(e,t,o,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=o,this.bucketIndex=n,this.tileID=i}}class yt{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function gt(t,o,n,i,s){const{horizontalAlign:a,verticalAlign:r}=e.getAnchorAlignment(t),_=-(a-.5)*o,p=-(r-.5)*n,l=e.evaluateVariableOffset(t,i);return new e.pointGeometry(_+l[0]*s,p+l[1]*s)}function vt(t,o,n,i,s){const a=new e.pointGeometry(t,o);return n&&a._rotate(i?s:-s),a}class xt{constructor(e,t,o,n,i){this.transform=e.clone(),this.collisionIndex=new ut(this.transform,i),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new yt(o),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,o,n,i){const s=n.getBucket(o),a=n.latestFeatureIndex;if(!s||!a||o.id!==s.layerIds[0])return;const r=n.collisionBoxArray,_=s.layers[0].layout,p=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),l=n.tileSize/e.EXTENT,u=this.transform.calculateProjMatrix(n.tileID.toUnwrapped()),f="map"===_.get("text-pitch-alignment"),d="map"===_.get("text-rotation-alignment"),c=A(n,1,this.transform.zoom),m=$e(u,f,d,this.transform,c);let h=null;if(f){const t=Xe(u,f,d,this.transform,c);h=e.multiply([],this.transform.labelPlaneMatrix,t)}this.retainedQueryData[s.bucketInstanceId]=new ht(s.bucketInstanceId,a,s.sourceLayerIndex,s.index,n.tileID);const y={bucket:s,layout:_,posMatrix:u,textLabelPlaneMatrix:m,labelToScreenMatrix:h,scale:p,textPixelRatio:l,holdingForFade:n.holdingForFade(),collisionBoxArray:r,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(s.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(s.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(s.sourceID)};if(i)for(const e of s.sortKeyRanges){const{sortKey:o,symbolInstanceStart:n,symbolInstanceEnd:i}=e;t.push({sortKey:o,symbolInstanceStart:n,symbolInstanceEnd:i,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:s.symbolInstances.length,parameters:y})}attemptAnchorPlacement(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m,h,y){const g=[u.textOffset0,u.textOffset1],v=gt(e,o,n,g,i),x=this.collisionIndex.placeCollisionBox(i,t,vt(v.x,v.y,s,a,this.transform.angle),l,r,_,p.predicate);if((!m||0!==this.collisionIndex.placeCollisionBox(d.getSymbolInstanceIconSize(y,this.transform.zoom,f),m,vt(v.x,v.y,s,a,this.transform.angle),l,r,_,p.predicate).box.length)&&x.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[u.crossTileID]&&this.prevPlacement.placements[u.crossTileID]&&this.prevPlacement.placements[u.crossTileID].text&&(t=this.prevPlacement.variableOffsets[u.crossTileID].anchor),this.variableOffsets[u.crossTileID]={textOffset:g,width:o,height:n,anchor:e,textScale:i,prevAnchor:t},this.markUsedJustification(d,e,u,c),d.allowVerticalPlacement&&(this.markUsedOrientation(d,c,u),this.placedOrientations[u.crossTileID]=c),{shift:v,placedGlyphBoxes:x}}}placeLayerBucketPart(t,o,n,i){const{bucket:s,layout:a,posMatrix:r,textLabelPlaneMatrix:_,labelToScreenMatrix:p,textPixelRatio:l,holdingForFade:u,collisionBoxArray:f,partiallyEvaluatedTextSize:d,partiallyEvaluatedIconSize:c,collisionGroup:m}=t.parameters,h=a.get("text-optional"),y=a.get("icon-optional"),g=a.get("text-allow-overlap"),v=a.get("icon-allow-overlap"),x="map"===a.get("text-rotation-alignment"),C="map"===a.get("text-pitch-alignment"),b="none"!==a.get("icon-text-fit"),w="viewport-y"===a.get("symbol-z-order"),T=g&&(v||!s.hasIconData()||y),k=v&&(g||!s.hasTextData()||h);!s.collisionArrays&&f&&s.deserializeCollisionBoxes(f),n&&i&&s.updateCollisionDebugBuffers(this.transform.zoom,f);const M=(t,i,f)=>{if(o[t.crossTileID])return;if(u)return void(this.placements[t.crossTileID]=new ct(!1,!1,!1));let w=!1,M=!1,S=!0,E=null,A={box:null,offscreen:null},I={box:null,offscreen:null},z=null,P=null,D=null,L=0,B=0,R=0;f.textFeatureIndex?L=f.textFeatureIndex:t.useRuntimeCollisionCircles&&(L=t.featureIndex),f.verticalTextFeatureIndex&&(B=f.verticalTextFeatureIndex);const F=e=>{e.tileID=this.retainedQueryData[s.bucketInstanceId].tileID,(this.transform.elevation||e.elevation)&&(e.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[s.bucketInstanceId].tileID,e.tileAnchorX,e.tileAnchorY):0)},O=f.textBox;if(O){F(O);const o=o=>{let n=e.WritingMode.horizontal;if(s.allowVerticalPlacement&&!o&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,n=e,this.markUsedOrientation(s,n,t))}return n},n=(o,n)=>{if(s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&f.verticalTextBox){for(const t of s.writingModes)if(t===e.WritingMode.vertical?(A=n(),I=A):A=o(),A&&A.box&&A.box.length)break}else A=o()};if(a.get("text-variable-anchor")){let _=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];_.indexOf(e.anchor)>0&&(_=_.filter(t=>t!==e.anchor),_.unshift(e.anchor))}const p=(e,o,n)=>{const a=s.getSymbolInstanceTextSize(d,t,this.transform.zoom,i),p=(e.x2-e.x1)*a+2*e.padding,u=(e.y2-e.y1)*a+2*e.padding,f=b&&!v?o:null;f&&F(f);let h={box:[],offscreen:!1};const y=g?2*_.length:_.length;for(let o=0;o<y;++o){const y=this.attemptAnchorPlacement(_[o%_.length],e,p,u,a,x,C,l,r,m,o>=_.length,t,i,s,n,f,d,c);if(y&&(h=y.placedGlyphBoxes,h&&h.box&&h.box.length)){w=!0,E=y.shift;break}}return h};n(()=>p(O,f.iconBox,e.WritingMode.horizontal),()=>{const o=f.verticalTextBox;return o&&F(o),s.allowVerticalPlacement&&!(A&&A.box&&A.box.length)&&t.numVerticalGlyphVertices>0&&o?p(o,f.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}}),A&&(w=A.box,S=A.offscreen);const u=o(A&&A.box);if(!w&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(s,e.anchor,t,u))}}else{const a=(o,n)=>{const a=s.getSymbolInstanceTextSize(d,t,this.transform.zoom,i),_=this.collisionIndex.placeCollisionBox(a,o,new e.pointGeometry(0,0),g,l,r,m.predicate);return _&&_.box&&_.box.length&&(this.markUsedOrientation(s,n,t),this.placedOrientations[t.crossTileID]=n),_};n(()=>a(O,e.WritingMode.horizontal),()=>{const o=f.verticalTextBox;return s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o?(F(o),a(o,e.WritingMode.vertical)):{box:null,offscreen:null}}),o(A&&A.box&&A.box.length)}}if(z=A,w=z&&z.box&&z.box.length>0,S=z&&z.offscreen,t.useRuntimeCollisionCircles){const o=s.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),i=e.evaluateSizeForFeature(s.textSizeData,d,o),l=a.get("text-padding");P=this.collisionIndex.placeCollisionCircles(g,o,s.lineVertexArray,s.glyphOffsetArray,i,r,_,p,n,C,m.predicate,t.collisionCircleDiameter*i/e.ONE_EM,l,this.retainedQueryData[s.bucketInstanceId].tileID),w=g||P.circles.length>0&&!P.collisionDetected,S=S&&P.offscreen}if(f.iconFeatureIndex&&(R=f.iconFeatureIndex),f.iconBox){const t=t=>{F(t);const o=b&&E?vt(E.x,E.y,x,C,this.transform.angle):new e.pointGeometry(0,0),n=s.getSymbolInstanceIconSize(c,this.transform.zoom,i);return this.collisionIndex.placeCollisionBox(n,t,o,v,l,r,m.predicate)};I&&I.box&&I.box.length&&f.verticalIconBox?(D=t(f.verticalIconBox),M=D.box.length>0):(D=t(f.iconBox),M=D.box.length>0),S=S&&D.offscreen}const N=h||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,V=y||0===t.numIconVertices;if(N||V?V?N||(M=M&&w):w=M&&w:M=w=M&&w,w&&z&&z.box&&this.collisionIndex.insertCollisionBox(z.box,a.get("text-ignore-placement"),s.bucketInstanceId,I&&I.box&&B?B:L,m.ID),M&&D&&this.collisionIndex.insertCollisionBox(D.box,a.get("icon-ignore-placement"),s.bucketInstanceId,R,m.ID),P&&(w&&this.collisionIndex.insertCollisionCircles(P.circles,a.get("text-ignore-placement"),s.bucketInstanceId,L,m.ID),n)){const e=s.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new mt);for(let e=0;e<P.circles.length;e+=4)t.circles.push(P.circles[e+0]),t.circles.push(P.circles[e+1]),t.circles.push(P.circles[e+2]),t.circles.push(P.collisionDetected?1:0)}this.placements[t.crossTileID]=new ct(w||T,M||k,S||s.justReloaded),o[t.crossTileID]=!0};if(w){const e=s.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const o=e[t];M(s.symbolInstances.get(o),o,s.collisionArrays[o])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)M(s.symbolInstances.get(e),e,s.collisionArrays[e]);if(n&&s.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[s.bucketInstanceId];e.invert(t.invProjMatrix,r),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}s.justReloaded=!1}markUsedJustification(t,o,n,i){let s;s=i===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(o)];const a=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=s>=0&&e!==s?0:n.crossTileID)}markUsedOrientation(t,o,n){const i=o===e.WritingMode.horizontal||o===e.WritingMode.horizontalOnly?o:0,s=o===e.WritingMode.vertical?o:0,a=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=i;n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=s)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let o=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},s=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],s=i[e];s?(this.opacities[e]=new dt(s,n,t.text,t.icon),o=o||t.text!==s.text.placed||t.icon!==s.icon.placed):(this.opacities[e]=new dt(null,n,t.text,t.icon,t.skipFade),o=o||t.text||t.icon)}for(const e in i){const t=i[e];if(!this.opacities[e]){const i=new dt(t,n,!1,!1);i.isHidden()||(this.opacities[e]=i,o=o||t.text.placed||t.icon.placed)}}for(const e in s)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=s[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);o?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const o={};for(const n of t){const t=n.getBucket(e);t&&n.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,o,n.collisionBoxArray)}}updateBucketOpacities(t,o,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const i=t.layers[0].layout,s=new dt(null,0,!1,!1,!0),a=i.get("text-allow-overlap"),r=i.get("icon-allow-overlap"),_=i.get("text-variable-anchor"),p="map"===i.get("text-rotation-alignment"),l="map"===i.get("text-pitch-alignment"),u="none"!==i.get("icon-text-fit"),f=new dt(null,0,a&&(r||!t.hasIconData()||i.get("icon-optional")),r&&(a||!t.hasTextData()||i.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);const d=(e,t,o)=>{for(let n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(o)};for(let n=0;n<t.symbolInstances.length;n++){const i=t.symbolInstances.get(n),{numHorizontalGlyphVertices:a,numVerticalGlyphVertices:r,crossTileID:c}=i;let m=this.opacities[c];o[c]?m=s:m||(m=f,this.opacities[c]=m),o[c]=!0;const h=i.numIconVertices>0,y=this.placedOrientations[i.crossTileID],g=y===e.WritingMode.vertical,v=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(a>0||r>0){const e=At(m.text);d(t.text,a,g?It:e),d(t.text,r,v?It:e);const o=m.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach(e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=o||g?1:0)}),i.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=o||v?1:0);const n=this.variableOffsets[i.crossTileID];n&&this.markUsedJustification(t,n.anchor,i,y);const s=this.placedOrientations[i.crossTileID];s&&(this.markUsedJustification(t,"left",i,s),this.markUsedOrientation(t,s,i))}if(h){const e=At(m.icon);i.placedIconSymbolIndex>=0&&(d(t.icon,i.numIconVertices,g?It:e),t.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=m.icon.isHidden()),i.verticalPlacedIconSymbolIndex>=0&&(d(t.icon,i.numVerticalIconVertices,v?It:e),t.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const o=t.collisionArrays[n];if(o){let n=new e.pointGeometry(0,0);if(o.textBox||o.verticalTextBox){let e=!0;if(_){const t=this.variableOffsets[c];t?(n=gt(t.anchor,t.width,t.height,t.textOffset,t.textScale),p&&n._rotate(l?this.transform.angle:-this.transform.angle)):e=!1}o.textBox&&Ct(t.textCollisionBox.collisionVertexArray,m.text.placed,!e||g,n.x,n.y),o.verticalTextBox&&Ct(t.textCollisionBox.collisionVertexArray,m.text.placed,!e||v,n.x,n.y)}const i=Boolean(!v&&o.verticalIconBox);o.iconBox&&Ct(t.iconCollisionBox.collisionVertexArray,m.icon.placed,i,u?n.x:0,u?n.y:0),o.verticalIconBox&&Ct(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!i,u?n.x:0,u?n.y:0)}}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const o=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*o>e}setStale(){this.stale=!0}}function Ct(e,t,o,n,i){e.emplaceBack(t?1:0,o?1:0,n||0,i||0),e.emplaceBack(t?1:0,o?1:0,n||0,i||0),e.emplaceBack(t?1:0,o?1:0,n||0,i||0),e.emplaceBack(t?1:0,o?1:0,n||0,i||0)}const bt=Math.pow(2,25),wt=Math.pow(2,24),Tt=Math.pow(2,17),kt=Math.pow(2,16),Mt=Math.pow(2,9),St=Math.pow(2,8),Et=Math.pow(2,1);function At(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,o=Math.floor(127*e.opacity);return o*bt+t*wt+o*Tt+t*kt+o*Mt+t*St+o*Et+t}const It=0;class zt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,o,n,i){const s=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(s,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,s.sort((e,t)=>e.sortKey-t.sortKey));this._currentPartIndex<s.length;){const e=s[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,o,0===e.symbolInstanceStart),this._currentPartIndex++,i())return!0}return!1}}class Pt{constructor(e,t,o,n,i,s,a,r){this.placement=new xt(e,i,s,a,r),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=o,this._showCollisionBoxes=n,this._done=!1}isDone(){return this._done}continuePlacement(t,o,n){const i=e.exported.now(),s=()=>{const t=e.exported.now()-i;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=o[t[this._currentPlacementIndex]],i=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=i)&&(!e.maxzoom||e.maxzoom>i)){if(this._inProgressLayer||(this._inProgressLayer=new zt(e)),this._inProgressLayer.continuePlacement(n[e.source],this.placement,this._showCollisionBoxes,e,s))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Dt=512/e.EXTENT/2;class Lt{constructor(e,t,o){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=o;for(let o=0;o<t.length;o++){const n=t.get(o),i=n.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:n.crossTileID,coord:this.getScaledCoordinates(n,e)})}}getScaledCoordinates(t,o){const n=Dt/Math.pow(2,o.canonical.z-this.tileID.canonical.z);return{x:Math.floor((o.canonical.x*e.EXTENT+t.tileAnchorX)*n),y:Math.floor((o.canonical.y*e.EXTENT+t.tileAnchorY)*n)}}findMatches(e,t,o){const n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let i=0;i<e.length;i++){const s=e.get(i);if(s.crossTileID)continue;const a=this.indexedSymbolInstances[s.key];if(!a)continue;const r=this.getScaledCoordinates(s,t);for(const e of a)if(Math.abs(e.coord.x-r.x)<=n&&Math.abs(e.coord.y-r.y)<=n&&!o[e.crossTileID]){o[e.crossTileID]=!0,s.crossTileID=e.crossTileID;break}}}}class Bt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Rt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const o=this.indexes[e],n={};for(const e in o){const i=o[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}this.indexes[e]=n}this.lng=e}addBucket(e,t,o){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const n=this.usedCrossTileIDs[e.overscaledZ];for(const o in this.indexes){const i=this.indexes[o];if(Number(o)>e.overscaledZ)for(const o in i){const s=i[o];s.tileID.isChildOf(e)&&s.findMatches(t.symbolInstances,e,n)}else{const s=i[e.scaledTo(Number(o)).key];s&&s.findMatches(t.symbolInstances,e,n)}}for(let e=0;e<t.symbolInstances.length;e++){const i=t.symbolInstances.get(e);i.crossTileID||(i.crossTileID=o.generate(),n[i.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Lt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const o in t.indexedSymbolInstances)for(const n of t.indexedSymbolInstances[o])delete this.usedCrossTileIDs[e][n.crossTileID]}removeStaleBuckets(e){let t=!1;for(const o in this.indexes){const n=this.indexes[o];for(const i in n)e[n[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(o,n[i]),delete n[i],t=!0)}return t}}class Ft{constructor(){this.layerIndexes={},this.crossTileIDs=new Bt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,o){let n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new Rt);let i=!1;const s={};n.handleWrapJump(o);for(const o of t){const t=o.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(o.tileID,t,this.crossTileIDs)&&(i=!0),s[t.bucketInstanceId]=!0)}return n.removeStaleBuckets(s)&&(i=!0),i}pruneUnusedLayers(e){const t={};e.forEach(e=>{t[e]=!0});for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const Ot=(t,o)=>e.emitValidationErrors(t,o&&o.filter(e=>"source.canvas"!==e.identifier)),Nt=e.pick(Oe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog"]),Vt=e.pick(Oe,["setCenter","setZoom","setBearing","setPitch"]),Ut=function(){const t={},o=e.spec.$version;for(const n in e.spec.$root){const i=e.spec.$root[n];if(i.required){let e=null;e="version"===n?o:"array"===i.type?[]:{},null!=e&&(t[n]=e)}}return t}(),Gt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Wt extends e.Evented{constructor(t,o={}){super(),this.map=t,this.dispatcher=new E(Be(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,o.localFontFamily?e.LocalGlyphMode.all:o.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,o.localFontFamily||o.localIdeographFontFamily),this.lineAtlas=new e.LineAtlas(256,512),this.crossTileSymbolIndex=new Ft,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const n=this;this._rtlTextPluginCallback=Wt.registerForPluginStateChange(t=>{n.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(t,o)=>{if(e.triggerPluginCompletionEvent(t),o&&o.every(e=>e))for(const e in n._sourceCaches){const t=n._sourceCaches[e],o=t.getSource().type;"vector"!==o&&"geojson"!==o||t.reload()}})}),this.on("data",e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const o=this._layers[e];o.source===t.id&&this._validateLayer(o)}})}loadURL(t,o={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const n="boolean"==typeof o.validate?o.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,o.accessToken);const i=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,(t,o)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):o&&this._load(o,n)})}loadJSON(t,o={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame(()=>{this._request=null,this._load(t,!1!==o.validate)})}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Ut,!1)}_updateLayerCount(e,t){const o=t?1:-1;e.is3D()&&(this._num3DLayers+=o),"circle"===e.type&&(this._numCircleLayers+=o),"symbol"===e.type&&(this._numSymbolLayers+=o)}_load(t,o){if(o&&Ot(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=t;for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const n=Fe(this.stylesheet.layers);this._order=n.map(e=>e.id),this._layers={},this._serializedLayers={};for(let t of n)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize(),this._updateLayerCount(t,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new v(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}_loadSprite(t){this._spriteRequest=function(t,o,n){let i,s,a;const r=e.exported.devicePixelRatio>1?"@2x":"";let _=e.getJSON(o.transformRequest(o.normalizeSpriteURL(t,r,".json"),e.ResourceType.SpriteJSON),(e,t)=>{_=null,a||(a=e,i=t,l())}),p=e.getImage(o.transformRequest(o.normalizeSpriteURL(t,r,".png"),e.ResourceType.SpriteImage),(e,t)=>{p=null,a||(a=e,s=t,l())});function l(){if(a)n(a);else if(i&&s){const t=e.exported.getImageData(s),o={};for(const n in i){const{width:s,height:a,x:r,y:_,sdf:p,pixelRatio:l,stretchX:u,stretchY:f,content:d}=i[n],c=new e.RGBAImage({width:s,height:a});e.RGBAImage.copy(t,c,{x:r,y:_},{x:0,y:0},{width:s,height:a}),o[n]={data:c,pixelRatio:l,sdf:p,stretchX:u,stretchY:f,content:d}}n(null,o)}}return{cancel(){_&&(_.cancel(),_=null),p&&(p.cancel(),p=null)}}}(t,this.map._requestManager,(t,o)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(o)for(const e in o)this.imageManager.addImage(e,o[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new e.Event("data",{dataType:"style"}))})}_validateLayer(t){const o=this.getSource(t.source);if(!o)return;const n=t.sourceLayer;n&&("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${n}" does not exist on source "${o.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const o of e){const e=this._layers[o];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&Gt[e.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const o=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);(e.length||o.length)&&this._updateWorkerLayers(e,o);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const n={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];n[e]=t.used,t.used=!1}for(const e of this._order){const o=this._layers[e];if(o.recalculate(t,this._availableImages),!o.isHidden(t.zoom)){const e=this._getLayerSourceCache(o);e&&(e.used=!0)}const n=this.map.painter;if(n){const e=o.getProgramIds();if(!e)continue;const i=o.getProgramConfiguration(t.zoom);for(const t of e)n.useProgram(t,i)}}for(const t in n){const o=this._sourceCaches[t];n[t]!==o.used&&o.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:o.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),o&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(t){if(this._checkLoaded(),Ot(this,e.validateStyle(t)))return!1;(t=e.clone$2(t)).layers=Fe(t.layers);const o=function(e,t){if(!e)return[{command:Oe.setStyle,args:[t]}];let o=[];try{if(!i(e.version,t.version))return[{command:Oe.setStyle,args:[t]}];i(e.center,t.center)||o.push({command:Oe.setCenter,args:[t.center]}),i(e.zoom,t.zoom)||o.push({command:Oe.setZoom,args:[t.zoom]}),i(e.bearing,t.bearing)||o.push({command:Oe.setBearing,args:[t.bearing]}),i(e.pitch,t.pitch)||o.push({command:Oe.setPitch,args:[t.pitch]}),i(e.sprite,t.sprite)||o.push({command:Oe.setSprite,args:[t.sprite]}),i(e.glyphs,t.glyphs)||o.push({command:Oe.setGlyphs,args:[t.glyphs]}),i(e.transition,t.transition)||o.push({command:Oe.setTransition,args:[t.transition]}),i(e.light,t.light)||o.push({command:Oe.setLight,args:[t.light]}),i(e.fog,t.fog)||o.push({command:Oe.setFog,args:[t.fog]});const n={},s=[];!function(e,t,o,n){let s;for(s in t=t||{},e=e||{})e.hasOwnProperty(s)&&(t.hasOwnProperty(s)||Ve(s,o,n));for(s in t)t.hasOwnProperty(s)&&(e.hasOwnProperty(s)?i(e[s],t[s])||("geojson"===e[s].type&&"geojson"===t[s].type&&Ge(e,t,s)?o.push({command:Oe.setGeoJSONSourceData,args:[s,t[s].data]}):Ue(s,t,o,n)):Ne(s,t,o))}(e.sources,t.sources,s,n);const a=[];e.layers&&e.layers.forEach(e=>{n[e.source]?o.push({command:Oe.removeLayer,args:[e.id]}):a.push(e)});let r=e.terrain;r&&n[r.source]&&(o.push({command:Oe.setTerrain,args:[void 0]}),r=void 0),o=o.concat(s),i(r,t.terrain)||o.push({command:Oe.setTerrain,args:[t.terrain]}),function(e,t,o){t=t||[];const n=(e=e||[]).map(Ze),s=t.map(Ze),a=e.reduce(je,{}),r=t.reduce(je,{}),_=n.slice(),p=Object.create(null);let l,u,f,d,c,m,h;for(l=0,u=0;l<n.length;l++)f=n[l],r.hasOwnProperty(f)?u++:(o.push({command:Oe.removeLayer,args:[f]}),_.splice(_.indexOf(f,u),1));for(l=0,u=0;l<s.length;l++)f=s[s.length-1-l],_[_.length-1-l]!==f&&(a.hasOwnProperty(f)?(o.push({command:Oe.removeLayer,args:[f]}),_.splice(_.lastIndexOf(f,_.length-u),1)):u++,m=_[_.length-l],o.push({command:Oe.addLayer,args:[r[f],m]}),_.splice(_.length-l,0,f),p[f]=!0);for(l=0;l<s.length;l++)if(f=s[l],d=a[f],c=r[f],!p[f]&&!i(d,c))if(i(d.source,c.source)&&i(d["source-layer"],c["source-layer"])&&i(d.type,c.type)){for(h in We(d.layout,c.layout,o,f,null,Oe.setLayoutProperty),We(d.paint,c.paint,o,f,null,Oe.setPaintProperty),i(d.filter,c.filter)||o.push({command:Oe.setFilter,args:[f,c.filter]}),i(d.minzoom,c.minzoom)&&i(d.maxzoom,c.maxzoom)||o.push({command:Oe.setLayerZoomRange,args:[f,c.minzoom,c.maxzoom]}),d)d.hasOwnProperty(h)&&"layout"!==h&&"paint"!==h&&"filter"!==h&&"metadata"!==h&&"minzoom"!==h&&"maxzoom"!==h&&(0===h.indexOf("paint.")?We(d[h],c[h],o,f,h.slice(6),Oe.setPaintProperty):i(d[h],c[h])||o.push({command:Oe.setLayerProperty,args:[f,h,c[h]]}));for(h in c)c.hasOwnProperty(h)&&!d.hasOwnProperty(h)&&"layout"!==h&&"paint"!==h&&"filter"!==h&&"metadata"!==h&&"minzoom"!==h&&"maxzoom"!==h&&(0===h.indexOf("paint.")?We(d[h],c[h],o,f,h.slice(6),Oe.setPaintProperty):i(d[h],c[h])||o.push({command:Oe.setLayerProperty,args:[f,h,c[h]]}))}else o.push({command:Oe.removeLayer,args:[f]}),m=_[_.lastIndexOf(f)+1],o.push({command:Oe.addLayer,args:[c,m]})}(a,t.layers,o)}catch(e){console.warn("Unable to compute style diff:",e),o=[{command:Oe.setStyle,args:[t]}]}return o}(this.serialize(),t).filter(e=>!(e.command in Vt));if(0===o.length)return!1;const n=o.filter(e=>!(e.command in Nt));if(n.length>0)throw new Error(`Unimplemented: ${n.map(e=>e.command).join(", ")}.`);return o.forEach(e=>{"setTransition"!==e.command&&this[e.command].apply(this,e.args)}),this.stylesheet=t,!0}addImage(t,o){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,o),this._afterImageUpdated(t)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,o,n={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!o.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(o).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(o.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,o,null,n))return;this.map&&this.map._collectResourceTiming&&(o.collectResourceTiming=!0);const i=Me(t,o,this.dispatcher,this);i.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:i.serialize(),sourceId:t}));const s=o=>{const n=(o?"symbol:":"other:")+t,s=this._sourceCaches[n]=new e.SourceCache(n,i,o);(o?this._symbolSourceCaches:this._otherSourceCaches)[t]=s,s.style=this,s.onAdd(this.map)};s(!1),"vector"!==o.type&&"geojson"!==o.type||s(!0),i.onAdd&&i.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const o=this.getSource(t);if(void 0===o)throw new Error("There is no source with this ID");for(const o in this._layers)if(this._layers[o].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${o}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const n=this._getSourceCaches(t);for(const t of n)delete this._sourceCaches[t.id],delete this._updatedSources[t.id],t.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],o.setEventedParent(null),o.onRemove&&o.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}addLayer(t,o,n={}){this._checkLoaded();const i=t.id;if(this.getLayer(i))return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${i}" already exists on this map`)));let s;if("custom"===t.type){if(Ot(this,e.validateCustomStyleLayer(t)))return;s=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$2(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},n))return;s=e.createStyleLayer(t),this._validateLayer(s),s.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[s.id]=s.serialize(),this._updateLayerCount(s,!0)}const a=o?this._order.indexOf(o):this._order.length;if(o&&-1===a)return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${o}" does not exist on this map.`)));this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=s;const r=this._getLayerSourceCache(s);if(this._removedLayers[i]&&s.source&&r&&"custom"!==s.type){const e=this._removedLayers[i];delete this._removedLayers[i],e.type!==s.type?this._updatedSources[s.source]="clear":(this._updatedSources[s.source]="reload",r.pause())}this._updateLayer(s),s.onAdd&&s.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,o){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===o)return;const n=this._order.indexOf(t);this._order.splice(n,1);const i=o?this._order.indexOf(o):this._order.length;o&&-1===i?this.fire(new e.ErrorEvent(new Error(`Layer with id "${o}" does not exist on this map.`))):(this._order.splice(i,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const o=this._layers[t];if(!o)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));o.setEventedParent(null),this._updateLayerCount(o,!1);const n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=o,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],o.onRemove&&o.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(t,o,n){this._checkLoaded();const i=this.getLayer(t);i?i.minzoom===o&&i.maxzoom===n||(null!=o&&(i.minzoom=o),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(t,o,n={}){this._checkLoaded();const s=this.getLayer(t);if(s){if(!i(s.filter,o))return null==o?(s.filter=void 0,void this._updateLayer(s)):void(this._validate(e.validateStyle.filter,`layers.${s.id}.filter`,o,null,n)||(s.filter=e.clone$2(o),this._updateLayer(s)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){return e.clone$2(this.getLayer(t).filter)}setLayoutProperty(t,o,n,s={}){this._checkLoaded();const a=this.getLayer(t);a?i(a.getLayoutProperty(o),n)||(a.setLayoutProperty(o,n,s),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,o){const n=this.getLayer(t);if(n)return n.getLayoutProperty(o);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(t,o,n,s={}){this._checkLoaded();const a=this.getLayer(t);a?i(a.getPaintProperty(o),n)||(a.setPaintProperty(o,n,s)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(t,o){this._checkLoaded();const n=t.source,i=t.sourceLayer,s=this.getSource(n);if(void 0===s)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const a=s.type;if("geojson"===a&&i)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===a&&!i)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const r=this._getSourceCaches(n);for(const e of r)e.setFeatureState(i,t.id,o)}removeFeatureState(t,o){this._checkLoaded();const n=t.source,i=this.getSource(n);if(void 0===i)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const s=i.type,a="vector"===s?t.sourceLayer:void 0;if("vector"===s&&!a)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(o&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const r=this._getSourceCaches(n);for(const e of r)e.removeFeatureState(a,t.id,o)}getFeatureState(t){this._checkLoaded();const o=t.source,n=t.sourceLayer,i=this.getSource(o);if(void 0!==i){if("vector"!==i.type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(o)[0].getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const o=this._sourceCaches[e].getSource();t[o.id]||(t[o.id]=o.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t,layers:this._serializeLayers(this._order)},e=>void 0!==e)}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,o={},n=[];for(let i=this._order.length-1;i>=0;i--){const s=this._order[i];if(t(s)){o[s]=i;for(const t of e){const e=t[s];if(e)for(const t of e)n.push(t)}}}n.sort((e,t)=>t.intersectionZ-e.intersectionZ);const i=[];for(let s=this._order.length-1;s>=0;s--){const a=this._order[s];if(t(a))for(let e=n.length-1;e>=0;e--){const t=n[e].feature;if(o[t.layer.id]<s)break;i.push(t),n.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)i.push(t.feature)}}return i}queryRenderedFeatures(t,o,n){o&&o.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",o.filter,null,o);const i={};if(o&&o.layers){if(!Array.isArray(o.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of o.layers){const o=this._layers[t];if(!o)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];i[o.source]=!0}}const s=[];o.availableImages=this._availableImages;const a=o&&o.layers?o.layers.some(e=>{const t=this.getLayer(e);return t&&t.is3D()}):this.has3DLayers(),r=I.createFromScreenPoints(t,n);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;o.layers&&!i[t]||s.push(Ee(this._sourceCaches[e],this._layers,this._serializedLayers,r,o,n,a,!!this.map._showQueryGeometry))}return this.placement&&s.push(function(e,t,o,n,i,s,a){const r={},_=s.queryRenderedSymbols(n),p=[];for(const e of Object.keys(_).map(Number))p.push(a[e]);p.sort(Ie);for(const o of p){const n=o.featureIndex.lookupSymbolFeatures(_[o.bucketInstanceId],t,o.bucketIndex,o.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(const e in n){const t=r[e]=r[e]||[],i=n[e];i.sort((e,t)=>{const n=o.featureSortOrder;if(n){const o=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-o}return t.featureIndex-e.featureIndex});for(const e of i)t.push(e)}}for(const t in r)r[t].forEach(n=>{const i=n.feature,s=o(e[t]).getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=s});return r}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),r.screenGeometry,o,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(s)}querySourceFeatures(t,o){o&&o.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",o.filter,null,o);const n=this._getSourceCaches(t);let i=[];for(const e of n)i=i.concat(Ae(e,o));return i}addSourceType(e,t,o){return Wt.getSourceType(e)?o(new Error(`A source type called "${e}" already exists.`)):(Wt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},o):o(null,null))}getLight(){return this.light.getLight()}setLight(t,o={}){this._checkLoaded();const n=this.light.getLight();let s=!1;for(const e in t)if(!i(t[e],n[e])){s=!0;break}if(!s)return;const a={now:e.exported.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,o),this.light.updateTransitions(a)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(t){if(this._checkLoaded(),!t)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if("object"==typeof t.source){const o="terrain-dem-src";this.addSource(o,t.source),t=e.clone$2(t),t=e.extend(t,{source:o})}if(!this._validate(e.validateStyle.terrain,"terrain",t)){if(this.terrain){const o=this.terrain,n=o.get();for(const s in t)if(!i(t[s],n[s])){o.set(t),this.stylesheet.terrain=t;const n={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};o.updateTransitions(n);break}}else this._createTerrain(t);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}_createFog(t){const o=this.fog=new S(t);this.stylesheet.fog=t;const n={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};o.updateTransitions(n)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const e of this.map._markers)e._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(t){if(this._checkLoaded(),!t)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const o=this.fog,n=o.get();for(const s in t)if(!i(t[s],n[s])){o.set(t),this.stylesheet.fog=t;const n={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};o.updateTransitions(n);break}}else this._createFog(t);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter(e=>this.isLayerDraped(this._layers[e])),t=this._order.filter(e=>!this.isLayerDraped(this._layers[e]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(t){const o=this.terrain=new b(t);this.stylesheet.terrain=t,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const n={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};o.updateTransitions(n)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_validate(t,o,n,i,s={}){return(!s||!1!==s.validate)&&Ot(this,t.call(e.validateStyle,e.extend({key:o,style:this.serialize(),value:n,styleSpec:e.spec},i)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,o,n,i,s=!1){let a=!1,r=!1;const _={};for(const e of this._order){const o=this._layers[e];if("symbol"!==o.type)continue;if(!_[o.source]){const e=this._getLayerSourceCache(o);if(!e)continue;_[o.source]=e.getRenderableIds(!0).map(t=>e.getTileByID(t)).sort((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1))}const n=this.crossTileSymbolIndex.addLayer(o,_[o.source],t.center.lng);a=a||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),s=s||this._layerOrderChanged||0===n,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(s||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Pt(t,this._order,s,o,n,i,this.placement,this.fog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,_),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),r=!0),a&&this.pauseablePlacement.placement.setStale()),r||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,_[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,o){this.imageManager.getImages(t.icons,o),this._updateTilesForChangedImages();const n=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};n(this._otherSourceCaches[t.source]),n(this._symbolSourceCaches[t.source])}getGlyphs(e,t,o){this.glyphManager.getGlyphs(t.stacks,o)}getResource(t,o,n){return e.makeRequest(o,n)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}}Wt.getSourceType=function(e){return ke[e]},Wt.setSourceType=function(e,t){ke[e]=t},Wt.registerForPluginStateChange=e.registerForPluginStateChange;var Zt="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",jt="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let qt={},Kt={};qt=Yt("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec3 elevationVector(vec2 pos) {vec2 uv=pos/8192.0;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif",!0),Kt=Yt("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const Ht=Yt("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}\n#ifdef TERRAIN\nhighp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),$t=Zt;var Xt={background:Yt("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Yt("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Yt("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Yt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Yt("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec3 pos=vec3(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)));gl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Yt("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Yt("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Yt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Yt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:Yt("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Yt("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Yt("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Yt("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Yt("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Yt("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\n#else\nvec3 p=vec3(pos_nx.xy,z);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Yt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Yt("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Yt("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nvec4 out_color=texture2D(u_gradient_image,v_uv);\n#else\nvec4 out_color=color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#ifdef RENDER_LINE_GRADIENT\nattribute vec3 a_packed;\n#else\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];float a_linesofar=a_packed[2];highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Yt("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Yt("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Yt("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec4 projectedPoint=u_matrix*vec4(vec3(a_pos,anchorZ)+h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(vec3(a_projected_pos.xy,anchorZ)+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}"),symbolSDF:Yt("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec4 projectedPoint=u_matrix*vec4(vec3(a_pos,anchorZ)+h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(vec3(a_projected_pos.xy,anchorZ)+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Yt("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec4 projectedPoint=u_matrix*vec4(vec3(a_pos,anchorZ)+h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(vec3(a_projected_pos.xy,anchorZ)+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrainRaster:Yt("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:Yt("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Yt("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",jt),skyboxGradient:Yt("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",jt),skyboxCapture:Yt("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Yt("uniform sampler2D u_image0;varying vec2 v_pos0;void main() {vec4 color=texture2D(u_image0,v_pos0);gl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_globe_matrix;attribute vec3 a_globe_pos;attribute vec2 a_uv;varying vec2 v_pos0;void main() {v_pos0=a_uv;gl_Position=u_globe_matrix*vec4(a_globe_pos+elevationVector(a_uv*8192.0)*elevation(a_uv*8192.0),1.0);}"),globeAtmosphere:Yt("uniform vec2 u_center;uniform float u_radius;uniform vec2 u_screen_size;uniform float u_opacity;uniform float u_fadeout_range;uniform vec3 u_start_color;uniform vec3 u_end_color;uniform float u_pixel_ratio;void main() {vec2 fragCoord=gl_FragCoord.xy/u_pixel_ratio;fragCoord.y=u_screen_size.y-fragCoord.y;float distFromCenter=length(fragCoord-u_center);float normDistFromCenter=length(fragCoord-u_center)/u_radius;if (normDistFromCenter < 1.0)\ndiscard;float t=clamp(1.0-sqrt(normDistFromCenter-1.0)/u_fadeout_range,0.0,1.0);vec3 color=mix(u_start_color,u_end_color,1.0-t);gl_FragColor=vec4(color*t*u_opacity,u_opacity);}","attribute vec3 a_pos;void main() {gl_Position=vec4(a_pos,1.0);}"),globeDepth:Yt("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_globe_matrix;attribute vec3 a_globe_pos;attribute vec2 a_uv;varying float v_depth;void main() {gl_Position=u_globe_matrix*vec4(a_globe_pos+elevationVector(a_uv*8192.0)*elevation(a_uv*8192.0),1.0);v_depth=gl_Position.z/gl_Position.w;}")};function Yt(e,t,o){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,s=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),a=e.match(i),r=t.match(i),_=Zt.match(i);let p=r?r.concat(a):a;o||(qt.staticUniforms&&(p=qt.staticUniforms.concat(p)),Kt.staticUniforms&&(p=Kt.staticUniforms.concat(p))),p&&(p=p.concat(_));const l={};return{fragmentSource:e=e.replace(n,(e,t,o,n,i)=>(l[i]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nvarying ${o} ${n} ${i};\n#else\nuniform ${o} ${n} u_${i};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${i}\n    ${o} ${n} ${i} = u_${i};\n#endif\n`)),vertexSource:t=t.replace(n,(e,t,o,n,i)=>{const s="float"===n?"vec2":"vec4",a=i.match(/color/)?"color":s;return l[i]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${o} ${s} a_${i};\nvarying ${o} ${n} ${i};\n#else\nuniform ${o} ${n} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = a_${i};\n#else\n    ${o} ${n} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${o} ${n} ${i} = u_${i};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${o} ${s} a_${i};\n#else\nuniform ${o} ${n} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${o} ${n} ${i} = a_${i};\n#else\n    ${o} ${n} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${o} ${n} ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${o} ${n} ${i} = u_${i};\n#endif\n`}),staticAttributes:s,staticUniforms:p}}class Jt{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,o,n,i,s,a,r){this.context=e;let _=this.boundPaintVertexBuffers.length!==n.length;for(let e=0;!_&&e<n.length;e++)this.boundPaintVertexBuffers[e]!==n[e]&&(_=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===o&&!_&&this.boundIndexBuffer===i&&this.boundVertexOffset===s&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===r?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),r&&r.bind()):this.freshBind(t,o,n,i,s,a,r)}freshBind(e,t,o,n,i,s,a){let r;const _=e.numAttributes,p=this.context,l=p.gl;if(p.extVertexArrayObject)this.vao&&this.destroy(),this.vao=p.extVertexArrayObject.createVertexArrayOES(),p.bindVertexArrayOES.set(this.vao),r=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=o,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=s,this.boundDynamicVertexBuffer2=a;else{r=p.currentNumAttributes||0;for(let e=_;e<r;e++)l.disableVertexAttribArray(e)}t.enableAttributes(l,e);for(const t of o)t.enableAttributes(l,e);s&&s.enableAttributes(l,e),a&&a.enableAttributes(l,e),t.bind(),t.setVertexAttribPointers(l,e,i);for(const t of o)t.bind(),t.setVertexAttribPointers(l,e,i);s&&(s.bind(),s.setVertexAttribPointers(l,e,i)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(l,e,i)),p.currentNumAttributes=_}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Qt(t,o){const n=Math.pow(2,o.canonical.z),i=o.canonical.y;return[new e.MercatorCoordinate(0,i/n).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/n).toLngLat().lat]}function eo(t,o,n,i,s,a,r){const _=t.context,p=_.gl,l=n.fbo;if(!l)return;t.prepareDrawTile(o);const u=t.useProgram("hillshade");_.activeTexture.set(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,l.colorAttachment.get());const f=((e,t,o,n)=>{const i=o.paint.get("hillshade-shadow-color"),s=o.paint.get("hillshade-highlight-color"),a=o.paint.get("hillshade-accent-color");let r=o.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===o.paint.get("hillshade-illumination-anchor")&&(r-=e.transform.angle);const _=!e.options.moving;return{u_matrix:n||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),_),u_image:0,u_latrange:Qt(0,t.tileID),u_light:[o.paint.get("hillshade-exaggeration"),r],u_shadow:i,u_highlight:s,u_accent:a}})(t,n,i,t.terrain?o.projMatrix:null);t.prepareDrawProgram(_,u,o.toUnwrapped()),u.draw(_,p.TRIANGLES,s,a,r,e.CullFaceMode.disabled,f,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}function to(t,o,n){if(!o.needsDEMTextureUpload)return;const i=t.context,s=i.gl;i.pixelStoreUnpackPremultiplyAlpha.set(!1),o.demTexture=o.demTexture||t.getTileTexture(n.stride);const a=n.getPixels();o.demTexture?o.demTexture.update(a,{premultiply:!1}):o.demTexture=new e.Texture(i,a,s.RGBA,{premultiply:!1}),o.needsDEMTextureUpload=!1}function oo(t,o,n,i,s,a){const r=t.context,_=r.gl;if(!o.dem)return;const p=o.dem;if(r.activeTexture.set(_.TEXTURE1),to(t,o,p),!o.demTexture)return;o.demTexture.bind(_.NEAREST,_.CLAMP_TO_EDGE);const l=p.dim;r.activeTexture.set(_.TEXTURE0);let u=o.fbo;if(!u){const t=new e.Texture(r,{width:l,height:l,data:null},_.RGBA);t.bind(_.LINEAR,_.CLAMP_TO_EDGE),u=o.fbo=r.createFramebuffer(l,l,!0),u.colorAttachment.set(t.texture)}r.bindFramebuffer.set(u.framebuffer),r.viewport.set([0,0,l,l]),t.useProgram("hillshadePrepare").draw(r,_.TRIANGLES,i,s,a,e.CullFaceMode.disabled,((t,o)=>{const n=o.stride,i=e.create$1();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:o.unpackVector}})(o.tileID,p),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),o.needsHillshadePrepare=!1}const no=(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_image0:new e.Uniform1i(t,o.u_image0),u_skirt_height:new e.Uniform1f(t,o.u_skirt_height)}),io=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),so=new class{constructor(){this.operations={}}newMorphing(e,t,o,n,i){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==o.tileID.key&&(t.queued=o)}else this.operations[e]={startTime:n,phase:0,duration:i,from:t,to:o,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const o=this.operations[t];for(o.phase=(e-o.startTime)/o.duration;o.phase>=1||!this._validOp(o);)if(!this._nextOp(o,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},ao={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function ro(e,t){const o=1<<e.z;return!t&&(0===e.x||e.x===o-1)||0===e.y||e.y===o-1}const _o=e=>({u_matrix:e});function po(t,o,n,i,s){if(s>0){const a=e.exported.now(),r=(a-t.timeAdded)/s,_=o?(a-o.timeAdded)/s:-1,p=n.getSource(),l=i.coveringZoomLevel({tileSize:p.tileSize,roundZoom:p.roundZoom}),u=!o||Math.abs(o.tileID.overscaledZ-l)>Math.abs(t.tileID.overscaledZ-l),f=u&&t.refreshedUponExpiration?1:e.clamp(u?r:1-_,0,1);return t.refreshedUponExpiration&&r>=1&&(t.refreshedUponExpiration=!1),o?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}class lo extends e.SourceCache{constructor(e){const t=Me("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new E(Be(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,o,n){if(t.freezeTileCoverage)return;this.transform=t;const i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((o,n)=>{if(o[n.key]="",!this._tiles[n.key]){const o=new e.Tile(n,this._source.tileSize*n.overscaleFactor(),t.tileZoom);o.state="loaded",this._tiles[n.key]=o}return o},{});for(const e in this._tiles)e in i||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const o=Object.values(t);this.renderCachePool.push(...o),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach(e=>e.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class uo extends e.OverscaledTileID{constructor(e,t,o){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=o}}class fo extends e.Elevation{constructor(t,o){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[n,i,s]=function(t){const o=new e.StructArrayLayout4i8,n=new e.StructArrayLayout3ui6,i=131;o.reserve(17161),n.reserve(33800);const s=e.EXTENT/128,a=e.EXTENT+s/2,r=a+s;for(let t=-s;t<r;t+=s)for(let n=-s;n<r;n+=s){const i=n<0||n>a||t<0||t>a?24575:0,s=e.clamp(Math.round(n),0,e.EXTENT),r=e.clamp(Math.round(t),0,e.EXTENT);o.emplaceBack(s+i,r,s,r)}const _=(e,t)=>{const o=t*i+e;n.emplaceBack(o+1,o,o+i),n.emplaceBack(o+i,o+i+1,o+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)_(t,e);return[0,129].forEach(e=>{for(let t=0;t<130;t++)_(t,e),_(e,t)}),[o,n,32768]}(),a=t.context;this.gridBuffer=a.createVertexBuffer(n,we.members),this.gridIndexBuffer=a.createIndexBuffer(i),this.gridSegments=e.SegmentVector.simpleSegment(0,0,n.length,i.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,n.length,s),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new lo(o.map),this.orthoMatrix=e.create$1(),e.ortho(this.orthoMatrix,0,e.EXTENT,0,e.EXTENT,0,1);const r=a.gl;this._overlapStencilMode=new e.StencilMode({func:r.GEQUAL,mask:255},0,255,r.KEEP,r.KEEP,r.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=o,this._useVertexMorphing=!0,this._exaggeration=1}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}update(t,o,n){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const i=t.terrain.properties;this.sourceCache=t._getSourceCache(i.get("source")),this._exaggeration=i.get("exaggeration");const s=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.sourceCache.getSource().tileSize/128,n=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(o,t*n,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,s(),this._initializing=!0),s(),o.updateElevation(!n),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(o),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(e=>e.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const o=this.proxySourceCache,n=this.painter.transform;this._initializing&&(this._initializing=0===n._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(n.center),-1),this._emptyDEMTextureDirty=!this._initializing);const i=this.proxyCoords=o.getIds().map(e=>{const t=o.getTileByID(e).tileID;return t.projMatrix=n.calculateProjMatrix(t.toUnwrapped()),t});!function(t,o){const n=o.transform.pointCoordinate(o.transform.getCameraPoint()),i=new e.pointGeometry(n.x,n.y);t.sort((t,o)=>{if(o.overscaledZ-t.overscaledZ)return o.overscaledZ-t.overscaledZ;const n=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),s=new e.pointGeometry(o.canonical.x+(1<<o.canonical.z)*o.wrap,o.canonical.y),a=i.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(n)-a.distSqr(s)})}(i,this.painter),this._previousZoom=n.zoom;const s=this.proxyToSource||{};this.proxyToSource={},i.forEach(e=>{this.proxyToSource[e.key]={}}),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const e in a){const o=a[e];if(!o.used)continue;if(o!==this.sourceCache&&(this._findCoveringTileCache[o.id]={}),this._setupProxiedCoordsForOrtho(o,t[e],s),o.usedForTerrain)continue;const n=t[e];o.getSource().reparseOverscaled&&this._assignTerrainTiles(n)}this.proxiedCoords[o.id]=i.map(e=>new uo(e,e.key,this.orthoMatrix)),this._assignTerrainTiles(i),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(s),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const r={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const o=t.tileID.key;o in r||(this._visibleDemTiles.push(t),r[o]=o)}}_assignTerrainTiles(e){this._initializing||e.forEach(e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)})}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const o in this.terrainTileForTile){const n=this.terrainTileForTile[o],i=n.dem;!i||n.demTexture&&!n.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),to(this.painter,n,i))}}_prepareDemTileUniforms(e,t,o,n){if(!t||null==t.demTexture)return!1;const i=e.tileID.canonical,s=Math.pow(2,t.tileID.canonical.z-i.z),a=n||"";return o["u_dem_tl"+a]=[i.x*s%1,i.y*s%1],o["u_dem_scale"+a]=s,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce((t,o)=>{if(!o.dem)return t;const n=o.dem.tree.minimums[0];return n>0&&e++,t+n},0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,o=t.gl;t.activeTexture.set(o.TEXTURE2);const n=this._getLoadedAreaMinimum(),i={width:1,height:1,data:new Uint8Array(e.DEMData.pack(n,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let s=this._emptyDEMTexture;return s?s.update(i,{premultiply:!1}):s=this._emptyDEMTexture=new e.Texture(t,i,o.RGBA,{premultiply:!1}),s}setupElevationDraw(t,o,n){const i=this.painter.context,s=i.gl,a=(r=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(r),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});var r;a.u_dem_size=this.sourceCache.getSource().tileSize,a.u_exaggeration=this.exaggeration();let _=null,p=null,l=1;if(n&&n.morphing&&this._useVertexMorphing){const e=n.morphing.srcDemTile,o=n.morphing.dstDemTile;l=n.morphing.phase,e&&o&&(this._prepareDemTileUniforms(t,e,a,"_prev")&&(p=e),this._prepareDemTileUniforms(t,o,a)&&(_=o))}if(p&&_?(i.activeTexture.set(s.TEXTURE2),_.demTexture.bind(s.NEAREST,s.CLAMP_TO_EDGE,s.NEAREST),i.activeTexture.set(s.TEXTURE4),p.demTexture.bind(s.NEAREST,s.CLAMP_TO_EDGE,s.NEAREST),a.u_dem_lerp=l):(_=this.terrainTileForTile[t.tileID.key],i.activeTexture.set(s.TEXTURE2),(this._prepareDemTileUniforms(t,_,a)?_.demTexture:this.emptyDEMTexture).bind(s.NEAREST,s.CLAMP_TO_EDGE,s.NEAREST)),n&&n.useDepthForOcclusion&&(i.activeTexture.set(s.TEXTURE3),this._depthTexture.bind(s.NEAREST,s.CLAMP_TO_EDGE,s.NEAREST),a.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),n&&n.useMeterToDem&&_){const t=(1<<_.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;a.u_meter_to_dem=t}n&&n.labelPlaneMatrixInv&&(a.u_label_plane_matrix_inv=n.labelPlaneMatrixInv),o.setTerrainUniformValues(i,a)}renderToBackBuffer(t){const o=this.painter,n=this.painter.context;0!==t.length&&(n.bindFramebuffer.set(null),n.viewport.set([0,0,o.width,o.height]),this.renderingToTexture=!1,function(t,o,n,i,s){const a=t.context,r=a.gl;let _,p;const l=t.options.showTerrainWireframe?2:0,u=(e,o)=>{if(p===e)return;const n=[ao[e]];o&&n.push(ao[l]),_=t.useProgram("terrainRaster",null,n),p=e},f=t.colorModeForRenderPass(),d=new e.DepthMode(r.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);so.update(s);const c=t.transform,m=6*Math.pow(1.5,22-c.zoom)*o.exaggeration();(l?[!1,!0]:[!1]).forEach(l=>{p=-1;const h=l?r.LINES:r.TRIANGLES,[y,g]=l?o.getWirefameBuffer():[o.gridIndexBuffer,o.gridSegments];for(const p of i){const i=n.getTile(p),C=e.StencilMode.disabled,b=o.prevTerrainTileForTile[p.key],w=o.terrainTileForTile[p.key];x=w,null!=(v=b)&&null!=x&&v.hasData()&&x.hasData()&&null!=v.demTexture&&null!=x.demTexture&&v.tileID.key!==x.tileID.key&&so.newMorphing(p.key,b,w,s,250),a.activeTexture.set(r.TEXTURE0),i.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST);const T=so.getMorphValuesForProxy(p.key),k=T?1:0;let M;T&&(M={morphing:{srcDemTile:T.from,dstDemTile:T.to,phase:e.easeCubicInOut(T.phase)}});const S=io(p.projMatrix,ro(p.canonical,c.renderWorldCopies)?m/10:m);u(k,l),o.setupElevationDraw(i,_,M),t.prepareDrawProgram(a,_,p.toUnwrapped()),_.draw(a,h,d,C,f,e.CullFaceMode.backCCW,S,"terrain_raster",o.gridBuffer,y,g)}var v,x})}(o,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const o=this.painter,n=this.painter.context,i=this.proxySourceCache,s=this.proxiedCoords[i.id],a=this._drapedRenderBatches.shift(),r=[],_=o.style.order;let p=0;for(const l of s){const s=i.getTileByID(l.proxyTileKey),u=i.proxyCachedFBO[l.key]?i.proxyCachedFBO[l.key][t]:void 0,f=void 0!==u?i.renderCache[u]:this.pool[p++],d=void 0!==u;if(s.texture=f.tex,d&&!f.dirty){r.push(s.tileID);continue}let c;n.bindFramebuffer.set(f.fb.framebuffer),this.renderedToTile=!1,f.dirty&&(n.clear({color:e.Color.transparent}),f.dirty=!1);for(let e=a.start;e<=a.end;++e){const t=o.style._layers[_[e]];if(t.isHidden(o.transform.zoom))continue;const i=o.style._getLayerSourceCache(t),s=i?this.proxyToSource[l.key][i.id]:[l];if(!s)continue;const a=s;n.viewport.set([0,0,f.fb.width,f.fb.height]),c!==(i?i.id:null)&&(this._setupStencil(f,s,t,i),c=i?i.id:null),o.renderLayer(o,i,t,a)}this.renderedToTile?(f.dirty=!0,r.push(s.tileID)):d||--p,5===p&&(p=0,this.renderToBackBuffer(r))}return this.renderToBackBuffer(r),this.renderingToTexture=!1,n.bindFramebuffer.set(null),n.viewport.set([0,0,o.width,o.height]),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let o,n=0,i=0,s=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(s&&++n,++i):s||(s=!0,o=t.id)}return 0===i?{efficiency:100}:{efficiency:100*(1-n/i),firstUndrapedLayer:o}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter(e=>e.dem).forEach(t=>{e=Math.min(e,t.dem.tree.minimums[0])}),0===e?e:(e-30)*this._exaggeration}raycast(e,t,o){if(!this._visibleDemTiles)return null;const n=this._visibleDemTiles.filter(e=>e.dem).map(n=>{const i=n.tileID,s=Math.pow(2,i.overscaledZ),{x:a,y:r}=i.canonical,_=a/s,p=(a+1)/s,l=r/s,u=(r+1)/s;return{minx:_,miny:l,maxx:p,maxy:u,t:n.dem.tree.raycastRoot(_,l,p,u,e,t,o),tile:n}});n.sort((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE));for(const i of n){if(null==i.t)return null;const n=i.tile.dem.tree.raycast(i.minx,i.miny,i.maxx,i.maxy,e,t,o);if(null!=n)return n}return null}_createFBO(){const t=this.painter.context,o=t.gl,n=this.drapeBufferSize;t.activeTexture.set(o.TEXTURE0);const i=new e.Texture(t,{width:n[0],height:n[1],data:null},o.RGBA);i.bind(o.LINEAR,o.CLAMP_TO_EDGE);const s=t.createFramebuffer(n[0],n[1],!1);return s.colorAttachment.set(i.texture),s.depthAttachment=new ge(t,s.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,n[0],n[1]),this._stencilRef=0,s.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):s.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&o.texParameterf(o.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:s,tex:i,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return!0;return this._style.order.some(e=>{const t=this._style._layers[e],o=t.isHidden(this.painter.transform.zoom),n=t.getCrossfadeParameters(),i=!!n&&1!==n.t,s=t.hasTransition();return"custom"!==t.type&&!o&&(i||s)})}_clearRasterFadeFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Ce){e=!0;break}if(e)for(let e=0;e<this._style.order.length;++e){const t=this._style._layers[this._style.order[e]],o=t.isHidden(this.painter.transform.zoom),n=this._style._getLayerSourceCache(t);if("raster"!==t.type||o||!n)continue;const i=t.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][n.id];if(t)for(const e of t){const t=po(n.getTile(e),n.findLoadedParent(e,0),n,this.painter.transform,i);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(n.id,e)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const o=[];let n,i=0,s=this._style._layers[e[i]];for(;!this._style.isLayerDraped(s)&&s.isHidden(this.painter.transform.zoom)&&++i<t;)s=this._style._layers[e[i]];for(;i<t;++i){const t=this._style._layers[e[i]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===n&&(n=i):void 0!==n&&(o.push({start:n,end:i-1}),n=void 0))}void 0!==n&&o.push({start:n,end:i-1}),this._drapedRenderBatches=o}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let o=0;o<e.length;++o){const n=Object.values(e[o]);t.renderCachePool.push(...n)}}return}this._clearRasterFadeFromRenderCache();const o=this.proxyCoords,n=this._tilesDirty;for(let i=o.length-1;i>=0;i--){const s=o[i];if(t.getTileByID(s.key),void 0!==t.proxyCachedFBO[s.key]){const o=e[s.key],i=this.proxyToSource[s.key];let a=0;for(const e in i){const t=i[e],s=o[e];if(!s||s.length!==t.length||t.some((t,o)=>t!==s[o]||n[e]&&n[e].hasOwnProperty(t.key))){a=-1;break}++a}for(const e in t.proxyCachedFBO[s.key])t.renderCache[t.proxyCachedFBO[s.key][e]].dirty=a<0||a!==Object.values(o).length}}const i=[...this._drapedRenderBatches];i.sort((e,t)=>t.end-t.start-(e.end-e.start));for(const e of i)for(const n of o){if(t.proxyCachedFBO[n.key])continue;let o=t.renderCachePool.pop();void 0===o&&t.renderCache.length<50&&(o=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==o&&(t.proxyCachedFBO[n.key]={},t.proxyCachedFBO[n.key][e.start]=o,t.renderCache[o].dirty=!0)}this._tilesDirty={}}_setupStencil(e,t,o,n){if(!n||!this._sourceTilesOverlap[n.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const i=this.painter.context,s=i.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let a;if(o.isTileClipped())a=t.length,this._overlapStencilMode.test={func:s.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:s.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+a>255&&(i.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,o.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,o){const n=this.painter,i=this.painter.context,s=i.gl;n._tileClippingMaskIDs={},i.setColorMode(e.ColorMode.disabled),i.setDepthMode(e.DepthMode.disabled);const a=n.useProgram("clippingMask");for(const r of t){const t=n._tileClippingMaskIDs[r.key]=--o;a.draw(i,s.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:s.ALWAYS,mask:0},t,255,s.KEEP,s.KEEP,s.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,_o(r.projMatrix),"$clipping",n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}pointCoordinate(t){const o=this.painter.transform;if(t.x<0||t.x>o.width||t.y<0||t.y>o.height)return null;const n=[t.x,t.y,1,1];e.transformMat4(n,n,o.pixelMatrixInverse),e.scale$2(n,n,1/n[3]),n[0]/=o.worldSize,n[1]/=o.worldSize;const i=o._camera.position,s=e.mercatorZfromAltitude(1,o.center.lat),a=[i[0],i[1],i[2]/s,0],r=e.subtract([],n.slice(0,3),a);e.normalize(r,r);const _=this.raycast(a,r,this._exaggeration);return null!==_&&_?(e.scaleAndAdd(a,a,r,_),a[3]=a[2],a[2]*=s,a):null}drawDepth(){const t=this.painter,o=t.context,n=this.proxySourceCache,i=Math.ceil(t.width),s=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===i&&this._depthFBO.height===s||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const t=o.gl,n=o.createFramebuffer(i,s,!0);o.activeTexture.set(t.TEXTURE0);const a=new e.Texture(o,{width:i,height:s,data:null},t.RGBA);a.bind(t.NEAREST,t.CLAMP_TO_EDGE),n.colorAttachment.set(a.texture);const r=o.createRenderbuffer(o.gl.DEPTH_COMPONENT16,i,s);n.depthAttachment.set(r),this._depthFBO=n,this._depthTexture=a}o.bindFramebuffer.set(this._depthFBO.framebuffer),o.viewport.set([0,0,i,s]),function(t,o,n,i){const s=t.context,a=s.gl;s.clear({depth:1});const r=t.useProgram("terrainDepth"),_=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const t of i){const i=n.getTile(t),p=io(t.projMatrix,0);o.setupElevationDraw(i,r),r.draw(s,a.TRIANGLES,_,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,p,"terrain_depth",o.gridBuffer,o.gridIndexBuffer,o.gridNoSkirtSegments)}}(t,this,n,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,o){if(e.getSource()instanceof Te)return this._setupProxiedCoordsForImageSource(e,t,o);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const n=this.proxiedCoords[e.id]=[],i=this.proxyCoords;for(let t=0;t<i.length;t++){const s=i[t],a=this._findTileCoveringTileID(s,e);if(a){const t=this._createProxiedId(s,a,o[s.key]&&o[s.key][e.id]);n.push(t),this.proxyToSource[s.key][e.id]=[t]}}let s=!1;for(let i=0;i<t.length;i++){const a=e.getTile(t[i]);if(!a||!a.hasData())continue;const r=this._findTileCoveringTileID(a.tileID,this.proxySourceCache);if(r&&r.tileID.canonical.z!==a.tileID.canonical.z){const t=this.proxyToSource[r.tileID.key][e.id],i=this._createProxiedId(r.tileID,a,o[r.tileID.key]&&o[r.tileID.key][e.id]);t?t.splice(t.length-1,0,i):this.proxyToSource[r.tileID.key][e.id]=[i],n.push(i),s=!0}}this._sourceTilesOverlap[e.id]=s}_setupProxiedCoordsForImageSource(t,o,n){if(!t.getSource().loaded())return;const i=this.proxiedCoords[t.id]=[],s=this.proxyCoords,a=t.getSource(),r=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),_=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((e,t)=>(e.min.x=Math.min(e.min.x,t.x-r.x),e.min.y=Math.min(e.min.y,t.y-r.y),e.max.x=Math.max(e.max.x,t.x-r.x),e.max.y=Math.max(e.max.y,t.y-r.y),e),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),p=(t,o)=>{const n=t.wrap+t.canonical.x/(1<<t.canonical.z),i=t.canonical.y/(1<<t.canonical.z),s=e.EXTENT/(1<<t.canonical.z),a=o.wrap+o.canonical.x/(1<<o.canonical.z),r=o.canonical.y/(1<<o.canonical.z);return n+s<a+_.min.x||n>a+_.max.x||i+s<r+_.min.y||i>r+_.max.y};for(let e=0;e<s.length;e++){const a=s[e];for(let e=0;e<o.length;e++){const s=t.getTile(o[e]);if(!s||!s.hasData())continue;if(p(a,s.tileID))continue;const r=this._createProxiedId(a,s,n[a.key]&&n[a.key][t.id]),_=this.proxyToSource[a.key][t.id];_?_.push(r):this.proxyToSource[a.key][t.id]=[r],i.push(r)}}}_createProxiedId(t,o,n){let i=this.orthoMatrix;if(n){const e=n.find(e=>e.key===o.tileID.key);if(e)return e}if(o.tileID.key!==t.key){const n=t.canonical.z-o.tileID.canonical.z;let s,a,r;i=e.create$1();const _=o.tileID.wrap-t.wrap<<t.overscaledZ;n>0?(s=e.EXTENT>>n,a=s*((o.tileID.canonical.x<<n)-t.canonical.x+_),r=s*((o.tileID.canonical.y<<n)-t.canonical.y)):(s=e.EXTENT<<-n,a=e.EXTENT*(o.tileID.canonical.x-(t.canonical.x+_<<-n)),r=e.EXTENT*(o.tileID.canonical.y-(t.canonical.y<<-n))),e.ortho(i,0,s,0,s,0,1),e.translate(i,i,[a,r,0])}return new uo(o.tileID,t.key,i)}_findTileCoveringTileID(t,o){let n=o.getTile(t);if(n&&n.hasData())return n;const i=this._findCoveringTileCache[o.id],s=i[t.key];if(n=s?o.getTileByID(s):null,n&&n.hasData()||null===s)return n;let a=n?n.tileID:t,r=a.overscaledZ;const _=o.getSource().minzoom,p=[];if(!s){const i=o.getSource().maxzoom;if(t.canonical.z>=i){const n=t.canonical.z-i;o.getSource().reparseOverscaled?(r=Math.max(t.canonical.z+2,o.transform.tileZoom),a=new e.OverscaledTileID(r,t.wrap,i,t.canonical.x>>n,t.canonical.y>>n)):0!==n&&(r=i,a=new e.OverscaledTileID(r,t.wrap,i,t.canonical.x>>n,t.canonical.y>>n))}a.key!==t.key&&(p.push(a.key),n=o.getTile(a))}const l=e=>{p.forEach(t=>{i[t]=e}),p.length=0};for(r-=1;r>=_&&(!n||!n.hasData());r--){n&&l(n.tileID.key);const e=a.calculateScaledKey(r);if(n=o.getTileByID(e),n&&n.hasData())break;const t=i[e];if(null===t)break;void 0===t?p.push(e):n=o.getTileByID(t)}return l(n?n.tileID.key:null),n&&n.hasData()?n:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(e){this.renderedToTile=!0}_clearRenderCacheForTile(e,t){let o=this._tilesDirty[e];o||(o=this._tilesDirty[e]={}),o[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let o,n,i;const s=new e.StructArrayLayout2ui4,a=131;for(n=1;n<129;n++){for(o=1;o<129;o++)i=n*a+o,s.emplaceBack(i,i+1),s.emplaceBack(i,i+a),s.emplaceBack(i+1,i+a),128===n&&s.emplaceBack(i+a,i+a+1);s.emplaceBack(i+1,i+1+a)}return s}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function co(e){const t=[];for(let o=0;o<e.length;o++){if(null===e[o])continue;const n=e[o].split(" ");t.push(n.pop())}return t}class mo{static cacheKey(e,t,o){let n=`${e}${o?o.cacheKey:""}`;for(const e of t)n+="/"+e;return n}constructor(t,o,n,i,s,a){const r=t.gl;this.program=r.createProgram();const _=co(n.staticAttributes),p=i?i.getBinderAttributes():[],l=_.concat(p),u=n.staticUniforms?co(n.staticUniforms):[],f=i?i.getBinderUniforms():[],d=u.concat(f),c=[];for(const e of d)c.indexOf(e)<0&&c.push(e);let m=i?i.defines():[];m=m.concat(a.map(e=>"#define "+e));const h=m.concat(Ht.fragmentSource,$t,Kt.fragmentSource,n.fragmentSource).join("\n"),y=m.concat(Ht.vertexSource,$t,Kt.vertexSource,qt.vertexSource,n.vertexSource).join("\n"),g=r.createShader(r.FRAGMENT_SHADER);if(r.isContextLost())return void(this.failedToCreate=!0);r.shaderSource(g,h),r.compileShader(g),r.attachShader(this.program,g);const v=r.createShader(r.VERTEX_SHADER);if(r.isContextLost())return void(this.failedToCreate=!0);r.shaderSource(v,y),r.compileShader(v),r.attachShader(this.program,v),this.attributes={};const x={};this.numAttributes=l.length;for(let e=0;e<this.numAttributes;e++)l[e]&&(r.bindAttribLocation(this.program,e,l[e]),this.attributes[l[e]]=e);r.linkProgram(this.program),r.deleteShader(v),r.deleteShader(g);for(let e=0;e<c.length;e++){const t=c[e];if(t&&!x[t]){const e=r.getUniformLocation(this.program,t);e&&(x[t]=e)}}this.fixedUniforms=s(t,x),this.binderUniforms=i?i.getUniforms(t,x):[],-1!==a.indexOf("TERRAIN")&&(this.terrainUniforms=((t,o)=>({u_dem:new e.Uniform1i(t,o.u_dem),u_dem_prev:new e.Uniform1i(t,o.u_dem_prev),u_dem_unpack:new e.Uniform4f(t,o.u_dem_unpack),u_dem_tl:new e.Uniform2f(t,o.u_dem_tl),u_dem_scale:new e.Uniform1f(t,o.u_dem_scale),u_dem_tl_prev:new e.Uniform2f(t,o.u_dem_tl_prev),u_dem_scale_prev:new e.Uniform1f(t,o.u_dem_scale_prev),u_dem_size:new e.Uniform1f(t,o.u_dem_size),u_dem_lerp:new e.Uniform1f(t,o.u_dem_lerp),u_exaggeration:new e.Uniform1f(t,o.u_exaggeration),u_depth:new e.Uniform1i(t,o.u_depth),u_depth_size_inv:new e.Uniform2f(t,o.u_depth_size_inv),u_meter_to_dem:new e.Uniform1f(t,o.u_meter_to_dem),u_label_plane_matrix_inv:new e.UniformMatrix4f(t,o.u_label_plane_matrix_inv),u_tile_tl_up:new e.Uniform3f(t,o.u_tile_tl_up),u_tile_tr_up:new e.Uniform3f(t,o.u_tile_tr_up),u_tile_br_up:new e.Uniform3f(t,o.u_tile_br_up),u_tile_bl_up:new e.Uniform3f(t,o.u_tile_bl_up),u_tile_up_scale:new e.Uniform1f(t,o.u_tile_up_scale)}))(t,x)),-1!==a.indexOf("FOG")&&(this.fogUniforms=((t,o)=>({u_fog_matrix:new e.UniformMatrix4f(t,o.u_fog_matrix),u_fog_range:new e.Uniform2f(t,o.u_fog_range),u_fog_color:new e.Uniform4f(t,o.u_fog_color),u_fog_horizon_blend:new e.Uniform1f(t,o.u_fog_horizon_blend),u_fog_temporal_offset:new e.Uniform1f(t,o.u_fog_temporal_offset)}))(t,x))}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const o=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)o[e].set(t[e])}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const o=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)o[e].location&&o[e].set(t[e])}}draw(e,t,o,n,i,s,a,r,_,p,l,u,f,d,c,m){const h=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(o),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(s);for(const e in this.fixedUniforms)this.fixedUniforms[e].set(a[e]);d&&d.setUniforms(e,this.binderUniforms,u,{zoom:f});const y={[h.LINES]:2,[h.TRIANGLES]:3,[h.LINE_STRIP]:1}[t];for(const o of l.get()){const n=o.vaos||(o.vaos={});(n[r]||(n[r]=new Jt)).bind(e,this,_,d?d.getPaintVertexBuffers():[],p,o.vertexOffset,c,m),h.drawElements(t,o.primitiveLength*y,h.UNSIGNED_SHORT,o.primitiveOffset*y*2)}}}function ho(e,t,o){const n=1/A(o,1,t.transform.tileZoom),i=Math.pow(2,o.tileID.overscaledZ),s=o.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=s*(o.tileID.canonical.x+o.tileID.wrap*i),r=s*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,r>>16],u_pixel_coord_lower:[65535&a,65535&r]}}const yo=(t,o,n,i)=>{const s=o.style.light,a=s.properties.get("position"),r=[a.x,a.y,a.z],_=e.create$2();"viewport"===s.properties.get("anchor")&&(e.fromRotation(_,-o.transform.angle),e.transformMat3(r,r,_));const p=s.properties.get("color");return{u_matrix:t,u_lightpos:r,u_lightintensity:s.properties.get("intensity"),u_lightcolor:[p.r,p.g,p.b],u_vertical_gradient:+n,u_opacity:i}},go=(t,o,n,i,s,a,r)=>e.extend(yo(t,o,n,i),ho(a,o,r),{u_height_factor:-Math.pow(2,s.overscaledZ)/r.tileSize/8}),vo=e=>({u_matrix:e}),xo=(t,o,n,i)=>e.extend(vo(t),ho(n,o,i)),Co=(e,t)=>({u_matrix:e,u_world:t}),bo=(t,o,n,i,s)=>e.extend(xo(t,o,n,i),{u_world:s}),wo=(t,o,n,i)=>{const s=t.transform;let a;if("map"===i.paint.get("circle-pitch-alignment")){const e=A(n,1,s.zoom);a=[e,e]}else a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_matrix:t.translatePosMatrix(o.projMatrix,n,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:a}},To=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},ko=(t,o,n)=>{const i=e.EXTENT/n.tileSize;return{u_matrix:t,u_camera_to_center_distance:o.cameraToCenterDistance,u_extrude_scale:[o.pixelsToGLUnits[0]/i,o.pixelsToGLUnits[1]/i]}},Mo=(e,t,o=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:o}),So=(e,t,o,n)=>({u_matrix:e,u_extrude_scale:A(t,1,o),u_intensity:n}),Eo=(t,o,n,i,s,a)=>{const r=t.transform,_={u_matrix:zo(t,o,n,s),u_ratio:1/A(o,1,r.zoom),u_device_pixel_ratio:e.exported.devicePixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:a,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0};if(Do(n)){const e=Io(o,t.transform);_.u_texsize=o.lineAtlasTexture.size,_.u_scale=[e,i.fromScale,i.toScale],_.u_mix=i.t}return _},Ao=(t,o,n,i,s)=>{const a=t.transform,r=Io(o,a);return{u_matrix:zo(t,o,n,s),u_texsize:o.imageAtlasTexture.size,u_ratio:1/A(o,1,a.zoom),u_device_pixel_ratio:e.exported.devicePixelRatio,u_image:0,u_scale:[r,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}};function Io(e,t){return 1/A(e,1,t.tileZoom)}function zo(e,t,o,n){return e.translatePosMatrix(n||t.tileID.projMatrix,t,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"))}const Po=e=>{const t=[];return Do(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT"),t};function Do(e){const t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const Lo=(e,t,o,n,i)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:o,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(s=i.paint.get("raster-contrast"),s>0?1/(1-s):1+s),u_spin_weights:Bo(i.paint.get("raster-hue-rotate"))};var s,a};function Bo(e){e*=Math.PI/180;const t=Math.sin(e),o=Math.cos(e);return[(2*o+1)/3,(-Math.sqrt(3)*t-o+1)/3,(Math.sqrt(3)*t-o+1)/3]}const Ro=(e,t,o,n,i,s,a,r,_,p)=>{const l=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:l.cameraToCenterDistance,u_pitch:l.pitch/360*2*Math.PI,u_rotate_symbol:+o,u_aspect_ratio:l.width/l.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:s,u_label_plane_matrix:a,u_coord_matrix:r,u_is_text:+_,u_pitch_with_map:+n,u_texsize:p,u_texture:0}},Fo=(t,o,n,i,s,a,r,_,p,l,u)=>{const{cameraToCenterDistance:f,_pitch:d}=s.transform;return e.extend(Ro(t,o,n,i,s,a,r,_,p,l),{u_gamma_scale:i?f*Math.cos(s.terrain?0:d):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+u})},Oo=(t,o,n,i,s,a,r,_,p,l)=>e.extend(Fo(t,o,n,i,s,a,r,_,!0,p,!0),{u_texsize_icon:l,u_texture_icon:1}),No=(e,t,o)=>({u_matrix:e,u_opacity:t,u_color:o}),Vo=(t,o,n,i,s,a)=>e.extend(function(e,t,o,n){const i=o.imageManager.getPattern(e.from.toString()),s=o.imageManager.getPattern(e.to.toString()),{width:a,height:r}=o.imageManager.getPixelSize(),_=Math.pow(2,n.tileID.overscaledZ),p=n.tileSize*Math.pow(2,o.transform.tileZoom)/_,l=p*(n.tileID.canonical.x+n.tileID.wrap*_),u=p*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:s.tl,u_pattern_br_b:s.br,u_texsize:[a,r],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:s.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/A(n,1,o.transform.tileZoom),u_pixel_coord_upper:[l>>16,u>>16],u_pixel_coord_lower:[65535&l,65535&u]}}(i,a,n,s),{u_matrix:t,u_opacity:o}),Uo={fillExtrusion:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_lightpos:new e.Uniform3f(t,o.u_lightpos),u_lightintensity:new e.Uniform1f(t,o.u_lightintensity),u_lightcolor:new e.Uniform3f(t,o.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,o.u_vertical_gradient),u_opacity:new e.Uniform1f(t,o.u_opacity)}),fillExtrusionPattern:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_lightpos:new e.Uniform3f(t,o.u_lightpos),u_lightintensity:new e.Uniform1f(t,o.u_lightintensity),u_lightcolor:new e.Uniform3f(t,o.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,o.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,o.u_height_factor),u_image:new e.Uniform1i(t,o.u_image),u_texsize:new e.Uniform2f(t,o.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,o.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,o.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,o.u_scale),u_fade:new e.Uniform1f(t,o.u_fade),u_opacity:new e.Uniform1f(t,o.u_opacity)}),fill:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix)}),fillPattern:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_image:new e.Uniform1i(t,o.u_image),u_texsize:new e.Uniform2f(t,o.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,o.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,o.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,o.u_scale),u_fade:new e.Uniform1f(t,o.u_fade)}),fillOutline:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_world:new e.Uniform2f(t,o.u_world)}),fillOutlinePattern:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_world:new e.Uniform2f(t,o.u_world),u_image:new e.Uniform1i(t,o.u_image),u_texsize:new e.Uniform2f(t,o.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,o.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,o.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,o.u_scale),u_fade:new e.Uniform1f(t,o.u_fade)}),circle:(t,o)=>({u_camera_to_center_distance:new e.Uniform1f(t,o.u_camera_to_center_distance),u_extrude_scale:new e.Uniform2f(t,o.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,o.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,o.u_matrix)}),collisionBox:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,o.u_camera_to_center_distance),u_extrude_scale:new e.Uniform2f(t,o.u_extrude_scale)}),collisionCircle:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,o.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,o.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,o.u_viewport_size)}),debug:(t,o)=>({u_color:new e.UniformColor(t,o.u_color),u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_overlay:new e.Uniform1i(t,o.u_overlay),u_overlay_scale:new e.Uniform1f(t,o.u_overlay_scale)}),clippingMask:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix)}),heatmap:(t,o)=>({u_extrude_scale:new e.Uniform1f(t,o.u_extrude_scale),u_intensity:new e.Uniform1f(t,o.u_intensity),u_matrix:new e.UniformMatrix4f(t,o.u_matrix)}),heatmapTexture:(t,o)=>({u_image:new e.Uniform1i(t,o.u_image),u_color_ramp:new e.Uniform1i(t,o.u_color_ramp),u_opacity:new e.Uniform1f(t,o.u_opacity)}),hillshade:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_image:new e.Uniform1i(t,o.u_image),u_latrange:new e.Uniform2f(t,o.u_latrange),u_light:new e.Uniform2f(t,o.u_light),u_shadow:new e.UniformColor(t,o.u_shadow),u_highlight:new e.UniformColor(t,o.u_highlight),u_accent:new e.UniformColor(t,o.u_accent)}),hillshadePrepare:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_image:new e.Uniform1i(t,o.u_image),u_dimension:new e.Uniform2f(t,o.u_dimension),u_zoom:new e.Uniform1f(t,o.u_zoom),u_unpack:new e.Uniform4f(t,o.u_unpack)}),line:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_ratio:new e.Uniform1f(t,o.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,o.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,o.u_units_to_pixels),u_dash_image:new e.Uniform1i(t,o.u_dash_image),u_gradient_image:new e.Uniform1i(t,o.u_gradient_image),u_image_height:new e.Uniform1f(t,o.u_image_height),u_texsize:new e.Uniform2f(t,o.u_texsize),u_scale:new e.Uniform3f(t,o.u_scale),u_mix:new e.Uniform1f(t,o.u_mix)}),linePattern:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_texsize:new e.Uniform2f(t,o.u_texsize),u_ratio:new e.Uniform1f(t,o.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,o.u_device_pixel_ratio),u_image:new e.Uniform1i(t,o.u_image),u_units_to_pixels:new e.Uniform2f(t,o.u_units_to_pixels),u_scale:new e.Uniform3f(t,o.u_scale),u_fade:new e.Uniform1f(t,o.u_fade)}),raster:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_tl_parent:new e.Uniform2f(t,o.u_tl_parent),u_scale_parent:new e.Uniform1f(t,o.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,o.u_buffer_scale),u_fade_t:new e.Uniform1f(t,o.u_fade_t),u_opacity:new e.Uniform1f(t,o.u_opacity),u_image0:new e.Uniform1i(t,o.u_image0),u_image1:new e.Uniform1i(t,o.u_image1),u_brightness_low:new e.Uniform1f(t,o.u_brightness_low),u_brightness_high:new e.Uniform1f(t,o.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,o.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,o.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,o.u_spin_weights)}),symbolIcon:(t,o)=>({u_is_size_zoom_constant:new e.Uniform1i(t,o.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,o.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,o.u_size_t),u_size:new e.Uniform1f(t,o.u_size),u_camera_to_center_distance:new e.Uniform1f(t,o.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,o.u_pitch),u_rotate_symbol:new e.Uniform1i(t,o.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,o.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,o.u_fade_change),u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,o.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,o.u_coord_matrix),u_is_text:new e.Uniform1i(t,o.u_is_text),u_pitch_with_map:new e.Uniform1i(t,o.u_pitch_with_map),u_texsize:new e.Uniform2f(t,o.u_texsize),u_texture:new e.Uniform1i(t,o.u_texture)}),symbolSDF:(t,o)=>({u_is_size_zoom_constant:new e.Uniform1i(t,o.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,o.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,o.u_size_t),u_size:new e.Uniform1f(t,o.u_size),u_camera_to_center_distance:new e.Uniform1f(t,o.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,o.u_pitch),u_rotate_symbol:new e.Uniform1i(t,o.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,o.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,o.u_fade_change),u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,o.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,o.u_coord_matrix),u_is_text:new e.Uniform1i(t,o.u_is_text),u_pitch_with_map:new e.Uniform1i(t,o.u_pitch_with_map),u_texsize:new e.Uniform2f(t,o.u_texsize),u_texture:new e.Uniform1i(t,o.u_texture),u_gamma_scale:new e.Uniform1f(t,o.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,o.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,o.u_is_halo)}),symbolTextAndIcon:(t,o)=>({u_is_size_zoom_constant:new e.Uniform1i(t,o.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,o.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,o.u_size_t),u_size:new e.Uniform1f(t,o.u_size),u_camera_to_center_distance:new e.Uniform1f(t,o.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,o.u_pitch),u_rotate_symbol:new e.Uniform1i(t,o.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,o.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,o.u_fade_change),u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,o.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,o.u_coord_matrix),u_is_text:new e.Uniform1i(t,o.u_is_text),u_pitch_with_map:new e.Uniform1i(t,o.u_pitch_with_map),u_texsize:new e.Uniform2f(t,o.u_texsize),u_texsize_icon:new e.Uniform2f(t,o.u_texsize_icon),u_texture:new e.Uniform1i(t,o.u_texture),u_texture_icon:new e.Uniform1i(t,o.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,o.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,o.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,o.u_is_halo)}),background:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_opacity:new e.Uniform1f(t,o.u_opacity),u_color:new e.UniformColor(t,o.u_color)}),backgroundPattern:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_opacity:new e.Uniform1f(t,o.u_opacity),u_image:new e.Uniform1i(t,o.u_image),u_pattern_tl_a:new e.Uniform2f(t,o.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,o.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,o.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,o.u_pattern_br_b),u_texsize:new e.Uniform2f(t,o.u_texsize),u_mix:new e.Uniform1f(t,o.u_mix),u_pattern_size_a:new e.Uniform2f(t,o.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,o.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,o.u_scale_a),u_scale_b:new e.Uniform1f(t,o.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,o.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,o.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,o.u_tile_units_to_pixels)}),terrainRaster:no,terrainDepth:no,skybox:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_sun_direction:new e.Uniform3f(t,o.u_sun_direction),u_cubemap:new e.Uniform1i(t,o.u_cubemap),u_opacity:new e.Uniform1f(t,o.u_opacity),u_temporal_offset:new e.Uniform1f(t,o.u_temporal_offset)}),skyboxGradient:(t,o)=>({u_matrix:new e.UniformMatrix4f(t,o.u_matrix),u_color_ramp:new e.Uniform1i(t,o.u_color_ramp),u_center_direction:new e.Uniform3f(t,o.u_center_direction),u_radius:new e.Uniform1f(t,o.u_radius),u_opacity:new e.Uniform1f(t,o.u_opacity),u_temporal_offset:new e.Uniform1f(t,o.u_temporal_offset)}),skyboxCapture:(t,o)=>({u_matrix_3f:new e.UniformMatrix3f(t,o.u_matrix_3f),u_sun_direction:new e.Uniform3f(t,o.u_sun_direction),u_sun_intensity:new e.Uniform1f(t,o.u_sun_intensity),u_color_tint_r:new e.Uniform4f(t,o.u_color_tint_r),u_color_tint_m:new e.Uniform4f(t,o.u_color_tint_m),u_luminance:new e.Uniform1f(t,o.u_luminance)})};let Go;function Wo(t,o,n,i,s,a,r){const _=t.context,p=_.gl,l=t.useProgram("collisionBox"),u=[];let f=0,d=0;for(let c=0;c<i.length;c++){const m=i[c],h=o.getTile(m),y=h.getBucket(n);if(!y)continue;let g=m.projMatrix;0===s[0]&&0===s[1]||(g=t.translatePosMatrix(m.projMatrix,h,s,a));const v=r?y.textCollisionBox:y.iconCollisionBox,x=y.collisionCircleArray;if(x.length>0){const o=e.create$1(),n=g;e.mul$1(o,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul$1(o,o,y.placementViewportMatrix),u.push({circleArray:x,circleOffset:d,transform:n,invTransform:o}),f+=x.length/4,d=f}v&&(t.terrain&&t.terrain.setupElevationDraw(h,l),l.draw(_,p.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,ko(g,t.transform,h),n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,null,t.transform.zoom,null,v.collisionVertexBuffer,v.collisionVertexBufferExt))}if(!r||!u.length)return;const c=t.useProgram("collisionCircle"),m=new e.StructArrayLayout2f1f2i16;m.resize(4*f),m._trim();let h=0;for(const e of u)for(let t=0;t<e.circleArray.length/4;t++){const o=4*t,n=e.circleArray[o+0],i=e.circleArray[o+1],s=e.circleArray[o+2],a=e.circleArray[o+3];m.emplace(h++,n,i,s,a,0),m.emplace(h++,n,i,s,a,1),m.emplace(h++,n,i,s,a,2),m.emplace(h++,n,i,s,a,3)}(!Go||Go.length<2*f)&&(Go=function(t){const o=2*t,n=new e.StructArrayLayout3ui6;n.resize(o),n._trim();for(let e=0;e<o;e++){const t=6*e;n.uint16[t+0]=4*e+0,n.uint16[t+1]=4*e+1,n.uint16[t+2]=4*e+2,n.uint16[t+3]=4*e+2,n.uint16[t+4]=4*e+3,n.uint16[t+5]=4*e+0}return n}(f));const y=_.createIndexBuffer(Go,!0),g=_.createVertexBuffer(m,e.collisionCircleLayout.members,!0);for(const o of u){const i={u_matrix:o.transform,u_inv_matrix:o.invTransform,u_camera_to_center_distance:(v=t.transform).cameraToCenterDistance,u_viewport_size:[v.width,v.height]};c.draw(_,p.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,i,n.id,g,y,e.SegmentVector.simpleSegment(0,2*o.circleOffset,o.circleArray.length,o.circleArray.length/2),null,t.transform.zoom,null,null,null)}var v;g.destroy(),y.destroy()}const Zo=e.identity(new Float32Array(16));function jo(t,o,n,i,s,a){const{horizontalAlign:r,verticalAlign:_}=e.getAnchorAlignment(t),p=-(r-.5)*o,l=-(_-.5)*n,u=e.evaluateVariableOffset(t,i);return new e.pointGeometry((p/s+u[0])*a,(l/s+u[1])*a)}function qo(t,o,n,i,s,a,r,_,p,l,u,f){const d=t.text.placedSymbolArray,c=t.text.dynamicLayoutVertexArray,m=t.icon.dynamicLayoutVertexArray,h={};c.clear();for(let m=0;m<d.length;m++){const y=d.get(m),g=t.allowVerticalPlacement&&!y.placedOrientation,v=y.hidden||!y.crossTileID||g?null:i[y.crossTileID];if(v){const i=new e.pointGeometry(y.tileAnchorX,y.tileAnchorY),d=f(i),m=Ye(i,n?_:r,d),g=Je(a.cameraToCenterDistance,m.signedDistanceFromCamera);let x=s.evaluateSizeForFeature(t.textSizeData,l,y)*g/e.ONE_EM;n&&(x*=t.tilePixelRatio/p);const{width:C,height:b,anchor:w,textOffset:T,textScale:k}=v,M=jo(w,C,b,T,k,x),S=n?Ye(i.add(M),r,d).point:m.point.add(o?M.rotate(-a.angle):M),E=t.allowVerticalPlacement&&y.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<y.numGlyphs;t++)e.addDynamicAttributes(c,S,E);u&&y.associatedIconIndex>=0&&(h[y.associatedIconIndex]={shiftedAnchor:S,angle:E})}else _t(y.numGlyphs,c)}if(u){m.clear();const o=t.icon.placedSymbolArray;for(let t=0;t<o.length;t++){const n=o.get(t);if(n.hidden)_t(n.numGlyphs,m);else{const o=h[t];if(o)for(let t=0;t<n.numGlyphs;t++)e.addDynamicAttributes(m,o.shiftedAnchor,o.angle);else _t(n.numGlyphs,m)}}t.icon.dynamicLayoutVertexBuffer.updateData(m)}t.text.dynamicLayoutVertexBuffer.updateData(c)}function Ko(e,t,o){return o.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Ho(t,o,n,i,s,a,r,_,p,l,u,f){const d=t.context,c=d.gl,m=t.transform,h="map"===_,y="map"===p,g=h&&"point"!==n.layout.get("symbol-placement"),v=h&&!y&&!g,x=void 0!==n.layout.get("symbol-sort-key").constantOr(1);let C=!1;const b=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),w=n.layout.get("text-variable-anchor"),T=[],k=t.terrain&&y?["PITCH_WITH_MAP_TERRAIN"]:null;for(const _ of i){const i=o.getTile(_),p=i.getBucket(n);if(!p)continue;const u=s?p.text:p.icon;if(!u||!u.segments.get().length)continue;const f=u.programConfigurations.get(n.id),d=s||p.sdfIcons,b=s?p.textSizeData:p.iconSizeData,M=y||0!==m.pitch,S=t.useProgram(Ko(d,s,p),f,k),E=e.evaluateSizeForZoom(b,m.zoom);let I,z,P,D,L=[0,0],B=null;if(s){if(z=i.glyphAtlasTexture,P=c.LINEAR,I=i.glyphAtlasTexture.size,p.iconsInText){L=i.imageAtlasTexture.size,B=i.imageAtlasTexture;const e="composite"===b.kind||"camera"===b.kind;D=M||t.options.rotating||t.options.zooming||e?c.LINEAR:c.NEAREST}}else{const e=1!==n.layout.get("icon-size").constantOr(0)||p.iconsNeedLinear;z=i.imageAtlasTexture,P=d||t.options.rotating||t.options.zooming||e||M?c.LINEAR:c.NEAREST,I=i.imageAtlasTexture.size}const R=A(i,1,t.transform.zoom),F=$e(_.projMatrix,y,h,t.transform,R),O=t.terrain&&y&&g?e.invert(new Float32Array(16),F):Zo,N=Xe(_.projMatrix,y,h,t.transform,R),V=w&&p.hasTextData(),U="none"!==n.layout.get("icon-text-fit")&&V&&p.hasIconData();if(g){const e=m.elevation;et(p,_.projMatrix,t,s,F,N,y,l,e?t=>e.getAtTileOffset(_,t.x,t.y):null)}const G=t.translatePosMatrix(_.projMatrix,i,a,r),W=g||s&&w||U?Zo:F,Z=t.translatePosMatrix(N,i,a,r,!0),j=d&&0!==n.paint.get(s?"text-halo-width":"icon-halo-width").constantOr(1);let q;q=d?p.iconsInText?Oo(b.kind,E,v,y,t,G,W,Z,I,L):Fo(b.kind,E,v,y,t,G,W,Z,s,I,!0):Ro(b.kind,E,v,y,t,G,W,Z,s,I);const K={program:S,buffers:u,uniformValues:q,atlasTexture:z,atlasTextureIcon:B,atlasInterpolation:P,atlasInterpolationIcon:D,isSDF:d,hasHalo:j,tile:i,labelPlaneMatrixInv:O};if(x&&p.canOverlap){C=!0;const t=u.segments.get();for(const o of t)T.push({segments:new e.SegmentVector([o]),sortKey:o.sortKey,state:K})}else T.push({segments:u.segments,sortKey:0,state:K})}C&&T.sort((e,t)=>e.sortKey-t.sortKey);for(const e of T){const o=e.state;if(t.terrain&&t.terrain.setupElevationDraw(o.tile,o.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:o.labelPlaneMatrixInv}),d.activeTexture.set(c.TEXTURE0),o.atlasTexture.bind(o.atlasInterpolation,c.CLAMP_TO_EDGE),o.atlasTextureIcon&&(d.activeTexture.set(c.TEXTURE1),o.atlasTextureIcon&&o.atlasTextureIcon.bind(o.atlasInterpolationIcon,c.CLAMP_TO_EDGE)),o.isSDF){const i=o.uniformValues;o.hasHalo&&(i.u_is_halo=1,$o(o.buffers,e.segments,n,t,o.program,b,u,f,i)),i.u_is_halo=0}$o(o.buffers,e.segments,n,t,o.program,b,u,f,o.uniformValues)}}function $o(t,o,n,i,s,a,r,_,p){const l=i.context;s.draw(l,l.gl.TRIANGLES,a,r,_,e.CullFaceMode.disabled,p,n.id,t.layoutVertexBuffer,t.indexBuffer,o,n.paint,i.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function Xo(t,o,n,i,s,a,r){const _=t.context.gl,p=n.paint.get("fill-pattern"),l=p&&p.constantOr(1),u=n.getCrossfadeParameters();let f,d,c,m,h;r?(d=l&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",f=_.LINES):(d=l?"fillPattern":"fill",f=_.TRIANGLES);for(const y of i){const i=o.getTile(y);if(l&&!i.patternsLoaded())continue;const g=i.getBucket(n);if(!g)continue;t.prepareDrawTile(y);const v=g.programConfigurations.get(n.id),x=t.useProgram(d,v);l&&(t.context.activeTexture.set(_.TEXTURE0),i.imageAtlasTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE),v.updatePaintBuffers(u));const C=p.constantOr(null);if(C&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[C.to.toString()],o=e.patternPositions[C.from.toString()];t&&o&&v.setConstantPatternPositions(t,o)}const b=t.translatePosMatrix(y.projMatrix,i,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(r){m=g.indexBuffer2,h=g.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[_.drawingBufferWidth,_.drawingBufferHeight];c="fillOutlinePattern"===d&&l?bo(b,t,u,i,e):Co(b,e)}else m=g.indexBuffer,h=g.segments,c=l?xo(b,t,u,i):vo(b);t.prepareDrawProgram(t.context,x,y.toUnwrapped()),x.draw(t.context,f,s,t.stencilModeForClipping(y),a,e.CullFaceMode.disabled,c,n.id,g.layoutVertexBuffer,m,h,n.paint,t.transform.zoom,v)}}function Yo(t,o,n,i,s,a,r){const _=t.context,p=_.gl,l=n.paint.get("fill-extrusion-pattern"),u=l.constantOr(1),f=n.getCrossfadeParameters(),d=n.paint.get("fill-extrusion-opacity");for(const c of i){const i=o.getTile(c),m=i.getBucket(n);if(!m)continue;const h=m.programConfigurations.get(n.id),y=t.useProgram(u?"fillExtrusionPattern":"fillExtrusion",h);if(t.terrain){const e=t.terrain;if(!m.enableTerrain)continue;if(e.setupElevationDraw(i,y,{useMeterToDem:!0}),Jo(_,o,c,m,n,e),!m.centroidVertexBuffer){const e=y.attributes.a_centroid_pos;void 0!==e&&p.vertexAttrib2f(e,0,0)}}u&&(t.context.activeTexture.set(p.TEXTURE0),i.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),h.updatePaintBuffers(f));const g=l.constantOr(null);if(g&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[g.to.toString()],o=e.patternPositions[g.from.toString()];t&&o&&h.setConstantPatternPositions(t,o)}const v=t.translatePosMatrix(c.projMatrix,i,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),x=n.paint.get("fill-extrusion-vertical-gradient"),C=u?go(v,t,x,d,c,f,i):yo(v,t,x,d);t.prepareDrawProgram(_,y,c.toUnwrapped()),y.draw(_,_.gl.TRIANGLES,s,a,r,e.CullFaceMode.backCCW,C,n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,t.transform.zoom,h,t.terrain?m.centroidVertexBuffer:null)}}function Jo(t,o,n,i,s,a){const r=[t=>{let o=t.canonical.x-1,n=t.wrap;return o<0&&(o=(1<<t.canonical.z)-1,n--),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,o,t.canonical.y)},t=>{let o=t.canonical.x+1,n=t.wrap;return o===1<<t.canonical.z&&(o=0,n++),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,o,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],_=e=>{const t=o.getSource().maxzoom,n=e=>{const t=o.getTileByID(e);if(t&&t.hasData())return t.getBucket(s)};let i,a,r;return(e.overscaledZ===e.canonical.z||e.overscaledZ>=t)&&(i=n(e.key)),e.overscaledZ>=t&&(a=n(e.calculateScaledKey(e.overscaledZ+1))),e.overscaledZ>t&&(r=n(e.calculateScaledKey(e.overscaledZ-1))),i||a||r},p=[0,0,0],l=(t,o)=>(p[0]=Math.min(t.min.y,o.min.y),p[1]=Math.max(t.max.y,o.max.y),p[2]=e.EXTENT-o.min.x>t.max.x?o.min.x-e.EXTENT:t.max.x,p),u=(t,o)=>(p[0]=Math.min(t.min.x,o.min.x),p[1]=Math.max(t.max.x,o.max.x),p[2]=e.EXTENT-o.min.y>t.max.y?o.min.y-e.EXTENT:t.max.y,p),f=[(e,t)=>l(e,t),(e,t)=>l(t,e),(e,t)=>u(e,t),(e,t)=>u(t,e)],d=new e.pointGeometry(0,0);let c,m,h;const y=(t,o,i,s,r)=>{const _=[[s?i:t,s?t:i,0],[s?i:o,s?o:i,0]],p=r<0?e.EXTENT+r:r,l=[s?p:(t+o)/2,s?(t+o)/2:p,0];return 0===i&&r<0||0!==i&&r>0?a.getForTilePoints(h,[l],!0,m):_.push(l),a.getForTilePoints(n,_,!0,c),Math.max(_[0][2],_[1][2],l[2])/a.exaggeration()};for(let t=0;t<4;t++){const o=i.borders[t];if(0===o.length&&(i.borderDone[t]=!0),i.borderDone[t])continue;const s=h=r[t](n),p=_(s);if(!p||!p.enableTerrain)continue;if(m=a.findDEMTileFor(s),!m||!m.dem)continue;if(!c){const e=a.findDEMTileFor(n);if(!e||!e.dem)return;c=e}const l=(t<2?1:5)-t,u=p.borders[l];let g=0;for(let n=0;n<o.length;n++){const s=i.featuresOnBorder[o[n]],a=s.borders[t];let r;for(;g<u.length&&(r=p.featuresOnBorder[u[g]],!(r.borders[l][1]>a[0]+3));)p.borderDone[l]||p.encodeCentroid(void 0,r,!1),g++;if(r&&g<u.length){const o=g;let n=0;for(;!(r.borders[l][0]>a[1]-3)&&(n++,++g!==u.length);)r=p.featuresOnBorder[u[g]];if(r=p.featuresOnBorder[u[o]],s.intersectsCount()>1||r.intersectsCount()>1||1!==n){1!==n&&(g=o),i.encodeCentroid(void 0,s,!1),p.borderDone[l]||p.encodeCentroid(void 0,r,!1);continue}const _=f[t](s,r),c=t%2?e.EXTENT-1:0;d.x=y(_[0],Math.min(e.EXTENT-1,_[1]),c,t<2,_[2]),d.y=0,i.encodeCentroid(d,s,!1),p.borderDone[l]||p.encodeCentroid(d,r,!1)}else i.encodeCentroid(void 0,s,!1)}i.borderDone[t]=i.needsCentroidUpdate=!0,p.borderDone[l]||(p.borderDone[l]=p.needsCentroidUpdate=!0)}(i.needsCentroidUpdate||!i.centroidVertexBuffer&&0!==i.centroidVertexArray.length)&&i.uploadCentroid(t)}const Qo=new e.Color(1,0,0,1),en=new e.Color(0,1,0,1),tn=new e.Color(0,0,1,1),on=new e.Color(1,0,1,1),nn=new e.Color(0,1,1,1);function sn(e,t,o,n){rn(e,0,t+o/2,e.transform.width,o,n)}function an(e,t,o,n){rn(e,t-o/2,0,o,e.transform.height,n)}function rn(t,o,n,i,s,a){const r=t.context,_=r.gl;_.enable(_.SCISSOR_TEST),_.scissor(o*e.exported.devicePixelRatio,n*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,s*e.exported.devicePixelRatio),r.clear({color:a}),_.disable(_.SCISSOR_TEST)}function _n(t,o,n){const i=t.context,s=i.gl,a=n.projMatrix,r=t.useProgram("debug"),_=o.getTileByID(n.key);t.terrain&&t.terrain.setupElevationDraw(_,r);const p=e.DepthMode.disabled,l=e.StencilMode.disabled,u=t.colorModeForRenderPass(),f="$debug";i.activeTexture.set(s.TEXTURE0),t.emptyTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),r.draw(i,s.LINE_STRIP,p,l,u,e.CullFaceMode.disabled,Mo(a,e.Color.red),f,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);const d=_.latestRawTileData,c=Math.floor((d&&d.byteLength||0)/1024),m=o.getTile(n).tileSize,h=512/Math.min(m,512)*(n.overscaledZ/t.transform.zoom)*.5;let y=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(y+=" => "+n.overscaledZ),function(e,t){e.initDebugOverlayCanvas();const o=e.debugOverlayCanvas,n=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,o.width,o.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(o),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,`${y} ${c}kb`),r.draw(i,s.TRIANGLES,p,l,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Mo(a,e.Color.transparent,h),f,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}const pn=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:ln}=pn;function un(e,t,o,n){e.emplaceBack(t,o,n)}class fn{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,un(this.vertexArray,-1,-1,1),un(this.vertexArray,1,-1,1),un(this.vertexArray,-1,1,1),un(this.vertexArray,1,1,1),un(this.vertexArray,-1,-1,-1),un(this.vertexArray,1,-1,-1),un(this.vertexArray,-1,1,-1),un(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,ln),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function dn(t,o,n,i,s,a){const r=t.gl,_=o.paint.get("sky-atmosphere-color"),p=o.paint.get("sky-atmosphere-halo-color"),l=o.paint.get("sky-atmosphere-sun-intensity"),u=((e,t,o,n,i)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:o,u_color_tint_r:[n.r,n.g,n.b,n.a],u_color_tint_m:[i.r,i.g,i.b,i.a],u_luminance:5e-5}))(e.fromMat4([],i),s,l,_,p);r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+a,o.skyboxTexture,0),n.draw(t,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,u,"skyboxCapture",o.skyboxGeometry.vertexBuffer,o.skyboxGeometry.indexBuffer,o.skyboxGeometry.segment)}const cn={symbol:function(t,o,n,i,s){if("translucent"!==t.renderPass)return;const a=e.StencilMode.disabled,r=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,o,n,i,s,a,r){const _=o.transform,p="map"===s,l="map"===a;for(const s of t){const t=i.getTile(s),a=t.getBucket(n);if(!a||!a.text||!a.text.segments.get().length)continue;const u=e.evaluateSizeForZoom(a.textSizeData,_.zoom),f=A(t,1,o.transform.zoom),d=$e(s.projMatrix,l,p,o.transform,f),c="none"!==n.layout.get("icon-text-fit")&&a.hasIconData();if(u){const o=Math.pow(2,_.zoom-t.tileID.overscaledZ),n=_.elevation;qo(a,p,l,r,e.symbolSize,_,d,s.projMatrix,o,u,c,n?e=>n.getAtTileOffset(s,e.x,e.y):e=>0)}}}(i,t,n,o,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),s),0!==n.paint.get("icon-opacity").constantOr(1)&&Ho(t,o,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),a,r),0!==n.paint.get("text-opacity").constantOr(1)&&Ho(t,o,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),a,r),o.map.showCollisionBoxes&&(Wo(t,o,n,i,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Wo(t,o,n,i,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))},circle:function(t,o,n,i){if("translucent"!==t.renderPass)return;const s=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),r=n.paint.get("circle-stroke-opacity"),_=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0===s.constantOr(1)&&(0===a.constantOr(1)||0===r.constantOr(1)))return;const p=t.context,l=p.gl,u=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),f=e.StencilMode.disabled,d=t.colorModeForRenderPass(),c=[];for(let s=0;s<i.length;s++){const a=i[s],r=o.getTile(a),p=r.getBucket(n);if(!p)continue;const l=p.programConfigurations.get(n.id),u=To(n),f={programConfiguration:l,program:t.useProgram("circle",l,u),layoutVertexBuffer:p.layoutVertexBuffer,indexBuffer:p.indexBuffer,uniformValues:wo(t,a,r,n),tile:r};if(_){const t=p.segments.get();for(const o of t)c.push({segments:new e.SegmentVector([o]),sortKey:o.sortKey,state:f})}else c.push({segments:p.segments,sortKey:0,state:f})}_&&c.sort((e,t)=>e.sortKey-t.sortKey);for(const o of c){const{programConfiguration:i,program:s,layoutVertexBuffer:a,indexBuffer:r,uniformValues:_,tile:c}=o.state,m=o.segments;t.terrain&&t.terrain.setupElevationDraw(c,s,{useDepthForOcclusion:!0}),t.prepareDrawProgram(p,s,c.tileID.toUnwrapped()),s.draw(p,l.TRIANGLES,u,f,d,e.CullFaceMode.disabled,_,n.id,a,r,m,n.paint,t.transform.zoom,i)}},heatmap:function(t,o,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const s=t.context,a=s.gl,r=e.StencilMode.disabled,_=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,o){const n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);let i=o.heatmapFbo;if(i)n.bindTexture(n.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{const s=n.createTexture();n.bindTexture(n.TEXTURE_2D,s),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),i=o.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,o,n){const i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),n.colorAttachment.set(o)}(e,t,s,i)}}(s,t,n),s.clear({color:e.Color.transparent});for(let p=0;p<i.length;p++){const l=i[p];if(o.hasRenderableParent(l))continue;const u=o.getTile(l),f=u.getBucket(n);if(!f)continue;const d=f.programConfigurations.get(n.id),c=t.useProgram("heatmap",d),{zoom:m}=t.transform;t.terrain&&t.terrain.setupElevationDraw(u,c),t.prepareDrawProgram(s,c,l.toUnwrapped()),c.draw(s,a.TRIANGLES,e.DepthMode.disabled,r,_,e.CullFaceMode.disabled,So(l.projMatrix,u,m,n.paint.get("heatmap-intensity")),n.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,n.paint,t.transform.zoom,d)}s.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,o){const n=t.context,i=n.gl,s=o.heatmapFbo;if(!s)return;n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,s.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1);let a=o.colorRampTexture;a||(a=o.colorRampTexture=new e.Texture(n,o.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,i.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,o,n)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}))(0,o),o.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,o.paint,t.transform.zoom)}(t,n))},line:function(t,o,n,i){if("translucent"!==t.renderPass)return;const s=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0===s.constantOr(1)||0===a.constantOr(1))return;const r=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),_=t.colorModeForRenderPass(),p=n.paint.get("line-dasharray"),l=p.constantOr(1),u=n.layout.get("line-cap"),f=n.paint.get("line-pattern"),d=f.constantOr(1),c=n.paint.get("line-gradient"),m=n.getCrossfadeParameters(),h=d?"linePattern":"line",y=t.context,g=y.gl;for(const s of i){const i=o.getTile(s);if(d&&!i.patternsLoaded())continue;const a=i.getBucket(n);if(!a)continue;t.prepareDrawTile(s);const v=a.programConfigurations.get(n.id),x=Po(n),C=t.useProgram(h,v,x),b=f.constantOr(null);if(b&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[b.to.toString()],o=e.patternPositions[b.from.toString()];t&&o&&v.setConstantPatternPositions(t,o)}const w=p.constantOr(null),T=u.constantOr(null);if(!d&&w&&T&&i.lineAtlas){const e=i.lineAtlas,t=e.getDash(w.to,T),o=e.getDash(w.from,T);t&&o&&v.setConstantPatternPositions(t,o)}const k=t.terrain?s.projMatrix:null,M=d?Ao(t,i,n,m,k):Eo(t,i,n,m,k,a.lineClipsArray.length);if(c){const i=a.gradients[n.id];let r=i.texture;if(n.gradientVersion!==i.version){let _=256;if(n.stepInterpolant){const n=o.getSource().maxzoom,i=s.canonical.z===n?Math.ceil(1<<t.transform.maxZoom-s.canonical.z):1;_=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*i),256,y.maxTextureSize)}i.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:_,image:i.gradient||void 0,clips:a.lineClipsArray}),i.texture?i.texture.update(i.gradient):i.texture=new e.Texture(y,i.gradient,g.RGBA),i.version=n.gradientVersion,r=i.texture}y.activeTexture.set(g.TEXTURE1),r.bind(n.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}l&&(y.activeTexture.set(g.TEXTURE0),i.lineAtlasTexture.bind(g.LINEAR,g.REPEAT),v.updatePaintBuffers(m)),d&&(y.activeTexture.set(g.TEXTURE0),i.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),v.updatePaintBuffers(m)),t.prepareDrawProgram(y,C,s.toUnwrapped()),C.draw(y,g.TRIANGLES,r,t.stencilModeForClipping(s),_,e.CullFaceMode.disabled,M,n.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,n.paint,t.transform.zoom,v,a.layoutVertexBuffer2)}},fill:function(t,o,n,i){const s=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0===a.constantOr(1))return;const r=t.colorModeForRenderPass(),_=n.paint.get("fill-pattern"),p=t.opaquePassEnabledForLayer()&&!_.constantOr(1)&&1===s.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===p){const s=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);Xo(t,o,n,i,s,r,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){const s=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);Xo(t,o,n,i,s,r,!0)}},"fill-extrusion":function(t,o,n,i){const s=n.paint.get("fill-extrusion-opacity");if(0!==s&&"translucent"===t.renderPass){const a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==s||n.paint.get("fill-extrusion-pattern").constantOr(1))Yo(t,o,n,i,a,e.StencilMode.disabled,e.ColorMode.disabled),Yo(t,o,n,i,a,t.stencilModeFor3D(),t.colorModeForRenderPass());else{const s=t.colorModeForRenderPass();Yo(t,o,n,i,a,e.StencilMode.disabled,s)}}},hillshade:function(t,o,n,i){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const s=t.context,a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),r=t.colorModeForRenderPass(),_=t.terrain&&t.terrain.renderingToTexture,[p,l]="translucent"!==t.renderPass||_?[{},i]:t.stencilConfigForOverlap(i);for(const i of l){const s=o.getTile(i);if(s.needsHillshadePrepare&&"offscreen"===t.renderPass)oo(t,s,n,a,e.StencilMode.disabled,r);else if("translucent"===t.renderPass){const e=_&&t.terrain?t.terrain.stencilModeForRTTOverlap(i):p[i.overscaledZ];eo(t,i,s,n,a,e,r)}}s.viewport.set([0,0,t.width,t.height])},raster:function(t,o,n,i,s,a){if("translucent"!==t.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!i.length)return;const r=t.context,_=r.gl,p=o.getSource(),l=t.useProgram("raster"),u=t.colorModeForRenderPass(),f=t.terrain&&t.terrain.renderingToTexture,[d,c]=p instanceof Te||f?[{},i]:t.stencilConfigForOverlap(i),m=c[c.length-1].overscaledZ,h=!t.options.moving;for(const i of c){const s=f?e.DepthMode.disabled:t.depthModeForSublayer(i.overscaledZ-m,1===n.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,_.LESS),c=i.toUnwrapped(),y=o.getTile(i);if(f&&(!y||!y.hasData()))continue;const g=f?i.projMatrix:t.transform.calculateProjMatrix(c,h),v=t.terrain&&f?t.terrain.stencilModeForRTTOverlap(i):d[i.overscaledZ],x=a?0:n.paint.get("raster-fade-duration");y.registerFadeDuration(x);const C=o.findLoadedParent(i,0),b=po(y,C,o,t.transform,x);let w,T;t.terrain&&t.terrain.prepareDrawTile(i);const k="nearest"===n.paint.get("raster-resampling")?_.NEAREST:_.LINEAR;r.activeTexture.set(_.TEXTURE0),y.texture.bind(k,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),r.activeTexture.set(_.TEXTURE1),C?(C.texture.bind(k,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,C.tileID.overscaledZ-y.tileID.overscaledZ),T=[y.tileID.canonical.x*w%1,y.tileID.canonical.y*w%1]):y.texture.bind(k,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST);const M=Lo(g,T||[0,0],w||1,b,n);t.prepareDrawProgram(r,l,c),p instanceof Te?l.draw(r,_.TRIANGLES,s,e.StencilMode.disabled,u,e.CullFaceMode.disabled,M,n.id,p.boundsBuffer,t.quadTriangleIndexBuffer,p.boundsSegments):l.draw(r,_.TRIANGLES,s,v,u,e.CullFaceMode.disabled,M,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,o,n,i){const s=n.paint.get("background-color"),a=n.paint.get("background-opacity");if(0===a)return;const r=t.context,_=r.gl,p=t.transform,l=p.tileSize,u=n.paint.get("background-pattern");if(t.isPatternMissing(u))return;const f=!u&&1===s.a&&1===a&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==f)return;const d=e.StencilMode.disabled,c=t.depthModeForSublayer(0,"opaque"===f?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),h=t.useProgram(u?"backgroundPattern":"background"),y=i||p.coveringTiles({tileSize:l});u&&(r.activeTexture.set(_.TEXTURE0),t.imageManager.bind(t.context));const g=n.getCrossfadeParameters();for(const o of y){const p=o.toUnwrapped(),f=i?o.projMatrix:t.transform.calculateProjMatrix(p);t.prepareDrawTile(o);const y=u?Vo(f,a,t,u,{tileID:o,tileSize:l},g):No(f,a,s);t.prepareDrawProgram(r,h,p),h.draw(r,_.TRIANGLES,c,d,m,e.CullFaceMode.disabled,y,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}},sky:function(t,o,n){const i=n.paint.get("sky-opacity");if(0===i)return;const s=t.context,a=n.paint.get("sky-type"),r=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),_=t.frameCounter/1e3%1;"atmosphere"===a?"offscreen"===t.renderPass?n.needsSkyboxCapture(t)&&(function(t,o,n,i){const s=t.context,a=s.gl;let r=o.skyboxFbo;if(!r){r=o.skyboxFbo=s.createFramebuffer(32,32,!1),o.skyboxGeometry=new fn(s),o.skyboxTexture=s.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,o.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(let e=0;e<6;++e)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}s.bindFramebuffer.set(r.framebuffer),s.viewport.set([0,0,32,32]);const _=o.getCenter(t,!0),p=t.useProgram("skyboxCapture"),l=new Float64Array(16);e.identity(l),e.rotateY(l,l,.5*-Math.PI),dn(s,o,p,l,_,0),e.identity(l),e.rotateY(l,l,.5*Math.PI),dn(s,o,p,l,_,1),e.identity(l),e.rotateX(l,l,.5*-Math.PI),dn(s,o,p,l,_,2),e.identity(l),e.rotateX(l,l,.5*Math.PI),dn(s,o,p,l,_,3),e.identity(l),dn(s,o,p,l,_,4),e.identity(l),e.rotateY(l,l,Math.PI),dn(s,o,p,l,_,5),s.viewport.set([0,0,t.width,t.height])}(t,n),n.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,o,n,i,s){const a=t.context,r=a.gl,_=t.transform,p=t.useProgram("skybox");a.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_CUBE_MAP,o.skyboxTexture);const l=((e,t,o,n,i)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:n,u_temporal_offset:i}))(_.skyboxMatrix,o.getCenter(t,!1),0,i,s);t.prepareDrawProgram(a,p),p.draw(a,r.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,l,"skybox",o.skyboxGeometry.vertexBuffer,o.skyboxGeometry.indexBuffer,o.skyboxGeometry.segment)}(t,n,r,i,_):"gradient"===a&&"sky"===t.renderPass&&function(t,o,n,i,s){const a=t.context,r=a.gl,_=t.transform,p=t.useProgram("skyboxGradient");o.skyboxGeometry||(o.skyboxGeometry=new fn(a)),a.activeTexture.set(r.TEXTURE0);let l=o.colorRampTexture;l||(l=o.colorRampTexture=new e.Texture(a,o.colorRamp,r.RGBA)),l.bind(r.LINEAR,r.CLAMP_TO_EDGE);const u=((t,o,n,i,s)=>({u_matrix:t,u_color_ramp:0,u_center_direction:o,u_radius:e.degToRad(n),u_opacity:i,u_temporal_offset:s}))(_.skyboxMatrix,o.getCenter(t,!1),o.paint.get("sky-gradient-radius"),i,s);t.prepareDrawProgram(a,p),p.draw(a,r.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skyboxGradient",o.skyboxGeometry.vertexBuffer,o.skyboxGeometry.indexBuffer,o.skyboxGeometry.segment)}(t,n,r,i,_)},debug:function(e,t,o){for(let n=0;n<o.length;n++)_n(e,t,o[n])},custom:function(t,o,n){const i=t.context,s=n.implementation;if("offscreen"===t.renderPass){const e=s.prerender;e&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),e.call(s,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(e.StencilMode.disabled);const o="3d"===s.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);i.setDepthMode(o),s.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}};class mn{constructor(t,o){this.context=new xe(t),this.transform=o,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ft,this.gpuTimers={},this.frameCounter=0}updateTerrain(e,t){const o=!!e&&!!e.terrain;if(!(o||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new fo(this,e));const n=this._terrain;this.transform.elevation=o?n:null,n.update(e,this.transform,t)}_updateFog(e){const t=e.fog;if(!t||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[o,n]=t.getFovAdjustedRange(this.transform._fov);if(o>n)return void(this.transform.fogCullDistSq=null);const i=o+.78*(n-o);this.transform.fogCullDistSq=i*i}get terrain(){return this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,o){if(this.width=t*e.exported.devicePixelRatio,this.height=o*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const t=this.context,o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(e.EXTENT,0),o.emplaceBack(0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(o,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,we.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const s=new e.StructArrayLayout2i4;s.emplaceBack(-1,-1),s.emplaceBack(1,-1),s.emplaceBack(-1,1),s.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(s,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);const r=new e.StructArrayLayout3ui6;r.emplaceBack(0,1,2),r.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(r),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA),this.identityMat=e.create$1();const _=this.context.gl;this.stencilClearMode=new e.StencilMode({func:_.ALWAYS,mask:0},0,255,_.ZERO,_.ZERO,_.ZERO),this.loadTimeStamps.push(e.window.performance.now())}clearStencil(){const t=this.context,o=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this.useProgram("clippingMask").draw(t,o.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,_o(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(t,o,n){if(!(o&&this.currentStencilSource!==o.id&&t.isTileClipped()&&n&&n.length))return;this.currentStencilSource=o.id;const i=this.context,s=i.gl;this.nextStencilID+n.length>256&&this.clearStencil(),i.setColorMode(e.ColorMode.disabled),i.setDepthMode(e.DepthMode.disabled);const a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const t of n){const o=this._tileClippingMaskIDs[t.key]=this.nextStencilID++;a.draw(i,s.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:s.ALWAYS,mask:0},o,255,s.KEEP,s.KEEP,s.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,_o(t.projMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,o=this.context.gl;return new e.StencilMode({func:o.NOTEQUAL,mask:255},t,255,o.KEEP,o.KEEP,o.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const o=this.context.gl;return new e.StencilMode({func:o.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,o.KEEP,o.KEEP,o.REPLACE)}stencilConfigForOverlap(t){const o=this.context.gl,n=t.sort((e,t)=>t.overscaledZ-e.overscaledZ),i=n[n.length-1].overscaledZ,s=n[0].overscaledZ-i+1;if(s>1){this.currentStencilSource=void 0,this.nextStencilID+s>256&&this.clearStencil();const t={};for(let n=0;n<s;n++)t[n+i]=new e.StencilMode({func:o.GEQUAL,mask:255},n+this.nextStencilID,255,o.KEEP,o.KEEP,o.REPLACE);return this.nextStencilID+=s,[t,n]}return[{[i]:e.StencilMode.disabled},n]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const o=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(o,o,o,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,o,n){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(n||this.context.gl.LEQUAL,o,[i,i])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,o){this.style=t,this.options=o,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const n=this.style.order,i=this.style._sourceCaches;for(const e in i){const t=i[e];t.used&&t.prepare(this.context)}const s={},a={},r={};for(const e in i){const t=i[e];s[e]=t.getVisibleCoordinates(),a[e]=s[e].slice().reverse(),r[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<n.length;e++)if(this.style._layers[n[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(r),this.opaquePassCutoff=0),!e.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const e of n){const o=this.style._layers[e],n=t._getLayerSourceCache(o);if(!o.hasOffscreenPass()||o.isHidden(this.transform.zoom))continue;const i=n?a[n.id]:void 0;("custom"===o.type||o.isSky()||i&&i.length)&&this.renderLayer(this,n,o,i)}this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let _=e.Color.transparent;if(this.style.fog&&(_=this.style.fog.properties.get("color")),this.context.clear({color:o.showOverdrawInspector?e.Color.black:_,depth:1}),this.clearStencil(),this._showOverdrawInspector=o.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[n[this.currentLayer]],o=t._getLayerSourceCache(e);if(e.isSky())continue;const i=o?a[o.id]:void 0;this._renderTileClippingMasks(e,o,i),this.renderLayer(this,o,e,i)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const e=this.style._layers[n[this.currentLayer]],o=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,o,e,o?a[o.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;){const e=this.style._layers[n[this.currentLayer]],o=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const i=o?("symbol"===e.type?r:a)[o.id]:void 0;this._renderTileClippingMasks(e,o,o?s[o.id]:void 0),this.renderLayer(this,o,e,i),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let o=null;e.values(this.style._layers).forEach(e=>{const n=t._getLayerSourceCache(e);n&&!e.isHidden(this.transform.zoom)&&(!o||o.getSource().maxzoom<n.getSource().maxzoom)&&(o=n)}),o&&this.options.showTileBoundaries&&cn.debug(this,o,o.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;sn(e,e.transform.height-(t.top||0),3,Qo),sn(e,t.bottom||0,3,en),an(e,t.left||0,3,tn),an(e,e.transform.width-(t.right||0),3,on);const o=e.transform.centerPoint;!function(e,t,o,n){rn(e,t-1,o-10,2,20,n),rn(e,t-10,o-1,20,2,n)}(e,o.x,e.transform.height-o.y,nn)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%e.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}renderLayer(e,t,o,n){o.isHidden(this.transform.zoom)||("background"===o.type||"sky"===o.type||"custom"===o.type||n&&n.length)&&(this.id=o.id,this.gpuTimingStart(o),cn[o.type](e,t,o,n,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let o=this.gpuTimers[e.id];o||(o=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),o.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,o.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}queryGpuTimers(e){const t={};for(const o in e){const n=e[o],i=this.context.extTimerQuery,s=i.getQueryObjectEXT(n.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n.query),t[o]=s}return t}translatePosMatrix(t,o,n,i,s){if(!n[0]&&!n[1])return t;const a=s?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);n=[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}const r=[s?n[0]:A(o,n[0],this.transform.zoom),s?n[1]:A(o,n[1],this.transform.zoom),0],_=new Float32Array(16);return e.translate(_,t,r),_}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),o=this.imageManager.getPattern(e.to.toString());return!t||!o}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.style&&this.style.fog,o=[];return this.terrain&&!this.terrain.renderingToTexture&&o.push("TERRAIN"),t&&!e&&0!==t.getOpacity(this.transform.pitch)&&o.push("FOG"),e&&o.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&o.push("OVERDRAW_INSPECTOR"),o}useProgram(e,t,o){this.cache=this.cache||{};const n=o||[],i=this.currentGlobalDefines().concat(n),s=mo.cacheKey(e,i,t);return this.cache[s]||(this.cache[s]=new mo(this.context,e,Xt[e],t,Uo[e],i)),this.cache[s]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(e){this.terrain&&this.terrain.prepareDrawTile(e)}prepareDrawProgram(e,t,o){if(this.terrain&&this.terrain.renderingToTexture)return;const n=this.style.fog;if(n){const i=n.getOpacity(this.transform.pitch);0!==i&&t.setFogUniformValues(e,((e,t,o,n)=>{const i=t.properties.get("color"),s=e.frameCounter/1e3%1,a=[i.r/i.a,i.g/i.a,i.b/i.a,n];return{u_fog_matrix:o?e.transform.calculateFogTileMatrix(o):e.identityMat,u_fog_range:t.getFovAdjustedRange(e.transform._fov),u_fog_color:a,u_fog_horizon_blend:t.properties.get("horizon-blend"),u_fog_temporal_offset:s}})(this,n,o,i))}}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}}class hn{constructor(e=0,t=0,o=0,n=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(o)||o<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=o,this.right=n}interpolate(t,o,n){return null!=o.top&&null!=t.top&&(this.top=e.number(t.top,o.top,n)),null!=o.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,o.bottom,n)),null!=o.left&&null!=t.left&&(this.left=e.number(t.left,o.left,n)),null!=o.right&&null!=t.right&&(this.right=e.number(t.right,o.right,n)),this}getCenter(t,o){const n=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+o-this.bottom)/2,0,o);return new e.pointGeometry(n,i)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new hn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function yn(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}function gn(e,t,o){e[4*t+0]=o[0],e[4*t+1]=o[1],e[4*t+2]=o[2],e[4*t+3]=o[3]}function vn(t,o){const n=yn(t,3);e.fromQuat(t,o),gn(t,3,n)}function xn(e,t){gn(e,3,[t[0],t[1],t[2],1])}function Cn(t,o){const n=e.identity$1([]);return e.rotateZ$1(n,n,-o),e.rotateX$1(n,n,-t),n}function bn(t,o){const n=[t[0],t[1],0],i=[o[0],o[1],0];if(e.length(n)>=1e-15){const t=e.normalize([],n);e.scale(i,t,e.dot(i,t)),o[0]=i[0],o[1]=i[1]}const s=e.cross([],o,t);if(e.len(s)<1e-15)return null;const a=Math.atan2(-s[1],s[0]);return Cn(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),a)}class wn{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){this._position=this._renderWorldCopies?function(t){if(!t)return;const o=Array.isArray(t)?new e.MercatorCoordinate(t[0],t[1],t[2]):t;return o.x=e.wrap(o.x,0,1),o}(t):t}lookAtPoint(t,o){if(this.orientation=null,!this.position)return;const n=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,i=this.position,s=e.MercatorCoordinate.fromLngLat(t,n),a=[s.x-i.x,s.y-i.y,s.z-i.z];o||(o=[0,0,1]),o[2]=Math.abs(o[2]),this.orientation=bn(a,o)}setPitchBearing(t,o){this.orientation=Cn(e.degToRad(t),e.degToRad(-o))}}class Tn{constructor(t,o){this._transform=e.identity([]),this._orientation=e.identity$1([]),o&&(this._orientation=o,vn(this._transform,this._orientation)),t&&xn(this._transform,t)}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const e=yn(this._transform,3);return[e[0],e[1],e[2]]}set position(e){xn(this._transform,e)}get orientation(){return this._orientation}set orientation(e){this._orientation=e,vn(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Cn(e,t),vn(this._transform,this._orientation)}forward(){const e=yn(this._transform,2);return[-e[0],-e[1],-e[2]]}up(){const e=yn(this._transform,1);return[-e[0],-e[1],-e[2]]}right(){const e=yn(this._transform,0);return[e[0],e[1],e[2]]}getCameraToWorld(t,o){const n=new Float64Array(16);return e.invert(n,this.getWorldToCamera(t,o)),n}getWorldToCameraPosition(t,o,n){const i=this.position;e.scale(i,i,-t);const s=new Float64Array(16);return e.fromScaling(s,[n,n,n]),e.translate(s,s,i),s[10]*=o,s}getWorldToCamera(t,o){const n=new Float64Array(16),i=new Float64Array(4),s=this.position;return e.conjugate(i,this._orientation),e.scale(s,s,-t),e.fromQuat(n,i),e.translate(n,n,s),n[1]*=-1,n[5]*=-1,n[9]*=-1,n[13]*=-1,n[8]*=o,n[9]*=o,n[10]*=o,n[11]*=o,n}getCameraToClipPerspective(t,o,n,i){const s=new Float64Array(16);return e.perspective(s,t,o,n,i),s}getDistanceToElevation(t){const o=0===t?0:e.mercatorZfromAltitude(t,this.position[1]),n=this.forward();return(o-this.position[2])/n[2]}clone(){return new Tn([...this.position],[...this.orientation])}}class kn{constructor(t,o,n,i,s){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===s||s,this._minZoom=t||0,this._maxZoom=o||22,this._minPitch=null==n?0:n,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new hn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._camera=new Tn,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const e=new kn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._cameraZoom=this._cameraZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,e?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(e){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),e&&this._constrainCameraAltitude(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(t){const o=-e.wrap(t,-180,180)*Math.PI/180;var n;this.angle!==o&&(this._unmodified=!1,this.angle=o,this._calcMatrices(),this.rotationMatrix=(n=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(e,t,o){var n=t[0],i=t[1],s=t[2],a=t[3],r=Math.sin(o),_=Math.cos(o);e[0]=n*_+s*r,e[1]=i*_+a*r,e[2]=n*-r+s*_,e[3]=i*-r+a*_}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const o=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==o&&(this._unmodified=!1,this._pitch=o,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const t=this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(this.center),-1);return-1===t?(this._cameraZoom=null,!1):(this._centerAltitude=t,!0)}_updateCameraOnTerrain(){const t=this.cameraToCenterDistance/this.worldSize,o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(o+t)}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,o=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],n=this.horizonLineFromTop();let i=0,s=0;for(let a=0;a<o.length;a++){const r=new e.pointGeometry(o[a][0]*this.width,n+o[a][1]*(this.height-n)),_=t.pointCoordinate(r);if(!_)continue;const p=1/Math.hypot(_[0]-this._camera.position[0],_[1]-this._camera.position[1]);i+=_[3]*p,s+=p}return 0===s?NaN:i/s}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const t=this._cameraZoom,o=this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(this.center)),n=e.mercatorZfromAltitude(o,this.center.lat),i=this._mercatorZfromZoom(t),s=this._mercatorZfromZoom(this._maxZoom),a=Math.max(i-n,s);this._setZoom(this._zoomFromMercatorZ(a))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const o=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let n;n=t.z<this._camera.position[2]?[o.x,o.y,o.z]:[t.x,t.y,t.z];const i=e.length(e.sub([],this._camera.position,n));return e.clamp(this._zoomFromMercatorZ(i),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let o=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(o=this._setCameraOrientation(t.orientation)),t.position){const n=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(n,this._camera.position)||(this._setCameraPosition(n),o=!0)}o&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,o=new wn;return o.position=new e.MercatorCoordinate(t[0],t[1],t[2]),o.orientation=this._camera.orientation,o._elevation=this.elevation,o._renderWorldCopies=this._renderWorldCopies,o}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const o=e.transformQuat([],[0,0,-1],t),n=e.transformQuat([],[0,-1,0],t);if(n[2]<0)return!1;const i=bn(o,n);return!!i&&(this._camera.orientation=i,!0)}_setCameraPosition(t){const o=this.zoomScale(this.minZoom)*this.tileSize,n=this.zoomScale(this.maxZoom)*this.tileSize,i=this.cameraToCenterDistance;t[2]=e.clamp(t[2],i/n,i/o),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,o){this._unmodified=!1,this._edgeInsets.interpolate(e,t,o),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const o=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies){const n=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),s=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),r=Math.floor(Math.min(n.x,i.x,s.x,a.x)),_=Math.floor(Math.max(n.x,i.x,s.x,a.x)),p=1;for(let n=r-p;n<=_+p;n++)0!==n&&o.push(new e.UnwrappedTileID(n,t))}return o}coveringTiles(t){let o=this.coveringZoomLevel(t);const n=o,i=this.elevation&&!t.isTerrainDEM;if(void 0!==t.minzoom&&o<t.minzoom)return[];void 0!==t.maxzoom&&o>t.maxzoom&&(o=t.maxzoom);const s=e.MercatorCoordinate.fromLngLat(this.center),a=1<<o,r=[a*s.x,a*s.y,0],_=d.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,o),p=this.pointCoordinate(this.getCameraPoint()),l=a*e.mercatorZfromAltitude(1,this.center.lat),u=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),f=[a*p.x,a*p.y,u],m=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),h=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?o:0,y=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,g=t.isTerrainDEM?-y:this._elevation?this._elevation.getMinElevationBelowMSL():0,v=e=>({aabb:new c([e*a,0,g],[(e+1)*a,a,y]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),x=[];let C=[];const b=o,w=t.reparseOverscaled?n:o,T=e=>{if(!this._elevation||!e.tileID)return;const t=this._elevation.getMinMaxForTile(e.tileID),o=e.aabb;t?(o.min[2]=t.min,o.max[2]=t.max,o.center[2]=(o.min[2]+o.max[2])/2):(e.shouldSplit=S(e),e.shouldSplit||(o.min[2]=o.max[2]=o.center[2]=this._centerAltitude))},k=e=>e*e,M=k((u-this._centerAltitude)*l),S=e=>{if(e.zoom<h)return!0;if(e.zoom===b)return!1;if(null!=e.shouldSplit)return e.shouldSplit;const t=e.aabb.distanceX(f),o=e.aabb.distanceY(f);let n=M;i&&(n=k(e.aabb.distanceZ(f)*l));const s=t*t+o*o+n;return s<k((1<<b-e.zoom)*m*((e,t)=>{if(t*k(.707)<e)return 1;const o=Math.sqrt(t/e);return o/(1.4144271570014144+(Math.pow(1.1,o-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(n,M),s))};if(this._renderWorldCopies)for(let e=1;e<=3;e++)x.push(v(-e)),x.push(v(e));for(x.push(v(0));x.length>0;){const n=x.pop(),s=n.x,a=n.y;let p=n.fullyVisible;if(!p){const e=n.aabb.intersects(_);if(0===e)continue;p=2===e}if(n.zoom!==b&&S(n))for(let t=0;t<4;t++){const o=(s<<1)+t%2,r=(a<<1)+(t>>1),_={aabb:n.aabb.quadrant(t),zoom:n.zoom+1,x:o,y:r,wrap:n.wrap,fullyVisible:p,tileID:void 0,shouldSplit:void 0};i&&(_.tileID=new e.OverscaledTileID(n.zoom+1===b?w:n.zoom+1,n.wrap,n.zoom+1,o,r),T(_)),x.push(_)}else{const i=n.zoom===b?w:n.zoom;if(t.minzoom&&t.minzoom>i)continue;const _=r[0]-(.5+s+(n.wrap<<n.zoom))*(1<<o-n.zoom),p=r[1]-.5-a,l=n.tileID?n.tileID:new e.OverscaledTileID(i,n.wrap,n.zoom,s,a);C.push({tileID:l,distanceSq:_*_+p*p})}}if(this.fogCullDistSq){const o=this.fogCullDistSq,n=this.horizonLineFromTop();C=C.filter(i=>{const s=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],r=this.calculateFogTileMatrix(i.tileID.toUnwrapped());e.transformMat4(s,s,r),e.transformMat4(a,a,r);const _=e.getAABBPointSquareDist(s,a);if(0===_)return!0;let p=!1;const l=this._elevation;if(l&&_>o&&0!==n){const o=this.calculateProjMatrix(i.tileID.toUnwrapped());let s;t.isTerrainDEM||(s=l.getMinMaxForTile(i.tileID)),s||(s={min:g,max:y});const a=e.furthestTileCorner(this.bearing),r=[a[0]*e.EXTENT,a[1]*e.EXTENT,s.max];e.transformMat4$1(r,r,o),p=(1-r[1])*this.height*.5<n}return _<o||p})}return C.sort((e,t)=>e.distanceSq-t.distanceSq).map(e=>e.tileID)}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const o=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.pointGeometry(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(o)*this.worldSize)}unproject(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(t,o){const n=this.pointCoordinate(o),i=this.pointCoordinate(this.centerPoint),s=this.locationCoordinate(t),a=new e.MercatorCoordinate(s.x-(n.x-i.x),s.y-(n.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())}setLocation(e){this.center=this.coordinateLocation(e),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e){return this._coordinatePoint(this.locationCoordinate(e),!1)}locationPoint3D(e){return this._coordinatePoint(this.locationCoordinate(e),!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t){return e.MercatorCoordinate.fromLngLat(t)}coordinateLocation(e){return e.toLngLat()}pointRayIntersection(t,o){const n=null!=o?o:this._centerAltitude,i=[t.x,t.y,0,1],s=[t.x,t.y,1,1];e.transformMat4(i,i,this.pixelMatrixInverse),e.transformMat4(s,s,this.pixelMatrixInverse);const a=s[3];e.scale$2(i,i,1/i[3]),e.scale$2(s,s,1/a);const r=i[2],_=s[2];return{p0:i,p1:s,t:r===_?0:(n-r)/(_-r)}}screenPointToMercatorRay(t){const o=[t.x,t.y,0,1],n=[t.x,t.y,1,1];return e.transformMat4(o,o,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse),e.scale$2(o,o,1/o[3]),e.scale$2(n,n,1/n[3]),o[2]=e.mercatorZfromAltitude(o[2],this._center.lat)*this.worldSize,n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,e.scale$2(o,o,1/this.worldSize),e.scale$2(n,n,1/this.worldSize),new f([o[0],o[1],o[2]],e.normalize([],e.sub([],n,o)))}rayIntersectionCoordinate(t){const{p0:o,p1:n,t:i}=t,s=e.mercatorZfromAltitude(o[2],this._center.lat),a=e.mercatorZfromAltitude(n[2],this._center.lat);return new e.MercatorCoordinate(e.number(o[0],n[0],i)/this.worldSize,e.number(o[1],n[1],i)/this.worldSize,e.number(s,a,i))}pointCoordinate(t,o=this._centerAltitude){const n=this.horizonLineFromTop(!1),i=new e.pointGeometry(t.x,Math.max(n,t.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(i,o))}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);const o=this.elevation;let n=this.elevation.pointCoordinate(t);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);let i=0,s=this.horizonLineFromTop();if(t.y>s)return this.pointCoordinate(t);const a=.02*s,r=t.clone();for(let t=0;t<10&&s-i>a;t++){r.y=e.number(i,s,.66);const t=o.pointCoordinate(r);t?(s=r.y,n=t):i=r.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){if(this.elevation)return!this.elevation.pointCoordinate(e);{const t=this.horizonLineFromTop();return e.y<t}}_coordinatePoint(t,o){const n=o&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,i=[t.x*this.worldSize,t.y*this.worldSize,n+t.toAltitude(),1];return e.transformMat4(i,i,this.pixelMatrix),i[3]>0?new e.pointGeometry(i[0]/i[3],i[1]/i[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBounds(t,o){const n=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),i=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),s=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let r=this.pointCoordinate(n,t),_=this.pointCoordinate(i,t);const p=this.pointCoordinate(s,o),l=this.pointCoordinate(a,o),u=(e,t)=>(t.y-e.y)/(t.x-e.x);return r.y>1&&_.y>=0?r=new e.MercatorCoordinate((1-l.y)/u(l,r)+l.x,1):r.y<0&&_.y<=1&&(r=new e.MercatorCoordinate(-l.y/u(l,r)+l.x,0)),_.y>1&&r.y>=0?_=new e.MercatorCoordinate((1-p.y)/u(p,_)+p.x,1):_.y<0&&r.y<=1&&(_=new e.MercatorCoordinate(-p.y/u(p,_)+p.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(r)).extend(this.coordinateLocation(_)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(p))}_getBounds3D(){const e=this.elevation,t=e.visibleDemTiles.reduce((e,t)=>{if(t.dem){const o=t.dem.tree;e.min=Math.min(e.min,o.minimums[0]),e.max=Math.max(e.max,o.maximums[0])}return e},{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,o=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,o):o}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(e){if(e){const t=e.getEast(),o=e.getWest();this.lngRange=[o,t>o?t:t+360],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()}else this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude]}calculatePosMatrix(t,o){const n=t.canonical,i=o/this.zoomScale(n.z),s=n.x+Math.pow(2,n.z)*t.wrap,a=e.identity(new Float64Array(16));return e.translate(a,a,[s*i,n.y*i,0]),e.scale$1(a,a,[i/e.EXTENT,i/e.EXTENT,1]),a}calculateFogTileMatrix(t){const o=t.key,n=this._fogTileMatrixCache;if(n[o])return n[o];const i=this.calculatePosMatrix(t,this.cameraWorldSize);return e.multiply(i,this.worldToFogMatrix,i),n[o]=new Float32Array(i),n[o]}calculateProjMatrix(t,o=!1){const n=t.key,i=o?this._alignedProjMatrixCache:this._projMatrixCache;if(i[n])return i[n];const s=this.calculatePosMatrix(t,this.worldSize);return e.multiply(s,o?this.alignedProjMatrix:this.projMatrix,s),i[n]=new Float32Array(s),i[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const o=this._camera.position,n=this._camera.forward();if(o[2]<=0||n[2]>=0)return;const i=e.mercatorZfromAltitude(1,this._center.lat);o[2]/=i,n[2]/=i,e.normalize(n,n);const s=t.raycast(o,n,t.exaggeration());if(s){const t=e.scaleAndAdd([],o,n,s),i=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),a=this._camera.position,r=i.z+e.length([i.x-a[0],i.y-a[1],i.z-a[2]]);this._cameraZoom=this._zoomFromMercatorZ(r),this._centerAltitude=i.toAltitude(),this._center=i.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const o=t.getAtPointOrZero(this._camera.mercatorPosition),n=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),i=e.mercatorZfromAltitude(o,this._center.lat),s=this._camera.position[2]-i;if(s<n){const t=e.MercatorCoordinate.fromLngLat(this._center,this._centerAltitude),o=this._camera.mercatorPosition,i=[t.x-o.x,t.y-o.y,t.z-o.z],a=e.length(i);i[2]-=n-s;const r=e.length(i);if(0===r)return;e.scale(i,i,a/r),this._camera.position=[t.x-i[0],t.y-i[1],t.z-i[2]],this._camera.orientation=bn(i,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let t,o,n,i,s,a=1/0,r=-1/0;const _=this.size,p=this._unmodified;if(this.latRange){const t=this.latRange;a=e.mercatorYfromLat(t[1])*this.worldSize,r=e.mercatorYfromLat(t[0])*this.worldSize,n=r-a<_.y?_.y/(r-a):0}if(this.lngRange){const n=this.lngRange;t=e.mercatorXfromLng(n[0])*this.worldSize,o=e.mercatorXfromLng(n[1])*this.worldSize,i=o-t<_.x?_.x/(o-t):0}const l=this.point,u=Math.max(i||0,n||0);if(u)return this.center=this.unproject(new e.pointGeometry(i?(o+t)/2:l.x,n?(r+a)/2:l.y)),this.zoom+=this.scaleZoom(u),this._unmodified=p,void(this._constraining=!1);if(this.latRange){const e=l.y,t=_.y/2;e-t<a&&(s=a+t),e+t>r&&(s=r-t)}let f=l.x;if(this.lngRange){const e=this.worldSize/2-(t+o)/2;f=(f+e+this.worldSize)%this.worldSize,t+=e,o+=e;const n=_.x/2;f-n<t&&(f=t+n),f+n>o&&(f=o-n),f-=e}f===l.x&&void 0===s||(this.center=this.unproject(new e.pointGeometry(f,void 0!==s?s:l.y))),this._constrainCameraAltitude(),this._unmodified=p,this._constraining=!1}_minZoomForBounds(){const t=(e,t)=>Math.log2(e/(this.tileSize*Math.abs(t[1]-t[0])));let o=0;if(this.latRange){const n=this.latRange;o=t(this.height,[e.mercatorYfromLat(n[0]),e.mercatorYfromLat(n[1])])}let n=0;if(this.lngRange){const o=this.lngRange;n=t(this.width,[e.mercatorXfromLng(o[0]),e.mercatorXfromLng(o[1])])}return Math.max(o,n)}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const o=this.pixelsPerMeter;this._updateCameraState();const n=Math.PI/2+this._pitch,i=this.fovAboveCenter,s=this.elevation?this.elevation.getMinElevationBelowMSL()*o:0,a=(this._camera.position[2]*this.worldSize-s)/Math.cos(this._pitch),r=Math.sin(i)*a/Math.sin(e.clamp(Math.PI-n-i,.01,Math.PI-.01)),_=this.point,p=_.x,l=_.y,u=Math.cos(Math.PI/2-this._pitch)*r+a,f=Math.min(1.01*u,a*(1/this._horizonShift)),d=this.height/50,c=this._camera.getWorldToCamera(this.worldSize,o),m=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,d,f);m[8]=2*-t.x/this.width,m[9]=2*t.y/this.height;let h=e.mul$1([],m,c);this.mercatorMatrix=e.scale$1([],h,[this.worldSize,this.worldSize,this.worldSize/o]),this.projMatrix=h,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const y=new Float32Array(16);e.identity(y),e.scale$1(y,y,[1,-1,1]),e.rotateX(y,y,this._pitch),e.rotateZ(y,y,this.angle);const g=e.perspective(new Float32Array(16),this._fov,this.width/this.height,d,f),v=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;g[8]=2*-t.x/this.width,g[9]=2*(t.y+v)/this.height,this.skyboxMatrix=e.multiply(y,g,y);const x=this.width%2/2,C=this.height%2/2,b=Math.cos(this.angle),w=Math.sin(this.angle),T=p-Math.round(p)+b*x+w*C,k=l-Math.round(l)+b*C+w*x,M=new Float64Array(h);if(e.translate(M,M,[T>.5?T-1:T,k>.5?k-1:k,0]),this.alignedProjMatrix=M,h=e.create$1(),e.scale$1(h,h,[this.width/2,-this.height/2,1]),e.translate(h,h,[1,-1,0]),this.labelPlaneMatrix=h,h=e.create$1(),e.scale$1(h,h,[1,-1,1]),e.translate(h,h,[-1,-1,0]),e.scale$1(h,h,[2/this.width,2/this.height,1]),this.glCoordMatrix=h,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),h=e.invert(new Float64Array(16),this.pixelMatrix),!h)throw new Error("failed to invert matrix");this.pixelMatrixInverse=h,this._projMatrixCache={},this._alignedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSize,o=this.cameraPixelsPerMeter,n=this._camera.position,i=1/this.height,s=[t,t,o];e.scale(s,s,i),e.scale(n,n,-1),e.multiply$1(n,n,s);const a=e.create$1();e.translate(a,a,n),e.scale$1(a,a,s),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,o,i)}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const t=this._camera.forward(),o=this.cameraToCenterDistance,n=this.point,i=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-e.mercatorZfromAltitude(this._centerAltitude,this.center.lat),s=this.cameraToCenterDistance/i;this._camera.position=[n.x/this.worldSize-t[0]*o/s,n.y/this.worldSize-t[1]*o/s,e.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-t[2]*o/s]}_translateCameraConstrained(t){const o=this._maxCameraBoundsDistance()*Math.cos(this._pitch),n=t[2];let i=1;n>0&&(i=Math.min((o-this._camera.position[2])/n,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,i),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,o=this._camera.forward(),{pitch:n,bearing:i}=this._camera.getPitchBearing(),s=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat),a=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),r=Math.max((t[2]-s)/Math.cos(n),a),_=this._zoomFromMercatorZ(r);e.scaleAndAdd(t,t,o,r),this._pitch=e.clamp(n,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(i,-Math.PI,Math.PI),this._setZoom(e.clamp(_,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new e.MercatorCoordinate(t[0],t[1],t[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}_terrainEnabled(){return!!this._elevation}isCornerOffEdge(t,o){const n=Math.min(t.x,o.x),i=Math.max(t.x,o.x),s=Math.min(t.y,o.y),a=Math.max(t.y,o.y);if(s<this.horizonLineFromTop(!1))return!0;const r=[new e.pointGeometry(n,s),new e.pointGeometry(i,a),new e.pointGeometry(n,a),new e.pointGeometry(i,s)],_=this._renderWorldCopies?-3:0,p=this._renderWorldCopies?4:1;for(const e of r){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const o=this.rayIntersectionCoordinate(t);if(o.x<_||o.y<0||o.x>p||o.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.isCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,o){const n=e.length(e.sub([],this._camera.position,t)),i=this._zoomFromMercatorZ(n)+o;return n-this._mercatorZfromZoom(i)}getCameraPoint(){const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}function Mn(e,t){let o=!1,n=null;const i=()=>{n=null,o&&(e(),n=setTimeout(i,t),o=!1)};return()=>(o=!0,n||i(),n)}class Sn{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Mn(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(t){const o=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),s=Math.pow(10,i),a=Math.round(o.lng*s)/s,r=Math.round(o.lat*s)/s,_=this._map.getBearing(),p=this._map.getPitch();let l="";if(l+=t?`/${a}/${r}/${n}`:`${n}/${r}/${a}`,(_||p)&&(l+="/"+Math.round(10*_)/10),p&&(l+="/"+Math.round(p)),this._hashName){const t=this._hashName;let o=!1;const n=e.window.location.hash.slice(1).split("&").map(e=>{const n=e.split("=")[0];return n===t?(o=!0,`${n}=${l}`):e}).filter(e=>e);return o||n.push(`${t}=${l}`),"#"+n.join("&")}return"#"+l}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map(e=>e.split("=")).forEach(t=>{t[0]===this._hashName&&(e=t)}),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._getCurrentHash();if(e.length>=3&&!e.some(e=>isNaN(e))){const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}const En={linearity:.3,easing:e.bezier(0,0,.3,1)},An=e.extend({deceleration:2500,maxSpeed:1400},En),In=e.extend({deceleration:20,maxSpeed:1400},En),zn=e.extend({deceleration:1e3,maxSpeed:360},En),Pn=e.extend({deceleration:1e3,maxSpeed:90},En);class Dn{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,o=e.exported.now();for(;t.length>0&&o-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const o={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)o.zoom+=e.zoomDelta||0,o.bearing+=e.bearingDelta||0,o.pitch+=e.pitchDelta||0,e.panDelta&&o.pan._add(e.panDelta),e.around&&(o.around=e.around),e.pinchAround&&(o.pinchAround=e.pinchAround);const n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,i={};if(o.pan.mag()){const s=Bn(o.pan.mag(),n,e.extend({},An,t||{}));i.offset=o.pan.mult(s.amount/o.pan.mag()),i.center=this._map.transform.center,Ln(i,s)}if(o.zoom){const e=Bn(o.zoom,n,In);i.zoom=this._map.transform.zoom+e.amount,Ln(i,e)}if(o.bearing){const t=Bn(o.bearing,n,zn);i.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),Ln(i,t)}if(o.pitch){const e=Bn(o.pitch,n,Pn);i.pitch=this._map.transform.pitch+e.amount,Ln(i,e)}if(i.zoom||i.bearing){const e=void 0===o.pinchAround?o.around:o.pinchAround;i.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),e.extend(i,{noMoveStart:!0})}}function Ln(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Bn(t,o,n){const{maxSpeed:i,linearity:s,deceleration:a}=n,r=e.clamp(t*s/(o/1e3),-i,i),_=Math.abs(r)/(a*s);return{easing:n.easing,duration:1e3*_,amount:r*(_/2)}}class Rn extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,o,n,i={}){const a=s.mousePos(o.getCanvasContainer(),n),r=o.unproject(a);super(t,e.extend({point:a,lngLat:r,originalEvent:n},i)),this._defaultPrevented=!1,this.target=o}}class Fn extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,o,n){const i="touchend"===t?n.changedTouches:n.touches,a=s.touchPos(o.getCanvasContainer(),i),r=a.map(e=>o.unproject(e)),_=a.reduce((e,t,o,n)=>e.add(t.div(n.length)),new e.pointGeometry(0,0));super(t,{points:a,point:_,lngLats:r,lngLat:o.unproject(_),originalEvent:n}),this._defaultPrevented=!1}}class On extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,o){super(e,{originalEvent:o}),this._defaultPrevented=!1}}class Nn{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new On(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new Rn(e.type,this._map,e))}mouseup(e){this._map.fire(new Rn(e.type,this._map,e))}preclick(t){const o=e.extend({},t);o.type="preclick",this._map.fire(new Rn(o.type,this._map,o))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new Rn(e.type,this._map,e)))}dblclick(e){return this._firePreventable(new Rn(e.type,this._map,e))}mouseover(e){this._map.fire(new Rn(e.type,this._map,e))}mouseout(e){this._map.fire(new Rn(e.type,this._map,e))}touchstart(e){return this._firePreventable(new Fn(e.type,this._map,e))}touchmove(e){this._map.fire(new Fn(e.type,this._map,e))}touchend(e){this._map.fire(new Fn(e.type,this._map,e))}touchcancel(e){this._map.fire(new Fn(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Vn{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(e){this._map.fire(new Rn(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Rn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Rn(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Un{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(s.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const o=t;if(this._lastPos.equals(o)||!this._box&&o.dist(this._startPos)<this._clickTolerance)return;const n=this._startPos;this._lastPos=o,this._box||(this._box=s.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const i=Math.min(n.x,o.x),a=Math.max(n.x,o.x),r=Math.min(n.y,o.y),_=Math.max(n.y,o.y);this._map._requestDomTask(()=>{this._box&&(s.setTransform(this._box,`translate(${i}px,${r}px)`),this._box.style.width=a-i+"px",this._box.style.height=_-r+"px")})}mouseupWindow(t,o){if(!this._active)return;if(0!==t.button)return;const n=this._startPos,i=o;if(this.reset(),s.suppressClick(),n.x!==i.x||n.y!==i.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(n,i,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(s.remove(this._box),this._box=null),s.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,o){return this._map.fire(new e.Event(t,{originalEvent:o}))}}function Gn(e,t){const o={};for(let n=0;n<e.length;n++)o[e[n].identifier]=t[n];return o}class Wn{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,o,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){const o=new e.pointGeometry(0,0);for(const e of t)o._add(e);return o.div(t.length)}(o),this.touches=Gn(n,o)))}touchmove(e,t,o){if(this.aborted||!this.centroid)return;const n=Gn(o,t);for(const e in this.touches){const t=this.touches[e],o=n[e];(!o||o.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,o){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===o.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class Zn{constructor(e){this.singleTap=new Wn(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,o){this.singleTap.touchstart(e,t,o)}touchmove(e,t,o){this.singleTap.touchmove(e,t,o)}touchend(e,t,o){const n=this.singleTap.touchend(e,t,o);if(n){const t=e.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(n)<30;if(t&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}class jn{constructor(){this._zoomIn=new Zn({numTouches:1,numTaps:2}),this._zoomOut=new Zn({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,o){this._zoomIn.touchstart(e,t,o),this._zoomOut.touchstart(e,t,o)}touchmove(e,t,o){this._zoomIn.touchmove(e,t,o),this._zoomOut.touchmove(e,t,o)}touchend(e,t,o){const n=this._zoomIn.touchend(e,t,o),i=this._zoomOut.touchend(e,t,o);return n?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(n)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const qn={0:1,2:2};class Kn{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const o=s.mouseButton(e);this._correctButton(e,o)&&(this._lastPoint=t,this._eventButton=o)}mousemoveWindow(e,t){const o=this._lastPoint;if(o)if(e.preventDefault(),function(e,t){const o=qn[t];return void 0===e.buttons||(e.buttons&o)!==o}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(o)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(o,t)}mouseupWindow(e){this._lastPoint&&s.mouseButton(e)===this._eventButton&&(this._moved&&s.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Hn extends Kn{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class $n extends Kn{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const o=.8*(t.x-e.x);if(o)return this._active=!0,{bearingDelta:o}}contextmenu(e){e.preventDefault()}}class Xn extends Kn{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const o=-.5*(t.y-e.y);if(o)return this._active=!0,{pitchDelta:o}}contextmenu(e){e.preventDefault()}}class Yn{constructor(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,o){return this._calculateTransform(e,t,o)}touchmove(e,t,o){if(this._active&&!(o.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,o)}touchend(e,t,o){this._calculateTransform(e,t,o),this._active&&o.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,o,n){n.length>0&&(this._active=!0);const i=Gn(n,o),s=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let r=0;for(const e in i){const t=i[e],o=this._touches[e];o&&(s._add(t),a._add(t.sub(o)),r++,i[e]=t)}if(this._touches=i,r<this._minTouches||!a.mag())return;const _=a.div(r);return this._sum._add(_),this._sum.mag()<this._clickTolerance?void 0:{around:s.div(r),panDelta:_}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Jn{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(e){}_move(e,t,o){return{}}touchstart(e,t,o){this._firstTwoTouches||o.length<2||(this._firstTwoTouches=[o[0].identifier,o[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,o){if(!this._firstTwoTouches)return;e.preventDefault();const[n,i]=this._firstTwoTouches,s=Qn(o,t,n),a=Qn(o,t,i);if(!s||!a)return;const r=this._aroundCenter?null:s.add(a).div(2);return this._move([s,a],r,e)}touchend(e,t,o){if(!this._firstTwoTouches)return;const[n,i]=this._firstTwoTouches,a=Qn(o,t,n),r=Qn(o,t,i);a&&r||(this._active&&s.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Qn(e,t,o){for(let n=0;n<e.length;n++)if(e[n].identifier===o)return t[n]}function ei(e,t){return Math.log(e/t)/Math.LN2}class ti extends Jn{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const o=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(ei(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ei(this._distance,o),pinchAround:t}}}function oi(e,t){return 180*e.angleWith(t)/Math.PI}class ni extends Jn{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const o=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:oi(this._vector,o),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,o=oi(e,this._startVector);return Math.abs(o)<t}}function ii(e){return Math.abs(e.y)>Math.abs(e.x)}class si extends Jn{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(e){this._lastPoints=e,ii(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,o){const n=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(n,i,o.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+i.y)/2*-.5}}gestureBeginsVertically(e,t,o){if(void 0!==this._valid)return this._valid;const n=e.mag()>=2,i=t.mag()>=2;if(!n&&!i)return;if(!n||!i)return void 0===this._firstMove&&(this._firstMove=o),o-this._firstMove<100&&void 0;const s=e.y>0==t.y>0;return ii(e)&&ii(t)&&s}}const ai={panStep:100,bearingStep:15,pitchStep:10};class ri{constructor(){const e=ai;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,o=0,n=0,i=0,s=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?o=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?o=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),s=-1);break;case 40:e.shiftKey?n=-1:(e.preventDefault(),s=1);break;default:return}return this._rotationDisabled&&(o=0,n=0),{cameraAnimation:a=>{const r=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:_i,zoom:t?Math.round(r)+t*(e.shiftKey?2:1):r,bearing:a.getBearing()+o*this._bearingStep,pitch:a.getPitch()+n*this._pitchStep,offset:[-i*this._panStep,-s*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function _i(e){return e*(2-e)}const pi=4.000244140625;class li{constructor(t,o){this._map=t,this._el=t.getCanvasContainer(),this._handler=o,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(t){if(!this.isEnabled())return;let o=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const n=e.exported.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==o&&o%pi==0?this._type="wheel":0!==o&&Math.abs(o)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=o,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*o)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,o+=this._lastValue)),t.shiftKey&&o&&(o/=4),this._type&&(this._lastWheelEvent=t,this._delta-=o,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=s.mousePos(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform,o=()=>t._terrainEnabled()?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>pi?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);const i=o(),s=Math.pow(2,i),a="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):s;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(a*n))),"wheel"===this._type&&(this._startZoom=o(),this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:o(),i=this._startZoom,s=this._easing;let a,r=!1;if("wheel"===this._type&&i&&s){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),o=s(t);a=e.number(i,n,o),t<1?this._frameId||(this._frameId=!0):r=!0}else a=n,r=!0;return this._active=!0,r&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!r,zoomDelta:a-o(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let o=e.ease;if(this._prevEase){const t=this._prevEase,n=(e.exported.now()-t.start)/t.duration,i=t.easing(n+.01)-t.easing(n),s=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-s*s);o=e.bezier(s,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:o},o}reset(){this._active=!1}}class ui{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class fi{constructor(){this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:o=>{o.easeTo({duration:300,zoom:o.getZoom()+(e.shiftKey?-1:1),around:o.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class di{constructor(){this._tap=new Zn({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(e,t,o){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?o.length>0&&(this._swipePoint=t[0],this._swipeTouch=o[0].identifier):this._tap.touchstart(e,t,o))}touchmove(e,t,o){if(this._tapTime){if(this._swipePoint){if(o[0].identifier!==this._swipeTouch)return;const n=t[0],i=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,o)}touchend(e,t,o){this._tapTime?this._swipePoint&&0===o.length&&this.reset():this._tap.touchend(e,t,o)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ci{constructor(e,t,o){this._el=e,this._mousePan=t,this._touchPan=o}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class mi{constructor(e,t,o){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=o}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class hi{constructor(e,t,o,n){this._el=e,this._touchZoom=t,this._touchRotate=o,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const yi=e=>e.zoom||e.drag||e.pitch||e.rotate;class gi extends e.Event{}class vi{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,o){const n=e.sub([],o,t);this.radius=e.length(n[2]<0?e.div([],n,this.constants):[n[0],n[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$2(t,t,this.constants);const o=e.scale([],t,this.radius);if(o[2]>0){const t=e.scale([],[0,0,1],e.dot(o,[0,0,1])),n=e.scale([],e.normalize([],[o[0],o[1],0]),this.radius),i=e.add([],o,e.scale([],e.sub([],e.add([],n,t),o),2));o[0]=i[0],o[1]=i[1]}return o}}function xi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Ci{constructor(t,o){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Dn(t),this._bearingSnap=o.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new vi,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(o),e.bindAll(["handleEvent","handleWindowEvent"],this);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[t,o,n]of this._listeners)s.addEventListener(t,o,t===e.window.document?this.handleWindowEvent:this.handleEvent,n)}destroy(){for(const[t,o,n]of this._listeners)s.removeEventListener(t,o,t===e.window.document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const t=this._map,o=t.getCanvasContainer();this._add("mapEvent",new Nn(t,e));const n=t.boxZoom=new Un(t,e);this._add("boxZoom",n);const i=new jn,s=new fi;t.doubleClickZoom=new ui(s,i),this._add("tapZoom",i),this._add("clickZoom",s);const a=new di;this._add("tapDragZoom",a);const r=t.touchPitch=new si;this._add("touchPitch",r);const _=new $n(e),p=new Xn(e);t.dragRotate=new mi(e,_,p),this._add("mouseRotate",_,["mousePitch"]),this._add("mousePitch",p,["mouseRotate"]);const l=new Hn(e),u=new Yn(e);t.dragPan=new ci(o,l,u),this._add("mousePan",l),this._add("touchPan",u,["touchZoom","touchRotate"]);const f=new ni,d=new ti;t.touchZoomRotate=new hi(o,d,f,a),this._add("touchRotate",f,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Vn(t));const c=t.scrollZoom=new li(t,this);this._add("scrollZoom",c,["mousePan"]);const m=t.keyboard=new ri;this._add("keyboard",m);for(const o of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[o]&&t[o].enable(e[o])}_add(e,t,o){this._handlers.push({handlerName:e,handler:t,allowed:o}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(yi(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,o){for(const n in e)if(n!==o&&(!t||t.indexOf(n)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,e.type+"Window")}_getMapTouches(e){const t=[];for(const o of e)this._el.contains(o.target)&&t.push(o);return t}handleEvent(e,t){if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const o="renderFrame"===e.type,n=o?void 0:e,i={needsRenderFrame:!1},a={},r={},_=e.touches?this._getMapTouches(e.touches):void 0,p=_?s.touchPos(this._el,_):o?void 0:s.mousePos(this._el,e);for(const{handlerName:o,handler:s,allowed:l}of this._handlers){if(!s.isEnabled())continue;let u;this._blockedByActive(r,l,o)?s.reset():s[t||e.type]&&(u=s[t||e.type](e,p,_),this.mergeHandlerResult(i,a,u,o,n),u&&u.needsRenderFrame&&this._triggerRenderFrame()),(u||s.isActive())&&(r[o]=s)}const l={};for(const e in this._previousActiveHandlers)r[e]||(l[e]=n);this._previousActiveHandlers=r,(Object.keys(l).length||xi(i))&&(this._changes.push([i,a,l]),this._triggerRenderFrame()),(Object.keys(r).length||xi(i))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:u}=i;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}mergeHandlerResult(t,o,n,i,s){if(!n)return;e.extend(t,n);const a={handlerName:i,originalEvent:n.originalEvent||s};void 0!==n.zoomDelta&&(o.zoom=a),void 0!==n.panDelta&&(o.drag=a),void 0!==n.pitchDelta&&(o.pitch=a),void 0!==n.bearingDelta&&(o.rotate=a)}_applyChanges(){const t={},o={},n={};for(const[i,s,a]of this._changes)i.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(i.panDelta)),i.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+i.zoomDelta),i.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+i.bearingDelta),i.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+i.pitchDelta),void 0!==i.around&&(t.around=i.around),void 0!==i.aroundCoord&&(t.aroundCoord=i.aroundCoord),void 0!==i.pinchAround&&(t.pinchAround=i.pinchAround),i.noInertia&&(t.noInertia=i.noInertia),e.extend(o,s),e.extend(n,a);this._updateMapTransform(t,o,n),this._changes=[]}_updateMapTransform(t,o,n){const i=this._map,s=i.transform,a=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!xi(t)){const e=s.zoom;s.cameraElevationReference="sea",s.recenterOnTerrain(),s.cameraElevationReference="ground",e!==s.zoom&&this._map._update(!0)}if(!xi(t))return this._fireEvents(o,n,!0);let{panDelta:r,zoomDelta:_,bearingDelta:p,pitchDelta:l,around:u,aroundCoord:f,pinchAround:d}=t;void 0!==d&&(u=d),(e=>o.drag&&!this._eventsInProgress.drag)()&&u&&(this._dragOrigin=a(s.pointCoordinate3D(u)),this._trackingEllipsoid.setup(s._camera.position,this._dragOrigin)),s.cameraElevationReference="sea",i._stop(!0),u=u||i.transform.centerPoint,p&&(s.bearing+=p),l&&(s.pitch+=l),s._updateCameraState();const c=[0,0,0];if(r){const e=s.screenPointToMercatorRay(u),t=s.screenPointToMercatorRay(u.sub(r)),o=this._trackingEllipsoid.projectRay(e.dir),n=this._trackingEllipsoid.projectRay(t.dir);c[0]=n[0]-o[0],c[1]=n[1]-o[1]}const m=s.zoom,h=[0,0,0];if(_){const t=a(f||s.pointCoordinate3D(u)),o={dir:e.normalize([],e.sub([],t,s._camera.position))},n=s.screenPointToMercatorRay(s.centerPoint);if(o.dir[2]<0){const i=e.altitudeFromMercatorZ(t[2],t[1]),r=s.rayIntersectionCoordinate(s.pointRayIntersection(s.centerPoint,i)),p=s.zoomDeltaToMovement(a(r),_)*(n.dir[2]/o.dir[2]);e.scale(h,o.dir,p)}else if(s._terrainEnabled()){const n=s.zoomDeltaToMovement(t,_);e.scale(h,o.dir,n)}}const y=e.add(c,c,h);s._translateCameraConstrained(y),_&&Math.abs(s.zoom-m)>1e-4&&s.recenterOnTerrain(),s.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(o,n,!0)}_fireEvents(t,o,n){const i=yi(this._eventsInProgress),s=yi(t),a={};for(const e in t){const{originalEvent:o}=t[e];this._eventsInProgress[e]||(a[e+"start"]=o),this._eventsInProgress[e]=t[e]}!i&&s&&this._fireEvent("movestart",s.originalEvent);for(const e in a)this._fireEvent(e,a[e]);s&&this._fireEvent("move",s.originalEvent);for(const e in t){const{originalEvent:o}=t[e];this._fireEvent(e,o)}const r={};let _;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:n}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],_=o[t]||n,r[e+"end"]=_)}for(const e in r)this._fireEvent(e,r[e]);const p=yi(this._eventsInProgress);if(n&&(i||s)&&!p){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),o=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(o(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:_})):(this._map.fire(new e.Event("moveend",{originalEvent:_})),o(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,o){this._map.fire(new e.Event(t,o?{originalEvent:o}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new gi("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class bi extends e.Evented{constructor(t,o){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=o.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,o,n){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},o),n)}panTo(t,o,n){return this.easeTo(e.extend({center:t},o),n)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,o,n){return this.easeTo(e.extend({zoom:t},o),n)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,o,n){return this.easeTo(e.extend({bearing:t},o),n)}resetNorth(t,o){return this.rotateTo(0,e.extend({duration:1e3},t),o),this}resetNorthPitch(t,o){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),o),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,o){t=e.LngLatBounds.convert(t);const n=o&&o.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),n,o)}_extendCameraOptions(t){const o={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(o,t.padding),t}_cameraForBoxAndBearing(t,o,n,i){const s=this._extendCameraOptions(i),a=this.transform,r=a.padding,_=a.project(e.LngLat.convert(t)),p=a.project(e.LngLat.convert(o)),l=_.rotate(-e.degToRad(n)),u=p.rotate(-e.degToRad(n)),f=new e.pointGeometry(Math.max(l.x,u.x),Math.max(l.y,u.y)),d=new e.pointGeometry(Math.min(l.x,u.x),Math.min(l.y,u.y)),c=f.sub(d),m=(a.width-(r.left+r.right+s.padding.left+s.padding.right))/c.x,h=(a.height-(r.top+r.bottom+s.padding.top+s.padding.bottom))/c.y;if(h<0||m<0)return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(a.scaleZoom(a.scale*Math.min(m,h)),s.maxZoom),g="number"==typeof s.offset.x?new e.pointGeometry(s.offset.x,s.offset.y):e.pointGeometry.convert(s.offset),v=new e.pointGeometry((s.padding.left-s.padding.right)/2,(s.padding.top-s.padding.bottom)/2).rotate(n*Math.PI/180),x=g.add(v).mult(a.scale/a.zoomScale(y));return{center:a.unproject(_.add(p).div(2).sub(x)),zoom:y,bearing:n}}_cameraForBox(t,o,n,i,s){const a=this._extendCameraOptions(s);n=n||0,i=i||0,t=e.LngLat.convert(t),o=e.LngLat.convert(o);const r=this.transform.clone();r.padding=a.padding;const _=this.getFreeCameraOptions(),p=new e.LngLat(.5*(t.lng+o.lng),.5*(t.lat+o.lat)),l=.5*(n+i);if(r._camera.position[2]<e.mercatorZfromAltitude(l,p.lat))return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");_.lookAtPoint(p),r.setFreeCameraOptions(_);const u=e.MercatorCoordinate.fromLngLat(t),f=e.MercatorCoordinate.fromLngLat(o),m=r.pointRayIntersection(r.centerPoint,l),h=[(y=r.rayIntersectionCoordinate(m)).x,y.y,y.z];var y;const g=r.screenPointToMercatorRay(r.centerPoint);let v,x=0;do{const o=Math.floor(r.zoom),s=1<<o,a=Math.min(s*u.x,s*f.x),_=Math.min(s*u.y,s*f.y),p=Math.max(s*u.x,s*f.x),l=Math.max(s*u.y,s*f.y),m=new c([a,_,n],[p,l,i]),y=d.fromInvProjectionMatrix(r.invProjMatrix,r.worldSize,o);if(2!==m.intersects(y)){v&&(r._camera.position=e.scaleAndAdd([],r._camera.position,g.dir,-v),r._updateStateFromCamera());break}const x=e.sub([],r._camera.position,h);v=.5*e.length(x),r._camera.position=e.scaleAndAdd([],r._camera.position,g.dir,v);try{r._updateStateFromCamera()}catch(t){return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++x<10);return{center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch}}fitBounds(e,t,o){return this._fitInternal(this.cameraForBounds(e,t),t,o)}_raycastElevationBox(t,o){const n=this.transform.elevation;if(!n)return;const i=new e.pointGeometry(t.x,o.y),s=new e.pointGeometry(o.x,t.y),a=n.pointCoordinate(t);if(!a)return;const r=n.pointCoordinate(o);if(!r)return;const _=n.pointCoordinate(i);if(!_)return;const p=n.pointCoordinate(s);if(!p)return;const l=new e.MercatorCoordinate(a[0],a[1]).toLngLat(),u=new e.MercatorCoordinate(r[0],r[1]).toLngLat(),f=new e.MercatorCoordinate(_[0],_[1]).toLngLat(),d=new e.MercatorCoordinate(p[0],p[1]).toLngLat(),c=Math.min(l.lng,Math.min(u.lng,Math.min(f.lng,d.lng))),m=Math.min(l.lat,Math.min(u.lat,Math.min(f.lat,d.lat))),h=Math.max(l.lng,Math.max(u.lng,Math.max(f.lng,d.lng))),y=Math.max(l.lat,Math.max(u.lat,Math.max(f.lat,d.lat))),g=Math.min(a[3],Math.min(r[3],Math.min(_[3],p[3]))),v=Math.max(a[3],Math.max(r[3],Math.max(_[3],p[3])));return{minLngLat:new e.LngLat(c,m),maxLngLat:new e.LngLat(h,y),minAltitude:g,maxAltitude:v}}fitScreenCoordinates(t,o,n,i,s){let a,r,_,p;const l=e.pointGeometry.convert(t),u=e.pointGeometry.convert(o),f=this._raycastElevationBox(l,u);if(f)a=f.minLngLat,r=f.maxLngLat,_=f.minAltitude,p=f.maxAltitude;else{if(this.transform.isCornerOffEdge(l,u))return this;a=this.transform.pointLocation(l),r=this.transform.pointLocation(u)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(o)),n,i):this._cameraForBox(a,r,_,p,i),i,s)}_fitInternal(t,o,n){return t?(delete(o=e.extend(t,o)).padding,o.linear?this.easeTo(o,n):this.flyTo(o,n)):this}jumpTo(t,o){this.stop();const n=this.transform;let i=!1,s=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(s=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this.fire(new e.Event("movestart",o)).fire(new e.Event("move",o)),i&&this.fire(new e.Event("zoomstart",o)).fire(new e.Event("zoom",o)).fire(new e.Event("zoomend",o)),s&&this.fire(new e.Event("rotatestart",o)).fire(new e.Event("rotate",o)).fire(new e.Event("rotateend",o)),a&&this.fire(new e.Event("pitchstart",o)).fire(new e.Event("pitch",o)).fire(new e.Event("pitchend",o)),this.fire(new e.Event("moveend",o))}getFreeCameraOptions(){return this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,o){this.stop();const n=this.transform,i=n.zoom,s=n.pitch,a=n.bearing;n.setFreeCameraOptions(t);const r=i!==n.zoom,_=s!==n.pitch,p=a!==n.bearing;return this.fire(new e.Event("movestart",o)).fire(new e.Event("move",o)),r&&this.fire(new e.Event("zoomstart",o)).fire(new e.Event("zoom",o)).fire(new e.Event("zoomend",o)),p&&this.fire(new e.Event("rotatestart",o)).fire(new e.Event("rotate",o)).fire(new e.Event("rotateend",o)),_&&this.fire(new e.Event("pitchstart",o)).fire(new e.Event("pitch",o)).fire(new e.Event("pitchend",o)),this.fire(new e.Event("moveend",o)),this}easeTo(t,o){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const n=this.transform,i=this.getZoom(),s=this.getBearing(),a=this.getPitch(),r=this.getPadding(),_="zoom"in t?+t.zoom:i,p="bearing"in t?this._normalizeBearing(t.bearing,s):s,l="pitch"in t?+t.pitch:a,u="padding"in t?t.padding:n.padding,f=e.pointGeometry.convert(t.offset);let d=n.centerPoint.add(f);const c=n.pointLocation(d),m=e.LngLat.convert(t.center||c);this._normalizeCenter(m);const h=n.project(c),y=n.project(m).sub(h),g=n.zoomScale(_-i);let v,x;t.around&&(v=e.LngLat.convert(t.around),x=n.locationPoint(v));const C={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||_!==i,this._rotating=this._rotating||s!==p,this._pitching=this._pitching||l!==a,this._padding=!n.isPaddingEqual(u),this._easeId=t.easeId,this._prepareEase(o,t.noMoveStart,C),this._ease(t=>{if(this._zooming&&(n.zoom=e.number(i,_,t)),this._rotating&&(n.bearing=e.number(s,p,t)),this._pitching&&(n.pitch=e.number(a,l,t)),this._padding&&(n.interpolatePadding(r,u,t),d=n.centerPoint.add(f)),v)n.setLocationAtPoint(v,x);else{const e=n.zoomScale(n.zoom-i),o=_>i?Math.min(2,g):Math.max(.5,g),s=Math.pow(o,1-t),a=n.unproject(h.add(y.mult(t*s)).mult(e));n.setLocationAtPoint(n.renderWorldCopies?a.wrap():a,d)}this._fireMoveEvents(o)},e=>{n.recenterOnTerrain(),this._afterEase(o,e)},t),this}_prepareEase(t,o,n={}){this._moving=!0,this.transform.cameraElevationReference="sea",o||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,o){if(this._easeId&&o&&this._easeId===o)return;delete this._easeId,this.transform.cameraElevationReference="ground";const n=this._zooming,i=this._rotating,s=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),s&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,o){if(!t.essential&&e.exported.prefersReducedMotion){const n=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,o)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const n=this.transform,i=this.getZoom(),s=this.getBearing(),a=this.getPitch(),r=this.getPadding(),_="zoom"in t?e.clamp(+t.zoom,n.minZoom,n.maxZoom):i,p="bearing"in t?this._normalizeBearing(t.bearing,s):s,l="pitch"in t?+t.pitch:a,u="padding"in t?t.padding:n.padding,f=n.zoomScale(_-i),d=e.pointGeometry.convert(t.offset);let c=n.centerPoint.add(d);const m=n.pointLocation(c),h=e.LngLat.convert(t.center||m);this._normalizeCenter(h);const y=n.project(m),g=n.project(h).sub(y);let v=t.curve;const x=Math.max(n.width,n.height),C=x/f,b=g.mag();if("minZoom"in t){const o=e.clamp(Math.min(t.minZoom,i,_),n.minZoom,n.maxZoom),s=x/n.zoomScale(o-i);v=Math.sqrt(s/b*2)}const w=v*v;function T(e){const t=(C*C-x*x+(e?-1:1)*w*w*b*b)/(2*(e?C:x)*w*b);return Math.log(Math.sqrt(t*t+1)-t)}function k(e){return(Math.exp(e)-Math.exp(-e))/2}function M(e){return(Math.exp(e)+Math.exp(-e))/2}const S=T(0);let E=function(e){return M(S)/M(S+v*e)},A=function(e){return x*((M(S)*(k(t=S+v*e)/M(t))-k(S))/w)/b;var t},I=(T(1)-S)/v;if(Math.abs(b)<1e-6||!isFinite(I)){if(Math.abs(x-C)<1e-6)return this.easeTo(t,o);const e=C<x?-1:1;I=Math.abs(Math.log(C/x))/v,A=function(){return 0},E=function(t){return Math.exp(e*v*t)}}return t.duration="duration"in t?+t.duration:1e3*I/("screenSpeed"in t?+t.screenSpeed/v:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==p,this._pitching=l!==a,this._padding=!n.isPaddingEqual(u),this._prepareEase(o,!1),this._ease(t=>{const f=t*I,m=1/E(f);n.zoom=1===t?_:i+n.scaleZoom(m),this._rotating&&(n.bearing=e.number(s,p,t)),this._pitching&&(n.pitch=e.number(a,l,t)),this._padding&&(n.interpolatePadding(r,u,t),c=n.centerPoint.add(d));const v=1===t?h:n.unproject(y.add(g.mult(A(f))).mult(m));n.setLocationAtPoint(n.renderWorldCopies?v.wrap():v,c),n._updateCenterElevation(),this._fireMoveEvents(o)},()=>this._afterEase(o),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,o,n){!1===n.animate||0===n.duration?(t(1),o()):(this._easeStart=e.exported.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=o,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,o){t=e.wrap(t,-180,180);const n=Math.abs(t-o);return Math.abs(t-360-o)<n&&(t-=360),Math.abs(t+360-o)<n&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;const o=e.lng-t.center.lng;e.lng+=o>180?-360:o<-180?360:0}}class wi{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=s.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=s.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){s.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const o=this._map._getUIString("AttributionControl."+t);e.title=o,e.setAttribute("aria-label",o)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const o=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const n=o.reduce((e,t,n)=>(t.value&&(e+=`${t.key}=${t.value}${n<o.length-1?"&":""}`),e),"?");t.href=`${e.config.FEEDBACK_URL}/${n}${this._map._hash?this._map._hash.getHashString(!0):""}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(e=>"string"!=typeof e?"":e)):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const o in t){const n=t[o];if(n.used){const t=n.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort((e,t)=>e.length-t.length),e=e.filter((t,o)=>{for(let n=o+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0});const o=e.join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Ti{constructor(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)}onAdd(e){this._map=e,this._container=s.create("div","mapboxgl-ctrl");const t=s.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){s.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const o=e[t].getSource();if(o.hasOwnProperty("mapbox_logo")&&!o.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class ki{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,o=t?this._queue.concat(t):this._queue;for(const t of o)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const o of t)if(!o.cancelled&&(o.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Mi(t,o,n){if(t=new e.LngLat(t.lng,t.lat),o){const i=new e.LngLat(t.lng-360,t.lat),s=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-n.center.lng)/360),r=n.locationPoint(t).distSqr(o),_=o.x<0||o.y<0||o.x>n.width||o.y>n.height;n.locationPoint(i).distSqr(o)<r&&(_||Math.abs(i.lng-n.center.lng)<a)?t=i:n.locationPoint(s).distSqr(o)<r&&(_||Math.abs(s.lng-n.center.lng)<a)&&(t=s)}for(;Math.abs(t.lng-n.center.lng)>180;){const e=n.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=n.width&&e.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}const Si={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Ei extends e.Evented{constructor(t,o){if(super(),(t instanceof e.window.HTMLElement||o)&&(t=e.extend({element:t},o)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=s.create("div"),this._element.setAttribute("aria-label","Map marker");const o=s.createNS("http://www.w3.org/2000/svg","svg"),n=41,i=27;o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height",n+"px"),o.setAttributeNS(null,"width",i+"px"),o.setAttributeNS(null,"viewBox",`0 0 ${i} ${n}`);const a=s.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");const r=s.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"fill-rule","nonzero");const _=s.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(3.0, 29.0)"),_.setAttributeNS(null,"fill","#000000");const p=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of p){const t=s.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),_.appendChild(t)}const l=s.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"fill",this._color);const u=s.createNS("http://www.w3.org/2000/svg","path");u.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),l.appendChild(u);const f=s.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");const d=s.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(d);const c=s.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"transform","translate(6.0, 7.0)"),c.setAttributeNS(null,"fill","#FFFFFF");const m=s.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const h=s.createNS("http://www.w3.org/2000/svg","circle");h.setAttributeNS(null,"fill","#000000"),h.setAttributeNS(null,"opacity","0.25"),h.setAttributeNS(null,"cx","5.5"),h.setAttributeNS(null,"cy","5.5"),h.setAttributeNS(null,"r","5.4999962");const y=s.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),m.appendChild(h),m.appendChild(y),r.appendChild(_),r.appendChild(l),r.appendChild(f),r.appendChild(c),r.appendChild(m),o.appendChild(r),o.setAttributeNS(null,"height",n*this._scale+"px"),o.setAttributeNS(null,"width",i*this._scale+"px"),this._element.appendChild(o),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",e=>{e.preventDefault()}),this._element.addEventListener("mousedown",e=>{e.preventDefault()});const n=this._element.classList;for(const e in Si)n.remove("mapboxgl-marker-anchor-"+e);n.add("mapboxgl-marker-anchor-"+this._anchor),this._popup=null}addTo(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),s.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,o=13.5,n=Math.sqrt(Math.pow(o,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[n,-1*(t-o+n)],"bottom-right":[-n,-1*(t-o+n)],left:[o,-1*(t-o)],right:[-o,-1*(t-o)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(e){const t=e.code,o=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==o&&13!==o||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,o=this._element;this._popup&&(t===o||o.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}_evaluateOpacity(){const e=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(e))return void this._clearFadeTimer();const t=this._map.unproject(e);let o=!1;if(this._map.getTerrain()){const e=this._map.getFreeCameraOptions();if(e.position){const n=e.position.toLngLat();o=n.distanceTo(t)<.9*n.distanceTo(this._lngLat)}}const n=(1-this._map._queryFogOpacity(t))*(o?.2:1);this._element.style.opacity=""+n,this._popup&&this._popup._setOpacity(""+n),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(e){const t=this._map.transform;return!!e&&e.x>=0&&e.x<t.width&&e.y>=0&&e.y<t.height}_update(e){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Mi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());let t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(t=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let o="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?o="rotateX(0deg)":"map"===this._pitchAlignment&&(o=`rotateX(${this._map.getPitch()}deg)`),e&&"moveend"!==e.type||(this._pos=this._pos.round()),this._map._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&s.setTransform(this._element,`${Si[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${o} ${t}`),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})}_transformedOffset(){if(!this._defaultMarker)return this._offset;const e=this._map.transform,t=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&t._rotate(e.angle),"map"===this._pitchAlignment&&(t.y*=Math.cos(e._pitch)),t}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){if(!this._isDragging){const e=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=e}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class Ai{constructor(e){this.jumpTo(e)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const o=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-o)+this._end*o}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}easeTo(e,t,o){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+o}}const Ii={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},{HTMLImageElement:zi,HTMLElement:Pi,ImageBitmap:Di}=e.window,Li={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Bi(e){e.parentNode&&e.parentNode.removeChild(e)}const Ri={showCompass:!0,showZoom:!0,visualizePitch:!1};class Fi{constructor(t,o,n=!1){this._clickTolerance=10,this.element=o,this.mouseRotate=new $n({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,n&&(this.mousePitch=new Xn({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),s.addEventListener(o,"mousedown",this.mousedown),s.addEventListener(o,"touchstart",this.touchstart,{passive:!1}),s.addEventListener(o,"touchmove",this.touchmove),s.addEventListener(o,"touchend",this.touchend),s.addEventListener(o,"touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),s.disableDrag()}move(e,t){const o=this.map,n=this.mouseRotate.mousemoveWindow(e,t);if(n&&n.bearingDelta&&o.setBearing(o.getBearing()+n.bearingDelta),this.mousePitch){const n=this.mousePitch.mousemoveWindow(e,t);n&&n.pitchDelta&&o.setPitch(o.getPitch()+n.pitchDelta)}}off(){const e=this.element;s.removeEventListener(e,"mousedown",this.mousedown),s.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),s.removeEventListener(e,"touchmove",this.touchmove),s.removeEventListener(e,"touchend",this.touchend),s.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){s.enableDrag(),s.removeEventListener(e.window,"mousemove",this.mousemove),s.removeEventListener(e.window,"mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),s.mousePos(this.element,t)),s.addEventListener(e.window,"mousemove",this.mousemove),s.addEventListener(e.window,"mouseup",this.mouseup)}mousemove(e){this.move(e,s.mousePos(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=s.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=s.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Oi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let Ni,Vi=0,Ui=!1;const Gi={maxWidth:100,unit:"metric"};function Wi(e,t,o){const n=o&&o.maxWidth||100,i=e._container.getBoundingClientRect().height/2,s=e.unproject([0,i]),a=e.unproject([n,i]),r=s.distanceTo(a);if(o&&"imperial"===o.unit){const o=3.2808*r;o>5280?Zi(t,n,o/5280,e._getUIString("ScaleControl.Miles"),e):Zi(t,n,o,e._getUIString("ScaleControl.Feet"),e)}else o&&"nautical"===o.unit?Zi(t,n,r/1852,e._getUIString("ScaleControl.NauticalMiles"),e):r>=1e3?Zi(t,n,r/1e3,e._getUIString("ScaleControl.Kilometers"),e):Zi(t,n,r,e._getUIString("ScaleControl.Meters"),e)}function Zi(e,t,o,n,i){const s=function(e){const t=Math.pow(10,(""+Math.floor(e)).length-1);let o=e/t;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:o>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(o),t*o}(o),a=s/o;i._requestDomTask(()=>{e.style.width=t*a+"px",e.innerHTML=`${s}&nbsp;${n}`})}const ji={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},qi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Ki={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends bi{constructor(t){if(null!=(t=e.extend({},Li,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new kn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._renderTaskQueue=new ki,this._domRenderTaskQueue=new ki,this._controls=[],this._markers=[],this._mapId=e.uniqueId(),this._locale=e.extend({},Ii,t.locale),this._clickTolerance=t.clickTolerance,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new Ai(0),this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof Pi))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new Ci(this,t),this._hash=t.hash&&new Sn("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.attributionControl&&this.addControl(new wi({customAttribution:t.customAttribution})),this._logoControl=new Ti,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",t=>{this._update("style"===t.dataType),this.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",t=>{this.fire(new e.Event(t.dataType+"dataloading",t))})}_getMapId(){return this._mapId}addControl(t,o){if(void 0===o&&(o=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=t.onAdd(this);this._controls.push(t);const i=this._controlPositions[o];return-1!==o.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const o=this._controls.indexOf(t);return o>-1&&this._controls.splice(o,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){const o=this._containerDimensions(),n=o[0],i=o[1];this._resizeCanvas(n,i),this.transform.resize(n,i),this.painter.resize(Math.ceil(n),Math.ceil(i));const s=!this._moving;return s&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),s&&this.fire(new e.Event("moveend",t)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?85:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(e,t,o){if("mouseenter"===e||"mouseover"===e){let n=!1;const i=i=>{const s=this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[];s.length?n||(n=!0,o.call(this,new Rn(e,this,i.originalEvent,{features:s}))):n=!1};return{layer:t,listener:o,delegates:{mousemove:i,mouseout:()=>{n=!1}}}}if("mouseleave"===e||"mouseout"===e){let n=!1;const i=i=>{(this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[]).length?n=!0:n&&(n=!1,o.call(this,new Rn(e,this,i.originalEvent)))},s=t=>{n&&(n=!1,o.call(this,new Rn(e,this,t.originalEvent)))};return{layer:t,listener:o,delegates:{mousemove:i,mouseout:s}}}{const n=e=>{const n=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,o.call(this,e),delete e.features)};return{layer:t,listener:o,delegates:{[e]:n}}}}on(e,t,o){if(void 0===o)return super.on(e,t);const n=this._createDelegatedListener(e,t,o);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(n);for(const e in n.delegates)this.on(e,n.delegates[e]);return this}once(e,t,o){if(void 0===o)return super.once(e,t);const n=this._createDelegatedListener(e,t,o);for(const e in n.delegates)this.once(e,n.delegates[e]);return this}off(e,t,o){return void 0===o?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(n=>{const i=this._delegatedListeners[e];for(let e=0;e<i.length;e++){const n=i[e];if(n.layer===t&&n.listener===o){for(const e in n.delegates)this.off(e,n.delegates[e]);return i.splice(e,1),this}}})(),this)}queryRenderedFeatures(t,o){return this.style?(void 0!==o||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(o=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],o=o||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}queryTerrainElevation(t,o){const n=this.transform.elevation;return n?(o=e.extend({},{exaggerated:!0},o),n.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,o.exaggerated)):null}setStyle(t,o){return!1!==(o=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},o)).diff&&o.localIdeographFontFamily===this._localIdeographFontFamily&&o.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,o),this):(this._localIdeographFontFamily=o.localIdeographFontFamily,this._localFontFamily=o.localFontFamily,this._updateStyle(t,o))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),e&&(this.style=new Wt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Wt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,o){if("string"==typeof t){const n=this._requestManager.normalizeStyleURL(t),i=this._requestManager.transformRequest(n,e.ResourceType.Style);e.getJSON(i,(t,n)=>{t?this.fire(new e.ErrorEvent(t)):n&&this._updateDiff(n,o)})}else"object"==typeof t&&this._updateDiff(t,o)}_updateDiff(t,o){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(t,o)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(t){const o=this.style&&this.style._getSourceCaches(t);if(0!==o.length)return o.every(e=>e.loaded());this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`)))}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const o=e[t]._tiles;for(const e in o){const t=o[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,o){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,o)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,o,{pixelRatio:n=1,sdf:i=!1,stretchX:s,stretchY:a,content:r}={}){if(this._lazyInitEmptyStyle(),o instanceof zi||Di&&o instanceof Di){const{width:_,height:p,data:l}=e.exported.getImageData(o);this.style.addImage(t,{data:new e.RGBAImage({width:_,height:p},l),pixelRatio:n,stretchX:s,stretchY:a,content:r,sdf:i,version:0})}else{if(void 0===o.width||void 0===o.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:_,height:p,data:l}=o,u=o;this.style.addImage(t,{data:new e.RGBAImage({width:_,height:p},new Uint8Array(l)),pixelRatio:n,stretchX:s,stretchY:a,content:r,sdf:i,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}}}updateImage(t,o){const n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const i=o instanceof zi||Di&&o instanceof Di?e.exported.getImageData(o):o,{width:s,height:a,data:r}=i;return void 0===s||void 0===a?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):s!==n.data.width||a!==n.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(r,!(o instanceof zi||Di&&o instanceof Di)),void this.style.updateImage(t,n))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,o){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(t,n)=>{o(t,n instanceof zi?e.exported.getImageData(n):n)})}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,o){return this.style.setLayerZoomRange(e,t,o),this._update(!0)}setFilter(e,t,o={}){return this.style.setFilter(e,t,o),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,o,n={}){return this.style.setPaintProperty(e,t,o,n),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,o,n={}){return this.style.setLayoutProperty(e,t,o,n),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.getBoundingClientRect().width||400,t=this._container.getBoundingClientRect().height||300),[e,t]}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=s.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=s.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=s.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const o=this._containerDimensions();this._resizeCanvas(o[0],o[1]);const n=this._controlContainer=s.create("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e=>{i[e]=s.create("div","mapboxgl-ctrl-"+e,n)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,o){const n=e.exported.devicePixelRatio||1;this._canvas.width=n*Math.ceil(t),this._canvas.height=n*Math.ceil(o),this._canvas.style.width=t+"px",this._canvas.style.height=o+"px"}_addMarker(e){this._markers.push(e)}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}_setupPainter(){const o=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",o)||this._canvas.getContext("experimental-webgl",o);n?(e.storeAuthState(n,!0),this.painter=new mn(n,this.transform),this.on("data",e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)}),e.exported$1.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_requestDomTask(e){!this.isMoving()&&this.loaded()?e():this._domRenderTaskQueue.add(e)}_render(t){let o;const n=this.painter.context.extTimerQuery,i=e.exported.now();this.listens("gpu-timing-frame")&&(o=n.createQueryEXT(),n.beginQueryEXT(n.TIME_ELAPSED_EXT,o));let s=this._updateAverageElevation(i);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;let a=!1;const r=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,o=e.exported.now();this.style.zoomHistory.update(t,o);const n=new e.EvaluationParameters(t,{now:o,fadeDuration:r,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=n.crossFadingFactor();1===i&&i===this._crossFadingFactor||(a=!0,this._crossFadingFactor=i),this.style.update(n)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform),this._forceMarkerUpdate()),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,r,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:r,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const t=e.exported.now()-i;n.endQueryEXT(n.TIME_ELAPSED_EXT,o),setTimeout(()=>{const i=n.getQueryObjectEXT(o,n.QUERY_RESULT_EXT)/1e6;n.deleteQueryEXT(o),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:i}))},50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout(()=>{const o=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:o}))},50)}const _=this._sourcesDirty||this._styleDirty||this._placementDirty||s;if(_||this._repaint)this.triggerRepaint();else{const t=!this.isMoving()&&this.loaded();if(t&&(s=this._updateAverageElevation(i,!0)),s)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||_||(this._fullyLoaded=!0,this._authenticate()),this}_forceMarkerUpdate(){for(const e of this._markers)e._update()}_updateAverageElevation(e,t=!1){const o=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&o(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let n=this.transform.sampleAverageElevation();isNaN(n)?n=0:this._averageElevationLastSampledAt=e;const i=Math.abs(t-n);if(i>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(n),o(n);this._averageElevation.easeTo(n,e,300)}else if(i>1e-4)return this._averageElevation.jumpTo(n),o(n)}return!!this._averageElevation.isEasing(e)&&o(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Ti&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const o=this.painter.context.gl,n=o.createFramebuffer();function i(e){o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e,0);const t=new Uint8Array(o.drawingBufferWidth*o.drawingBufferHeight*4);return o.readPixels(0,0,o.drawingBufferWidth,o.drawingBufferHeight,o.RGBA,o.UNSIGNED_BYTE,t),t}return o.bindFramebuffer(o.FRAMEBUFFER,n),this._canvasPixelComparison(i(e),t.canvasCopies.map(i),t.timeStamps)}_canvasPixelComparison(e,t,o){let n=o[1]-o[0];const i=e.length/4;for(let s=0;s<t.length;s++){const a=t[s];let r=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(r+=1);n+=(o[s+2]-o[s+1])*(1-r/i)}return n}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),Bi(this._canvasContainer),Bi(this._controlContainer),Bi(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame(e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)}))}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}_setCacheLimits(t,o){e.setCacheLimits(t,o)}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},Ri,t),this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",e=>this._map.zoomIn({},{originalEvent:e})),s.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",e=>this._map.zoomOut({},{originalEvent:e})),s.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})}),this._compassIcon=s.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),o=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",o.toString())}_rotateCompassArrow(){const e=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=e)})}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fi(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){s.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const o=s.create("button",e,this._container);return o.type="button",o.addEventListener("click",t),o}_setButtonTitle(e,t){const o=this._map._getUIString("NavigationControl."+t);e.title=o,e.setAttribute("aria-label",o)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({},Oi,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],this),this._onDeviceOrientationListener=this._onDeviceOrientation.bind(this),this._updateMarkerRotationThrottled=Mn(this._updateMarkerRotation,20)}onAdd(t){var o;return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),o=this._setupUI,void 0!==Ni?o(Ni):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(e=>{Ni="denied"!==e.state,o(Ni)}):(Ni=!!e.window.navigator.geolocation,o(Ni)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),s.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Vi=0,Ui=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),o=e.coords;return t&&(o.longitude<t.getWest()||o.longitude>t.getEast()||o.latitude<t.getSouth()||o.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const o=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,i=this._map.getBearing(),s=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(o.toBounds(n),s,{geolocateSource:!0})}_updateMarker(t){if(t){const o=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(o).addTo(this._map),this._userLocationDotMarker.setLngLat(o).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const e=this._map._container.getBoundingClientRect().height/2,t=this._map.unproject([0,e]),o=this._map.unproject([100,e]),n=t.distanceTo(o)/100,i=Math.ceil(2*this._accuracy/n);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Ui)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=s.create("button","mapboxgl-ctrl-geolocate",this._container),s.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=s.create("div","mapboxgl-user-location"),this._dotElement.appendChild(s.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(s.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Ei({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=s.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ei({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))})}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Vi--,Ui=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Vi++,Vi>1?(t={maximumAge:6e5,timeout:0},Ui=!0):(t=this.options.positionOptions,Ui=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientationListener)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(e=>{"granted"===e&&t()}).catch(console.error):t()}_clearWatch(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:wi,ScaleControl:class{constructor(t){this.options=e.extend({},Gi,t),e.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Wi(this._map,this._container,this.options)}onAdd(e){return this._map=e,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(e){this.options.unit=e,Wi(this._map,this._container,this.options)}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){s.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=s.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);s.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(ji),t),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[])}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("preclick",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&s.remove(this._content),this._container&&(s.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const o=e.window.document.createDocumentFragment(),n=e.window.document.createElement("body");let i;for(n.innerHTML=t;i=n.firstChild,i;)o.appendChild(i);return this.setDOMContent(o)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=s.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._container&&this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._container&&this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._container&&this._updateClassList(),t}_createCloseButton(){this.options.closeButton&&(this._closeButton=s.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(e){this._update(e.point)}_onMouseMove(e){this._update(e.point)}_onDrag(e){this._update(e.point)}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._pos,o=this._container.offsetWidth,n=this._container.offsetHeight;let i;return i=t.y+e.bottom.y<n?["top"]:t.y>this._map.transform.height-n?["bottom"]:[],t.x<o/2?i.push("left"):t.x>this._map.transform.width-o/2&&i.push("right"),0===i.length?"bottom":i.join("-")}_updateClassList(){const e=[...this._classList];e.push("mapboxgl-popup"),this._anchor&&e.push("mapboxgl-popup-anchor-"+this._anchor),this._trackPointer&&e.push("mapboxgl-popup-track-pointer"),this._container.className=e.join(" ")}_update(t){if(this._map&&(this._lngLat||this._trackPointer)&&this._content){if(this._container||(this._container=s.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=s.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Mi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t){const o=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),n=function(t){if(t||(t=new e.pointGeometry(0,0)),"number"==typeof t){const o=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new e.pointGeometry(0,0),top:new e.pointGeometry(0,t),"top-left":new e.pointGeometry(o,o),"top-right":new e.pointGeometry(-o,o),bottom:new e.pointGeometry(0,-t),"bottom-left":new e.pointGeometry(o,-o),"bottom-right":new e.pointGeometry(-o,-o),left:new e.pointGeometry(t,0),right:new e.pointGeometry(-t,0)}}if(t instanceof e.pointGeometry||Array.isArray(t)){const o=e.pointGeometry.convert(t);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:e.pointGeometry.convert(t.center||[0,0]),top:e.pointGeometry.convert(t.top||[0,0]),"top-left":e.pointGeometry.convert(t["top-left"]||[0,0]),"top-right":e.pointGeometry.convert(t["top-right"]||[0,0]),bottom:e.pointGeometry.convert(t.bottom||[0,0]),"bottom-left":e.pointGeometry.convert(t["bottom-left"]||[0,0]),"bottom-right":e.pointGeometry.convert(t["bottom-right"]||[0,0]),left:e.pointGeometry.convert(t.left||[0,0]),right:e.pointGeometry.convert(t.right||[0,0])}}(this.options.offset),i=this._anchor=this._getAnchor(n),a=o.add(n[i]).round();this._map._requestDomTask(()=>{this._container&&i&&s.setTransform(this._container,`${Si[i]} translate(${a.x}px,${a.y}px)`)})}this._updateClassList()}}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(qi);e&&e.focus()}_onClose(){this.remove()}_setOpacity(e){this._content&&(this._content.style.opacity=e),this._tip&&(this._tip.style.opacity=e)}},Marker:Ei,Style:Wt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:wn,Evented:e.Evented,config:e.config,prewarm:function(){Be().acquire(Pe)},clearPrewarmedResources:function(){const e=Le;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Pe),Le=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return De.workerCount},set workerCount(e){De.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return Ki})),n}()}).call(this,o(13))},function(e){e.exports=JSON.parse('{"container":"map","accessToken":"pk.eyJ1Ijoicmdhc3RvbiIsImEiOiJJYTdoRWNJIn0.MN6DrT07IEKXadCU8xpUMg","style":{"version":8,"sprite":"mapbox://sprites/rgaston/cktw7b5z30i0617mjbgxfp47v/ck2u8j60r58fu0sgyxrigm3cu","glyphs":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf","layers":[{"id":"background","type":"background","layout":{},"paint":{"background-color":"#f7f7f7"}},{"layout":{},"filter":["all",["match",["get","type"],["state"],true,false],["!=",["get","state_name"],"Puerto Rico"]],"type":"line","source":"state_fips","id":"state-boundaries","paint":{"line-color":"hsl(0, 0%, 34%)"},"source-layer":"albersusa"},{"layout":{},"filter":["match",["get","type"],["state"],true,false],"type":"circle","source":"state_fips","id":"state-rings","paint":{"circle-color":"transparent","circle-stroke-color":["case",[">",["feature-state","dem"],["feature-state","gop"]],"blue","red"],"circle-radius":["interpolate",["exponential",2],["zoom"],0,0,20,["*",["*",["/",["case",[">",["feature-state","dem"],["feature-state","gop"]],["feature-state","gop"],["feature-state","dem"]],["+",["feature-state","dem"],["feature-state","gop"]]],["feature-state","electors"]],90000]],"circle-stroke-width":["interpolate",["exponential",2],["zoom"],0,0,20,["*",["*",["/",["case",[">",["feature-state","dem"],["feature-state","gop"]],["-",["feature-state","dem"],["feature-state","gop"]],["-",["feature-state","gop"],["feature-state","dem"]]],["+",["feature-state","dem"],["feature-state","gop"]]],["feature-state","electors"]],90000]]},"source-layer":"albersusa-points"}],"sources":{"state_fips":{"url":"mapbox://mbxsolutions.albersusa,mbxsolutions.albersusa-points","type":"vector","promoteId":"state_fips"}}},"maxZoom":10,"bounds":[[-25.959,-17.042],[23.284,14.293]],"maxBounds":[[-28,-45],[26,45]]}')},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o=e[1]||"",n=e[3];if(!n)return o;if(t&&"function"==typeof btoa){var i=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[o].concat(s).concat([i]).join("\n")}var a;return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o})).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(n[s]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),t.push(a))}},t}},function(e,t,o){var n,i,s={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),r=function(e){return document.querySelector(e)},_=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var o=r.call(this,e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),p=null,l=0,u=[],f=o(10);function d(e,t){for(var o=0;o<e.length;o++){var n=e[o],i=s[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(v(n.parts[a],t))}else{var r=[];for(a=0;a<n.parts.length;a++)r.push(v(n.parts[a],t));s[n.id]={id:n.id,refs:1,parts:r}}}}function c(e,t){for(var o=[],n={},i=0;i<e.length;i++){var s=e[i],a=t.base?s[0]+t.base:s[0],r={css:s[1],media:s[2],sourceMap:s[3]};n[a]?n[a].parts.push(r):o.push(n[a]={id:a,parts:[r]})}return o}function m(e,t){var o=_(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),u.push(t);else if("bottom"===e.insertAt)o.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=_(e.insertInto+" "+e.insertAt.before);o.insertBefore(t,i)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function y(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),g(t,e.attrs),m(e,t),t}function g(e,t){Object.keys(t).forEach((function(o){e.setAttribute(o,t[o])}))}function v(e,t){var o,n,i,s;if(t.transform&&e.css){if(!(s=t.transform(e.css)))return function(){};e.css=s}if(t.singleton){var a=l++;o=p||(p=y(t)),n=b.bind(null,o,a,!1),i=b.bind(null,o,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),m(e,t),t}(t),n=T.bind(null,o,t),i=function(){h(o),o.href&&URL.revokeObjectURL(o.href)}):(o=y(t),n=w.bind(null,o),i=function(){h(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var o=c(e,t);return d(o,t),function(e){for(var n=[],i=0;i<o.length;i++){var a=o[i];(r=s[a.id]).refs--,n.push(r)}e&&d(c(e,t),t);for(i=0;i<n.length;i++){var r;if(0===(r=n[i]).refs){for(var _=0;_<r.parts.length;_++)r.parts[_]();delete s[r.id]}}}};var x,C=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function b(e,t,o,n){var i=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=C(t,i);else{var s=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function w(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function T(e,t,o){var n=o.css,i=o.sourceMap,s=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||s)&&(n=f(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(a),r&&URL.revokeObjectURL(r)}},function(e,t){e.exports=[{stname:"Alabama",st:1,stusps:"AL"},{stname:"Alaska",st:2,stusps:"AK"},{stname:"Arizona",st:4,stusps:"AZ"},{stname:"Arkansas",st:5,stusps:"AR"},{stname:"California",st:6,stusps:"CA"},{stname:"Colorado",st:8,stusps:"CO"},{stname:"Connecticut",st:9,stusps:"CT"},{stname:"Delaware",st:10,stusps:"DE"},{stname:"District of Columbia",st:11,stusps:"DC"},{stname:"Florida",st:12,stusps:"FL"},{stname:"Georgia",st:13,stusps:"GA"},{stname:"Hawaii",st:15,stusps:"HI"},{stname:"Idaho",st:16,stusps:"ID"},{stname:"Illinois",st:17,stusps:"IL"},{stname:"Indiana",st:18,stusps:"IN"},{stname:"Iowa",st:19,stusps:"IA"},{stname:"Kansas",st:20,stusps:"KS"},{stname:"Kentucky",st:21,stusps:"KY"},{stname:"Louisiana",st:22,stusps:"LA"},{stname:"Maine",st:23,stusps:"ME"},{stname:"Maryland",st:24,stusps:"MD"},{stname:"Massachusetts",st:25,stusps:"MA"},{stname:"Michigan",st:26,stusps:"MI"},{stname:"Minnesota",st:27,stusps:"MN"},{stname:"Mississippi",st:28,stusps:"MS"},{stname:"Missouri",st:29,stusps:"MO"},{stname:"Montana",st:30,stusps:"MT"},{stname:"Nebraska",st:31,stusps:"NE"},{stname:"Nevada",st:32,stusps:"NV"},{stname:"New Hampshire",st:33,stusps:"NH"},{stname:"New Jersey",st:34,stusps:"NJ"},{stname:"New Mexico",st:35,stusps:"NM"},{stname:"New York",st:36,stusps:"NY"},{stname:"North Carolina",st:37,stusps:"NC"},{stname:"North Dakota",st:38,stusps:"ND"},{stname:"Ohio",st:39,stusps:"OH"},{stname:"Oklahoma",st:40,stusps:"OK"},{stname:"Oregon",st:41,stusps:"OR"},{stname:"Pennsylvania",st:42,stusps:"PA"},{stname:"Rhode Island",st:44,stusps:"RI"},{stname:"South Carolina",st:45,stusps:"SC"},{stname:"South Dakota",st:46,stusps:"SD"},{stname:"Tennessee",st:47,stusps:"TN"},{stname:"Texas",st:48,stusps:"TX"},{stname:"Utah",st:49,stusps:"UT"},{stname:"Vermont",st:50,stusps:"VT"},{stname:"Virginia",st:51,stusps:"VA"},{stname:"Washington",st:53,stusps:"WA"},{stname:"West Virginia",st:54,stusps:"WV"},{stname:"Wisconsin",st:55,stusps:"WI"},{stname:"Wyoming",st:56,stusps:"WY"}]},function(e,t){e.exports=[{state_name:"Alabama",county_fips:1001,county_name:"Autauga County",votes_gop:19838,votes_dem:7503,total_votes:27770,diff:12335,per_gop:.714368023046453,per_dem:.27018365142239825,per_point_diff:.4441843716240547},{state_name:"Alabama",county_fips:1003,county_name:"Baldwin County",votes_gop:83544,votes_dem:24578,total_votes:109679,diff:58966,per_gop:.7617137282433283,per_dem:.22409029987509005,per_point_diff:.5376234283682382},{state_name:"Alabama",county_fips:1005,county_name:"Barbour County",votes_gop:5622,votes_dem:4816,total_votes:10518,diff:806,per_gop:.5345122646891044,per_dem:.45788172656398557,per_point_diff:.07663053812511883},{state_name:"Alabama",county_fips:1007,county_name:"Bibb County",votes_gop:7525,votes_dem:1986,total_votes:9595,diff:5539,per_gop:.7842626367899947,per_dem:.20698280354351226,per_point_diff:.5772798332464825},{state_name:"Alabama",county_fips:1009,county_name:"Blount County",votes_gop:24711,votes_dem:2640,total_votes:27588,diff:22071,per_gop:.8957155284906481,per_dem:.09569377990430622,per_point_diff:.8000217485863419},{state_name:"Alabama",county_fips:1011,county_name:"Bullock County",votes_gop:1146,votes_dem:3446,total_votes:4613,diff:-2300,per_gop:.24842835464990246,per_dem:.7470192933015392,per_point_diff:-.49859093865163673},{state_name:"Alabama",county_fips:1013,county_name:"Butler County",votes_gop:5458,votes_dem:3965,total_votes:9488,diff:1493,per_gop:.5752529510961214,per_dem:.4178962900505902,per_point_diff:.1573566610455312},{state_name:"Alabama",county_fips:1015,county_name:"Calhoun County",votes_gop:35101,votes_dem:15216,total_votes:50983,diff:19885,per_gop:.6884843967597042,per_dem:.29845242531824334,per_point_diff:.39003197144146085},{state_name:"Alabama",county_fips:1017,county_name:"Chambers County",votes_gop:8753,votes_dem:6365,total_votes:15284,diff:2388,per_gop:.5726903951845067,per_dem:.41644857367181365,per_point_diff:.15624182151269306},{state_name:"Alabama",county_fips:1019,county_name:"Cherokee County",votes_gop:10583,votes_dem:1624,total_votes:12301,diff:8959,per_gop:.8603365580034144,per_dem:.13202178684659785,per_point_diff:.7283147711568165},{state_name:"Alabama",county_fips:1021,county_name:"Chilton County",votes_gop:16085,votes_dem:3073,total_votes:19310,diff:13012,per_gop:.8329880890730191,per_dem:.1591403417918177,per_point_diff:.6738477472812014},{state_name:"Alabama",county_fips:1023,county_name:"Choctaw County",votes_gop:4296,votes_dem:3127,total_votes:7464,diff:1169,per_gop:.5755627009646302,per_dem:.41894426580921756,per_point_diff:.15661843515541268},{state_name:"Alabama",county_fips:1025,county_name:"Clarke County",votes_gop:7324,votes_dem:5755,total_votes:13135,diff:1569,per_gop:.5575942139322421,per_dem:.4381423677198325,per_point_diff:.11945184621240956},{state_name:"Alabama",county_fips:1027,county_name:"Clay County",votes_gop:5601,votes_dem:1267,total_votes:6930,diff:4334,per_gop:.8082251082251082,per_dem:.18282828282828284,per_point_diff:.6253968253968254},{state_name:"Alabama",county_fips:1029,county_name:"Cleburne County",votes_gop:6484,votes_dem:675,total_votes:7227,diff:5809,per_gop:.8971910889719109,per_dem:.09339975093399751,per_point_diff:.8037913380379134},{state_name:"Alabama",county_fips:1031,county_name:"Coffee County",votes_gop:16899,votes_dem:5076,total_votes:22275,diff:11823,per_gop:.7586531986531987,per_dem:.22787878787878788,per_point_diff:.5307744107744108},{state_name:"Alabama",county_fips:1033,county_name:"Colbert County",votes_gop:19203,votes_dem:8343,total_votes:27886,diff:10860,per_gop:.688625116545937,per_dem:.2991823854263788,per_point_diff:.38944273111955824},{state_name:"Alabama",county_fips:1035,county_name:"Conecuh County",votes_gop:3442,votes_dem:2966,total_votes:6441,diff:476,per_gop:.5343890700201832,per_dem:.46048750194069243,per_point_diff:.07390156807949078},{state_name:"Alabama",county_fips:1037,county_name:"Coosa County",votes_gop:3631,votes_dem:1796,total_votes:5479,diff:1835,per_gop:.6627121737543348,per_dem:.3277970432560686,per_point_diff:.33491513049826616},{state_name:"Alabama",county_fips:1039,county_name:"Covington County",votes_gop:14586,votes_dem:2721,total_votes:17430,diff:11865,per_gop:.8368330464716007,per_dem:.15611015490533564,per_point_diff:.6807228915662651},{state_name:"Alabama",county_fips:1041,county_name:"Crenshaw County",votes_gop:4864,votes_dem:1700,total_votes:6617,diff:3164,per_gop:.7350763185733716,per_dem:.2569140093698051,per_point_diff:.47816230920356656},{state_name:"Alabama",county_fips:1043,county_name:"Cullman County",votes_gop:36880,votes_dem:4478,total_votes:41851,diff:32402,per_gop:.8812214761893383,per_dem:.10699863802537574,per_point_diff:.7742228381639626},{state_name:"Alabama",county_fips:1045,county_name:"Dale County",votes_gop:14303,votes_dem:5170,total_votes:19738,diff:9133,per_gop:.724642820954504,per_dem:.2619313000303982,per_point_diff:.46271152092410583},{state_name:"Alabama",county_fips:1047,county_name:"Dallas County",votes_gop:5524,votes_dem:12230,total_votes:17864,diff:-6706,per_gop:.30922525750111957,per_dem:.6846171070309002,per_point_diff:-.3753918495297806},{state_name:"Alabama",county_fips:1049,county_name:"DeKalb County",votes_gop:24767,votes_dem:4281,total_votes:29356,diff:20486,per_gop:.8436776127537812,per_dem:.14583049461779535,per_point_diff:.6978471181359858},{state_name:"Alabama",county_fips:1051,county_name:"Elmore County",votes_gop:30164,votes_dem:10367,total_votes:41030,diff:19797,per_gop:.7351693882524982,per_dem:.2526687789422374,per_point_diff:.48250060931026084},{state_name:"Alabama",county_fips:1053,county_name:"Escambia County",votes_gop:10869,votes_dem:4918,total_votes:15910,diff:5951,per_gop:.6831552482715273,per_dem:.3091137649277184,per_point_diff:.3740414833438089},{state_name:"Alabama",county_fips:1055,county_name:"Etowah County",votes_gop:35528,votes_dem:11567,total_votes:47728,diff:23961,per_gop:.7443848474689909,per_dem:.2423524974857526,per_point_diff:.5020323499832383},{state_name:"Alabama",county_fips:1057,county_name:"Fayette County",votes_gop:7300,votes_dem:1395,total_votes:8766,diff:5905,per_gop:.8327629477526808,per_dem:.1591375770020534,per_point_diff:.6736253707506275},{state_name:"Alabama",county_fips:1059,county_name:"Franklin County",votes_gop:10376,votes_dem:2086,total_votes:12578,diff:8290,per_gop:.8249324216886628,per_dem:.16584512641119414,per_point_diff:.6590872952774687},{state_name:"Alabama",county_fips:1061,county_name:"Geneva County",votes_gop:10848,votes_dem:1595,total_votes:12545,diff:9253,per_gop:.8647269828616979,per_dem:.12714228776404943,per_point_diff:.7375846950976485},{state_name:"Alabama",county_fips:1063,county_name:"Greene County",votes_gop:875,votes_dem:3884,total_votes:4775,diff:-3009,per_gop:.18324607329842932,per_dem:.8134031413612566,per_point_diff:-.6301570680628272},{state_name:"Alabama",county_fips:1065,county_name:"Hale County",votes_gop:3190,votes_dem:4687,total_votes:7922,diff:-1497,per_gop:.40267609189598585,per_dem:.5916435243625348,per_point_diff:-.1889674324665489},{state_name:"Alabama",county_fips:1067,county_name:"Henry County",votes_gop:6607,votes_dem:2606,total_votes:9298,diff:4001,per_gop:.7105829210582921,per_dem:.2802753280275328,per_point_diff:.43030759303075933},{state_name:"Alabama",county_fips:1069,county_name:"Houston County",votes_gop:32618,votes_dem:12917,total_votes:46173,diff:19701,per_gop:.7064301648149351,per_dem:.27975223615532885,per_point_diff:.4266779286596063},{state_name:"Alabama",county_fips:1071,county_name:"Jackson County",votes_gop:19670,votes_dem:3717,total_votes:23636,diff:15953,per_gop:.8322051108478592,per_dem:.15726011169402607,per_point_diff:.6749449991538331},{state_name:"Alabama",county_fips:1073,county_name:"Jefferson County",votes_gop:138843,votes_dem:181688,total_votes:325848,diff:-42845,per_gop:.426097444207115,per_dem:.5575851317178562,per_point_diff:-.1314876875107412},{state_name:"Alabama",county_fips:1075,county_name:"Lamar County",votes_gop:6174,votes_dem:978,total_votes:7193,diff:5196,per_gop:.858334491867093,per_dem:.13596552203531212,per_point_diff:.7223689698317809},{state_name:"Alabama",county_fips:1077,county_name:"Lauderdale County",votes_gop:31721,votes_dem:11915,total_votes:44339,diff:19806,per_gop:.7154198335551095,per_dem:.26872505018155574,per_point_diff:.4466947833735538},{state_name:"Alabama",county_fips:1079,county_name:"Lawrence County",votes_gop:12322,votes_dem:3562,total_votes:16031,diff:8760,per_gop:.7686357681991142,per_dem:.22219449815981535,per_point_diff:.5464412700392989},{state_name:"Alabama",county_fips:1081,county_name:"Lee County",votes_gop:42221,votes_dem:27860,total_votes:71449,diff:14361,per_gop:.590924995451301,per_dem:.38992848045459,per_point_diff:.20099651499671095},{state_name:"Alabama",county_fips:1083,county_name:"Limestone County",votes_gop:34640,votes_dem:13672,total_votes:49235,diff:20968,per_gop:.7035645374225652,per_dem:.27768863613283234,per_point_diff:.42587590128973285},{state_name:"Alabama",county_fips:1085,county_name:"Lowndes County",votes_gop:1836,votes_dem:4972,total_votes:6835,diff:-3136,per_gop:.2686174103877103,per_dem:.7274323335771763,per_point_diff:-.458814923189466},{state_name:"Alabama",county_fips:1087,county_name:"Macon County",votes_gop:1541,votes_dem:7108,total_votes:8723,diff:-5567,per_gop:.1766594061676029,per_dem:.8148572738736674,per_point_diff:-.6381978677060645},{state_name:"Alabama",county_fips:1089,county_name:"Madison County",votes_gop:102780,votes_dem:87286,total_votes:194767,diff:15494,per_gop:.5277074658438031,per_dem:.4481560017867503,per_point_diff:.07955146405705282},{state_name:"Alabama",county_fips:1091,county_name:"Marengo County",votes_gop:5343,votes_dem:5488,total_votes:10900,diff:-145,per_gop:.4901834862385321,per_dem:.50348623853211,per_point_diff:-.013302752293577969},{state_name:"Alabama",county_fips:1093,county_name:"Marion County",votes_gop:12205,votes_dem:1463,total_votes:13807,diff:10742,per_gop:.8839718983124502,per_dem:.10596074454986601,per_point_diff:.7780111537625841},{state_name:"Alabama",county_fips:1095,county_name:"Marshall County",votes_gop:33191,votes_dem:5943,total_votes:39655,diff:27248,per_gop:.8369940738872778,per_dem:.1498676081200353,per_point_diff:.6871264657672425},{state_name:"Alabama",county_fips:1097,county_name:"Mobile County",votes_gop:101243,votes_dem:79474,total_votes:183164,diff:21769,per_gop:.5527450809110961,per_dem:.43389530693804457,per_point_diff:.11884977397305152},{state_name:"Alabama",county_fips:1099,county_name:"Monroe County",votes_gop:6147,votes_dem:4455,total_votes:10668,diff:1692,per_gop:.5762092238470191,per_dem:.4176040494938133,per_point_diff:.1586051743532058},{state_name:"Alabama",county_fips:1101,county_name:"Montgomery County",votes_gop:33311,votes_dem:64529,total_votes:99139,diff:-31218,per_gop:.3360029857069367,per_dem:.6508941990538537,per_point_diff:-.314891213346917},{state_name:"Alabama",county_fips:1103,county_name:"Morgan County",votes_gop:39664,votes_dem:13234,total_votes:53722,diff:26430,per_gop:.7383194966680318,per_dem:.24634228062990954,per_point_diff:.4919772160381222},{state_name:"Alabama",county_fips:1105,county_name:"Perry County",votes_gop:1339,votes_dem:3860,total_votes:5230,diff:-2521,per_gop:.2560229445506692,per_dem:.7380497131931166,per_point_diff:-.4820267686424474},{state_name:"Alabama",county_fips:1107,county_name:"Pickens County",votes_gop:5594,votes_dem:4022,total_votes:9668,diff:1572,per_gop:.5786098469176665,per_dem:.41601158460901944,per_point_diff:.16259826230864705},{state_name:"Alabama",county_fips:1109,county_name:"Pike County",votes_gop:8042,votes_dem:5636,total_votes:13841,diff:2406,per_gop:.5810273824145654,per_dem:.40719601184885484,per_point_diff:.17383137056571057},{state_name:"Alabama",county_fips:1111,county_name:"Randolph County",votes_gop:8559,votes_dem:2203,total_votes:10837,diff:6356,per_gop:.7897942234935867,per_dem:.20328504198578942,per_point_diff:.5865091815077973},{state_name:"Alabama",county_fips:1113,county_name:"Russell County",votes_gop:9864,votes_dem:11228,total_votes:21329,diff:-1364,per_gop:.46246893900323505,per_dem:.5264194289465047,per_point_diff:-.06395048994326968},{state_name:"Alabama",county_fips:1115,county_name:"St. Clair County",votes_gop:36166,votes_dem:7744,total_votes:44441,diff:28422,per_gop:.8137980693503747,per_dem:.1742535046466101,per_point_diff:.6395445647037645},{state_name:"Alabama",county_fips:1117,county_name:"Shelby County",votes_gop:79700,votes_dem:33268,total_votes:114950,diff:46432,per_gop:.6933449325793823,per_dem:.28941278816876903,per_point_diff:.4039321444106133},{state_name:"Alabama",county_fips:1119,county_name:"Sumter County",votes_gop:1598,votes_dem:4648,total_votes:6291,diff:-3050,per_gop:.2540136703226832,per_dem:.7388332538547131,per_point_diff:-.4848195835320299},{state_name:"Alabama",county_fips:1121,county_name:"Talladega County",votes_gop:22235,votes_dem:13138,total_votes:35663,diff:9097,per_gop:.623475310545944,per_dem:.3683930123657572,per_point_diff:.25508229818018674},{state_name:"Alabama",county_fips:1123,county_name:"Tallapoosa County",votes_gop:14963,votes_dem:5859,total_votes:20991,diff:9104,per_gop:.7128293077985803,per_dem:.2791196226954409,per_point_diff:.43370968510313945},{state_name:"Alabama",county_fips:1125,county_name:"Tuscaloosa County",votes_gop:51117,votes_dem:37765,total_votes:90172,diff:13352,per_gop:.566883289712993,per_dem:.41881071729583463,per_point_diff:.14807257241715832},{state_name:"Alabama",county_fips:1127,county_name:"Walker County",votes_gop:26002,votes_dem:4834,total_votes:31170,diff:21168,per_gop:.8341995508501765,per_dem:.15508501764517163,per_point_diff:.6791145332050048},{state_name:"Alabama",county_fips:1129,county_name:"Washington County",votes_gop:6564,votes_dem:2258,total_votes:8876,diff:4306,per_gop:.7395223073456512,per_dem:.254393871113114,per_point_diff:.48512843623253715},{state_name:"Alabama",county_fips:1131,county_name:"Wilcox County",votes_gop:1833,votes_dem:4048,total_votes:5903,diff:-2215,per_gop:.3105200745383703,per_dem:.6857530069456209,per_point_diff:-.3752329324072506},{state_name:"Alabama",county_fips:1133,county_name:"Winston County",votes_gop:10195,votes_dem:974,total_votes:11284,diff:9221,per_gop:.9034916696207019,per_dem:.08631690889755406,per_point_diff:.8171747607231479},{state_name:"Alaska",county_fips:2901,county_name:"District 1",votes_gop:3511,votes_dem:3477,total_votes:7360,diff:34,per_gop:.47703804347826084,per_dem:.4724184782608696,per_point_diff:.004619565217391264},{state_name:"Alaska",county_fips:2902,county_name:"District 2",votes_gop:3674,votes_dem:2104,total_votes:6161,diff:1570,per_gop:.5963317643239734,per_dem:.3415030027592923,per_point_diff:.2548287615646811},{state_name:"Alaska",county_fips:2903,county_name:"District 3",votes_gop:6076,votes_dem:1903,total_votes:8385,diff:4173,per_gop:.7246273106738224,per_dem:.22695289206917113,per_point_diff:.4976744186046512},{state_name:"Alaska",county_fips:2904,county_name:"District 4",votes_gop:4690,votes_dem:5345,total_votes:10587,diff:-655,per_gop:.4429961273259658,per_dem:.5048644564088033,per_point_diff:-.06186832908283746},{state_name:"Alaska",county_fips:2905,county_name:"District 5",votes_gop:4077,votes_dem:4204,total_votes:8706,diff:-127,per_gop:.4682977257064094,per_dem:.4828853664139674,per_point_diff:-.014587640707558025},{state_name:"Alaska",county_fips:2906,county_name:"District 6",votes_gop:5770,votes_dem:3272,total_votes:9518,diff:2498,per_gop:.6062197940743854,per_dem:.34376969951670516,per_point_diff:.26245009455768026},{state_name:"Alaska",county_fips:2907,county_name:"District 7",votes_gop:7027,votes_dem:2215,total_votes:9664,diff:4812,per_gop:.7271316225165563,per_dem:.22920115894039736,per_point_diff:.4979304635761589},{state_name:"Alaska",county_fips:2908,county_name:"District 8",votes_gop:7618,votes_dem:1953,total_votes:9957,diff:5665,per_gop:.7650898865120016,per_dem:.19614341669177462,per_point_diff:.568946469820227},{state_name:"Alaska",county_fips:2909,county_name:"District 9",votes_gop:7787,votes_dem:2769,total_votes:11047,diff:5018,per_gop:.7048972571738934,per_dem:.25065628677469,per_point_diff:.4542409703992034},{state_name:"Alaska",county_fips:2910,county_name:"District 10",votes_gop:8081,votes_dem:2727,total_votes:11256,diff:5354,per_gop:.7179282160625444,per_dem:.24227078891257997,per_point_diff:.47565742714996445},{state_name:"Alaska",county_fips:2911,county_name:"District 11",votes_gop:7096,votes_dem:3130,total_votes:10686,diff:3966,per_gop:.6640464158712334,per_dem:.2929066067752199,per_point_diff:.37113980909601346},{state_name:"Alaska",county_fips:2912,county_name:"District 12",votes_gop:7893,votes_dem:2957,total_votes:11280,diff:4936,per_gop:.6997340425531915,per_dem:.26214539007092197,per_point_diff:.4375886524822695},{state_name:"Alaska",county_fips:2913,county_name:"District 13",votes_gop:4652,votes_dem:2666,total_votes:7765,diff:1986,per_gop:.5990985189954926,per_dem:.3433354797166774,per_point_diff:.2557630392788152},{state_name:"Alaska",county_fips:2914,county_name:"District 14",votes_gop:6714,votes_dem:4261,total_votes:11534,diff:2453,per_gop:.5821050806311774,per_dem:.369429512744928,per_point_diff:.21267556788624936},{state_name:"Alaska",county_fips:2915,county_name:"District 15",votes_gop:2671,votes_dem:2622,total_votes:5593,diff:49,per_gop:.4775612372608618,per_dem:.46880028607187557,per_point_diff:.008760951188986232},{state_name:"Alaska",county_fips:2916,county_name:"District 16",votes_gop:3516,votes_dem:4274,total_votes:8170,diff:-758,per_gop:.4303549571603427,per_dem:.5231334149326805,per_point_diff:-.09277845777233779},{state_name:"Alaska",county_fips:2917,county_name:"District 17",votes_gop:2810,votes_dem:4136,total_votes:7271,diff:-1326,per_gop:.3864667858616421,per_dem:.5688350983358548,per_point_diff:-.18236831247421265},{state_name:"Alaska",county_fips:2918,county_name:"District 18",votes_gop:2760,votes_dem:4681,total_votes:7759,diff:-1921,per_gop:.35571594277613094,per_dem:.6032993942518365,per_point_diff:-.2475834514757056},{state_name:"Alaska",county_fips:2919,county_name:"District 19",votes_gop:1975,votes_dem:3118,total_votes:5338,diff:-1143,per_gop:.36998875983514423,per_dem:.5841139003372049,per_point_diff:-.21412514050206066},{state_name:"Alaska",county_fips:2920,county_name:"District 20",votes_gop:2383,votes_dem:4881,total_votes:7544,diff:-2498,per_gop:.3158801696712619,per_dem:.6470042417815483,per_point_diff:-.3311240721102863},{state_name:"Alaska",county_fips:2921,county_name:"District 21",votes_gop:3690,votes_dem:5414,total_votes:9482,diff:-1724,per_gop:.3891584053997047,per_dem:.5709765872178865,per_point_diff:-.18181818181818177},{state_name:"Alaska",county_fips:2922,county_name:"District 22",votes_gop:4684,votes_dem:4553,total_votes:9597,diff:131,per_gop:.48806918828800666,per_dem:.4744190892987392,per_point_diff:.013650098989267445},{state_name:"Alaska",county_fips:2923,county_name:"District 23",votes_gop:3655,votes_dem:3810,total_votes:7796,diff:-155,per_gop:.46883016931759874,per_dem:.4887121600820934,per_point_diff:-.01988199076449465},{state_name:"Alaska",county_fips:2924,county_name:"District 24",votes_gop:5378,votes_dem:4736,total_votes:10484,diff:642,per_gop:.5129721480351012,per_dem:.45173597863410914,per_point_diff:.061236169400992024},{state_name:"Alaska",county_fips:2925,county_name:"District 25",votes_gop:4407,votes_dem:4600,total_votes:9369,diff:-193,per_gop:.47038104386807555,per_dem:.4909808944391077,per_point_diff:-.02059985057103214},{state_name:"Alaska",county_fips:2926,county_name:"District 26",votes_gop:5243,votes_dem:4558,total_votes:20292,diff:685,per_gop:.2583776857875025,per_dem:.22462054011433077,per_point_diff:.0337571456731717},{state_name:"Alaska",county_fips:2927,county_name:"District 27",votes_gop:4324,votes_dem:4844,total_votes:19037,diff:-520,per_gop:.2271366286704838,per_dem:.2544518569102274,per_point_diff:-.02731522823974364},{state_name:"Alaska",county_fips:2928,county_name:"District 28",votes_gop:6162,votes_dem:6264,total_votes:25580,diff:-102,per_gop:.24089132134480062,per_dem:.24487881157154026,per_point_diff:-.003987490226739637},{state_name:"Alaska",county_fips:2929,county_name:"District 29",votes_gop:7464,votes_dem:2985,total_votes:10784,diff:4479,per_gop:.6921364985163204,per_dem:.27679896142433236,per_point_diff:.41533753709198806},{state_name:"Alaska",county_fips:2930,county_name:"District 30",votes_gop:7180,votes_dem:2638,total_votes:10226,diff:4542,per_gop:.7021318208488168,per_dem:.2579698806962644,per_point_diff:.44416194015255234},{state_name:"Alaska",county_fips:2931,county_name:"District 31",votes_gop:6971,votes_dem:5037,total_votes:12481,diff:1934,per_gop:.5585289640253185,per_dem:.4035734316160564,per_point_diff:.15495553240926208},{state_name:"Alaska",county_fips:2932,county_name:"District 32",votes_gop:4440,votes_dem:3506,total_votes:8361,diff:934,per_gop:.5310369573017582,per_dem:.41932783159909104,per_point_diff:.11170912570266711},{state_name:"Alaska",county_fips:2933,county_name:"District 33",votes_gop:3059,votes_dem:7535,total_votes:11016,diff:-4476,per_gop:.27768700072621644,per_dem:.6840050835148874,per_point_diff:-.406318082788671},{state_name:"Alaska",county_fips:2934,county_name:"District 34",votes_gop:4543,votes_dem:5763,total_votes:10794,diff:-1220,per_gop:.42088197146562906,per_dem:.5339077265147304,per_point_diff:-.11302575504910134},{state_name:"Alaska",county_fips:2935,county_name:"District 35",votes_gop:4769,votes_dem:5011,total_votes:10149,diff:-242,per_gop:.46989851216868656,per_dem:.4937432259335895,per_point_diff:-.023844713764902936},{state_name:"Alaska",county_fips:2936,county_name:"District 36",votes_gop:5114,votes_dem:3796,total_votes:9292,diff:1318,per_gop:.550365906155833,per_dem:.40852346104175635,per_point_diff:.14184244511407668},{state_name:"Alaska",county_fips:2937,county_name:"District 37",votes_gop:2358,votes_dem:2560,total_votes:5168,diff:-202,per_gop:.45626934984520123,per_dem:.4953560371517028,per_point_diff:-.039086687306501555},{state_name:"Alaska",county_fips:2938,county_name:"District 38",votes_gop:1737,votes_dem:3202,total_votes:5299,diff:-1465,per_gop:.32779769767880734,per_dem:.6042649556520098,per_point_diff:-.27646725797320243},{state_name:"Alaska",county_fips:2939,county_name:"District 39",votes_gop:1939,votes_dem:3580,total_votes:5930,diff:-1641,per_gop:.3269814502529511,per_dem:.6037099494097807,per_point_diff:-.2767284991568296},{state_name:"Alaska",county_fips:2940,county_name:"District 40",votes_gop:1994,votes_dem:2318,total_votes:4628,diff:-324,per_gop:.4308556611927398,per_dem:.5008643042350908,per_point_diff:-.07000864304235094},{state_name:"Arizona",county_fips:4001,county_name:"Apache County",votes_gop:11442,votes_dem:23293,total_votes:35183,diff:-11851,per_gop:.32521388170423216,per_dem:.662052695904272,per_point_diff:-.3368388142000398},{state_name:"Arizona",county_fips:4003,county_name:"Cochise County",votes_gop:35557,votes_dem:23732,total_votes:60473,diff:11825,per_gop:.5879814131926645,per_dem:.3924396011443123,per_point_diff:.1955418120483522},{state_name:"Arizona",county_fips:4005,county_name:"Coconino County",votes_gop:27052,votes_dem:44698,total_votes:73346,diff:-17646,per_gop:.36882720257410084,per_dem:.6094129195866168,per_point_diff:-.24058571701251596},{state_name:"Arizona",county_fips:4007,county_name:"Gila County",votes_gop:18377,votes_dem:8943,total_votes:27678,diff:9434,per_gop:.6639569333044295,per_dem:.32310860611315845,per_point_diff:.34084832719127106},{state_name:"Arizona",county_fips:4009,county_name:"Graham County",votes_gop:10749,votes_dem:4034,total_votes:14996,diff:6715,per_gop:.716791144305148,per_dem:.26900506801813817,per_point_diff:.44778607628700984},{state_name:"Arizona",county_fips:4011,county_name:"Greenlee County",votes_gop:2433,votes_dem:1182,total_votes:3688,diff:1251,per_gop:.65970715835141,per_dem:.32049891540130154,per_point_diff:.3392082429501085},{state_name:"Arizona",county_fips:4012,county_name:"La Paz County",votes_gop:5129,votes_dem:2236,total_votes:7460,diff:2893,per_gop:.6875335120643432,per_dem:.2997319034852547,per_point_diff:.3878016085790885},{state_name:"Arizona",county_fips:4013,county_name:"Maricopa County",votes_gop:995665,votes_dem:1040774,total_votes:2069475,diff:-45109,per_gop:.4811196076299545,per_dem:.5029169233742857,per_point_diff:-.021797315744331247},{state_name:"Arizona",county_fips:4015,county_name:"Mohave County",votes_gop:78535,votes_dem:24831,total_votes:104705,diff:53704,per_gop:.7500596915142543,per_dem:.23715199847189725,per_point_diff:.5129076930423571},{state_name:"Arizona",county_fips:4017,county_name:"Navajo County",votes_gop:27657,votes_dem:23383,total_votes:51783,diff:4274,per_gop:.5340942007994902,per_dem:.45155746094278043,per_point_diff:.08253673985670978},{state_name:"Arizona",county_fips:4019,county_name:"Pima County",votes_gop:207758,votes_dem:304981,total_votes:520735,diff:-97223,per_gop:.39897068566545363,per_dem:.5856740952691868,per_point_diff:-.18670340960373316},{state_name:"Arizona",county_fips:4021,county_name:"Pinal County",votes_gop:107077,votes_dem:75106,total_votes:185037,diff:31971,per_gop:.57867885882283,per_dem:.40589719893859066,per_point_diff:.17278165988423932},{state_name:"Arizona",county_fips:4023,county_name:"Santa Cruz County",votes_gop:6194,votes_dem:13138,total_votes:19561,diff:-6944,per_gop:.3166504779919227,per_dem:.6716425540616533,per_point_diff:-.3549920760697306},{state_name:"Arizona",county_fips:4025,county_name:"Yavapai County",votes_gop:91527,votes_dem:49602,total_votes:143280,diff:41925,per_gop:.6387981574539363,per_dem:.3461892797319933,per_point_diff:.292608877721943},{state_name:"Arizona",county_fips:4027,county_name:"Yuma County",votes_gop:36534,votes_dem:32210,total_votes:69926,diff:4324,per_gop:.5224666075565598,per_dem:.4606298086548637,per_point_diff:.06183679890169613},{state_name:"Arkansas",county_fips:5001,county_name:"Arkansas County",votes_gop:4304,votes_dem:1818,total_votes:6292,diff:2486,per_gop:.684043229497775,per_dem:.28893833439287986,per_point_diff:.3951048951048951},{state_name:"Arkansas",county_fips:5003,county_name:"Ashley County",votes_gop:5548,votes_dem:2125,total_votes:7926,diff:3423,per_gop:.6999747665909665,per_dem:.2681049709815796,per_point_diff:.4318697956093869},{state_name:"Arkansas",county_fips:5005,county_name:"Baxter County",votes_gop:15836,votes_dem:4635,total_votes:21007,diff:11201,per_gop:.7538439567763127,per_dem:.22064073880135193,per_point_diff:.5332032179749607},{state_name:"Arkansas",county_fips:5007,county_name:"Benton County",votes_gop:73965,votes_dem:42249,total_votes:119912,diff:31716,per_gop:.6168273400493696,per_dem:.3523333778103943,per_point_diff:.26449396223897526},{state_name:"Arkansas",county_fips:5009,county_name:"Boone County",votes_gop:13652,votes_dem:3064,total_votes:17114,diff:10588,per_gop:.7977094776206615,per_dem:.17903470842585018,per_point_diff:.6186747691948113},{state_name:"Arkansas",county_fips:5011,county_name:"Bradley County",votes_gop:2335,votes_dem:1214,total_votes:3654,diff:1121,per_gop:.6390257252326218,per_dem:.3322386425834702,per_point_diff:.3067870826491516},{state_name:"Arkansas",county_fips:5013,county_name:"Calhoun County",votes_gop:1636,votes_dem:479,total_votes:2182,diff:1157,per_gop:.7497708524289642,per_dem:.21952337305224565,per_point_diff:.5302474793767186},{state_name:"Arkansas",county_fips:5015,county_name:"Carroll County",votes_gop:7424,votes_dem:4023,total_votes:11797,diff:3401,per_gop:.6293125370856998,per_dem:.3410189031109604,per_point_diff:.2882936339747394},{state_name:"Arkansas",county_fips:5017,county_name:"Chicot County",votes_gop:1752,votes_dem:2260,total_votes:4103,diff:-508,per_gop:.42700463075798195,per_dem:.5508164757494516,per_point_diff:-.12381184499146963},{state_name:"Arkansas",county_fips:5019,county_name:"Clark County",votes_gop:4616,votes_dem:3438,total_votes:8395,diff:1178,per_gop:.5498511018463371,per_dem:.4095294818344253,per_point_diff:.14032162001191184},{state_name:"Arkansas",county_fips:5021,county_name:"Clay County",votes_gop:4086,votes_dem:962,total_votes:5183,diff:3124,per_gop:.78834651746093,per_dem:.1856067914335327,per_point_diff:.6027397260273972},{state_name:"Arkansas",county_fips:5023,county_name:"Cleburne County",votes_gop:10328,votes_dem:1988,total_votes:12680,diff:8340,per_gop:.8145110410094637,per_dem:.15678233438485806,per_point_diff:.6577287066246056},{state_name:"Arkansas",county_fips:5025,county_name:"Cleveland County",votes_gop:2867,votes_dem:651,total_votes:3600,diff:2216,per_gop:.7963888888888889,per_dem:.18083333333333335,per_point_diff:.6155555555555556},{state_name:"Arkansas",county_fips:5027,county_name:"Columbia County",votes_gop:5500,votes_dem:2814,total_votes:8616,diff:2686,per_gop:.638347260909935,per_dem:.3266016713091922,per_point_diff:.3117455896007428},{state_name:"Arkansas",county_fips:5029,county_name:"Conway County",votes_gop:5694,votes_dem:2615,total_votes:8685,diff:3079,per_gop:.6556131260794473,per_dem:.30109383995394357,per_point_diff:.35451928612550376},{state_name:"Arkansas",county_fips:5031,county_name:"Craighead County",votes_gop:25558,votes_dem:11921,total_votes:38511,diff:13637,per_gop:.6636545402612241,per_dem:.30954792137311415,per_point_diff:.3541066188881099},{state_name:"Arkansas",county_fips:5033,county_name:"Crawford County",votes_gop:18607,votes_dem:4959,total_votes:24091,diff:13648,per_gop:.7723631231580258,per_dem:.20584450624714623,per_point_diff:.5665186169108796},{state_name:"Arkansas",county_fips:5035,county_name:"Crittenden County",votes_gop:7333,votes_dem:8514,total_votes:16367,diff:-1181,per_gop:.44803568155434714,per_dem:.5201930714242072,per_point_diff:-.07215738986986009},{state_name:"Arkansas",county_fips:5037,county_name:"Cross County",votes_gop:4946,votes_dem:1772,total_votes:6942,diff:3174,per_gop:.7124747911264765,per_dem:.25525785076346874,per_point_diff:.45721694036300775},{state_name:"Arkansas",county_fips:5039,county_name:"Dallas County",votes_gop:1573,votes_dem:963,total_votes:2649,diff:610,per_gop:.5938089845224613,per_dem:.3635334088335221,per_point_diff:.23027557568893925},{state_name:"Arkansas",county_fips:5041,county_name:"Desha County",votes_gop:1921,votes_dem:2016,total_votes:4164,diff:-95,per_gop:.4613352545629203,per_dem:.484149855907781,per_point_diff:-.022814601344860685},{state_name:"Arkansas",county_fips:5043,county_name:"Drew County",votes_gop:4349,votes_dem:2426,total_votes:6908,diff:1923,per_gop:.6295599305153445,per_dem:.3511870295309786,per_point_diff:.27837290098436596},{state_name:"Arkansas",county_fips:5045,county_name:"Faulkner County",votes_gop:34421,votes_dem:18347,total_votes:54428,diff:16074,per_gop:.6324134636584111,per_dem:.3370875284779893,per_point_diff:.29532593518042183},{state_name:"Arkansas",county_fips:5047,county_name:"Franklin County",votes_gop:5677,votes_dem:1300,total_votes:7129,diff:4377,per_gop:.7963248702482817,per_dem:.18235376630663488,per_point_diff:.6139711039416468},{state_name:"Arkansas",county_fips:5049,county_name:"Fulton County",votes_gop:3961,votes_dem:1035,total_votes:5119,diff:2926,per_gop:.7737839421762063,per_dem:.20218792732955657,per_point_diff:.5715960148466497},{state_name:"Arkansas",county_fips:5051,county_name:"Garland County",votes_gop:29069,votes_dem:14045,total_votes:44199,diff:15024,per_gop:.6576845629991629,per_dem:.3177673703024955,per_point_diff:.33991719269666737},{state_name:"Arkansas",county_fips:5053,county_name:"Grant County",votes_gop:6794,votes_dem:1268,total_votes:8200,diff:5526,per_gop:.8285365853658536,per_dem:.1546341463414634,per_point_diff:.6739024390243902},{state_name:"Arkansas",county_fips:5055,county_name:"Greene County",votes_gop:12670,votes_dem:3058,total_votes:16100,diff:9612,per_gop:.7869565217391304,per_dem:.18993788819875776,per_point_diff:.5970186335403727},{state_name:"Arkansas",county_fips:5057,county_name:"Hempstead County",votes_gop:4470,votes_dem:2138,total_votes:6848,diff:2332,per_gop:.6527453271028038,per_dem:.31220794392523366,per_point_diff:.3405373831775701},{state_name:"Arkansas",county_fips:5059,county_name:"Hot Spring County",votes_gop:9202,votes_dem:3082,total_votes:12557,diff:6120,per_gop:.7328183483316079,per_dem:.2454407899976109,per_point_diff:.487377558333997},{state_name:"Arkansas",county_fips:5061,county_name:"Howard County",votes_gop:3367,votes_dem:1340,total_votes:4834,diff:2027,per_gop:.6965246172941664,per_dem:.2772031443938767,per_point_diff:.41932147290028965},{state_name:"Arkansas",county_fips:5063,county_name:"Independence County",votes_gop:11250,votes_dem:2806,total_votes:14512,diff:8444,per_gop:.7752205071664829,per_dem:.1933572216097023,per_point_diff:.5818632855567807},{state_name:"Arkansas",county_fips:5065,county_name:"Izard County",votes_gop:4631,votes_dem:1021,total_votes:5810,diff:3610,per_gop:.7970740103270224,per_dem:.1757314974182444,per_point_diff:.621342512908778},{state_name:"Arkansas",county_fips:5067,county_name:"Jackson County",votes_gop:3593,votes_dem:1365,total_votes:5091,diff:2228,per_gop:.7057552543704577,per_dem:.26812021213906895,per_point_diff:.43763504223138877},{state_name:"Arkansas",county_fips:5069,county_name:"Jefferson County",votes_gop:9521,votes_dem:14981,total_votes:25158,diff:-5460,per_gop:.37844820732967643,per_dem:.5954765879640671,per_point_diff:-.21702838063439067},{state_name:"Arkansas",county_fips:5071,county_name:"Johnson County",votes_gop:6938,votes_dem:2283,total_votes:9498,diff:4655,per_gop:.7304695725415877,per_dem:.24036639292482628,per_point_diff:.4901031796167614},{state_name:"Arkansas",county_fips:5073,county_name:"Lafayette County",votes_gop:1757,votes_dem:839,total_votes:2679,diff:918,per_gop:.6558417319895483,per_dem:.3131765584173199,per_point_diff:.3426651735722284},{state_name:"Arkansas",county_fips:5075,county_name:"Lawrence County",votes_gop:4569,votes_dem:1080,total_votes:5857,diff:3489,per_gop:.7800921973706676,per_dem:.18439474133515452,per_point_diff:.595697456035513},{state_name:"Arkansas",county_fips:5077,county_name:"Lee County",votes_gop:1286,votes_dem:1423,total_votes:2848,diff:-137,per_gop:.4515449438202247,per_dem:.4996488764044944,per_point_diff:-.048103932584269704},{state_name:"Arkansas",county_fips:5079,county_name:"Lincoln County",votes_gop:2729,votes_dem:1032,total_votes:3875,diff:1697,per_gop:.704258064516129,per_dem:.2663225806451613,per_point_diff:.43793548387096776},{state_name:"Arkansas",county_fips:5081,county_name:"Little River County",votes_gop:3715,votes_dem:1226,total_votes:5177,diff:2489,per_gop:.7175970639366428,per_dem:.2368166892022407,per_point_diff:.4807803747344021},{state_name:"Arkansas",county_fips:5083,county_name:"Logan County",votes_gop:6441,votes_dem:1544,total_votes:8225,diff:4897,per_gop:.7831003039513678,per_dem:.18772036474164133,per_point_diff:.5953799392097264},{state_name:"Arkansas",county_fips:5085,county_name:"Lonoke County",votes_gop:22884,votes_dem:6686,total_votes:30662,diff:16198,per_gop:.7463309634074751,per_dem:.21805492140108276,per_point_diff:.5282760420063923},{state_name:"Arkansas",county_fips:5087,county_name:"Madison County",votes_gop:5658,votes_dem:1563,total_votes:7351,diff:4095,per_gop:.7696911984763978,per_dem:.21262413277105155,per_point_diff:.5570670657053463},{state_name:"Arkansas",county_fips:5089,county_name:"Marion County",votes_gop:5783,votes_dem:1531,total_votes:7503,diff:4252,per_gop:.7707583633213382,per_dem:.20405171264827401,per_point_diff:.5667066506730641},{state_name:"Arkansas",county_fips:5091,county_name:"Miller County",votes_gop:11920,votes_dem:4245,total_votes:16529,diff:7675,per_gop:.7211567547946034,per_dem:.25682134430395065,per_point_diff:.46433541049065274},{state_name:"Arkansas",county_fips:5093,county_name:"Mississippi County",votes_gop:7296,votes_dem:4558,total_votes:12342,diff:2738,per_gop:.5911521633446767,per_dem:.3693080538000324,per_point_diff:.22184410954464429},{state_name:"Arkansas",county_fips:5095,county_name:"Monroe County",votes_gop:1545,votes_dem:1147,total_votes:2816,diff:398,per_gop:.5486505681818182,per_dem:.4073153409090909,per_point_diff:.14133522727272735},{state_name:"Arkansas",county_fips:5097,county_name:"Montgomery County",votes_gop:3046,votes_dem:731,total_votes:3873,diff:2315,per_gop:.7864704363542474,per_dem:.1887425768138394,per_point_diff:.597727859540408},{state_name:"Arkansas",county_fips:5099,county_name:"Nevada County",votes_gop:2133,votes_dem:1076,total_votes:3358,diff:1057,per_gop:.6351995235259082,per_dem:.32042882668254913,per_point_diff:.3147706968433591},{state_name:"Arkansas",county_fips:5101,county_name:"Newton County",votes_gop:3192,votes_dem:709,total_votes:3998,diff:2483,per_gop:.7983991995997999,per_dem:.17733866933466733,per_point_diff:.6210605302651325},{state_name:"Arkansas",county_fips:5103,county_name:"Ouachita County",votes_gop:5294,votes_dem:3995,total_votes:9629,diff:1299,per_gop:.5497974867587496,per_dem:.41489251220272094,per_point_diff:.13490497455602868},{state_name:"Arkansas",county_fips:5105,county_name:"Perry County",votes_gop:3479,votes_dem:1012,total_votes:4627,diff:2467,per_gop:.7518910741301059,per_dem:.21871623081910524,per_point_diff:.5331748433110006},{state_name:"Arkansas",county_fips:5107,county_name:"Phillips County",votes_gop:2417,votes_dem:3623,total_votes:6242,diff:-1206,per_gop:.38721563601409803,per_dem:.5804229413649471,per_point_diff:-.19320730535084907},{state_name:"Arkansas",county_fips:5109,county_name:"Pike County",votes_gop:3519,votes_dem:644,total_votes:4246,diff:2875,per_gop:.8287800282618936,per_dem:.15167216203485634,per_point_diff:.6771078662270372},{state_name:"Arkansas",county_fips:5111,county_name:"Poinsett County",votes_gop:5918,votes_dem:1424,total_votes:7521,diff:4494,per_gop:.7868634490094403,per_dem:.18933652439835127,per_point_diff:.597526924611089},{state_name:"Arkansas",county_fips:5113,county_name:"Polk County",votes_gop:7035,votes_dem:1246,total_votes:8490,diff:5789,per_gop:.8286219081272085,per_dem:.14676089517078916,per_point_diff:.6818610129564193},{state_name:"Arkansas",county_fips:5115,county_name:"Pope County",votes_gop:18081,votes_dem:5772,total_votes:24432,diff:12309,per_gop:.7400540275049116,per_dem:.2362475442043222,per_point_diff:.5038064833005893},{state_name:"Arkansas",county_fips:5117,county_name:"Prairie County",votes_gop:2786,votes_dem:654,total_votes:3495,diff:2132,per_gop:.7971387696709585,per_dem:.1871244635193133,per_point_diff:.6100143061516452},{state_name:"Arkansas",county_fips:5119,county_name:"Pulaski County",votes_gop:63687,votes_dem:101947,total_votes:169956,diff:-38260,per_gop:.3747263997740592,per_dem:.5998434889030102,per_point_diff:-.225117089128951},{state_name:"Arkansas",county_fips:5121,county_name:"Randolph County",votes_gop:5355,votes_dem:1215,total_votes:6812,diff:4140,per_gop:.7861127422196125,per_dem:.1783617146212566,per_point_diff:.6077510275983559},{state_name:"Arkansas",county_fips:5123,county_name:"St. Francis County",votes_gop:3242,votes_dem:3604,total_votes:7108,diff:-362,per_gop:.45610579628587505,per_dem:.5070343275182893,per_point_diff:-.0509285312324142},{state_name:"Arkansas",county_fips:5125,county_name:"Saline County",votes_gop:39556,votes_dem:16060,total_votes:56959,diff:23496,per_gop:.6944644393335557,per_dem:.28195719728225566,per_point_diff:.41250724205130007},{state_name:"Arkansas",county_fips:5127,county_name:"Scott County",votes_gop:2962,votes_dem:483,total_votes:3551,diff:2479,per_gop:.8341312306392565,per_dem:.13601802309208674,per_point_diff:.6981132075471698},{state_name:"Arkansas",county_fips:5129,county_name:"Searcy County",votes_gop:3365,votes_dem:588,total_votes:4019,diff:2777,per_gop:.8372729534710127,per_dem:.14630505100771335,per_point_diff:.6909679024632993},{state_name:"Arkansas",county_fips:5131,county_name:"Sebastian County",votes_gop:31198,votes_dem:14487,total_votes:47140,diff:16711,per_gop:.6618158676283411,per_dem:.3073186253712346,per_point_diff:.3544972422571065},{state_name:"Arkansas",county_fips:5133,county_name:"Sevier County",votes_gop:3884,votes_dem:1116,total_votes:5202,diff:2768,per_gop:.746635909265667,per_dem:.21453287197231835,per_point_diff:.5321030372933486},{state_name:"Arkansas",county_fips:5135,county_name:"Sharp County",votes_gop:5938,votes_dem:1398,total_votes:7566,diff:4540,per_gop:.7848268569918054,per_dem:.18477398889770025,per_point_diff:.6000528680941052},{state_name:"Arkansas",county_fips:5137,county_name:"Stone County",votes_gop:4616,votes_dem:1180,total_votes:5938,diff:3436,per_gop:.7773661165375547,per_dem:.19872010778039745,per_point_diff:.5786460087571572},{state_name:"Arkansas",county_fips:5139,county_name:"Union County",votes_gop:10478,votes_dem:5584,total_votes:16607,diff:4894,per_gop:.6309387607635335,per_dem:.33624375263443124,per_point_diff:.29469500812910226},{state_name:"Arkansas",county_fips:5141,county_name:"Van Buren County",votes_gop:6034,votes_dem:1593,total_votes:7807,diff:4441,per_gop:.7728961188676828,per_dem:.20404764954527987,per_point_diff:.568848469322403},{state_name:"Arkansas",county_fips:5143,county_name:"Washington County",votes_gop:47504,votes_dem:43824,total_votes:94266,diff:3680,per_gop:.5039356713979589,per_dem:.46489720577939025,per_point_diff:.03903846561856866},{state_name:"Arkansas",county_fips:5145,county_name:"White County",votes_gop:24182,votes_dem:5978,total_votes:30885,diff:18204,per_gop:.7829690788408613,per_dem:.19355674275538287,per_point_diff:.5894123360854784},{state_name:"Arkansas",county_fips:5147,county_name:"Woodruff County",votes_gop:1543,votes_dem:856,total_votes:2476,diff:687,per_gop:.6231825525040388,per_dem:.345718901453958,per_point_diff:.27746365105008075},{state_name:"Arkansas",county_fips:5149,county_name:"Yell County",votes_gop:5226,votes_dem:1284,total_votes:6741,diff:3942,per_gop:.7752558967512239,per_dem:.19047619047619047,per_point_diff:.5847797062750334},{state_name:"California",county_fips:6001,county_name:"Alameda County",votes_gop:136309,votes_dem:617659,total_votes:769864,diff:-481350,per_gop:.1770559475439818,per_dem:.8022962497272246,per_point_diff:-.6252403021832428},{state_name:"California",county_fips:6003,county_name:"Alpine County",votes_gop:244,votes_dem:476,total_votes:741,diff:-232,per_gop:.3292847503373819,per_dem:.6423751686909581,per_point_diff:-.3130904183535762},{state_name:"California",county_fips:6005,county_name:"Amador County",votes_gop:13585,votes_dem:8153,total_votes:22302,diff:5432,per_gop:.6091381938839566,per_dem:.3655725943861537,per_point_diff:.24356559949780293},{state_name:"California",county_fips:6007,county_name:"Butte County",votes_gop:48730,votes_dem:50426,total_votes:102042,diff:-1696,per_gop:.4775484604378589,per_dem:.4941690676388154,per_point_diff:-.016620607200956483},{state_name:"California",county_fips:6009,county_name:"Calaveras County",votes_gop:16518,votes_dem:10046,total_votes:27164,diff:6472,per_gop:.6080842291267855,per_dem:.36982771314975704,per_point_diff:.23825651597702846},{state_name:"California",county_fips:6011,county_name:"Colusa County",votes_gop:4554,votes_dem:3234,total_votes:7951,diff:1320,per_gop:.5727581436297321,per_dem:.4067412904037228,per_point_diff:.1660168532260093},{state_name:"California",county_fips:6013,county_name:"Contra Costa County",votes_gop:152877,votes_dem:416386,total_votes:581230,diff:-263509,per_gop:.2630232438105397,per_dem:.716387660650689,per_point_diff:-.45336441684014933},{state_name:"California",county_fips:6015,county_name:"Del Norte County",votes_gop:6461,votes_dem:4677,total_votes:11452,diff:1784,per_gop:.5641809290953546,per_dem:.4084002794271743,per_point_diff:.15578064966818028},{state_name:"California",county_fips:6017,county_name:"El Dorado County",votes_gop:61838,votes_dem:51621,total_votes:116138,diff:10217,per_gop:.5324527717026296,per_dem:.44447984294546145,per_point_diff:.08797292875716817},{state_name:"California",county_fips:6019,county_name:"Fresno County",votes_gop:164464,votes_dem:193025,total_votes:364809,diff:-28561,per_gop:.45082221107483644,per_dem:.5291124944834146,per_point_diff:-.07829028340857813},{state_name:"California",county_fips:6021,county_name:"Glenn County",votes_gop:7063,votes_dem:3995,total_votes:11292,diff:3068,per_gop:.625487070492384,per_dem:.35379029401346085,per_point_diff:.2716967764789231},{state_name:"California",county_fips:6023,county_name:"Humboldt County",votes_gop:21770,votes_dem:44768,total_votes:68828,diff:-22998,per_gop:.3162956936130645,per_dem:.6504329633288778,per_point_diff:-.3341372697158133},{state_name:"California",county_fips:6025,county_name:"Imperial County",votes_gop:20847,votes_dem:34678,total_votes:56718,diff:-13831,per_gop:.3675552734581614,per_dem:.6114108395923693,per_point_diff:-.2438555661342079},{state_name:"California",county_fips:6027,county_name:"Inyo County",votes_gop:4620,votes_dem:4634,total_votes:9481,diff:-14,per_gop:.4872903702141124,per_dem:.48876700769960973,per_point_diff:-.0014766374854973119},{state_name:"California",county_fips:6029,county_name:"Kern County",votes_gop:164484,votes_dem:133366,total_votes:305226,diff:31118,per_gop:.5388924927758448,per_dem:.4369418070544449,per_point_diff:.10195068572139993},{state_name:"California",county_fips:6031,county_name:"Kings County",votes_gop:24072,votes_dem:18699,total_votes:43858,diff:5373,per_gop:.5488622372201195,per_dem:.42635323088148114,per_point_diff:.12250900633863837},{state_name:"California",county_fips:6033,county_name:"Lake County",votes_gop:13123,votes_dem:14941,total_votes:28800,diff:-1818,per_gop:.45565972222222223,per_dem:.5187847222222223,per_point_diff:-.06312500000000004},{state_name:"California",county_fips:6035,county_name:"Lassen County",votes_gop:8970,votes_dem:2799,total_votes:11985,diff:6171,per_gop:.7484355444305382,per_dem:.23354192740926158,per_point_diff:.5148936170212766},{state_name:"California",county_fips:6037,county_name:"Los Angeles County",votes_gop:1145530,votes_dem:3028885,total_votes:4263443,diff:-1883355,per_gop:.2686865990702819,per_dem:.7104316863154967,per_point_diff:-.4417450872452148},{state_name:"California",county_fips:6039,county_name:"Madera County",votes_gop:29378,votes_dem:23168,total_votes:53722,diff:6210,per_gop:.5468523137634489,per_dem:.4312572130598265,per_point_diff:.11559510070362239},{state_name:"California",county_fips:6041,county_name:"Marin County",votes_gop:24612,votes_dem:128288,total_votes:155801,diff:-103676,per_gop:.15797074473206205,per_dem:.8234093491055898,per_point_diff:-.6654386043735278},{state_name:"California",county_fips:6043,county_name:"Mariposa County",votes_gop:5950,votes_dem:4088,total_votes:10280,diff:1862,per_gop:.5787937743190662,per_dem:.3976653696498054,per_point_diff:.18112840466926078},{state_name:"California",county_fips:6045,county_name:"Mendocino County",votes_gop:13267,votes_dem:28782,total_votes:43336,diff:-15515,per_gop:.30614269891083623,per_dem:.664159128669005,per_point_diff:-.3580164297581687},{state_name:"California",county_fips:6047,county_name:"Merced County",votes_gop:39397,votes_dem:48991,total_votes:90541,diff:-9594,per_gop:.43512883665963487,per_dem:.5410918810262754,per_point_diff:-.1059630443666405},{state_name:"California",county_fips:6049,county_name:"Modoc County",votes_gop:3109,votes_dem:1150,total_votes:4338,diff:1959,per_gop:.7166897187644076,per_dem:.26509912402028585,per_point_diff:.4515905947441217},{state_name:"California",county_fips:6051,county_name:"Mono County",votes_gop:2513,votes_dem:4013,total_votes:6737,diff:-1500,per_gop:.3730146949680867,per_dem:.5956657265845332,per_point_diff:-.2226510316164465},{state_name:"California",county_fips:6053,county_name:"Monterey County",votes_gop:46299,votes_dem:113953,total_votes:163883,diff:-67654,per_gop:.2825125241788349,per_dem:.6953314254681694,per_point_diff:-.4128189012893345},{state_name:"California",county_fips:6055,county_name:"Napa County",votes_gop:20676,votes_dem:49817,total_votes:72122,diff:-29141,per_gop:.2866809018052744,per_dem:.6907323701505782,per_point_diff:-.4040514683453038},{state_name:"California",county_fips:6057,county_name:"Nevada County",votes_gop:26779,votes_dem:36359,total_votes:64738,diff:-9580,per_gop:.4136519509407149,per_dem:.5616330439618153,per_point_diff:-.14798109302110046},{state_name:"California",county_fips:6059,county_name:"Orange County",votes_gop:676498,votes_dem:814009,total_votes:1521725,diff:-137511,per_gop:.4445599566281687,per_dem:.5349251671622665,per_point_diff:-.09036521053409774},{state_name:"California",county_fips:6061,county_name:"Placer County",votes_gop:122488,votes_dem:106869,total_votes:235017,diff:15619,per_gop:.5211878289655641,per_dem:.45472880685227024,per_point_diff:.06645902211329391},{state_name:"California",county_fips:6063,county_name:"Plumas County",votes_gop:6445,votes_dem:4561,total_votes:11256,diff:1884,per_gop:.5725835110163469,per_dem:.40520611229566456,per_point_diff:.1673773987206823},{state_name:"California",county_fips:6065,county_name:"Riverside County",votes_gop:448702,votes_dem:527945,total_votes:996156,diff:-79243,per_gop:.45043346624424285,per_dem:.5299822517758263,per_point_diff:-.0795487855315834},{state_name:"California",county_fips:6067,county_name:"Sacramento County",votes_gop:259405,votes_dem:440808,total_votes:718290,diff:-181403,per_gop:.3611424355065503,per_dem:.6136908490999458,per_point_diff:-.25254841359339547},{state_name:"California",county_fips:6069,county_name:"San Benito County",votes_gop:10590,votes_dem:17628,total_votes:28821,diff:-7038,per_gop:.36744040803580724,per_dem:.6116373477672531,per_point_diff:-.24419693973144585},{state_name:"California",county_fips:6071,county_name:"San Bernardino County",votes_gop:366257,votes_dem:455859,total_votes:840931,diff:-89602,per_gop:.4355375173468453,per_dem:.5420884709922693,per_point_diff:-.106550953645424},{state_name:"California",county_fips:6073,county_name:"San Diego County",votes_gop:600094,votes_dem:964650,total_votes:1601722,diff:-364556,per_gop:.374655526989078,per_dem:.6022580697524289,per_point_diff:-.2276025427633509},{state_name:"California",county_fips:6075,county_name:"San Francisco County",votes_gop:56417,votes_dem:378156,total_votes:443458,diff:-321739,per_gop:.1272206161575617,per_dem:.8527436645634987,per_point_diff:-.725523048405937},{state_name:"California",county_fips:6077,county_name:"San Joaquin County",votes_gop:121098,votes_dem:161137,total_votes:288443,diff:-40039,per_gop:.419833381291971,per_dem:.5586441688652524,per_point_diff:-.13881078757328136},{state_name:"California",county_fips:6079,county_name:"San Luis Obispo County",votes_gop:67436,votes_dem:88310,total_votes:159681,diff:-20874,per_gop:.4223169945077999,per_dem:.5530401237467201,per_point_diff:-.13072312923892015},{state_name:"California",county_fips:6081,county_name:"San Mateo County",votes_gop:75563,votes_dem:291410,total_votes:374138,diff:-215847,per_gop:.20196558489113642,per_dem:.7788837273947046,per_point_diff:-.5769181425035681},{state_name:"California",county_fips:6083,county_name:"Santa Barbara County",votes_gop:65736,votes_dem:129963,total_votes:200288,diff:-64227,per_gop:.328207381370826,per_dem:.6488806119188368,per_point_diff:-.32067323054801083},{state_name:"California",county_fips:6085,county_name:"Santa Clara County",votes_gop:214612,votes_dem:617967,total_votes:850522,diff:-403355,per_gop:.2523297457326207,per_dem:.7265737982086296,per_point_diff:-.47424405247600887},{state_name:"California",county_fips:6087,county_name:"Santa Cruz County",votes_gop:26937,votes_dem:114246,total_votes:144796,diff:-87309,per_gop:.18603414458962955,per_dem:.7890135086604603,per_point_diff:-.6029793640708307},{state_name:"California",county_fips:6089,county_name:"Shasta County",votes_gop:60789,votes_dem:3e4,total_votes:92900,diff:30789,per_gop:.6543487621097955,per_dem:.32292787944025836,per_point_diff:.3314208826695372},{state_name:"California",county_fips:6091,county_name:"Sierra County",votes_gop:1142,votes_dem:730,total_votes:1930,diff:412,per_gop:.5917098445595855,per_dem:.37823834196891193,per_point_diff:.2134715025906736},{state_name:"California",county_fips:6093,county_name:"Siskiyou County",votes_gop:13290,votes_dem:9593,total_votes:23450,diff:3697,per_gop:.5667377398720682,per_dem:.40908315565031983,per_point_diff:.15765458422174838},{state_name:"California",county_fips:6095,county_name:"Solano County",votes_gop:69306,votes_dem:131639,total_votes:205831,diff:-62333,per_gop:.3367131287318237,per_dem:.6395489503524736,per_point_diff:-.3028358216206499},{state_name:"California",county_fips:6097,county_name:"Sonoma County",votes_gop:61825,votes_dem:199938,total_votes:268252,diff:-138113,per_gop:.23047358453991024,per_dem:.7453364746581572,per_point_diff:-.514862890118247},{state_name:"California",county_fips:6099,county_name:"Stanislaus County",votes_gop:104145,votes_dem:105841,total_votes:214876,diff:-1696,per_gop:.4846748822576742,per_dem:.4925678065488933,per_point_diff:-.007892924291219128},{state_name:"California",county_fips:6101,county_name:"Sutter County",votes_gop:24375,votes_dem:17367,total_votes:42640,diff:7008,per_gop:.5716463414634146,per_dem:.4072936210131332,per_point_diff:.16435272045028143},{state_name:"California",county_fips:6103,county_name:"Tehama County",votes_gop:19141,votes_dem:8911,total_votes:28721,diff:10230,per_gop:.6664461543818112,per_dem:.3102607847916159,per_point_diff:.3561853695901953},{state_name:"California",county_fips:6105,county_name:"Trinity County",votes_gop:3188,votes_dem:2851,total_votes:6258,diff:337,per_gop:.5094279322467242,per_dem:.45557686161713007,per_point_diff:.053851070629594155},{state_name:"California",county_fips:6107,county_name:"Tulare County",votes_gop:77579,votes_dem:66105,total_votes:146832,diff:11474,per_gop:.5283521303258145,per_dem:.45020840143837854,per_point_diff:.07814372888743598},{state_name:"California",county_fips:6109,county_name:"Tuolumne County",votes_gop:17689,votes_dem:11978,total_votes:30401,diff:5711,per_gop:.5818558600046051,per_dem:.39400019736192887,per_point_diff:.18785566264267622},{state_name:"California",county_fips:6111,county_name:"Ventura County",votes_gop:162207,votes_dem:251388,total_votes:422698,diff:-89181,per_gop:.3837420569768487,per_dem:.5947224732551373,per_point_diff:-.21098041627828856},{state_name:"California",county_fips:6113,county_name:"Yolo County",votes_gop:27292,votes_dem:67598,total_votes:97264,diff:-40306,per_gop:.2805971376871196,per_dem:.6949950649777924,per_point_diff:-.4143979272906728},{state_name:"California",county_fips:6115,county_name:"Yuba County",votes_gop:17676,votes_dem:11230,total_votes:29787,diff:6446,per_gop:.593413233961124,per_dem:.37701010507939703,per_point_diff:.21640312888172697},{state_name:"Colorado",county_fips:8001,county_name:"Adams County",votes_gop:95657,votes_dem:134202,total_votes:236735,diff:-38545,per_gop:.40406783956744885,per_dem:.5668870255771221,per_point_diff:-.16281918600967327},{state_name:"Colorado",county_fips:8003,county_name:"Alamosa County",votes_gop:3813,votes_dem:3759,total_votes:7808,diff:54,per_gop:.4883452868852459,per_dem:.48142930327868855,per_point_diff:.006915983606557374},{state_name:"Colorado",county_fips:8005,county_name:"Arapahoe County",votes_gop:127323,votes_dem:213607,total_votes:350183,diff:-86284,per_gop:.36358989442662837,per_dem:.60998677834161,per_point_diff:-.2463968839149816},{state_name:"Colorado",county_fips:8007,county_name:"Archuleta County",votes_gop:5189,votes_dem:3738,total_votes:9144,diff:1451,per_gop:.5674759405074365,per_dem:.40879265091863515,per_point_diff:.1586832895888014},{state_name:"Colorado",county_fips:8009,county_name:"Baca County",votes_gop:1867,votes_dem:317,total_votes:2225,diff:1550,per_gop:.8391011235955056,per_dem:.14247191011235955,per_point_diff:.696629213483146},{state_name:"Colorado",county_fips:8011,county_name:"Bent County",votes_gop:1503,votes_dem:732,total_votes:2274,diff:771,per_gop:.6609498680738787,per_dem:.32189973614775724,per_point_diff:.33905013192612143},{state_name:"Colorado",county_fips:8013,county_name:"Boulder County",votes_gop:42501,votes_dem:159089,total_votes:206111,diff:-116588,per_gop:.20620442382987808,per_dem:.7718607934559534,per_point_diff:-.5656563696260752},{state_name:"Colorado",county_fips:8014,county_name:"Broomfield County",votes_gop:16295,votes_dem:29077,total_votes:46632,diff:-12782,per_gop:.3494381540572997,per_dem:.6235417738891749,per_point_diff:-.27410361983187514},{state_name:"Colorado",county_fips:8015,county_name:"Chaffee County",votes_gop:6222,votes_dem:7160,total_votes:13717,diff:-938,per_gop:.4535977254501713,per_dem:.521980024786761,per_point_diff:-.06838229933658968},{state_name:"Colorado",county_fips:8017,county_name:"Cheyenne County",votes_gop:993,votes_dem:131,total_votes:1136,diff:862,per_gop:.8741197183098591,per_dem:.1153169014084507,per_point_diff:.7588028169014084},{state_name:"Colorado",county_fips:8019,county_name:"Clear Creek County",votes_gop:2754,votes_dem:3604,total_votes:6548,diff:-850,per_gop:.4205864386072083,per_dem:.550397067806964,per_point_diff:-.12981062919975567},{state_name:"Colorado",county_fips:8021,county_name:"Conejos County",votes_gop:2286,votes_dem:1959,total_votes:4333,diff:327,per_gop:.5275790445418879,per_dem:.45211170090006925,per_point_diff:.07546734364181862},{state_name:"Colorado",county_fips:8023,county_name:"Costilla County",votes_gop:741,votes_dem:1311,total_votes:2094,diff:-570,per_gop:.3538681948424069,per_dem:.6260744985673352,per_point_diff:-.2722063037249283},{state_name:"Colorado",county_fips:8025,county_name:"Crowley County",votes_gop:1271,votes_dem:437,total_votes:1750,diff:834,per_gop:.7262857142857143,per_dem:.24971428571428572,per_point_diff:.4765714285714286},{state_name:"Colorado",county_fips:8027,county_name:"Custer County",votes_gop:2474,votes_dem:1112,total_votes:3634,diff:1362,per_gop:.6807925151348376,per_dem:.30599889928453494,per_point_diff:.3747936158503027},{state_name:"Colorado",county_fips:8029,county_name:"Delta County",votes_gop:13081,votes_dem:5887,total_votes:19370,diff:7194,per_gop:.6753226639132679,per_dem:.3039235931853381,per_point_diff:.37139907072792977},{state_name:"Colorado",county_fips:8031,county_name:"Denver County",votes_gop:71618,votes_dem:313293,total_votes:393827,diff:-241675,per_gop:.18185142207111243,per_dem:.7955091956620547,per_point_diff:-.6136577735909423},{state_name:"Colorado",county_fips:8033,county_name:"Dolores County",votes_gop:1089,votes_dem:341,total_votes:1449,diff:748,per_gop:.7515527950310559,per_dem:.23533471359558317,per_point_diff:.5162180814354727},{state_name:"Colorado",county_fips:8035,county_name:"Douglas County",votes_gop:121270,votes_dem:104653,total_votes:231599,diff:16617,per_gop:.5236205683098805,per_dem:.45187155384954164,per_point_diff:.07174901446033882},{state_name:"Colorado",county_fips:8037,county_name:"Eagle County",votes_gop:9892,votes_dem:18588,total_votes:29140,diff:-8696,per_gop:.3394646533973919,per_dem:.6378860672614962,per_point_diff:-.2984214138641043},{state_name:"Colorado",county_fips:8039,county_name:"Elbert County",votes_gop:14027,votes_dem:4490,total_votes:18983,diff:9537,per_gop:.7389243006900912,per_dem:.23652741926987306,per_point_diff:.5023968814202181},{state_name:"Colorado",county_fips:8041,county_name:"El Paso County",votes_gop:202828,votes_dem:161941,total_votes:378849,diff:40887,per_gop:.5353795311588522,per_dem:.42745526581830756,per_point_diff:.10792426534054461},{state_name:"Colorado",county_fips:8043,county_name:"Fremont County",votes_gop:17517,votes_dem:7369,total_votes:25557,diff:10148,per_gop:.6854090855734241,per_dem:.2883358766678405,per_point_diff:.39707320890558356},{state_name:"Colorado",county_fips:8045,county_name:"Garfield County",votes_gop:14717,votes_dem:15427,total_votes:30904,diff:-710,per_gop:.47621667098110276,per_dem:.4991910432306498,per_point_diff:-.022974372249547015},{state_name:"Colorado",county_fips:8047,county_name:"Gilpin County",votes_gop:1833,votes_dem:2223,total_votes:4186,diff:-390,per_gop:.43788819875776397,per_dem:.531055900621118,per_point_diff:-.09316770186335399},{state_name:"Colorado",county_fips:8049,county_name:"Grand County",votes_gop:4883,votes_dem:4710,total_votes:9870,diff:173,per_gop:.49473150962512663,per_dem:.47720364741641336,per_point_diff:.017527862208713274},{state_name:"Colorado",county_fips:8051,county_name:"Gunnison County",votes_gop:3735,votes_dem:7132,total_votes:11190,diff:-3397,per_gop:.33378016085790885,per_dem:.6373547810545129,per_point_diff:-.3035746201966041},{state_name:"Colorado",county_fips:8053,county_name:"Hinsdale County",votes_gop:353,votes_dem:255,total_votes:632,diff:98,per_gop:.5585443037974683,per_dem:.40348101265822783,per_point_diff:.1550632911392405},{state_name:"Colorado",county_fips:8055,county_name:"Huerfano County",votes_gop:2203,votes_dem:2076,total_votes:4406,diff:127,per_gop:.5,per_dem:.4711756695415343,per_point_diff:.02882433045846572},{state_name:"Colorado",county_fips:8057,county_name:"Jackson County",votes_gop:681,votes_dem:175,total_votes:876,diff:506,per_gop:.7773972602739726,per_dem:.1997716894977169,per_point_diff:.5776255707762556},{state_name:"Colorado",county_fips:8059,county_name:"Jefferson County",votes_gop:148417,votes_dem:218396,total_votes:377357,diff:-69979,per_gop:.39330660356108404,per_dem:.5787516860691599,per_point_diff:-.1854450825080759},{state_name:"Colorado",county_fips:8061,county_name:"Kiowa County",votes_gop:795,votes_dem:98,total_votes:903,diff:697,per_gop:.8803986710963455,per_dem:.10852713178294573,per_point_diff:.7718715393133998},{state_name:"Colorado",county_fips:8063,county_name:"Kit Carson County",votes_gop:3144,votes_dem:662,total_votes:3871,diff:2482,per_gop:.812193231723069,per_dem:.17101524153965383,per_point_diff:.6411779901834151},{state_name:"Colorado",county_fips:8065,county_name:"Lake County",votes_gop:1497,votes_dem:2303,total_votes:3961,diff:-806,per_gop:.3779348649330977,per_dem:.5814188336278717,per_point_diff:-.20348396869477403},{state_name:"Colorado",county_fips:8067,county_name:"La Plata County",votes_gop:14233,votes_dem:20548,total_votes:35667,diff:-6315,per_gop:.3990523453051841,per_dem:.5761067653573331,per_point_diff:-.177054420052149},{state_name:"Colorado",county_fips:8069,county_name:"Larimer County",votes_gop:91489,votes_dem:126120,total_votes:224338,diff:-34631,per_gop:.40781766798313257,per_dem:.5621874136347832,per_point_diff:-.15436974565165063},{state_name:"Colorado",county_fips:8071,county_name:"Las Animas County",votes_gop:4284,votes_dem:3497,total_votes:7961,diff:787,per_gop:.5381233513377717,per_dem:.4392664238161035,per_point_diff:.09885692752166819},{state_name:"Colorado",county_fips:8073,county_name:"Lincoln County",votes_gop:2135,votes_dem:470,total_votes:2651,diff:1665,per_gop:.8053564692568842,per_dem:.17729158807996984,per_point_diff:.6280648811769144},{state_name:"Colorado",county_fips:8075,county_name:"Logan County",votes_gop:8087,votes_dem:2218,total_votes:10532,diff:5869,per_gop:.7678503608051652,per_dem:.21059627800987465,per_point_diff:.5572540827952905},{state_name:"Colorado",county_fips:8077,county_name:"Mesa County",votes_gop:56894,votes_dem:31536,total_votes:90622,diff:25358,per_gop:.6278166449647988,per_dem:.34799496810928915,per_point_diff:.2798216768555097},{state_name:"Colorado",county_fips:8079,county_name:"Mineral County",votes_gop:427,votes_dem:317,total_votes:756,diff:110,per_gop:.5648148148148148,per_dem:.4193121693121693,per_point_diff:.14550264550264547},{state_name:"Colorado",county_fips:8081,county_name:"Moffat County",votes_gop:5670,votes_dem:1203,total_votes:7026,diff:4467,per_gop:.807002561912895,per_dem:.17122117847993168,per_point_diff:.6357813834329633},{state_name:"Colorado",county_fips:8083,county_name:"Montezuma County",votes_gop:9306,votes_dem:5836,total_votes:15500,diff:3470,per_gop:.6003870967741936,per_dem:.37651612903225806,per_point_diff:.2238709677419355},{state_name:"Colorado",county_fips:8085,county_name:"Montrose County",votes_gop:16770,votes_dem:7687,total_votes:24922,diff:9083,per_gop:.6728994462723698,per_dem:.3084423401011155,per_point_diff:.36445710617125426},{state_name:"Colorado",county_fips:8087,county_name:"Morgan County",votes_gop:9593,votes_dem:3876,total_votes:13744,diff:5717,per_gop:.697977299185099,per_dem:.2820139697322468,per_point_diff:.4159633294528522},{state_name:"Colorado",county_fips:8089,county_name:"Otero County",votes_gop:5756,votes_dem:3605,total_votes:9576,diff:2151,per_gop:.6010860484544696,per_dem:.37646198830409355,per_point_diff:.224624060150376},{state_name:"Colorado",county_fips:8091,county_name:"Ouray County",votes_gop:1577,votes_dem:2365,total_votes:4020,diff:-788,per_gop:.39228855721393036,per_dem:.5883084577114428,per_point_diff:-.19601990049751244},{state_name:"Colorado",county_fips:8093,county_name:"Park County",votes_gop:6991,votes_dem:4903,total_votes:12290,diff:2088,per_gop:.5688364524003254,per_dem:.3989422294548413,per_point_diff:.16989422294548412},{state_name:"Colorado",county_fips:8095,county_name:"Phillips County",votes_gop:1958,votes_dem:486,total_votes:2485,diff:1472,per_gop:.7879275653923541,per_dem:.19557344064386317,per_point_diff:.5923541247484909},{state_name:"Colorado",county_fips:8097,county_name:"Pitkin County",votes_gop:2780,votes_dem:8989,total_votes:11957,diff:-6209,per_gop:.2324997909174542,per_dem:.7517772016392071,per_point_diff:-.5192774107217529},{state_name:"Colorado",county_fips:8099,county_name:"Prowers County",votes_gop:4008,votes_dem:1458,total_votes:5561,diff:2550,per_gop:.7207336809926272,per_dem:.2621830606006114,per_point_diff:.45855062039201583},{state_name:"Colorado",county_fips:8101,county_name:"Pueblo County",votes_gop:42252,votes_dem:43772,total_votes:88299,diff:-1520,per_gop:.47851051540787554,per_dem:.49572475339471567,per_point_diff:-.01721423798684013},{state_name:"Colorado",county_fips:8103,county_name:"Rio Blanco County",votes_gop:3061,votes_dem:561,total_votes:3691,diff:2500,per_gop:.8293145489027364,per_dem:.1519913302628014,per_point_diff:.6773232186399349},{state_name:"Colorado",county_fips:8105,county_name:"Rio Grande County",votes_gop:3660,votes_dem:2495,total_votes:6305,diff:1165,per_gop:.5804916732751785,per_dem:.3957176843774782,per_point_diff:.1847739888977003},{state_name:"Colorado",county_fips:8107,county_name:"Routt County",votes_gop:5925,votes_dem:10582,total_votes:16876,diff:-4657,per_gop:.35109030575965866,per_dem:.62704432329936,per_point_diff:-.27595401753970134},{state_name:"Colorado",county_fips:8109,county_name:"Saguache County",votes_gop:1413,votes_dem:1884,total_votes:3389,diff:-471,per_gop:.4169371496016524,per_dem:.5559161994688698,per_point_diff:-.13897904986721743},{state_name:"Colorado",county_fips:8111,county_name:"San Juan County",votes_gop:202,votes_dem:342,total_votes:563,diff:-140,per_gop:.35879218472468916,per_dem:.6074600355239786,per_point_diff:-.2486678507992895},{state_name:"Colorado",county_fips:8113,county_name:"San Miguel County",votes_gop:1136,votes_dem:3924,total_votes:5147,diff:-2788,per_gop:.22071109384107246,per_dem:.7623858558383524,per_point_diff:-.5416747619972799},{state_name:"Colorado",county_fips:8115,county_name:"Sedgwick County",votes_gop:1121,votes_dem:301,total_votes:1446,diff:820,per_gop:.7752420470262794,per_dem:.20816044260027664,per_point_diff:.5670816044260027},{state_name:"Colorado",county_fips:8117,county_name:"Summit County",votes_gop:5322,votes_dem:12631,total_votes:18479,diff:-7309,per_gop:.2880025975431571,per_dem:.6835326586936522,per_point_diff:-.3955300611504951},{state_name:"Colorado",county_fips:8119,county_name:"Teller County",votes_gop:11241,votes_dem:5278,total_votes:16939,diff:5963,per_gop:.6636165062872661,per_dem:.3115886415963162,per_point_diff:.3520278646909499},{state_name:"Colorado",county_fips:8121,county_name:"Washington County",votes_gop:2595,votes_dem:369,total_votes:3008,diff:2226,per_gop:.8626994680851063,per_dem:.12267287234042554,per_point_diff:.7400265957446808},{state_name:"Colorado",county_fips:8123,county_name:"Weld County",votes_gop:96145,votes_dem:66060,total_votes:166968,diff:30085,per_gop:.5758289013463658,per_dem:.39564467442863305,per_point_diff:.18018422691773273},{state_name:"Colorado",county_fips:8125,county_name:"Yuma County",votes_gop:4107,votes_dem:785,total_votes:4981,diff:3322,per_gop:.8245332262597872,per_dem:.15759887572776551,per_point_diff:.6669343505320217},{state_name:"Connecticut",county_fips:9001,county_name:"Fairfield County",votes_gop:169039,votes_dem:297505,total_votes:472990,diff:-128466,per_gop:.3573838770375695,per_dem:.6289879278631684,per_point_diff:-.27160405082559885},{state_name:"Connecticut",county_fips:9003,county_name:"Hartford County",votes_gop:159024,votes_dem:283368,total_votes:449336,diff:-124344,per_gop:.3539088788790571,per_dem:.6306372069008492,per_point_diff:-.27672832802179215},{state_name:"Connecticut",county_fips:9005,county_name:"Litchfield County",votes_gop:55601,votes_dem:50164,total_votes:107544,diff:5437,per_gop:.5170069924867962,per_dem:.4664509410101912,per_point_diff:.05055605147660497},{state_name:"Connecticut",county_fips:9007,county_name:"Middlesex County",votes_gop:40665,votes_dem:56848,total_votes:99203,diff:-16183,per_gop:.40991703879922986,per_dem:.5730471860730019,per_point_diff:-.163130147273772},{state_name:"Connecticut",county_fips:9009,county_name:"New Haven County",votes_gop:169892,votes_dem:242629,total_votes:417980,diff:-72737,per_gop:.4064596392171874,per_dem:.5804799272692474,per_point_diff:-.17402028805205993},{state_name:"Connecticut",county_fips:9011,county_name:"New London County",votes_gop:57110,votes_dem:79459,total_votes:139604,diff:-22349,per_gop:.40908569955015617,per_dem:.5691742356952523,per_point_diff:-.1600885361450961},{state_name:"Connecticut",county_fips:9013,county_name:"Tolland County",votes_gop:34819,votes_dem:44006,total_votes:80546,diff:-9187,per_gop:.4322871402676731,per_dem:.5463461872718695,per_point_diff:-.11405904700419633},{state_name:"Connecticut",county_fips:9015,county_name:"Windham County",votes_gop:29141,votes_dem:26701,total_votes:57077,diff:2440,per_gop:.510555915692836,per_dem:.4678066471608529,per_point_diff:.042749268531983076},{state_name:"Delaware",county_fips:10001,county_name:"Kent County",votes_gop:41009,votes_dem:44552,total_votes:87025,diff:-3543,per_gop:.47123240448147086,per_dem:.5119448434357943,per_point_diff:-.040712438954323416},{state_name:"Delaware",county_fips:10003,county_name:"New Castle County",votes_gop:88364,votes_dem:195034,total_votes:287633,diff:-106670,per_gop:.3072109250329413,per_dem:.6780654514607156,per_point_diff:-.37085452642777433},{state_name:"Delaware",county_fips:10005,county_name:"Sussex County",votes_gop:71230,votes_dem:56682,total_votes:129352,diff:14548,per_gop:.5506679448327045,per_dem:.43819964128888617,per_point_diff:.11246830354381837},{state_name:"District of Columbia",county_fips:11001,county_name:"District of Columbia",votes_gop:18586,votes_dem:317323,total_votes:344356,diff:-298737,per_gop:.05397321376714795,per_dem:.9214969392140692,per_point_diff:-.8675237254469212},{state_name:"Florida",county_fips:12001,county_name:"Alachua County",votes_gop:50972,votes_dem:89704,total_votes:142604,diff:-38732,per_gop:.35743737903565115,per_dem:.629042663599899,per_point_diff:-.2716052845642479},{state_name:"Florida",county_fips:12003,county_name:"Baker County",votes_gop:11911,votes_dem:2037,total_votes:14059,diff:9874,per_gop:.8472153069208336,per_dem:.14488939469379045,per_point_diff:.7023259122270431},{state_name:"Florida",county_fips:12005,county_name:"Bay County",votes_gop:66097,votes_dem:25614,total_votes:93024,diff:40483,per_gop:.7105370657034744,per_dem:.2753482972136223,per_point_diff:.4351887684898521},{state_name:"Florida",county_fips:12007,county_name:"Bradford County",votes_gop:10334,votes_dem:3160,total_votes:13632,diff:7174,per_gop:.7580692488262911,per_dem:.2318075117370892,per_point_diff:.526261737089202},{state_name:"Florida",county_fips:12009,county_name:"Brevard County",votes_gop:207883,votes_dem:148549,total_votes:360764,diff:59334,per_gop:.5762298899003226,per_dem:.4117622600924704,per_point_diff:.16446762980785223},{state_name:"Florida",county_fips:12011,county_name:"Broward County",votes_gop:333409,votes_dem:618752,total_votes:957672,diff:-285343,per_gop:.3481452940046279,per_dem:.646100126139221,per_point_diff:-.29795483213459306},{state_name:"Florida",county_fips:12013,county_name:"Calhoun County",votes_gop:5274,votes_dem:1209,total_votes:6526,diff:4065,per_gop:.8081520073551947,per_dem:.1852589641434263,per_point_diff:.6228930432117683},{state_name:"Florida",county_fips:12015,county_name:"Charlotte County",votes_gop:73243,votes_dem:42273,total_votes:116340,diff:30970,per_gop:.629559910606842,per_dem:.36335740072202166,per_point_diff:.26620250988482036},{state_name:"Florida",county_fips:12017,county_name:"Citrus County",votes_gop:65352,votes_dem:27092,total_votes:93208,diff:38260,per_gop:.7011415329156295,per_dem:.29066174577289505,per_point_diff:.4104797871427345},{state_name:"Florida",county_fips:12019,county_name:"Clay County",votes_gop:84480,votes_dem:38317,total_votes:124405,diff:46163,per_gop:.6790723845504602,per_dem:.3080020899481532,per_point_diff:.37107029460230695},{state_name:"Florida",county_fips:12021,county_name:"Collier County",votes_gop:128950,votes_dem:77621,total_votes:207818,diff:51329,per_gop:.6204948560759895,per_dem:.37350470122895996,per_point_diff:.24699015484702957},{state_name:"Florida",county_fips:12023,county_name:"Columbia County",votes_gop:23836,votes_dem:8914,total_votes:33042,diff:14922,per_gop:.7213849040614975,per_dem:.2697778584831427,per_point_diff:.4516070455783548},{state_name:"Florida",county_fips:12027,county_name:"DeSoto County",votes_gop:8313,votes_dem:4259,total_votes:12659,diff:4054,per_gop:.6566869420965321,per_dem:.33644047713089503,per_point_diff:.3202464649656371},{state_name:"Florida",county_fips:12029,county_name:"Dixie County",votes_gop:6759,votes_dem:1365,total_votes:8167,diff:5394,per_gop:.8275988735153668,per_dem:.16713603526386678,per_point_diff:.6604628382515},{state_name:"Florida",county_fips:12031,county_name:"Duval County",votes_gop:233762,votes_dem:252556,total_votes:492820,diff:-18794,per_gop:.4743354571648878,per_dem:.5124710847774036,per_point_diff:-.038135627612515766},{state_name:"Florida",county_fips:12033,county_name:"Escambia County",votes_gop:96674,votes_dem:70929,total_votes:170372,diff:25745,per_gop:.5674289202451107,per_dem:.4163184091282605,per_point_diff:.1511105111168502},{state_name:"Florida",county_fips:12035,county_name:"Flagler County",votes_gop:43043,votes_dem:28161,total_votes:71716,diff:14882,per_gop:.6001868481231525,per_dem:.3926738803056501,per_point_diff:.2075129678175024},{state_name:"Florida",county_fips:12037,county_name:"Franklin County",votes_gop:4675,votes_dem:2120,total_votes:6849,diff:2555,per_gop:.6825813987443422,per_dem:.3095342385749745,per_point_diff:.37304716016936773},{state_name:"Florida",county_fips:12039,county_name:"Gadsden County",votes_gop:7465,votes_dem:16153,total_votes:23762,diff:-8688,per_gop:.31415705748674355,per_dem:.6797828465617373,per_point_diff:-.3656257890749937},{state_name:"Florida",county_fips:12041,county_name:"Gilchrist County",votes_gop:7895,votes_dem:1700,total_votes:9685,diff:6195,per_gop:.8151781104801239,per_dem:.17552916881775943,per_point_diff:.6396489416623645},{state_name:"Florida",county_fips:12043,county_name:"Glades County",votes_gop:3782,votes_dem:1385,total_votes:5193,diff:2397,per_gop:.7282880801078375,per_dem:.2667051800500674,per_point_diff:.46158290005777014},{state_name:"Florida",county_fips:12045,county_name:"Gulf County",votes_gop:6113,votes_dem:1985,total_votes:8163,diff:4128,per_gop:.7488668381722406,per_dem:.24317040303809873,per_point_diff:.505696435134142},{state_name:"Florida",county_fips:12047,county_name:"Hamilton County",votes_gop:3815,votes_dem:1963,total_votes:5830,diff:1852,per_gop:.6543739279588336,per_dem:.3367066895368782,per_point_diff:.31766723842195543},{state_name:"Florida",county_fips:12049,county_name:"Hardee County",votes_gop:6122,votes_dem:2298,total_votes:8485,diff:3824,per_gop:.7215085444902769,per_dem:.27083087802003536,per_point_diff:.45067766647024154},{state_name:"Florida",county_fips:12051,county_name:"Hendry County",votes_gop:7906,votes_dem:4929,total_votes:12940,diff:2977,per_gop:.6109737248840804,per_dem:.3809119010819165,per_point_diff:.2300618238021639},{state_name:"Florida",county_fips:12053,county_name:"Hernando County",votes_gop:70412,votes_dem:37519,total_votes:108922,diff:32893,per_gop:.6464442445052423,per_dem:.3444575016984631,per_point_diff:.3019867428067792},{state_name:"Florida",county_fips:12055,county_name:"Highlands County",votes_gop:34873,votes_dem:16938,total_votes:52170,diff:17935,per_gop:.668449300364194,per_dem:.3246693502012651,per_point_diff:.34377995016292895},{state_name:"Florida",county_fips:12057,county_name:"Hillsborough County",votes_gop:327398,votes_dem:376367,total_votes:712063,diff:-48969,per_gop:.459787968199443,per_dem:.5285585685536252,per_point_diff:-.06877060035418214},{state_name:"Florida",county_fips:12059,county_name:"Holmes County",votes_gop:8080,votes_dem:924,total_votes:9068,diff:7156,per_gop:.8910454344949272,per_dem:.10189677988531098,per_point_diff:.7891486546096163},{state_name:"Florida",county_fips:12061,county_name:"Indian River County",votes_gop:58872,votes_dem:37844,total_votes:97484,diff:21028,per_gop:.6039144885314514,per_dem:.3882072955561938,per_point_diff:.21570719297525753},{state_name:"Florida",county_fips:12063,county_name:"Jackson County",votes_gop:15488,votes_dem:6766,total_votes:22419,diff:8722,per_gop:.6908425888755074,per_dem:.3017975824077791,per_point_diff:.3890450064677283},{state_name:"Florida",county_fips:12065,county_name:"Jefferson County",votes_gop:4479,votes_dem:3897,total_votes:8451,diff:582,per_gop:.5299964501242457,per_dem:.46112886048988283,per_point_diff:.06886758963436285},{state_name:"Florida",county_fips:12067,county_name:"Lafayette County",votes_gop:3128,votes_dem:510,total_votes:3658,diff:2618,per_gop:.8551120831055221,per_dem:.1394204483324221,per_point_diff:.7156916347731},{state_name:"Florida",county_fips:12069,county_name:"Lake County",votes_gop:125859,votes_dem:83505,total_votes:211314,diff:42354,per_gop:.5956018058434368,per_dem:.3951702206195519,per_point_diff:.20043158522388488},{state_name:"Florida",county_fips:12071,county_name:"Lee County",votes_gop:233247,votes_dem:157695,total_votes:393899,diff:75552,per_gop:.5921492565353047,per_dem:.40034374293917985,per_point_diff:.19180551359612485},{state_name:"Florida",county_fips:12073,county_name:"Leon County",votes_gop:57453,votes_dem:103517,total_votes:162929,diff:-46064,per_gop:.35262599046210313,per_dem:.6353503673379202,per_point_diff:-.28272437687581703},{state_name:"Florida",county_fips:12075,county_name:"Levy County",votes_gop:16749,votes_dem:6205,total_votes:23145,diff:10544,per_gop:.7236552171095268,per_dem:.26809246057463815,per_point_diff:.4555627565348887},{state_name:"Florida",county_fips:12077,county_name:"Liberty County",votes_gop:2846,votes_dem:694,total_votes:3561,diff:2152,per_gop:.7992137040157259,per_dem:.19488907610221848,per_point_diff:.6043246279135074},{state_name:"Florida",county_fips:12079,county_name:"Madison County",votes_gop:5576,votes_dem:3747,total_votes:9380,diff:1829,per_gop:.594456289978678,per_dem:.39946695095948825,per_point_diff:.1949893390191898},{state_name:"Florida",county_fips:12081,county_name:"Manatee County",votes_gop:124987,votes_dem:90166,total_votes:216958,diff:34821,per_gop:.5760884595175103,per_dem:.41559195789046727,per_point_diff:.16049650162704304},{state_name:"Florida",county_fips:12083,county_name:"Marion County",votes_gop:127826,votes_dem:74858,total_votes:204376,diff:52968,per_gop:.6254452577602067,per_dem:.36627588366540104,per_point_diff:.2591693740948056},{state_name:"Florida",county_fips:12085,county_name:"Martin County",votes_gop:61168,votes_dem:36893,total_votes:98726,diff:24275,per_gop:.6195733646658428,per_dem:.3736908210603083,per_point_diff:.24588254360553446},{state_name:"Florida",county_fips:12086,county_name:"Miami-Dade County",votes_gop:532833,votes_dem:617864,total_votes:1156816,diff:-85031,per_gop:.4606030691138435,per_dem:.5341074120689894,per_point_diff:-.07350434295514585},{state_name:"Florida",county_fips:12087,county_name:"Monroe County",votes_gop:25693,votes_dem:21881,total_votes:48029,diff:3812,per_gop:.5349476358033688,per_dem:.4555789210685211,per_point_diff:.07936871473484769},{state_name:"Florida",county_fips:12089,county_name:"Nassau County",votes_gop:42566,votes_dem:15564,total_votes:58811,diff:27002,per_gop:.7237761643230008,per_dem:.2646443692506504,per_point_diff:.45913179507235047},{state_name:"Florida",county_fips:12091,county_name:"Okaloosa County",votes_gop:79798,votes_dem:34248,total_votes:116373,diff:45550,per_gop:.6857088843632114,per_dem:.29429506844371117,per_point_diff:.39141381591950025},{state_name:"Florida",county_fips:12093,county_name:"Okeechobee County",votes_gop:11470,votes_dem:4390,total_votes:15954,diff:7080,per_gop:.7189419581296227,per_dem:.2751661025448163,per_point_diff:.44377585558480637},{state_name:"Florida",county_fips:12095,county_name:"Orange County",votes_gop:245398,votes_dem:395014,total_votes:647403,diff:-149616,per_gop:.37904983449258034,per_dem:.6101516366158328,per_point_diff:-.2311018021232525},{state_name:"Florida",county_fips:12097,county_name:"Osceola County",votes_gop:73480,votes_dem:97297,total_votes:172436,diff:-23817,per_gop:.4261291145700434,per_dem:.5642499246097102,per_point_diff:-.13812081003966686},{state_name:"Florida",county_fips:12099,county_name:"Palm Beach County",votes_gop:334711,votes_dem:433572,total_votes:773158,diff:-98861,per_gop:.43291410035206257,per_dem:.5607805907718733,per_point_diff:-.12786649041981069},{state_name:"Florida",county_fips:12101,county_name:"Pasco County",votes_gop:179621,votes_dem:119073,total_votes:301970,diff:60548,per_gop:.5948306123124814,per_dem:.39432062787694144,per_point_diff:.2005099844355399},{state_name:"Florida",county_fips:12103,county_name:"Pinellas County",votes_gop:276209,votes_dem:277450,total_votes:559715,diff:-1241,per_gop:.493481503979704,per_dem:.49569870380461484,per_point_diff:-.002217199824910865},{state_name:"Florida",county_fips:12105,county_name:"Polk County",votes_gop:194586,votes_dem:145049,total_votes:343256,diff:49537,per_gop:.5668830260796607,per_dem:.42256799589810523,per_point_diff:.14431503018155545},{state_name:"Florida",county_fips:12107,county_name:"Putnam County",votes_gop:25514,votes_dem:10527,total_votes:36373,diff:14987,per_gop:.7014543754983091,per_dem:.2894179748714706,per_point_diff:.41203640062683855},{state_name:"Florida",county_fips:12109,county_name:"St. Johns County",votes_gop:110946,votes_dem:63850,total_votes:176622,diff:47096,per_gop:.6281550429731291,per_dem:.3615064940947334,per_point_diff:.2666485488783957},{state_name:"Florida",county_fips:12111,county_name:"St. Lucie County",votes_gop:86831,votes_dem:84137,total_votes:172169,diff:2694,per_gop:.5043358560484176,per_dem:.48868843984689464,per_point_diff:.015647416201522935},{state_name:"Florida",county_fips:12113,county_name:"Santa Rosa County",votes_gop:77385,votes_dem:27612,total_votes:106928,diff:49773,per_gop:.7237112823582224,per_dem:.258229836899596,per_point_diff:.46548144545862635},{state_name:"Florida",county_fips:12115,county_name:"Sarasota County",votes_gop:148370,votes_dem:120110,total_votes:270575,diff:28260,per_gop:.5483507345467985,per_dem:.4439064954264067,per_point_diff:.1044442391203918},{state_name:"Florida",county_fips:12117,county_name:"Seminole County",votes_gop:125241,votes_dem:132528,total_votes:260815,diff:-7287,per_gop:.48019093993827044,per_dem:.5081302839177194,per_point_diff:-.027939343979448972},{state_name:"Florida",county_fips:12119,county_name:"Sumter County",votes_gop:62761,votes_dem:29341,total_votes:92485,diff:33420,per_gop:.6786073417310915,per_dem:.3172514461804617,per_point_diff:.3613558955506298},{state_name:"Florida",county_fips:12121,county_name:"Suwannee County",votes_gop:16410,votes_dem:4485,total_votes:21057,diff:11925,per_gop:.7793132924918079,per_dem:.21299330388944293,per_point_diff:.566319988602365},{state_name:"Florida",county_fips:12123,county_name:"Taylor County",votes_gop:7751,votes_dem:2299,total_votes:10127,diff:5452,per_gop:.7653796780882789,per_dem:.2270168855534709,per_point_diff:.538362792534808},{state_name:"Florida",county_fips:12125,county_name:"Union County",votes_gop:5133,votes_dem:1053,total_votes:6245,diff:4080,per_gop:.821937550040032,per_dem:.16861489191353082,per_point_diff:.6533226581265011},{state_name:"Florida",county_fips:12127,county_name:"Volusia County",votes_gop:173821,votes_dem:130575,total_votes:307439,diff:43246,per_gop:.5653837021327808,per_dem:.4247183994223244,per_point_diff:.14066530271045635},{state_name:"Florida",county_fips:12129,county_name:"Wakulla County",votes_gop:12874,votes_dem:5351,total_votes:18404,diff:7523,per_gop:.6995218430775918,per_dem:.2907520104325147,per_point_diff:.4087698326450771},{state_name:"Florida",county_fips:12131,county_name:"Walton County",votes_gop:32947,votes_dem:10338,total_votes:43711,diff:22609,per_gop:.7537461966095491,per_dem:.23650797282148658,per_point_diff:.5172382237880625},{state_name:"Florida",county_fips:12133,county_name:"Washington County",votes_gop:9876,votes_dem:2347,total_votes:12327,diff:7529,per_gop:.8011681674373327,per_dem:.19039506773748682,per_point_diff:.6107730996998458},{state_name:"Georgia",county_fips:13001,county_name:"Appling County",votes_gop:6570,votes_dem:1784,total_votes:8390,diff:4786,per_gop:.7830750893921334,per_dem:.21263408820023838,per_point_diff:.570441001191895},{state_name:"Georgia",county_fips:13003,county_name:"Atkinson County",votes_gop:2300,votes_dem:825,total_votes:3155,diff:1475,per_gop:.7290015847860539,per_dem:.26148969889064977,per_point_diff:.46751188589540416},{state_name:"Georgia",county_fips:13005,county_name:"Bacon County",votes_gop:4017,votes_dem:625,total_votes:4667,diff:3392,per_gop:.8607242339832869,per_dem:.13391900578530105,per_point_diff:.7268052281979859},{state_name:"Georgia",county_fips:13007,county_name:"Baker County",votes_gop:897,votes_dem:652,total_votes:1555,diff:245,per_gop:.5768488745980708,per_dem:.4192926045016077,per_point_diff:.15755627009646306},{state_name:"Georgia",county_fips:13009,county_name:"Baldwin County",votes_gop:8903,votes_dem:9140,total_votes:18251,diff:-237,per_gop:.48780888718426385,per_dem:.500794477014958,per_point_diff:-.0129855898306942},{state_name:"Georgia",county_fips:13011,county_name:"Banks County",votes_gop:7795,votes_dem:932,total_votes:8801,diff:6863,per_gop:.885694807408249,per_dem:.1058970571525963,per_point_diff:.7797977502556527},{state_name:"Georgia",county_fips:13013,county_name:"Barrow County",votes_gop:26804,votes_dem:10453,total_votes:37921,diff:16351,per_gop:.7068378998444134,per_dem:.2756520133962712,per_point_diff:.43118588644814215},{state_name:"Georgia",county_fips:13015,county_name:"Bartow County",votes_gop:37672,votes_dem:12091,total_votes:50464,diff:25581,per_gop:.7465123652504756,per_dem:.23959654407102093,per_point_diff:.5069158211794547},{state_name:"Georgia",county_fips:13017,county_name:"Ben Hill County",votes_gop:4111,votes_dem:2393,total_votes:6564,diff:1718,per_gop:.6262949421084705,per_dem:.3645642900670323,per_point_diff:.2617306520414382},{state_name:"Georgia",county_fips:13019,county_name:"Berrien County",votes_gop:6419,votes_dem:1269,total_votes:7743,diff:5150,per_gop:.8290068448921607,per_dem:.16388996512979465,per_point_diff:.6651168797623661},{state_name:"Georgia",county_fips:13021,county_name:"Bibb County",votes_gop:26559,votes_dem:43408,total_votes:70714,diff:-16849,per_gop:.3755833356902452,per_dem:.613852985264587,per_point_diff:-.23826964957434177},{state_name:"Georgia",county_fips:13023,county_name:"Bleckley County",votes_gop:4329,votes_dem:1312,total_votes:5708,diff:3017,per_gop:.7584092501751927,per_dem:.22985283812193413,per_point_diff:.5285564120532585},{state_name:"Georgia",county_fips:13025,county_name:"Brantley County",votes_gop:6993,votes_dem:700,total_votes:7749,diff:6293,per_gop:.9024390243902439,per_dem:.09033423667570009,per_point_diff:.8121047877145439},{state_name:"Georgia",county_fips:13027,county_name:"Brooks County",votes_gop:4261,votes_dem:2791,total_votes:7101,diff:1470,per_gop:.6000563300943529,per_dem:.39304323334741587,per_point_diff:.20701309674693702},{state_name:"Georgia",county_fips:13029,county_name:"Bryan County",votes_gop:14240,votes_dem:6738,total_votes:21335,diff:7502,per_gop:.6674478556362784,per_dem:.31581907663463793,per_point_diff:.35162877900164047},{state_name:"Georgia",county_fips:13031,county_name:"Bulloch County",votes_gop:18387,votes_dem:11248,total_votes:30090,diff:7139,per_gop:.6110667996011964,per_dem:.3738118976404121,per_point_diff:.23725490196078425},{state_name:"Georgia",county_fips:13033,county_name:"Burke County",votes_gop:5400,votes_dem:5208,total_votes:10683,diff:192,per_gop:.5054759898904801,per_dem:.4875035102499298,per_point_diff:.017972479640550376},{state_name:"Georgia",county_fips:13035,county_name:"Butts County",votes_gop:8406,votes_dem:3274,total_votes:11771,diff:5132,per_gop:.71412794155127,per_dem:.27814119446096336,per_point_diff:.43598674709030666},{state_name:"Georgia",county_fips:13037,county_name:"Calhoun County",votes_gop:923,votes_dem:1263,total_votes:2198,diff:-340,per_gop:.41992720655141036,per_dem:.5746132848043676,per_point_diff:-.15468607825295722},{state_name:"Georgia",county_fips:13039,county_name:"Camden County",votes_gop:15249,votes_dem:7967,total_votes:23686,diff:7282,per_gop:.6437980241492866,per_dem:.33635903065101747,per_point_diff:.3074389934982691},{state_name:"Georgia",county_fips:13043,county_name:"Candler County",votes_gop:3133,votes_dem:1269,total_votes:4431,diff:1864,per_gop:.707063868201309,per_dem:.2863913337846987,per_point_diff:.42067253441661023},{state_name:"Georgia",county_fips:13045,county_name:"Carroll County",votes_gop:37476,votes_dem:16236,total_votes:54472,diff:21240,per_gop:.6879864884711412,per_dem:.29806138933764137,per_point_diff:.3899250991334998},{state_name:"Georgia",county_fips:13047,county_name:"Catoosa County",votes_gop:25167,votes_dem:6932,total_votes:32593,diff:18235,per_gop:.7721596661859909,per_dem:.21268370509005002,per_point_diff:.5594759610959408},{state_name:"Georgia",county_fips:13049,county_name:"Charlton County",votes_gop:3419,votes_dem:1105,total_votes:4568,diff:2314,per_gop:.7484676007005254,per_dem:.2419001751313485,per_point_diff:.5065674255691769},{state_name:"Georgia",county_fips:13051,county_name:"Chatham County",votes_gop:53232,votes_dem:78247,total_votes:133408,diff:-25015,per_gop:.3990165507315903,per_dem:.586524046533941,per_point_diff:-.18750749580235065},{state_name:"Georgia",county_fips:13053,county_name:"Chattahoochee County",votes_gop:880,votes_dem:667,total_votes:1582,diff:213,per_gop:.5562579013906448,per_dem:.4216182048040455,per_point_diff:.1346396965865993},{state_name:"Georgia",county_fips:13055,county_name:"Chattooga County",votes_gop:8064,votes_dem:1854,total_votes:10050,diff:6210,per_gop:.8023880597014925,per_dem:.18447761194029852,per_point_diff:.617910447761194},{state_name:"Georgia",county_fips:13057,county_name:"Cherokee County",votes_gop:99585,votes_dem:42779,total_votes:144815,diff:56806,per_gop:.6876704761247109,per_dem:.2954044815799468,per_point_diff:.3922659945447641},{state_name:"Georgia",county_fips:13059,county_name:"Clarke County",votes_gop:14450,votes_dem:36055,total_votes:51346,diff:-21605,per_gop:.28142406419195265,per_dem:.7021968605149379,per_point_diff:-.42077279632298525},{state_name:"Georgia",county_fips:13061,county_name:"Clay County",votes_gop:637,votes_dem:791,total_votes:1435,diff:-154,per_gop:.44390243902439025,per_dem:.551219512195122,per_point_diff:-.10731707317073175},{state_name:"Georgia",county_fips:13063,county_name:"Clayton County",votes_gop:15811,votes_dem:95466,total_votes:112330,diff:-79655,per_gop:.14075491854357697,per_dem:.8498709160509214,per_point_diff:-.7091159975073444},{state_name:"Georgia",county_fips:13065,county_name:"Clinch County",votes_gop:2105,votes_dem:744,total_votes:2861,diff:1361,per_gop:.7357567284166375,per_dem:.2600489339391821,per_point_diff:.4757077944774554},{state_name:"Georgia",county_fips:13067,county_name:"Cobb County",votes_gop:165436,votes_dem:221847,total_votes:393728,diff:-56411,per_gop:.42017839726918077,per_dem:.5634524341677504,per_point_diff:-.1432740368985696},{state_name:"Georgia",county_fips:13069,county_name:"Coffee County",votes_gop:10578,votes_dem:4511,total_votes:15214,diff:6067,per_gop:.6952806625476535,per_dem:.29650322071776,per_point_diff:.39877744182989355},{state_name:"Georgia",county_fips:13071,county_name:"Colquitt County",votes_gop:11777,votes_dem:4190,total_votes:16086,diff:7587,per_gop:.7321273156782295,per_dem:.26047494715902025,per_point_diff:.4716523685192093},{state_name:"Georgia",county_fips:13073,county_name:"Columbia County",votes_gop:50013,votes_dem:29232,total_votes:80575,diff:20781,per_gop:.6207012100527459,per_dem:.3627924294135898,per_point_diff:.2579087806391561},{state_name:"Georgia",county_fips:13075,county_name:"Cook County",votes_gop:4900,votes_dem:2059,total_votes:7035,diff:2841,per_gop:.6965174129353234,per_dem:.29267945984363897,per_point_diff:.40383795309168447},{state_name:"Georgia",county_fips:13077,county_name:"Coweta County",votes_gop:51501,votes_dem:24210,total_votes:76799,diff:27291,per_gop:.6705946692014219,per_dem:.315238479667704,per_point_diff:.35535618953371784},{state_name:"Georgia",county_fips:13079,county_name:"Crawford County",votes_gop:4428,votes_dem:1615,total_votes:6102,diff:2813,per_gop:.7256637168141593,per_dem:.2646673221894461,per_point_diff:.4609963946247132},{state_name:"Georgia",county_fips:13081,county_name:"Crisp County",votes_gop:4985,votes_dem:2982,total_votes:8033,diff:2003,per_gop:.6205651686791983,per_dem:.3712187227685796,per_point_diff:.24934644591061872},{state_name:"Georgia",county_fips:13083,county_name:"Dade County",votes_gop:6066,votes_dem:1261,total_votes:7434,diff:4805,per_gop:.8159806295399515,per_dem:.16962604250739843,per_point_diff:.6463545870325531},{state_name:"Georgia",county_fips:13085,county_name:"Dawson County",votes_gop:13398,votes_dem:2486,total_votes:16081,diff:10912,per_gop:.833157141968783,per_dem:.15459237609601392,per_point_diff:.678564765872769},{state_name:"Georgia",county_fips:13087,county_name:"Decatur County",votes_gop:6755,votes_dem:4782,total_votes:11625,diff:1973,per_gop:.5810752688172043,per_dem:.41135483870967743,per_point_diff:.16972043010752685},{state_name:"Georgia",county_fips:13089,county_name:"DeKalb County",votes_gop:58377,votes_dem:308162,total_votes:370746,diff:-249785,per_gop:.1574582058875888,per_dem:.8311944026368457,per_point_diff:-.673736196749257},{state_name:"Georgia",county_fips:13091,county_name:"Dodge County",votes_gop:5843,votes_dem:2172,total_votes:8071,diff:3671,per_gop:.7239499442448272,per_dem:.26911163424606616,per_point_diff:.454838309998761},{state_name:"Georgia",county_fips:13093,county_name:"Dooly County",votes_gop:2159,votes_dem:1911,total_votes:4105,diff:248,per_gop:.5259439707673569,per_dem:.46552984165651645,per_point_diff:.06041412911084043},{state_name:"Georgia",county_fips:13095,county_name:"Dougherty County",votes_gop:10441,votes_dem:24568,total_votes:35287,diff:-14127,per_gop:.29588800408082294,per_dem:.696233740470995,per_point_diff:-.400345736390172},{state_name:"Georgia",county_fips:13097,county_name:"Douglas County",votes_gop:25454,votes_dem:42814,total_votes:69106,diff:-17360,per_gop:.3683327062773131,per_dem:.6195409949931988,per_point_diff:-.2512082887158857},{state_name:"Georgia",county_fips:13099,county_name:"Early County",votes_gop:2710,votes_dem:2450,total_votes:5188,diff:260,per_gop:.5223592906707787,per_dem:.47224363916730916,per_point_diff:.05011565150346953},{state_name:"Georgia",county_fips:13101,county_name:"Echols County",votes_gop:1256,votes_dem:167,total_votes:1441,diff:1089,per_gop:.871616932685635,per_dem:.11589174184594032,per_point_diff:.7557251908396947},{state_name:"Georgia",county_fips:13103,county_name:"Effingham County",votes_gop:23361,votes_dem:7718,total_votes:31571,diff:15643,per_gop:.7399512210572994,per_dem:.2444648569890089,per_point_diff:.4954863640682905},{state_name:"Georgia",county_fips:13105,county_name:"Elbert County",votes_gop:6226,votes_dem:2879,total_votes:9171,diff:3347,per_gop:.6788790753462,per_dem:.31392432668193215,per_point_diff:.3649547486642678},{state_name:"Georgia",county_fips:13107,county_name:"Emanuel County",votes_gop:6553,votes_dem:2886,total_votes:9505,diff:3667,per_gop:.6894266175697001,per_dem:.3036296685954761,per_point_diff:.38579694897422406},{state_name:"Georgia",county_fips:13109,county_name:"Evans County",votes_gop:2888,votes_dem:1324,total_votes:4247,diff:1564,per_gop:.6800094184129974,per_dem:.3117494702142689,per_point_diff:.36825994819872854},{state_name:"Georgia",county_fips:13111,county_name:"Fannin County",votes_gop:12169,votes_dem:2570,total_votes:14849,diff:9599,per_gop:.8195164657552697,per_dem:.17307562798841672,per_point_diff:.646440837766853},{state_name:"Georgia",county_fips:13113,county_name:"Fayette County",votes_gop:37956,votes_dem:33062,total_votes:71994,diff:4894,per_gop:.527210600883407,per_dem:.4592327138372642,per_point_diff:.06797788704614277},{state_name:"Georgia",county_fips:13115,county_name:"Floyd County",votes_gop:28906,votes_dem:11917,total_votes:41341,diff:16989,per_gop:.6992090176822041,per_dem:.28826104835393435,per_point_diff:.41094796932826977},{state_name:"Georgia",county_fips:13117,county_name:"Forsyth County",votes_gop:85123,votes_dem:42208,total_votes:129311,diff:42915,per_gop:.65828119804193,per_dem:.326406879538477,per_point_diff:.33187431850345295},{state_name:"Georgia",county_fips:13119,county_name:"Franklin County",votes_gop:9069,votes_dem:1593,total_votes:10765,diff:7476,per_gop:.8424523920111472,per_dem:.14797956339990712,per_point_diff:.69447282861124},{state_name:"Georgia",county_fips:13121,county_name:"Fulton County",votes_gop:137247,votes_dem:380212,total_votes:523779,diff:-242965,per_gop:.2620322693349676,per_dem:.7259015729916625,per_point_diff:-.4638693036566949},{state_name:"Georgia",county_fips:13123,county_name:"Gilmer County",votes_gop:13429,votes_dem:2932,total_votes:16525,diff:10497,per_gop:.8126475037821482,per_dem:.17742813918305597,per_point_diff:.6352193645990922},{state_name:"Georgia",county_fips:13125,county_name:"Glascock County",votes_gop:1402,votes_dem:155,total_votes:1565,diff:1247,per_gop:.8958466453674121,per_dem:.09904153354632587,per_point_diff:.7968051118210863},{state_name:"Georgia",county_fips:13127,county_name:"Glynn County",votes_gop:25617,votes_dem:15882,total_votes:41988,diff:9735,per_gop:.6101028865390111,per_dem:.3782509288368105,per_point_diff:.23185195770220063},{state_name:"Georgia",county_fips:13129,county_name:"Gordon County",votes_gop:19405,votes_dem:4384,total_votes:24033,diff:15021,per_gop:.8074314484250822,per_dem:.18241584487995674,per_point_diff:.6250156035451254},{state_name:"Georgia",county_fips:13131,county_name:"Grady County",votes_gop:7034,votes_dem:3619,total_votes:10707,diff:3415,per_gop:.6569533949752498,per_dem:.33800317549266834,per_point_diff:.3189502194825815},{state_name:"Georgia",county_fips:13133,county_name:"Greene County",votes_gop:7066,votes_dem:4087,total_votes:11244,diff:2979,per_gop:.6284240483813589,per_dem:.36348274635361083,per_point_diff:.26494130202774807},{state_name:"Georgia",county_fips:13135,county_name:"Gwinnett County",votes_gop:166400,votes_dem:241994,total_votes:414023,diff:-75594,per_gop:.4019100388142688,per_dem:.5844940981539672,per_point_diff:-.18258405933969846},{state_name:"Georgia",county_fips:13137,county_name:"Habersham County",votes_gop:16637,votes_dem:3562,total_votes:20431,diff:13075,per_gop:.8143017962899516,per_dem:.17434291028339288,per_point_diff:.6399588860065587},{state_name:"Georgia",county_fips:13139,county_name:"Hall County",votes_gop:64183,votes_dem:25033,total_votes:90537,diff:39150,per_gop:.7089145874062538,per_dem:.27649469277753846,per_point_diff:.43241989462871533},{state_name:"Georgia",county_fips:13141,county_name:"Hancock County",votes_gop:1154,votes_dem:2976,total_votes:4153,diff:-1822,per_gop:.2778714182518661,per_dem:.7165904165663376,per_point_diff:-.4387189983144715},{state_name:"Georgia",county_fips:13143,county_name:"Haralson County",votes_gop:12330,votes_dem:1791,total_votes:14246,diff:10539,per_gop:.8655061069773972,per_dem:.12571950021058542,per_point_diff:.7397866067668117},{state_name:"Georgia",county_fips:13145,county_name:"Harris County",votes_gop:14319,votes_dem:5457,total_votes:19991,diff:8862,per_gop:.7162723225451453,per_dem:.27297283777699966,per_point_diff:.4432994847681456},{state_name:"Georgia",county_fips:13147,county_name:"Hart County",votes_gop:9465,votes_dem:3157,total_votes:12728,diff:6308,per_gop:.7436360779384035,per_dem:.24803582652419862,per_point_diff:.49560025141420483},{state_name:"Georgia",county_fips:13149,county_name:"Heard County",votes_gop:4519,votes_dem:824,total_votes:5394,diff:3695,per_gop:.8377827215424546,per_dem:.15276232851316277,per_point_diff:.6850203930292919},{state_name:"Georgia",county_fips:13151,county_name:"Henry County",votes_gop:48259,votes_dem:73443,total_votes:122998,diff:-25184,per_gop:.39235597326785804,per_dem:.5971072700369112,per_point_diff:-.20475129676905318},{state_name:"Georgia",county_fips:13153,county_name:"Houston County",votes_gop:41540,votes_dem:32239,total_votes:74838,diff:9301,per_gop:.5550656083807691,per_dem:.4307838263983538,per_point_diff:.12428178198241535},{state_name:"Georgia",county_fips:13155,county_name:"Irwin County",votes_gop:3134,votes_dem:1008,total_votes:4168,diff:2126,per_gop:.7519193857965452,per_dem:.2418426103646833,per_point_diff:.5100767754318618},{state_name:"Georgia",county_fips:13157,county_name:"Jackson County",votes_gop:29502,votes_dem:7642,total_votes:37675,diff:21860,per_gop:.7830656934306569,per_dem:.2028400796284008,per_point_diff:.5802256138022561},{state_name:"Georgia",county_fips:13159,county_name:"Jasper County",votes_gop:5822,votes_dem:1761,total_votes:7644,diff:4061,per_gop:.7616431187859759,per_dem:.23037676609105182,per_point_diff:.5312663526949241},{state_name:"Georgia",county_fips:13161,county_name:"Jeff Davis County",votes_gop:4695,votes_dem:1028,total_votes:5771,diff:3667,per_gop:.8135505111765725,per_dem:.17813203950788425,per_point_diff:.6354184716686883},{state_name:"Georgia",county_fips:13163,county_name:"Jefferson County",votes_gop:3537,votes_dem:4058,total_votes:7639,diff:-521,per_gop:.463018719727713,per_dem:.5312213640528866,per_point_diff:-.06820264432517353},{state_name:"Georgia",county_fips:13165,county_name:"Jenkins County",votes_gop:2161,votes_dem:1266,total_votes:3455,diff:895,per_gop:.6254703328509407,per_dem:.36642547033285094,per_point_diff:.2590448625180897},{state_name:"Georgia",county_fips:13167,county_name:"Johnson County",votes_gop:2850,votes_dem:1222,total_votes:4100,diff:1628,per_gop:.6951219512195121,per_dem:.29804878048780487,per_point_diff:.3970731707317073},{state_name:"Georgia",county_fips:13169,county_name:"Jones County",votes_gop:9940,votes_dem:4882,total_votes:14934,diff:5058,per_gop:.6655952859247355,per_dem:.3269050488817464,per_point_diff:.3386902370429891},{state_name:"Georgia",county_fips:13171,county_name:"Lamar County",votes_gop:6331,votes_dem:2620,total_votes:9045,diff:3711,per_gop:.6999447208402432,per_dem:.2896627971254837,per_point_diff:.41028192371475947},{state_name:"Georgia",county_fips:13173,county_name:"Lanier County",votes_gop:2509,votes_dem:1019,total_votes:3576,diff:1490,per_gop:.7016219239373602,per_dem:.2849552572706935,per_point_diff:.41666666666666674},{state_name:"Georgia",county_fips:13175,county_name:"Laurens County",votes_gop:14493,votes_dem:8074,total_votes:22731,diff:6419,per_gop:.6375874356605516,per_dem:.3551977475693986,per_point_diff:.28238968809115306},{state_name:"Georgia",county_fips:13177,county_name:"Lee County",votes_gop:12007,votes_dem:4558,total_votes:16714,diff:7449,per_gop:.7183798013641259,per_dem:.27270551633361256,per_point_diff:.4456742850305134},{state_name:"Georgia",county_fips:13179,county_name:"Liberty County",votes_gop:7959,votes_dem:13104,total_votes:21394,diff:-5145,per_gop:.37202019257735813,per_dem:.6125081798635131,per_point_diff:-.240487987286155},{state_name:"Georgia",county_fips:13181,county_name:"Lincoln County",votes_gop:3173,votes_dem:1432,total_votes:4641,diff:1741,per_gop:.6836888601594484,per_dem:.3085541909071321,per_point_diff:.3751346692523163},{state_name:"Georgia",county_fips:13183,county_name:"Long County",votes_gop:3527,votes_dem:2035,total_votes:5657,diff:1492,per_gop:.6234753402863709,per_dem:.35973130634611983,per_point_diff:.26374403394025103},{state_name:"Georgia",county_fips:13185,county_name:"Lowndes County",votes_gop:25692,votes_dem:20116,total_votes:46355,diff:5576,per_gop:.5542444180778773,per_dem:.433955344623018,per_point_diff:.12028907345485929},{state_name:"Georgia",county_fips:13187,county_name:"Lumpkin County",votes_gop:12163,votes_dem:3126,total_votes:15531,diff:9037,per_gop:.7831433906380787,per_dem:.2012748696156075,per_point_diff:.5818685210224712},{state_name:"Georgia",county_fips:13189,county_name:"McDuffie County",votes_gop:6169,votes_dem:4168,total_votes:10455,diff:2001,per_gop:.5900526064084171,per_dem:.39866092778574846,per_point_diff:.1913916786226686},{state_name:"Georgia",county_fips:13191,county_name:"McIntosh County",votes_gop:4016,votes_dem:2612,total_votes:6696,diff:1404,per_gop:.5997610513739546,per_dem:.3900836320191159,per_point_diff:.20967741935483875},{state_name:"Georgia",county_fips:13193,county_name:"Macon County",votes_gop:1783,votes_dem:2858,total_votes:4663,diff:-1075,per_gop:.3823718636071199,per_dem:.6129101436843234,per_point_diff:-.2305382800772035},{state_name:"Georgia",county_fips:13195,county_name:"Madison County",votes_gop:11326,votes_dem:3411,total_votes:14937,diff:7915,per_gop:.7582513222199906,per_dem:.22835910825466962,per_point_diff:.5298922139653209},{state_name:"Georgia",county_fips:13197,county_name:"Marion County",votes_gop:2275,votes_dem:1312,total_votes:3625,diff:963,per_gop:.6275862068965518,per_dem:.3619310344827586,per_point_diff:.26565517241379316},{state_name:"Georgia",county_fips:13199,county_name:"Meriwether County",votes_gop:6524,votes_dem:4287,total_votes:10877,diff:2237,per_gop:.5997977383469707,per_dem:.3941344120621495,per_point_diff:.2056633262848212},{state_name:"Georgia",county_fips:13201,county_name:"Miller County",votes_gop:2066,votes_dem:748,total_votes:2834,diff:1318,per_gop:.7290049400141143,per_dem:.2639378969654199,per_point_diff:.4650670430486944},{state_name:"Georgia",county_fips:13205,county_name:"Mitchell County",votes_gop:4935,votes_dem:3993,total_votes:8962,diff:942,per_gop:.5506583351930373,per_dem:.4455478687792903,per_point_diff:.105110466413747},{state_name:"Georgia",county_fips:13207,county_name:"Monroe County",votes_gop:11057,votes_dem:4385,total_votes:15590,diff:6672,per_gop:.7092366901860166,per_dem:.2812700449005773,per_point_diff:.4279666452854394},{state_name:"Georgia",county_fips:13209,county_name:"Montgomery County",votes_gop:2960,votes_dem:980,total_votes:3967,diff:1980,per_gop:.7461557852281321,per_dem:.24703806402823292,per_point_diff:.49911772119989917},{state_name:"Georgia",county_fips:13211,county_name:"Morgan County",votes_gop:8231,votes_dem:3353,total_votes:11706,diff:4878,per_gop:.7031436869981206,per_dem:.28643430719289253,per_point_diff:.41670937980522804},{state_name:"Georgia",county_fips:13213,county_name:"Murray County",votes_gop:12944,votes_dem:2301,total_votes:15389,diff:10643,per_gop:.8411202807199948,per_dem:.1495223861199558,per_point_diff:.691597894600039},{state_name:"Georgia",county_fips:13215,county_name:"Muscogee County",votes_gop:30107,votes_dem:49446,total_votes:80514,diff:-19339,per_gop:.37393496783168145,per_dem:.6141292197630226,per_point_diff:-.24019425193134114},{state_name:"Georgia",county_fips:13217,county_name:"Newton County",votes_gop:23869,votes_dem:29789,total_votes:54234,diff:-5920,per_gop:.44011136925176086,per_dem:.5492679868717041,per_point_diff:-.10915661761994322},{state_name:"Georgia",county_fips:13219,county_name:"Oconee County",votes_gop:16595,votes_dem:8162,total_votes:25168,diff:8433,per_gop:.6593690400508583,per_dem:.3243006993006993,per_point_diff:.33506834075015896},{state_name:"Georgia",county_fips:13221,county_name:"Oglethorpe County",votes_gop:5592,votes_dem:2439,total_votes:8133,diff:3153,per_gop:.6875691626706013,per_dem:.299889339727038,per_point_diff:.3876798229435633},{state_name:"Georgia",county_fips:13223,county_name:"Paulding County",votes_gop:54517,votes_dem:29695,total_votes:85372,diff:24822,per_gop:.6385817364006935,per_dem:.34783067047743993,per_point_diff:.29075106592325356},{state_name:"Georgia",county_fips:13225,county_name:"Peach County",votes_gop:6506,votes_dem:5922,total_votes:12553,diff:584,per_gop:.5182824822751534,per_dem:.4717597387078786,per_point_diff:.046522743567274816},{state_name:"Georgia",county_fips:13227,county_name:"Pickens County",votes_gop:14110,votes_dem:2824,total_votes:17167,diff:11286,per_gop:.8219257878487797,per_dem:.1645016601619386,per_point_diff:.6574241276868411},{state_name:"Georgia",county_fips:13229,county_name:"Pierce County",votes_gop:7898,votes_dem:1100,total_votes:9047,diff:6798,per_gop:.8729965734497623,per_dem:.12158726649718139,per_point_diff:.7514093069525809},{state_name:"Georgia",county_fips:13231,county_name:"Pike County",votes_gop:9127,votes_dem:1505,total_votes:10720,diff:7622,per_gop:.8513992537313433,per_dem:.14039179104477612,per_point_diff:.7110074626865672},{state_name:"Georgia",county_fips:13233,county_name:"Polk County",votes_gop:13587,votes_dem:3657,total_votes:17396,diff:9930,per_gop:.781041618762934,per_dem:.21022074040009198,per_point_diff:.570820878362842},{state_name:"Georgia",county_fips:13235,county_name:"Pulaski County",votes_gop:2815,votes_dem:1230,total_votes:4081,diff:1585,per_gop:.6897819161970106,per_dem:.3013967164910561,per_point_diff:.3883851997059545},{state_name:"Georgia",county_fips:13237,county_name:"Putnam County",votes_gop:8291,votes_dem:3448,total_votes:11855,diff:4843,per_gop:.699367355546183,per_dem:.2908477435681147,per_point_diff:.4085196119780683},{state_name:"Georgia",county_fips:13239,county_name:"Quitman County",votes_gop:604,votes_dem:497,total_votes:1106,diff:107,per_gop:.546112115732369,per_dem:.44936708860759494,per_point_diff:.09674502712477401},{state_name:"Georgia",county_fips:13241,county_name:"Rabun County",votes_gop:7474,votes_dem:1984,total_votes:9568,diff:5490,per_gop:.7811454849498328,per_dem:.20735785953177258,per_point_diff:.5737876254180603},{state_name:"Georgia",county_fips:13243,county_name:"Randolph County",votes_gop:1390,votes_dem:1671,total_votes:3073,diff:-281,per_gop:.4523267165636186,per_dem:.5437683045883501,per_point_diff:-.09144158802473151},{state_name:"Georgia",county_fips:13245,county_name:"Richmond County",votes_gop:26780,votes_dem:59119,total_votes:87009,diff:-32339,per_gop:.307784252203795,per_dem:.6794584468273397,per_point_diff:-.3716741946235447},{state_name:"Georgia",county_fips:13247,county_name:"Rockdale County",votes_gop:13014,votes_dem:31237,total_votes:44681,diff:-18223,per_gop:.29126474340323627,per_dem:.6991114791522124,per_point_diff:-.4078467357489761},{state_name:"Georgia",county_fips:13249,county_name:"Schley County",votes_gop:1800,votes_dem:462,total_votes:2275,diff:1338,per_gop:.7912087912087912,per_dem:.20307692307692307,per_point_diff:.5881318681318681},{state_name:"Georgia",county_fips:13251,county_name:"Screven County",votes_gop:3915,votes_dem:2661,total_votes:6627,diff:1254,per_gop:.5907650520597555,per_dem:.40153915799004075,per_point_diff:.18922589406971474},{state_name:"Georgia",county_fips:13253,county_name:"Seminole County",votes_gop:2613,votes_dem:1256,total_votes:3888,diff:1357,per_gop:.6720679012345679,per_dem:.3230452674897119,per_point_diff:.34902263374485604},{state_name:"Georgia",county_fips:13255,county_name:"Spalding County",votes_gop:18104,votes_dem:11828,total_votes:30211,diff:6276,per_gop:.5992519281056569,per_dem:.3915130250570984,per_point_diff:.20773890304855847},{state_name:"Georgia",county_fips:13257,county_name:"Stephens County",votes_gop:9367,votes_dem:2386,total_votes:11885,diff:6981,per_gop:.7881363062684056,per_dem:.20075725704669753,per_point_diff:.587379049221708},{state_name:"Georgia",county_fips:13259,county_name:"Stewart County",votes_gop:801,votes_dem:1182,total_votes:1990,diff:-381,per_gop:.40251256281407033,per_dem:.5939698492462312,per_point_diff:-.19145728643216087},{state_name:"Georgia",county_fips:13261,county_name:"Sumter County",votes_gop:5733,votes_dem:6314,total_votes:12148,diff:-581,per_gop:.47192953572604546,per_dem:.5197563384919328,per_point_diff:-.047826802765887355},{state_name:"Georgia",county_fips:13263,county_name:"Talbot County",votes_gop:1392,votes_dem:2114,total_votes:3522,diff:-722,per_gop:.39522998296422485,per_dem:.6002271436683703,per_point_diff:-.20499716070414542},{state_name:"Georgia",county_fips:13265,county_name:"Taliaferro County",votes_gop:360,votes_dem:561,total_votes:928,diff:-201,per_gop:.3879310344827586,per_dem:.6045258620689655,per_point_diff:-.2165948275862069},{state_name:"Georgia",county_fips:13267,county_name:"Tattnall County",votes_gop:6054,votes_dem:2062,total_votes:8185,diff:3992,per_gop:.7396456933414783,per_dem:.25192425167990223,per_point_diff:.4877214416615761},{state_name:"Georgia",county_fips:13269,county_name:"Taylor County",votes_gop:2420,votes_dem:1388,total_votes:3842,diff:1032,per_gop:.6298802706923478,per_dem:.3612701717855284,per_point_diff:.26861009890681936},{state_name:"Georgia",county_fips:13271,county_name:"Telfair County",votes_gop:2825,votes_dem:1488,total_votes:4334,diff:1337,per_gop:.6518227964928472,per_dem:.34333179510844486,per_point_diff:.3084910013844024},{state_name:"Georgia",county_fips:13273,county_name:"Terrell County",votes_gop:2004,votes_dem:2376,total_votes:4416,diff:-372,per_gop:.453804347826087,per_dem:.5380434782608695,per_point_diff:-.08423913043478254},{state_name:"Georgia",county_fips:13275,county_name:"Thomas County",votes_gop:12969,votes_dem:8708,total_votes:21872,diff:4261,per_gop:.5929498902706657,per_dem:.398134601316752,per_point_diff:.1948152889539137},{state_name:"Georgia",county_fips:13277,county_name:"Tift County",votes_gop:10784,votes_dem:5318,total_votes:16279,diff:5466,per_gop:.6624485533509429,per_dem:.32667854290804105,per_point_diff:.33577001044290183},{state_name:"Georgia",county_fips:13279,county_name:"Toombs County",votes_gop:7873,votes_dem:2938,total_votes:10914,diff:4935,per_gop:.7213670514934946,per_dem:.26919552867876123,per_point_diff:.45217152281473333},{state_name:"Georgia",county_fips:13281,county_name:"Towns County",votes_gop:6384,votes_dem:1550,total_votes:7979,diff:4834,per_gop:.800100263190876,per_dem:.19425993232234615,per_point_diff:.6058403308685298},{state_name:"Georgia",county_fips:13283,county_name:"Treutlen County",votes_gop:2101,votes_dem:952,total_votes:3077,diff:1149,per_gop:.682807929801755,per_dem:.30939226519337015,per_point_diff:.3734156646083848},{state_name:"Georgia",county_fips:13285,county_name:"Troup County",votes_gop:18142,votes_dem:11577,total_votes:30047,diff:6565,per_gop:.6037873997404067,per_dem:.38529636902186576,per_point_diff:.21849103071854098},{state_name:"Georgia",county_fips:13287,county_name:"Turner County",votes_gop:2349,votes_dem:1409,total_votes:3791,diff:940,per_gop:.619625428646795,per_dem:.3716697441308362,per_point_diff:.24795568451595884},{state_name:"Georgia",county_fips:13289,county_name:"Twiggs County",votes_gop:2370,votes_dem:2044,total_votes:4444,diff:326,per_gop:.5333033303330333,per_dem:.45994599459945995,per_point_diff:.07335733573357339},{state_name:"Georgia",county_fips:13291,county_name:"Union County",votes_gop:12650,votes_dem:2800,total_votes:15558,diff:9850,per_gop:.813086514976218,per_dem:.17997171872991388,per_point_diff:.6331147962463041},{state_name:"Georgia",county_fips:13293,county_name:"Upson County",votes_gop:8606,votes_dem:4203,total_votes:12905,diff:4403,per_gop:.6668733049205734,per_dem:.3256877179387834,per_point_diff:.34118558698178997},{state_name:"Georgia",county_fips:13295,county_name:"Walker County",votes_gop:23173,votes_dem:5770,total_votes:29354,diff:17403,per_gop:.7894324453226136,per_dem:.1965660557334605,per_point_diff:.592866389589153},{state_name:"Georgia",county_fips:13297,county_name:"Walton County",votes_gop:37839,votes_dem:12683,total_votes:51093,diff:25156,per_gop:.7405906875697258,per_dem:.24823361321511753,per_point_diff:.4923570743546083},{state_name:"Georgia",county_fips:13299,county_name:"Ware County",votes_gop:9903,votes_dem:4169,total_votes:14189,diff:5734,per_gop:.6979350200859821,per_dem:.29381915568398054,per_point_diff:.40411586440200153},{state_name:"Georgia",county_fips:13301,county_name:"Warren County",votes_gop:1166,votes_dem:1468,total_votes:2650,diff:-302,per_gop:.44,per_dem:.5539622641509434,per_point_diff:-.1139622641509434},{state_name:"Georgia",county_fips:13303,county_name:"Washington County",votes_gop:4668,votes_dem:4743,total_votes:9477,diff:-75,per_gop:.49256093700538145,per_dem:.5004748338081672,per_point_diff:-.007913896802785703},{state_name:"Georgia",county_fips:13305,county_name:"Wayne County",votes_gop:9987,votes_dem:2688,total_votes:12779,diff:7299,per_gop:.781516550590813,per_dem:.21034509742546365,per_point_diff:.5711714531653493},{state_name:"Georgia",county_fips:13307,county_name:"Webster County",votes_gop:748,votes_dem:640,total_votes:1391,diff:108,per_gop:.5377426312005751,per_dem:.46010064701653486,per_point_diff:.07764198418404022},{state_name:"Georgia",county_fips:13309,county_name:"Wheeler County",votes_gop:1583,votes_dem:689,total_votes:2285,diff:894,per_gop:.6927789934354486,per_dem:.3015317286652079,per_point_diff:.3912472647702407},{state_name:"Georgia",county_fips:13311,county_name:"White County",votes_gop:12222,votes_dem:2411,total_votes:14816,diff:9811,per_gop:.8249190064794817,per_dem:.1627294816414687,per_point_diff:.662189524838013},{state_name:"Georgia",county_fips:13313,county_name:"Whitfield County",votes_gop:25644,votes_dem:10680,total_votes:36766,diff:14964,per_gop:.6974922482728608,per_dem:.29048577490072347,per_point_diff:.40700647337213736},{state_name:"Georgia",county_fips:13315,county_name:"Wilcox County",votes_gop:2402,votes_dem:861,total_votes:3279,diff:1541,per_gop:.7325404086611772,per_dem:.262580054894785,per_point_diff:.4699603537663922},{state_name:"Georgia",county_fips:13317,county_name:"Wilkes County",votes_gop:2823,votes_dem:2160,total_votes:5030,diff:663,per_gop:.5612326043737574,per_dem:.4294234592445328,per_point_diff:.13180914512922465},{state_name:"Georgia",county_fips:13319,county_name:"Wilkinson County",votes_gop:2665,votes_dem:2074,total_votes:4770,diff:591,per_gop:.5587002096436059,per_dem:.4348008385744235,per_point_diff:.12389937106918242},{state_name:"Georgia",county_fips:13321,county_name:"Worth County",votes_gop:6830,votes_dem:2395,total_votes:9285,diff:4435,per_gop:.7355950457727517,per_dem:.2579429186860528,per_point_diff:.4776521270866989},{state_name:"Hawaii",county_fips:15001,county_name:"Hawaii County",votes_gop:26897,votes_dem:58731,total_votes:87814,diff:-31834,per_gop:.3062951237843624,per_dem:.6688113512651741,per_point_diff:-.3625162274808117},{state_name:"Hawaii",county_fips:15003,county_name:"Honolulu County",votes_gop:136259,votes_dem:238869,total_votes:382114,diff:-102610,per_gop:.3565925352120048,per_dem:.6251249627074643,per_point_diff:-.2685324274954595},{state_name:"Hawaii",county_fips:15007,county_name:"Kauai County",votes_gop:11582,votes_dem:21225,total_votes:33497,diff:-9643,per_gop:.3457623070722751,per_dem:.6336388333283578,per_point_diff:-.2878765262560827},{state_name:"Hawaii",county_fips:15009,county_name:"Maui County",votes_gop:22126,votes_dem:47305,total_votes:71044,diff:-25179,per_gop:.311440797252407,per_dem:.6658549631214459,per_point_diff:-.3544141658690389},{state_name:"Idaho",county_fips:16001,county_name:"Ada County",votes_gop:130699,votes_dem:120539,total_votes:259389,diff:10160,per_gop:.5038725620593009,per_dem:.46470359190250937,per_point_diff:.039168970156791494},{state_name:"Idaho",county_fips:16003,county_name:"Adams County",votes_gop:1941,votes_dem:591,total_votes:2586,diff:1350,per_gop:.7505800464037123,per_dem:.228538283062645,per_point_diff:.5220417633410673},{state_name:"Idaho",county_fips:16005,county_name:"Bannock County",votes_gop:23331,votes_dem:14682,total_votes:39553,diff:8649,per_gop:.5898667610547872,per_dem:.37119813920562283,per_point_diff:.21866862184916436},{state_name:"Idaho",county_fips:16007,county_name:"Bear Lake County",votes_gop:2914,votes_dem:350,total_votes:3315,diff:2564,per_gop:.8790346907993967,per_dem:.10558069381598793,per_point_diff:.7734539969834088},{state_name:"Idaho",county_fips:16009,county_name:"Benewah County",votes_gop:3878,votes_dem:977,total_votes:4973,diff:2901,per_gop:.779810979288156,per_dem:.1964608887995174,per_point_diff:.5833500904886386},{state_name:"Idaho",county_fips:16011,county_name:"Bingham County",votes_gop:15295,votes_dem:4124,total_votes:20094,diff:11171,per_gop:.7611724893002887,per_dem:.20523539364984572,per_point_diff:.555937095650443},{state_name:"Idaho",county_fips:16013,county_name:"Blaine County",votes_gop:4031,votes_dem:8919,total_votes:13288,diff:-4888,per_gop:.3033564118001204,per_dem:.671207104154124,per_point_diff:-.3678506923540036},{state_name:"Idaho",county_fips:16015,county_name:"Boise County",votes_gop:3485,votes_dem:1204,total_votes:4820,diff:2281,per_gop:.7230290456431535,per_dem:.24979253112033195,per_point_diff:.47323651452282156},{state_name:"Idaho",county_fips:16017,county_name:"Bonner County",votes_gop:18369,votes_dem:8310,total_votes:27352,diff:10059,per_gop:.6715779467680608,per_dem:.30381690552793217,per_point_diff:.36776104124012865},{state_name:"Idaho",county_fips:16019,county_name:"Bonneville County",votes_gop:37805,votes_dem:14254,total_votes:53995,diff:23551,per_gop:.700157421983517,per_dem:.26398740624131867,per_point_diff:.4361700157421984},{state_name:"Idaho",county_fips:16021,county_name:"Boundary County",votes_gop:4937,votes_dem:1220,total_votes:6313,diff:3717,per_gop:.7820370663709805,per_dem:.19325201964200855,per_point_diff:.5887850467289719},{state_name:"Idaho",county_fips:16023,county_name:"Butte County",votes_gop:1202,votes_dem:188,total_votes:1415,diff:1014,per_gop:.8494699646643109,per_dem:.13286219081272085,per_point_diff:.71660777385159},{state_name:"Idaho",county_fips:16025,county_name:"Camas County",votes_gop:507,votes_dem:149,total_votes:754,diff:358,per_gop:.6724137931034483,per_dem:.1976127320954907,per_point_diff:.4748010610079576},{state_name:"Idaho",county_fips:16027,county_name:"Canyon County",votes_gop:61759,votes_dem:25881,total_votes:90438,diff:35878,per_gop:.6828877241867357,per_dem:.2861739534266569,per_point_diff:.3967137707600788},{state_name:"Idaho",county_fips:16029,county_name:"Caribou County",votes_gop:2906,votes_dem:431,total_votes:3416,diff:2475,per_gop:.8507025761124122,per_dem:.12617096018735363,per_point_diff:.7245316159250585},{state_name:"Idaho",county_fips:16031,county_name:"Cassia County",votes_gop:7907,votes_dem:1464,total_votes:9629,diff:6443,per_gop:.8211652300342714,per_dem:.15204071035413855,per_point_diff:.6691245196801329},{state_name:"Idaho",county_fips:16033,county_name:"Clark County",votes_gop:264,votes_dem:41,total_votes:311,diff:223,per_gop:.8488745980707395,per_dem:.13183279742765272,per_point_diff:.7170418006430868},{state_name:"Idaho",county_fips:16035,county_name:"Clearwater County",votes_gop:3453,votes_dem:877,total_votes:4419,diff:2576,per_gop:.781398506449423,per_dem:.1984611903145508,per_point_diff:.5829373161348722},{state_name:"Idaho",county_fips:16037,county_name:"Custer County",votes_gop:2089,votes_dem:603,total_votes:2739,diff:1486,per_gop:.7626871120847024,per_dem:.22015334063526834,per_point_diff:.542533771449434},{state_name:"Idaho",county_fips:16039,county_name:"Elmore County",votes_gop:7246,votes_dem:2601,total_votes:10205,diff:4645,per_gop:.7100440960313572,per_dem:.254875061244488,per_point_diff:.4551690347868692},{state_name:"Idaho",county_fips:16041,county_name:"Franklin County",votes_gop:5845,votes_dem:657,total_votes:6664,diff:5188,per_gop:.8771008403361344,per_dem:.09858943577430973,per_point_diff:.7785114045618247},{state_name:"Idaho",county_fips:16043,county_name:"Fremont County",votes_gop:5548,votes_dem:998,total_votes:6719,diff:4550,per_gop:.8257181128144069,per_dem:.14853400803691025,per_point_diff:.6771841047774967},{state_name:"Idaho",county_fips:16045,county_name:"Gem County",votes_gop:7951,votes_dem:1803,total_votes:9958,diff:6148,per_gop:.7984535047198232,per_dem:.1810604539064069,per_point_diff:.6173930508134163},{state_name:"Idaho",county_fips:16047,county_name:"Gooding County",votes_gop:4659,votes_dem:1256,total_votes:6050,diff:3403,per_gop:.7700826446280992,per_dem:.20760330578512395,per_point_diff:.5624793388429752},{state_name:"Idaho",county_fips:16049,county_name:"Idaho County",votes_gop:7826,votes_dem:1561,total_votes:9602,diff:6265,per_gop:.8150385336388253,per_dem:.16257029785461363,per_point_diff:.6524682357842116},{state_name:"Idaho",county_fips:16051,county_name:"Jefferson County",votes_gop:12099,votes_dem:1661,total_votes:14173,diff:10438,per_gop:.8536654201651026,per_dem:.11719466591406195,per_point_diff:.7364707542510407},{state_name:"Idaho",county_fips:16053,county_name:"Jerome County",votes_gop:5734,votes_dem:1893,total_votes:7812,diff:3841,per_gop:.7339989759344598,per_dem:.2423195084485407,per_point_diff:.4916794674859192},{state_name:"Idaho",county_fips:16055,county_name:"Kootenai County",votes_gop:62837,votes_dem:24312,total_votes:89878,diff:38525,per_gop:.6991366074011438,per_dem:.27050001112619326,per_point_diff:.42863659627495054},{state_name:"Idaho",county_fips:16057,county_name:"Latah County",votes_gop:9472,votes_dem:10236,total_votes:20570,diff:-764,per_gop:.46047642197374816,per_dem:.4976178901312591,per_point_diff:-.03714146815751096},{state_name:"Idaho",county_fips:16059,county_name:"Lemhi County",votes_gop:3592,votes_dem:1032,total_votes:4738,diff:2560,per_gop:.7581257914731955,per_dem:.2178134233853947,per_point_diff:.5403123680878008},{state_name:"Idaho",county_fips:16061,county_name:"Lewis County",votes_gop:1489,votes_dem:349,total_votes:1870,diff:1140,per_gop:.7962566844919786,per_dem:.18663101604278076,per_point_diff:.6096256684491979},{state_name:"Idaho",county_fips:16063,county_name:"Lincoln County",votes_gop:1469,votes_dem:414,total_votes:1940,diff:1055,per_gop:.7572164948453608,per_dem:.2134020618556701,per_point_diff:.5438144329896907},{state_name:"Idaho",county_fips:16065,county_name:"Madison County",votes_gop:13559,votes_dem:2666,total_votes:17112,diff:10893,per_gop:.7923679289387564,per_dem:.15579710144927536,per_point_diff:.636570827489481},{state_name:"Idaho",county_fips:16067,county_name:"Minidoka County",votes_gop:6265,votes_dem:1550,total_votes:7993,diff:4715,per_gop:.7838108344801702,per_dem:.1939196797197548,per_point_diff:.5898911547604154},{state_name:"Idaho",county_fips:16069,county_name:"Nez Perce County",votes_gop:13738,votes_dem:6686,total_votes:20967,diff:7052,per_gop:.6552201077884294,per_dem:.31888205274955883,per_point_diff:.3363380550388706},{state_name:"Idaho",county_fips:16071,county_name:"Oneida County",votes_gop:2148,votes_dem:249,total_votes:2451,diff:1899,per_gop:.8763769889840881,per_dem:.10159118727050184,per_point_diff:.7747858017135862},{state_name:"Idaho",county_fips:16073,county_name:"Owyhee County",votes_gop:3819,votes_dem:816,total_votes:4742,diff:3003,per_gop:.8053563897089836,per_dem:.1720792914382117,per_point_diff:.6332770982707718},{state_name:"Idaho",county_fips:16075,county_name:"Payette County",votes_gop:8862,votes_dem:2161,total_votes:11293,diff:6701,per_gop:.7847339059594439,per_dem:.1913574780837687,per_point_diff:.5933764278756752},{state_name:"Idaho",county_fips:16077,county_name:"Power County",votes_gop:2116,votes_dem:865,total_votes:3086,diff:1251,per_gop:.6856772521062865,per_dem:.280298120544394,per_point_diff:.4053791315618925},{state_name:"Idaho",county_fips:16079,county_name:"Shoshone County",votes_gop:4216,votes_dem:1693,total_votes:6049,diff:2523,per_gop:.6969747065630683,per_dem:.27988097206149776,per_point_diff:.4170937345015705},{state_name:"Idaho",county_fips:16081,county_name:"Teton County",votes_gop:2858,votes_dem:3318,total_votes:6347,diff:-460,per_gop:.4502914762880101,per_dem:.5227666614148416,per_point_diff:-.07247518512683154},{state_name:"Idaho",county_fips:16083,county_name:"Twin Falls County",votes_gop:25897,votes_dem:9391,total_votes:36680,diff:16506,per_gop:.7060250817884406,per_dem:.2560250817884406,per_point_diff:.45},{state_name:"Idaho",county_fips:16085,county_name:"Valley County",votes_gop:3947,votes_dem:2976,total_votes:7063,diff:971,per_gop:.5588276936146114,per_dem:.4213507008353391,per_point_diff:.13747699277927228},{state_name:"Idaho",county_fips:16087,county_name:"Washington County",votes_gop:4154,votes_dem:1073,total_votes:5344,diff:3081,per_gop:.7773203592814372,per_dem:.20078592814371257,per_point_diff:.5765344311377246},{state_name:"Illinois",county_fips:17001,county_name:"Adams County",votes_gop:24220,votes_dem:8633,total_votes:33527,diff:15587,per_gop:.7224028395024905,per_dem:.25749396009186626,per_point_diff:.46490887941062425},{state_name:"Illinois",county_fips:17003,county_name:"Alexander County",votes_gop:1486,votes_dem:1114,total_votes:2625,diff:372,per_gop:.5660952380952381,per_dem:.42438095238095236,per_point_diff:.14171428571428574},{state_name:"Illinois",county_fips:17005,county_name:"Bond County",votes_gop:5625,votes_dem:2288,total_votes:8144,diff:3337,per_gop:.6906925343811395,per_dem:.28094302554027506,per_point_diff:.4097495088408645},{state_name:"Illinois",county_fips:17007,county_name:"Boone County",votes_gop:13883,votes_dem:10542,total_votes:24979,diff:3341,per_gop:.5557868609632091,per_dem:.4220345089875495,per_point_diff:.13375235197565954},{state_name:"Illinois",county_fips:17009,county_name:"Brown County",votes_gop:1931,votes_dem:486,total_votes:2525,diff:1445,per_gop:.7647524752475248,per_dem:.19247524752475248,per_point_diff:.5722772277227723},{state_name:"Illinois",county_fips:17011,county_name:"Bureau County",votes_gop:10411,votes_dem:6669,total_votes:17434,diff:3742,per_gop:.5971664563496616,per_dem:.38252839279568657,per_point_diff:.21463806355397502},{state_name:"Illinois",county_fips:17013,county_name:"Calhoun County",votes_gop:2046,votes_dem:677,total_votes:2773,diff:1369,per_gop:.7378290659935088,per_dem:.2441399206635413,per_point_diff:.49368914532996755},{state_name:"Illinois",county_fips:17015,county_name:"Carroll County",votes_gop:5105,votes_dem:2748,total_votes:8024,diff:2357,per_gop:.6362163509471586,per_dem:.3424725822532403,per_point_diff:.2937437686939183},{state_name:"Illinois",county_fips:17017,county_name:"Cass County",votes_gop:3625,votes_dem:1615,total_votes:5326,diff:2010,per_gop:.6806233571160345,per_dem:.3032294404806609,per_point_diff:.3773939166353736},{state_name:"Illinois",county_fips:17019,county_name:"Champaign County",votes_gop:35285,votes_dem:57067,total_votes:95568,diff:-21782,per_gop:.36921354428260506,per_dem:.5971350242759083,per_point_diff:-.2279214799933032},{state_name:"Illinois",county_fips:17021,county_name:"Christian County",votes_gop:11563,votes_dem:4335,total_votes:16204,diff:7228,per_gop:.7135892372253765,per_dem:.2675265366576154,per_point_diff:.4460627005677611},{state_name:"Illinois",county_fips:17023,county_name:"Clark County",votes_gop:6226,votes_dem:1993,total_votes:8355,diff:4233,per_gop:.745182525433872,per_dem:.23853979652902454,per_point_diff:.5066427289048474},{state_name:"Illinois",county_fips:17025,county_name:"Clay County",votes_gop:5629,votes_dem:1129,total_votes:6899,diff:4500,per_gop:.815915350050732,per_dem:.16364690534860124,per_point_diff:.6522684447021307},{state_name:"Illinois",county_fips:17027,county_name:"Clinton County",votes_gop:14304,votes_dem:4493,total_votes:19214,diff:9811,per_gop:.7444571666493182,per_dem:.23383990840012492,per_point_diff:.5106172582491932},{state_name:"Illinois",county_fips:17029,county_name:"Coles County",votes_gop:14037,votes_dem:8067,total_votes:22606,diff:5970,per_gop:.6209413430062816,per_dem:.35685216314252854,per_point_diff:.264089179863753},{state_name:"Illinois",county_fips:17031,county_name:"Cook County",votes_gop:558269,votes_dem:1725973,total_votes:2321399,diff:-1167704,per_gop:.24048817114162624,per_dem:.7435055326550929,per_point_diff:-.5030173615134667},{state_name:"Illinois",county_fips:17033,county_name:"Crawford County",votes_gop:7043,votes_dem:2202,total_votes:9441,diff:4841,per_gop:.7460014828937612,per_dem:.23323800444868129,per_point_diff:.51276347844508},{state_name:"Illinois",county_fips:17035,county_name:"Cumberland County",votes_gop:4601,votes_dem:1142,total_votes:5850,diff:3459,per_gop:.7864957264957265,per_dem:.19521367521367522,per_point_diff:.5912820512820514},{state_name:"Illinois",county_fips:17037,county_name:"DeKalb County",votes_gop:21905,votes_dem:24643,total_votes:47989,diff:-2738,per_gop:.4564587718018713,per_dem:.5135135135135135,per_point_diff:-.05705474171164221},{state_name:"Illinois",county_fips:17039,county_name:"De Witt County",votes_gop:5632,votes_dem:2191,total_votes:8024,diff:3441,per_gop:.7018943170488534,per_dem:.27305583250249255,per_point_diff:.42883848454636087},{state_name:"Illinois",county_fips:17041,county_name:"Douglas County",votes_gop:6227,votes_dem:2335,total_votes:8760,diff:3892,per_gop:.7108447488584475,per_dem:.2665525114155251,per_point_diff:.4442922374429224},{state_name:"Illinois",county_fips:17043,county_name:"DuPage County",votes_gop:193611,votes_dem:281222,total_votes:485064,diff:-87611,per_gop:.399145267428628,per_dem:.5797626704929659,per_point_diff:-.18061740306433793},{state_name:"Illinois",county_fips:17045,county_name:"Edgar County",votes_gop:6193,votes_dem:1887,total_votes:8196,diff:4306,per_gop:.7556124938994632,per_dem:.23023426061493413,per_point_diff:.525378233284529},{state_name:"Illinois",county_fips:17047,county_name:"Edwards County",votes_gop:2833,votes_dem:488,total_votes:3368,diff:2345,per_gop:.8411520190023754,per_dem:.14489311163895488,per_point_diff:.6962589073634204},{state_name:"Illinois",county_fips:17049,county_name:"Effingham County",votes_gop:15006,votes_dem:3716,total_votes:19083,diff:11290,per_gop:.7863543468008175,per_dem:.1947282921972436,per_point_diff:.5916260546035739},{state_name:"Illinois",county_fips:17051,county_name:"Fayette County",votes_gop:8055,votes_dem:1826,total_votes:10076,diff:6229,per_gop:.7994243747518857,per_dem:.1812227074235808,per_point_diff:.6182016673283048},{state_name:"Illinois",county_fips:17053,county_name:"Ford County",votes_gop:5048,votes_dem:1754,total_votes:6967,diff:3294,per_gop:.7245586335582029,per_dem:.25175828907707765,per_point_diff:.4728003444811253},{state_name:"Illinois",county_fips:17055,county_name:"Franklin County",votes_gop:13622,votes_dem:4760,total_votes:18669,diff:8862,per_gop:.7296587926509186,per_dem:.254968128983877,per_point_diff:.4746906636670416},{state_name:"Illinois",county_fips:17057,county_name:"Fulton County",votes_gop:9867,votes_dem:6503,total_votes:16724,diff:3364,per_gop:.5899904329107869,per_dem:.38884238220521405,per_point_diff:.20114805070557285},{state_name:"Illinois",county_fips:17059,county_name:"Gallatin County",votes_gop:2019,votes_dem:622,total_votes:2675,diff:1397,per_gop:.7547663551401869,per_dem:.23252336448598132,per_point_diff:.5222429906542055},{state_name:"Illinois",county_fips:17061,county_name:"Greene County",votes_gop:4770,votes_dem:1349,total_votes:6227,diff:3421,per_gop:.7660189497350249,per_dem:.21663722498795568,per_point_diff:.5493817247470693},{state_name:"Illinois",county_fips:17063,county_name:"Grundy County",votes_gop:16523,votes_dem:9626,total_votes:26753,diff:6897,per_gop:.6176129779837776,per_dem:.35981011475348557,per_point_diff:.257802863230292},{state_name:"Illinois",county_fips:17065,county_name:"Hamilton County",votes_gop:3432,votes_dem:824,total_votes:4323,diff:2608,per_gop:.7938931297709924,per_dem:.19060837381448067,per_point_diff:.6032847559565117},{state_name:"Illinois",county_fips:17067,county_name:"Hancock County",votes_gop:6906,votes_dem:2315,total_votes:9383,diff:4591,per_gop:.7360119364808697,per_dem:.2467227965469466,per_point_diff:.4892891399339231},{state_name:"Illinois",county_fips:17069,county_name:"Hardin County",votes_gop:1691,votes_dem:449,total_votes:2162,diff:1242,per_gop:.7821461609620721,per_dem:.20767807585568918,per_point_diff:.5744680851063829},{state_name:"Illinois",county_fips:17071,county_name:"Henderson County",votes_gop:2394,votes_dem:1187,total_votes:3656,diff:1207,per_gop:.6548140043763676,per_dem:.324671772428884,per_point_diff:.3301422319474836},{state_name:"Illinois",county_fips:17073,county_name:"Henry County",votes_gop:15300,votes_dem:9797,total_votes:25700,diff:5503,per_gop:.5953307392996109,per_dem:.3812062256809339,per_point_diff:.21412451361867701},{state_name:"Illinois",county_fips:17075,county_name:"Iroquois County",votes_gop:10877,votes_dem:2908,total_votes:14044,diff:7969,per_gop:.774494446026773,per_dem:.2070635146681857,per_point_diff:.5674309313585872},{state_name:"Illinois",county_fips:17077,county_name:"Jackson County",votes_gop:10890,votes_dem:11181,total_votes:22716,diff:-291,per_gop:.47939778129952454,per_dem:.4922081352350766,per_point_diff:-.012810353935552077},{state_name:"Illinois",county_fips:17079,county_name:"Jasper County",votes_gop:4494,votes_dem:1007,total_votes:5586,diff:3487,per_gop:.8045112781954887,per_dem:.18027210884353742,per_point_diff:.6242391693519513},{state_name:"Illinois",county_fips:17081,county_name:"Jefferson County",votes_gop:12476,votes_dem:4608,total_votes:17436,diff:7868,per_gop:.7155310851112641,per_dem:.264280798348245,per_point_diff:.45125028676301904},{state_name:"Illinois",county_fips:17083,county_name:"Jersey County",votes_gop:8712,votes_dem:2961,total_votes:11960,diff:5751,per_gop:.728428093645485,per_dem:.2475752508361204,per_point_diff:.4808528428093646},{state_name:"Illinois",county_fips:17085,county_name:"Jo Daviess County",votes_gop:7166,votes_dem:5109,total_votes:12495,diff:2057,per_gop:.5735094037615046,per_dem:.40888355342136856,per_point_diff:.16462585034013605},{state_name:"Illinois",county_fips:17087,county_name:"Johnson County",votes_gop:5059,votes_dem:1281,total_votes:6450,diff:3778,per_gop:.7843410852713179,per_dem:.1986046511627907,per_point_diff:.5857364341085272},{state_name:"Illinois",county_fips:17089,county_name:"Kane County",votes_gop:96775,votes_dem:130166,total_votes:231876,diff:-33391,per_gop:.4173566906449999,per_dem:.561360382273284,per_point_diff:-.14400369162828408},{state_name:"Illinois",county_fips:17091,county_name:"Kankakee County",votes_gop:28532,votes_dem:20271,total_votes:50039,diff:8261,per_gop:.5701952477067888,per_dem:.4051040188652851,per_point_diff:.16509122884150368},{state_name:"Illinois",county_fips:17093,county_name:"Kendall County",votes_gop:29492,votes_dem:33168,total_votes:64205,diff:-3676,per_gop:.45934117280585623,per_dem:.5165952807413753,per_point_diff:-.05725410793551905},{state_name:"Illinois",county_fips:17095,county_name:"Knox County",votes_gop:12009,votes_dem:10703,total_votes:23205,diff:1306,per_gop:.5175177763413058,per_dem:.46123680241327303,per_point_diff:.056280973928032774},{state_name:"Illinois",county_fips:17097,county_name:"Lake County",votes_gop:123594,votes_dem:204032,total_votes:334156,diff:-80438,per_gop:.3698691629059481,per_dem:.6105890661846562,per_point_diff:-.24071990327870812},{state_name:"Illinois",county_fips:17099,county_name:"LaSalle County",votes_gop:30113,votes_dem:22442,total_votes:53683,diff:7671,per_gop:.5609410800439618,per_dem:.4180466814447777,per_point_diff:.14289439859918412},{state_name:"Illinois",county_fips:17101,county_name:"Lawrence County",votes_gop:4886,votes_dem:1419,total_votes:6422,diff:3467,per_gop:.7608221737776394,per_dem:.22095920274057926,per_point_diff:.5398629710370602},{state_name:"Illinois",county_fips:17103,county_name:"Lee County",votes_gop:9630,votes_dem:6407,total_votes:16440,diff:3223,per_gop:.5857664233576643,per_dem:.3897201946472019,per_point_diff:.19604622871046234},{state_name:"Illinois",county_fips:17105,county_name:"Livingston County",votes_gop:12208,votes_dem:4615,total_votes:17174,diff:7593,per_gop:.710841970420403,per_dem:.2687201583789449,per_point_diff:.44212181204145806},{state_name:"Illinois",county_fips:17107,county_name:"Logan County",votes_gop:9136,votes_dem:3840,total_votes:13294,diff:5296,per_gop:.6872273205957575,per_dem:.2888521137355198,per_point_diff:.39837520686023775},{state_name:"Illinois",county_fips:17109,county_name:"McDonough County",votes_gop:7027,votes_dem:4992,total_votes:12285,diff:2035,per_gop:.571998371998372,per_dem:.40634920634920635,per_point_diff:.16564916564916565},{state_name:"Illinois",county_fips:17111,county_name:"McHenry County",votes_gop:82260,votes_dem:78154,total_votes:164578,diff:4106,per_gop:.4998237917583152,per_dem:.4748751351942544,per_point_diff:.02494865656406081},{state_name:"Illinois",county_fips:17113,county_name:"McLean County",votes_gop:40502,votes_dem:43933,total_votes:87389,diff:-3431,per_gop:.4634679421895204,per_dem:.5027291764409708,per_point_diff:-.039261234251450394},{state_name:"Illinois",county_fips:17115,county_name:"Macon County",votes_gop:28589,votes_dem:19847,total_votes:49387,diff:8742,per_gop:.5788770324174378,per_dem:.4018668880474619,per_point_diff:.17701014436997592},{state_name:"Illinois",county_fips:17117,county_name:"Macoupin County",votes_gop:16153,votes_dem:7365,total_votes:24070,diff:8788,per_gop:.6710843373493975,per_dem:.30598255089322807,per_point_diff:.3651017864561695},{state_name:"Illinois",county_fips:17119,county_name:"Madison County",votes_gop:76031,votes_dem:57836,total_votes:137558,diff:18195,per_gop:.5527195801043924,per_dem:.42044810189156573,per_point_diff:.13227147821282664},{state_name:"Illinois",county_fips:17121,county_name:"Marion County",votes_gop:12678,votes_dem:4524,total_votes:17492,diff:8154,per_gop:.7247884747313057,per_dem:.2586325177223874,per_point_diff:.4661559570089183},{state_name:"Illinois",county_fips:17123,county_name:"Marshall County",votes_gop:4197,votes_dem:2005,total_votes:6345,diff:2192,per_gop:.6614657210401891,per_dem:.31599684791174154,per_point_diff:.34546887312844754},{state_name:"Illinois",county_fips:17125,county_name:"Mason County",votes_gop:4654,votes_dem:1985,total_votes:6766,diff:2669,per_gop:.6878510198049069,per_dem:.29337865799586166,per_point_diff:.39447236180904527},{state_name:"Illinois",county_fips:17127,county_name:"Massac County",votes_gop:4997,votes_dem:1725,total_votes:6818,diff:3272,per_gop:.7329128776767381,per_dem:.2530067468465826,per_point_diff:.4799061308301555},{state_name:"Illinois",county_fips:17129,county_name:"Menard County",votes_gop:4764,votes_dem:2022,total_votes:6954,diff:2742,per_gop:.6850733390854185,per_dem:.2907679033649698,per_point_diff:.3943054357204486},{state_name:"Illinois",county_fips:17131,county_name:"Mercer County",votes_gop:5418,votes_dem:3280,total_votes:8914,diff:2138,per_gop:.6078079425622616,per_dem:.36796051155485754,per_point_diff:.23984743100740402},{state_name:"Illinois",county_fips:17133,county_name:"Monroe County",votes_gop:14142,votes_dem:6569,total_votes:21206,diff:7573,per_gop:.6668867301707064,per_dem:.3097708195793643,per_point_diff:.3571159105913421},{state_name:"Illinois",county_fips:17135,county_name:"Montgomery County",votes_gop:9544,votes_dem:3905,total_votes:13761,diff:5639,per_gop:.6935542475110821,per_dem:.2837729816147082,per_point_diff:.40978126589637387},{state_name:"Illinois",county_fips:17137,county_name:"Morgan County",votes_gop:9950,votes_dem:5076,total_votes:15333,diff:4874,per_gop:.6489271505902302,per_dem:.3310506750146742,per_point_diff:.317876475575556},{state_name:"Illinois",county_fips:17139,county_name:"Moultrie County",votes_gop:4964,votes_dem:1662,total_votes:6744,diff:3302,per_gop:.736061684460261,per_dem:.24644128113879005,per_point_diff:.48962040332147094},{state_name:"Illinois",county_fips:17141,county_name:"Ogle County",votes_gop:16248,votes_dem:9428,total_votes:26340,diff:6820,per_gop:.6168564920273348,per_dem:.35793470007593015,per_point_diff:.2589217919514047},{state_name:"Illinois",county_fips:17143,county_name:"Peoria County",votes_gop:38252,votes_dem:43578,total_votes:83973,diff:-5326,per_gop:.4555273718933467,per_dem:.5189525204530028,per_point_diff:-.06342514855965609},{state_name:"Illinois",county_fips:17145,county_name:"Perry County",votes_gop:7313,votes_dem:2612,total_votes:10071,diff:4701,per_gop:.7261443749379406,per_dem:.2593585542647205,per_point_diff:.4667858206732201},{state_name:"Illinois",county_fips:17147,county_name:"Piatt County",votes_gop:6248,votes_dem:3329,total_votes:9851,diff:2919,per_gop:.6342503299157446,per_dem:.33793523500152267,per_point_diff:.2963150949142219},{state_name:"Illinois",county_fips:17149,county_name:"Pike County",votes_gop:6332,votes_dem:1484,total_votes:7965,diff:4848,per_gop:.794978028876334,per_dem:.18631512868801003,per_point_diff:.6086629001883239},{state_name:"Illinois",county_fips:17151,county_name:"Pope County",votes_gop:1722,votes_dem:433,total_votes:2175,diff:1289,per_gop:.7917241379310345,per_dem:.19908045977011493,per_point_diff:.5926436781609196},{state_name:"Illinois",county_fips:17153,county_name:"Pulaski County",votes_gop:1699,votes_dem:891,total_votes:2631,diff:808,per_gop:.6457620676548841,per_dem:.338654503990878,per_point_diff:.3071075636640061},{state_name:"Illinois",county_fips:17155,county_name:"Putnam County",votes_gop:1993,votes_dem:1338,total_votes:3390,diff:655,per_gop:.587905604719764,per_dem:.39469026548672564,per_point_diff:.1932153392330384},{state_name:"Illinois",county_fips:17157,county_name:"Randolph County",votes_gop:11076,votes_dem:3592,total_votes:14910,diff:7484,per_gop:.7428571428571429,per_dem:.2409121395036888,per_point_diff:.501945003353454},{state_name:"Illinois",county_fips:17159,county_name:"Richland County",votes_gop:6089,votes_dem:1830,total_votes:8063,diff:4259,per_gop:.7551779734590103,per_dem:.22696266898176856,per_point_diff:.5282153044772417},{state_name:"Illinois",county_fips:17161,county_name:"Rock Island County",votes_gop:28603,votes_dem:36691,total_votes:66817,diff:-8088,per_gop:.4280796803208764,per_dem:.5491267192480955,per_point_diff:-.12104703892721913},{state_name:"Illinois",county_fips:17163,county_name:"St. Clair County",votes_gop:57150,votes_dem:68325,total_votes:128104,diff:-11175,per_gop:.44612190095547366,per_dem:.5333557109848248,per_point_diff:-.08723381002935116},{state_name:"Illinois",county_fips:17165,county_name:"Saline County",votes_gop:8103,votes_dem:2789,total_votes:11089,diff:5314,per_gop:.730724141040671,per_dem:.25151050590675444,per_point_diff:.4792136351339165},{state_name:"Illinois",county_fips:17167,county_name:"Sangamon County",votes_gop:53485,votes_dem:48917,total_votes:104751,diff:4568,per_gop:.5105917843266413,per_dem:.4669836087483652,per_point_diff:.04360817557827612},{state_name:"Illinois",county_fips:17169,county_name:"Schuyler County",votes_gop:2773,votes_dem:1068,total_votes:3918,diff:1705,per_gop:.7077590607452782,per_dem:.2725880551301684,per_point_diff:.43517100561510974},{state_name:"Illinois",county_fips:17171,county_name:"Scott County",votes_gop:2114,votes_dem:572,total_votes:2741,diff:1542,per_gop:.7712513681138271,per_dem:.20868296242247356,per_point_diff:.5625684056913536},{state_name:"Illinois",county_fips:17173,county_name:"Shelby County",votes_gop:9426,votes_dem:2504,total_votes:12097,diff:6922,per_gop:.7792014549061751,per_dem:.20699346945523683,per_point_diff:.5722079854509383},{state_name:"Illinois",county_fips:17175,county_name:"Stark County",votes_gop:2004,votes_dem:815,total_votes:2886,diff:1189,per_gop:.6943866943866944,per_dem:.2823977823977824,per_point_diff:.411988911988912},{state_name:"Illinois",county_fips:17177,county_name:"Stephenson County",votes_gop:12521,votes_dem:9055,total_votes:22048,diff:3466,per_gop:.5678973149492017,per_dem:.41069484760522496,per_point_diff:.15720246734397675},{state_name:"Illinois",county_fips:17179,county_name:"Tazewell County",votes_gop:42513,votes_dem:24819,total_votes:69051,diff:17694,per_gop:.6156753703784159,per_dem:.35942998653169395,per_point_diff:.25624538384672196},{state_name:"Illinois",county_fips:17181,county_name:"Union County",votes_gop:6161,votes_dem:2579,total_votes:8904,diff:3582,per_gop:.6919362084456424,per_dem:.2896451033243486,per_point_diff:.4022911051212938},{state_name:"Illinois",county_fips:17183,county_name:"Vermilion County",votes_gop:20725,votes_dem:10323,total_votes:31642,diff:10402,per_gop:.6549838821819102,per_dem:.3262436002781114,per_point_diff:.3287402819037988},{state_name:"Illinois",county_fips:17185,county_name:"Wabash County",votes_gop:4237,votes_dem:1253,total_votes:5607,diff:2984,per_gop:.7556625646513287,per_dem:.22347066167290885,per_point_diff:.5321919029784199},{state_name:"Illinois",county_fips:17187,county_name:"Warren County",votes_gop:4676,votes_dem:3090,total_votes:7924,diff:1586,per_gop:.5901060070671378,per_dem:.3899545683997981,per_point_diff:.2001514386673397},{state_name:"Illinois",county_fips:17189,county_name:"Washington County",votes_gop:6115,votes_dem:1641,total_votes:7921,diff:4474,per_gop:.7719984850397678,per_dem:.20717081176619115,per_point_diff:.5648276732735766},{state_name:"Illinois",county_fips:17191,county_name:"Wayne County",votes_gop:7176,votes_dem:1187,total_votes:8499,diff:5989,per_gop:.8443346276032474,per_dem:.13966348982233204,per_point_diff:.7046711377809154},{state_name:"Illinois",county_fips:17193,county_name:"White County",votes_gop:5791,votes_dem:1517,total_votes:7431,diff:4274,per_gop:.7793029201991657,per_dem:.20414479881577177,per_point_diff:.575158121383394},{state_name:"Illinois",county_fips:17195,county_name:"Whiteside County",votes_gop:14527,votes_dem:12253,total_votes:27375,diff:2274,per_gop:.5306666666666666,per_dem:.44759817351598175,per_point_diff:.08306849315068487},{state_name:"Illinois",county_fips:17197,county_name:"Will County",votes_gop:155116,votes_dem:183915,total_votes:346266,diff:-28799,per_gop:.4479677473387511,per_dem:.5311379113167334,per_point_diff:-.08317016397798227},{state_name:"Illinois",county_fips:17199,county_name:"Williamson County",votes_gop:22801,votes_dem:10206,total_votes:33729,diff:12595,per_gop:.6760058110231552,per_dem:.3025882771502268,per_point_diff:.37341753387292836},{state_name:"Illinois",county_fips:17201,county_name:"Winnebago County",votes_gop:60861,votes_dem:64056,total_votes:127710,diff:-3195,per_gop:.4765562602771905,per_dem:.5015738783180643,per_point_diff:-.025017618040873824},{state_name:"Illinois",county_fips:17203,county_name:"Woodford County",votes_gop:14799,votes_dem:6160,total_votes:21498,diff:8639,per_gop:.6883896176388501,per_dem:.2865382826309424,per_point_diff:.4018513350079077},{state_name:"Indiana",county_fips:18001,county_name:"Adams County",votes_gop:10686,votes_dem:3236,total_votes:14209,diff:7450,per_gop:.7520585544373285,per_dem:.22774297980153424,per_point_diff:.5243155746357943},{state_name:"Indiana",county_fips:18003,county_name:"Allen County",votes_gop:92083,votes_dem:73189,total_votes:169082,diff:18894,per_gop:.5446055759927136,per_dem:.432860978696727,per_point_diff:.11174459729598663},{state_name:"Indiana",county_fips:18005,county_name:"Bartholomew County",votes_gop:22410,votes_dem:12934,total_votes:36235,diff:9476,per_gop:.6184628121981509,per_dem:.35694770249758523,per_point_diff:.2615151097005657},{state_name:"Indiana",county_fips:18007,county_name:"Benton County",votes_gop:3007,votes_dem:1009,total_votes:4114,diff:1998,per_gop:.7309188138065144,per_dem:.2452600875060768,per_point_diff:.48565872630043755},{state_name:"Indiana",county_fips:18009,county_name:"Blackford County",votes_gop:3841,votes_dem:1376,total_votes:5350,diff:2465,per_gop:.7179439252336448,per_dem:.25719626168224297,per_point_diff:.46074766355140184},{state_name:"Indiana",county_fips:18011,county_name:"Boone County",votes_gop:22351,votes_dem:15244,total_votes:38520,diff:7107,per_gop:.5802440290758047,per_dem:.395742471443406,per_point_diff:.18450155763239873},{state_name:"Indiana",county_fips:18013,county_name:"Brown County",votes_gop:5777,votes_dem:3036,total_votes:8981,diff:2741,per_gop:.643246854470549,per_dem:.33804698808595923,per_point_diff:.30519986638458974},{state_name:"Indiana",county_fips:18015,county_name:"Carroll County",votes_gop:7086,votes_dem:2224,total_votes:9495,diff:4862,per_gop:.7462875197472354,per_dem:.2342285413375461,per_point_diff:.5120589784096893},{state_name:"Indiana",county_fips:18017,county_name:"Cass County",votes_gop:10552,votes_dem:4304,total_votes:15198,diff:6248,per_gop:.6943018818265562,per_dem:.2831951572575339,per_point_diff:.41110672456902225},{state_name:"Indiana",county_fips:18019,county_name:"Clark County",votes_gop:33668,votes_dem:23093,total_votes:57869,diff:10575,per_gop:.5817968169486254,per_dem:.3990564896576751,per_point_diff:.1827403272909503},{state_name:"Indiana",county_fips:18021,county_name:"Clay County",votes_gop:9499,votes_dem:2552,total_votes:12267,diff:6947,per_gop:.7743539577728866,per_dem:.20803782505910165,per_point_diff:.566316132713785},{state_name:"Indiana",county_fips:18023,county_name:"Clinton County",votes_gop:9334,votes_dem:3361,total_votes:12949,diff:5973,per_gop:.720827863155456,per_dem:.25955672252683604,per_point_diff:.46127114062861996},{state_name:"Indiana",county_fips:18025,county_name:"Crawford County",votes_gop:3483,votes_dem:1355,total_votes:4944,diff:2128,per_gop:.7044902912621359,per_dem:.2740695792880259,per_point_diff:.43042071197411},{state_name:"Indiana",county_fips:18027,county_name:"Daviess County",votes_gop:9576,votes_dem:2169,total_votes:11954,diff:7407,per_gop:.8010707712899447,per_dem:.18144554124142545,per_point_diff:.6196252300485193},{state_name:"Indiana",county_fips:18029,county_name:"Dearborn County",votes_gop:19528,votes_dem:5446,total_votes:25383,diff:14082,per_gop:.7693338060906906,per_dem:.21455304731513217,per_point_diff:.5547807587755584},{state_name:"Indiana",county_fips:18031,county_name:"Decatur County",votes_gop:9575,votes_dem:2439,total_votes:12287,diff:7136,per_gop:.7792789126719297,per_dem:.19850248229836412,per_point_diff:.5807764303735656},{state_name:"Indiana",county_fips:18033,county_name:"DeKalb County",votes_gop:14237,votes_dem:4966,total_votes:19628,diff:9271,per_gop:.7253413490931323,per_dem:.25300590992459754,per_point_diff:.47233543916853477},{state_name:"Indiana",county_fips:18035,county_name:"Delaware County",votes_gop:26827,votes_dem:20474,total_votes:48191,diff:6353,per_gop:.5566807080160195,per_dem:.42485111327841296,per_point_diff:.13182959473760658},{state_name:"Indiana",county_fips:18037,county_name:"Dubois County",votes_gop:15033,votes_dem:6292,total_votes:21770,diff:8741,per_gop:.6905374368396876,per_dem:.28902158934313277,per_point_diff:.40151584749655483},{state_name:"Indiana",county_fips:18039,county_name:"Elkhart County",votes_gop:46972,votes_dem:26108,total_votes:74387,diff:20864,per_gop:.6314544207993332,per_dem:.35097530482476774,per_point_diff:.2804791159745655},{state_name:"Indiana",county_fips:18041,county_name:"Fayette County",votes_gop:7755,votes_dem:2237,total_votes:10136,diff:5518,per_gop:.7650947119179163,per_dem:.22069850039463298,per_point_diff:.5443962115232833},{state_name:"Indiana",county_fips:18043,county_name:"Floyd County",votes_gop:23400,votes_dem:17511,total_votes:41802,diff:5889,per_gop:.5597818286206402,per_dem:.4189034017511124,per_point_diff:.14087842686952778},{state_name:"Indiana",county_fips:18045,county_name:"Fountain County",votes_gop:6154,votes_dem:1629,total_votes:7986,diff:4525,per_gop:.7705985474580516,per_dem:.20398196844477837,per_point_diff:.5666165790132732},{state_name:"Indiana",county_fips:18047,county_name:"Franklin County",votes_gop:9691,votes_dem:2137,total_votes:12e3,diff:7554,per_gop:.8075833333333333,per_dem:.17808333333333334,per_point_diff:.6295},{state_name:"Indiana",county_fips:18049,county_name:"Fulton County",votes_gop:6694,votes_dem:2280,total_votes:9147,diff:4414,per_gop:.7318246419591122,per_dem:.24926205313217448,per_point_diff:.48256258882693776},{state_name:"Indiana",county_fips:18051,county_name:"Gibson County",votes_gop:11817,votes_dem:4023,total_votes:16161,diff:7794,per_gop:.7312047521811769,per_dem:.24893261555596807,per_point_diff:.4822721366252088},{state_name:"Indiana",county_fips:18053,county_name:"Grant County",votes_gop:18543,votes_dem:8015,total_votes:27159,diff:10528,per_gop:.6827570970948856,per_dem:.295113958540447,per_point_diff:.38764313855443866},{state_name:"Indiana",county_fips:18055,county_name:"Greene County",votes_gop:11103,votes_dem:3389,total_votes:14784,diff:7714,per_gop:.7510146103896104,per_dem:.22923430735930736,per_point_diff:.521780303030303},{state_name:"Indiana",county_fips:18057,county_name:"Hamilton County",votes_gop:101587,votes_dem:88390,total_votes:193999,diff:13197,per_gop:.5236470291083974,per_dem:.45562090526239823,per_point_diff:.06802612384599921},{state_name:"Indiana",county_fips:18059,county_name:"Hancock County",votes_gop:28996,votes_dem:12895,total_votes:42911,diff:16101,per_gop:.6757241732889003,per_dem:.30050569783971476,per_point_diff:.3752184754491856},{state_name:"Indiana",county_fips:18061,county_name:"Harrison County",votes_gop:14565,votes_dem:5343,total_votes:20236,diff:9222,per_gop:.7197568689464321,per_dem:.2640343941490413,per_point_diff:.4557224747973908},{state_name:"Indiana",county_fips:18063,county_name:"Hendricks County",votes_gop:53802,votes_dem:32604,total_votes:88505,diff:21198,per_gop:.6078978588780295,per_dem:.36838596689452574,per_point_diff:.23951189198350376},{state_name:"Indiana",county_fips:18065,county_name:"Henry County",votes_gop:15043,votes_dem:5544,total_votes:21030,diff:9499,per_gop:.7153114598193058,per_dem:.263623395149786,per_point_diff:.4516880646695198},{state_name:"Indiana",county_fips:18067,county_name:"Howard County",votes_gop:26449,votes_dem:13303,total_votes:40630,diff:13146,per_gop:.6509721880383953,per_dem:.327418163918287,per_point_diff:.3235540241201083},{state_name:"Indiana",county_fips:18069,county_name:"Huntington County",votes_gop:13147,votes_dem:4255,total_votes:17829,diff:8892,per_gop:.7373941331538505,per_dem:.23865612204834818,per_point_diff:.4987380111055023},{state_name:"Indiana",county_fips:18071,county_name:"Jackson County",votes_gop:14555,votes_dem:4302,total_votes:19238,diff:10253,per_gop:.7565755276016218,per_dem:.22361991891048966,per_point_diff:.5329556086911322},{state_name:"Indiana",county_fips:18073,county_name:"Jasper County",votes_gop:11383,votes_dem:3798,total_votes:15475,diff:7585,per_gop:.7355735056542811,per_dem:.2454281098546042,per_point_diff:.490145395799677},{state_name:"Indiana",county_fips:18075,county_name:"Jay County",votes_gop:6361,votes_dem:1926,total_votes:8461,diff:4435,per_gop:.7518023874246543,per_dem:.22763266753338848,per_point_diff:.5241697198912658},{state_name:"Indiana",county_fips:18077,county_name:"Jefferson County",votes_gop:9663,votes_dem:4731,total_votes:14697,diff:4932,per_gop:.6574811185956317,per_dem:.32190242906715655,per_point_diff:.3355786895284752},{state_name:"Indiana",county_fips:18079,county_name:"Jennings County",votes_gop:9490,votes_dem:2523,total_votes:12251,diff:6967,per_gop:.774630642396539,per_dem:.20594237205126112,per_point_diff:.5686882703452779},{state_name:"Indiana",county_fips:18081,county_name:"Johnson County",votes_gop:51219,votes_dem:24736,total_votes:77618,diff:26483,per_gop:.6598855935478883,per_dem:.31868896390012624,per_point_diff:.3411966296477621},{state_name:"Indiana",county_fips:18083,county_name:"Knox County",votes_gop:11655,votes_dem:4067,total_votes:16011,diff:7588,per_gop:.7279370432827431,per_dem:.2540128661545188,per_point_diff:.4739241771282243},{state_name:"Indiana",county_fips:18085,county_name:"Kosciusko County",votes_gop:26499,votes_dem:8364,total_votes:35787,diff:18135,per_gop:.7404644144521754,per_dem:.23371615391063794,per_point_diff:.5067482605415374},{state_name:"Indiana",county_fips:18087,county_name:"LaGrange County",votes_gop:8110,votes_dem:2355,total_votes:10633,diff:5755,per_gop:.7627198344775699,per_dem:.22148029718799964,per_point_diff:.5412395372895702},{state_name:"Indiana",county_fips:18089,county_name:"Lake County",votes_gop:91760,votes_dem:124870,total_votes:219956,diff:-33110,per_gop:.41717434395970104,per_dem:.5677044499809053,per_point_diff:-.15053010602120426},{state_name:"Indiana",county_fips:18091,county_name:"LaPorte County",votes_gop:25997,votes_dem:22427,total_votes:49392,diff:3570,per_gop:.5263402980239715,per_dem:.45406138645934563,per_point_diff:.0722789115646259},{state_name:"Indiana",county_fips:18093,county_name:"Lawrence County",votes_gop:15601,votes_dem:4961,total_votes:21025,diff:10640,per_gop:.7420214030915576,per_dem:.23595719381688465,per_point_diff:.506064209274673},{state_name:"Indiana",county_fips:18095,county_name:"Madison County",votes_gop:31215,votes_dem:19524,total_votes:51793,diff:11691,per_gop:.6026876218794045,per_dem:.3769621377406213,per_point_diff:.22572548413878318},{state_name:"Indiana",county_fips:18097,county_name:"Marion County",votes_gop:134175,votes_dem:247772,total_votes:389619,diff:-113597,per_gop:.34437488931494614,per_dem:.6359340791901832,per_point_diff:-.29155918987523705},{state_name:"Indiana",county_fips:18099,county_name:"Marshall County",votes_gop:13844,votes_dem:5712,total_votes:19927,diff:8132,per_gop:.6947357856175039,per_dem:.28664625884478345,per_point_diff:.4080895267727205},{state_name:"Indiana",county_fips:18101,county_name:"Martin County",votes_gop:4029,votes_dem:1011,total_votes:5144,diff:3018,per_gop:.7832426127527217,per_dem:.19653965785381025,per_point_diff:.5867029548989114},{state_name:"Indiana",county_fips:18103,county_name:"Miami County",votes_gop:10925,votes_dem:3235,total_votes:14473,diff:7690,per_gop:.7548538658191114,per_dem:.22351965729289022,per_point_diff:.5313342085262212},{state_name:"Indiana",county_fips:18105,county_name:"Monroe County",votes_gop:22071,votes_dem:39861,total_votes:63151,diff:-17790,per_gop:.3494956532754826,per_dem:.6312014061535051,per_point_diff:-.28170575287802246},{state_name:"Indiana",county_fips:18107,county_name:"Montgomery County",votes_gop:12659,votes_dem:4213,total_votes:17198,diff:8446,per_gop:.736073962088615,per_dem:.24497034538899873,per_point_diff:.4911036166996162},{state_name:"Indiana",county_fips:18109,county_name:"Morgan County",votes_gop:27512,votes_dem:7781,total_votes:36159,diff:19731,per_gop:.7608617494952847,per_dem:.21518847313255343,per_point_diff:.5456732763627313},{state_name:"Indiana",county_fips:18111,county_name:"Newton County",votes_gop:4942,votes_dem:1509,total_votes:6591,diff:3433,per_gop:.7498103474434835,per_dem:.22894856622667273,per_point_diff:.5208617812168108},{state_name:"Indiana",county_fips:18113,county_name:"Noble County",votes_gop:14195,votes_dem:4660,total_votes:19190,diff:9535,per_gop:.7397081813444503,per_dem:.24283480979676916,per_point_diff:.4968733715476811},{state_name:"Indiana",county_fips:18115,county_name:"Ohio County",votes_gop:2392,votes_dem:750,total_votes:3164,diff:1642,per_gop:.7560050568900126,per_dem:.2370417193426043,per_point_diff:.5189633375474083},{state_name:"Indiana",county_fips:18117,county_name:"Orange County",votes_gop:6432,votes_dem:2224,total_votes:8832,diff:4208,per_gop:.7282608695652174,per_dem:.25181159420289856,per_point_diff:.47644927536231885},{state_name:"Indiana",county_fips:18119,county_name:"Owen County",votes_gop:7286,votes_dem:2420,total_votes:9904,diff:4866,per_gop:.7356623586429726,per_dem:.24434571890145396,per_point_diff:.4913166397415186},{state_name:"Indiana",county_fips:18121,county_name:"Parke County",votes_gop:5398,votes_dem:1503,total_votes:7011,diff:3895,per_gop:.7699329624875196,per_dem:.21437740693196405,per_point_diff:.5555555555555556},{state_name:"Indiana",county_fips:18123,county_name:"Perry County",votes_gop:5345,votes_dem:3203,total_votes:8722,diff:2142,per_gop:.6128181609722541,per_dem:.3672322861728961,per_point_diff:.24558587479935795},{state_name:"Indiana",county_fips:18125,county_name:"Pike County",votes_gop:4692,votes_dem:1415,total_votes:6220,diff:3277,per_gop:.7543408360128617,per_dem:.227491961414791,per_point_diff:.5268488745980707},{state_name:"Indiana",county_fips:18127,county_name:"Porter County",votes_gop:45008,votes_dem:39746,total_votes:86509,diff:5262,per_gop:.5202695673282549,per_dem:.45944352610711026,per_point_diff:.060826041221144656},{state_name:"Indiana",county_fips:18129,county_name:"Posey County",votes_gop:9206,votes_dem:3811,total_votes:13236,diff:5395,per_gop:.695527349652463,per_dem:.2879268661226957,per_point_diff:.4076004835297673},{state_name:"Indiana",county_fips:18131,county_name:"Pulaski County",votes_gop:4246,votes_dem:1463,total_votes:5806,diff:2783,per_gop:.7313124354116431,per_dem:.2519807096107475,per_point_diff:.47933172580089567},{state_name:"Indiana",county_fips:18133,county_name:"Putnam County",votes_gop:12278,votes_dem:3946,total_votes:16597,diff:8332,per_gop:.7397722479966259,per_dem:.2377538109296861,per_point_diff:.5020184370669398},{state_name:"Indiana",county_fips:18135,county_name:"Randolph County",votes_gop:8312,votes_dem:2513,total_votes:11070,diff:5799,per_gop:.7508581752484191,per_dem:.22700993676603431,per_point_diff:.5238482384823848},{state_name:"Indiana",county_fips:18137,county_name:"Ripley County",votes_gop:11261,votes_dem:2774,total_votes:14271,diff:8487,per_gop:.7890827552378951,per_dem:.1943802116179665,per_point_diff:.5947025436199286},{state_name:"Indiana",county_fips:18139,county_name:"Rush County",votes_gop:6035,votes_dem:1754,total_votes:7932,diff:4281,per_gop:.7608421583459405,per_dem:.2211296016137166,per_point_diff:.5397125567322238},{state_name:"Indiana",county_fips:18141,county_name:"St. Joseph County",votes_gop:53164,votes_dem:59896,total_votes:115238,diff:-6732,per_gop:.4613408771412208,per_dem:.5197591072389316,per_point_diff:-.0584182300977108},{state_name:"Indiana",county_fips:18143,county_name:"Scott County",votes_gop:7328,votes_dem:2698,total_votes:10161,diff:4630,per_gop:.7211888593642358,per_dem:.2655250467473674,per_point_diff:.45566381261686845},{state_name:"Indiana",county_fips:18145,county_name:"Shelby County",votes_gop:14568,votes_dem:5023,total_votes:19991,diff:9545,per_gop:.7287279275674053,per_dem:.25126306838077134,per_point_diff:.477464859186634},{state_name:"Indiana",county_fips:18147,county_name:"Spencer County",votes_gop:7357,votes_dem:3213,total_votes:10769,diff:4144,per_gop:.6831646392422694,per_dem:.2983563933512861,per_point_diff:.38480824589098334},{state_name:"Indiana",county_fips:18149,county_name:"Starke County",votes_gop:7466,votes_dem:2650,total_votes:10290,diff:4816,per_gop:.7255587949465501,per_dem:.2575315840621963,per_point_diff:.4680272108843538},{state_name:"Indiana",county_fips:18151,county_name:"Steuben County",votes_gop:11327,votes_dem:4513,total_votes:16162,diff:6814,per_gop:.7008414800148497,per_dem:.2792352431629749,per_point_diff:.4216062368518748},{state_name:"Indiana",county_fips:18153,county_name:"Sullivan County",votes_gop:6691,votes_dem:2153,total_votes:8994,diff:4538,per_gop:.7439404047142539,per_dem:.2393818100956193,per_point_diff:.5045585946186346},{state_name:"Indiana",county_fips:18155,county_name:"Switzerland County",votes_gop:3133,votes_dem:964,total_votes:4154,diff:2169,per_gop:.7542128069330766,per_dem:.23206547905633124,per_point_diff:.5221473278767453},{state_name:"Indiana",county_fips:18157,county_name:"Tippecanoe County",votes_gop:34581,votes_dem:35017,total_votes:71448,diff:-436,per_gop:.48400235136042996,per_dem:.4901046915239055,per_point_diff:-.00610234016347555},{state_name:"Indiana",county_fips:18159,county_name:"Tipton County",votes_gop:6110,votes_dem:1834,total_votes:8116,diff:4276,per_gop:.7528339083292263,per_dem:.2259733859043864,per_point_diff:.5268605224248398},{state_name:"Indiana",county_fips:18161,county_name:"Union County",votes_gop:2688,votes_dem:736,total_votes:3483,diff:1952,per_gop:.7717484926787253,per_dem:.21131208728107953,per_point_diff:.5604364053976457},{state_name:"Indiana",county_fips:18163,county_name:"Vanderburgh County",votes_gop:41844,votes_dem:34415,total_votes:77662,diff:7429,per_gop:.538796322525817,per_dem:.44313821431330636,per_point_diff:.09565810821251064},{state_name:"Indiana",county_fips:18165,county_name:"Vermillion County",votes_gop:5184,votes_dem:2145,total_votes:7481,diff:3039,per_gop:.692955487234327,per_dem:.2867263734794814,per_point_diff:.4062291137548456},{state_name:"Indiana",county_fips:18167,county_name:"Vigo County",votes_gop:24545,votes_dem:18123,total_votes:43594,diff:6422,per_gop:.5630361976418773,per_dem:.4157223471119879,per_point_diff:.14731385052988938},{state_name:"Indiana",county_fips:18169,county_name:"Wabash County",votes_gop:10762,votes_dem:3494,total_votes:14573,diff:7268,per_gop:.73848898648185,per_dem:.23975845742125848,per_point_diff:.49873052906059157},{state_name:"Indiana",county_fips:18171,county_name:"Warren County",votes_gop:3401,votes_dem:974,total_votes:4472,diff:2427,per_gop:.7605098389982111,per_dem:.21779964221824688,per_point_diff:.5427101967799642},{state_name:"Indiana",county_fips:18173,county_name:"Warrick County",votes_gop:21326,votes_dem:11923,total_votes:33829,diff:9403,per_gop:.6304058647905643,per_dem:.3524490821484525,per_point_diff:.27795678264211177},{state_name:"Indiana",county_fips:18175,county_name:"Washington County",votes_gop:9114,votes_dem:2784,total_votes:12139,diff:6330,per_gop:.7508031963094159,per_dem:.22934343850399538,per_point_diff:.5214597578054205},{state_name:"Indiana",county_fips:18177,county_name:"Wayne County",votes_gop:17567,votes_dem:9524,total_votes:27679,diff:8043,per_gop:.6346688825463348,per_dem:.3440875754181871,per_point_diff:.2905813071281477},{state_name:"Indiana",county_fips:18179,county_name:"Wells County",votes_gop:10855,votes_dem:2928,total_votes:14050,diff:7927,per_gop:.7725978647686833,per_dem:.20839857651245552,per_point_diff:.5641992882562278},{state_name:"Indiana",county_fips:18181,county_name:"White County",votes_gop:7957,votes_dem:3032,total_votes:11166,diff:4925,per_gop:.7126097080422712,per_dem:.27153859931936236,per_point_diff:.44107110872290883},{state_name:"Indiana",county_fips:18183,county_name:"Whitley County",votes_gop:12862,votes_dem:4234,total_votes:17556,diff:8628,per_gop:.7326270221007063,per_dem:.24117110959216223,per_point_diff:.49145591250854403},{state_name:"Iowa",county_fips:19001,county_name:"Adair County",votes_gop:2917,votes_dem:1198,total_votes:4177,diff:1719,per_gop:.6983480967201341,per_dem:.28680871438831695,per_point_diff:.41153938233181714},{state_name:"Iowa",county_fips:19003,county_name:"Adams County",votes_gop:1530,votes_dem:590,total_votes:2160,diff:940,per_gop:.7083333333333334,per_dem:.27314814814814814,per_point_diff:.43518518518518523},{state_name:"Iowa",county_fips:19005,county_name:"Allamakee County",votes_gop:4735,votes_dem:2576,total_votes:7422,diff:2159,per_gop:.6379682026407977,per_dem:.3470762597682565,per_point_diff:.29089194287254116},{state_name:"Iowa",county_fips:19007,county_name:"Appanoose County",votes_gop:4512,votes_dem:1891,total_votes:6516,diff:2621,per_gop:.6924493554327809,per_dem:.2902087170042971,per_point_diff:.40224063842848373},{state_name:"Iowa",county_fips:19009,county_name:"Audubon County",votes_gop:2295,votes_dem:1071,total_votes:3420,diff:1224,per_gop:.6710526315789473,per_dem:.3131578947368421,per_point_diff:.35789473684210527},{state_name:"Iowa",county_fips:19011,county_name:"Benton County",votes_gop:9188,votes_dem:5160,total_votes:14642,diff:4028,per_gop:.6275099030187133,per_dem:.3524108728315804,per_point_diff:.27509903018713294},{state_name:"Iowa",county_fips:19013,county_name:"Black Hawk County",votes_gop:29640,votes_dem:35647,total_votes:66593,diff:-6007,per_gop:.4450918264682474,per_dem:.5352965026354122,per_point_diff:-.09020467616716477},{state_name:"Iowa",county_fips:19015,county_name:"Boone County",votes_gop:8695,votes_dem:6303,total_votes:15340,diff:2392,per_gop:.5668187744458931,per_dem:.4108865710560626,per_point_diff:.15593220338983055},{state_name:"Iowa",county_fips:19017,county_name:"Bremer County",votes_gop:8294,votes_dem:5958,total_votes:14546,diff:2336,per_gop:.5701911178330813,per_dem:.40959714010724596,per_point_diff:.16059397772583534},{state_name:"Iowa",county_fips:19019,county_name:"Buchanan County",votes_gop:6420,votes_dem:4169,total_votes:10774,diff:2251,per_gop:.5958789678856506,per_dem:.386950064971227,per_point_diff:.20892890291442362},{state_name:"Iowa",county_fips:19021,county_name:"Buena Vista County",votes_gop:5056,votes_dem:2961,total_votes:8167,diff:2095,per_gop:.6190767723766377,per_dem:.3625566303416187,per_point_diff:.256520142035019},{state_name:"Iowa",county_fips:19023,county_name:"Butler County",votes_gop:5542,votes_dem:2424,total_votes:8098,diff:3118,per_gop:.6843665102494443,per_dem:.2993331686836256,per_point_diff:.3850333415658187},{state_name:"Iowa",county_fips:19025,county_name:"Calhoun County",votes_gop:3689,votes_dem:1470,total_votes:5258,diff:2219,per_gop:.701597565614302,per_dem:.2795739825028528,per_point_diff:.42202358311144916},{state_name:"Iowa",county_fips:19027,county_name:"Carroll County",votes_gop:7737,votes_dem:3454,total_votes:11335,diff:4283,per_gop:.682576091751213,per_dem:.3047198941332157,per_point_diff:.3778561976179973},{state_name:"Iowa",county_fips:19029,county_name:"Cass County",votes_gop:4969,votes_dem:2201,total_votes:7276,diff:2768,per_gop:.6829301814183617,per_dem:.3025013743815283,per_point_diff:.3804288070368334},{state_name:"Iowa",county_fips:19031,county_name:"Cedar County",votes_gop:6161,votes_dem:4337,total_votes:10703,diff:1824,per_gop:.5756330000934318,per_dem:.4052134915444268,per_point_diff:.17041950854900495},{state_name:"Iowa",county_fips:19033,county_name:"Cerro Gordo County",votes_gop:12442,votes_dem:10941,total_votes:23801,diff:1501,per_gop:.5227511449098777,per_dem:.45968656779126926,per_point_diff:.06306457711860847},{state_name:"Iowa",county_fips:19035,county_name:"Cherokee County",votes_gop:4495,votes_dem:1936,total_votes:6518,diff:2559,per_gop:.6896287204664008,per_dem:.29702362687941086,per_point_diff:.3926050935869899},{state_name:"Iowa",county_fips:19037,county_name:"Chickasaw County",votes_gop:4308,votes_dem:2233,total_votes:6631,diff:2075,per_gop:.6496757653445936,per_dem:.336751621173277,per_point_diff:.3129241441713166},{state_name:"Iowa",county_fips:19039,county_name:"Clarke County",votes_gop:3144,votes_dem:1466,total_votes:4670,diff:1678,per_gop:.6732334047109207,per_dem:.3139186295503212,per_point_diff:.35931477516059956},{state_name:"Iowa",county_fips:19041,county_name:"Clay County",votes_gop:6137,votes_dem:2662,total_votes:8969,diff:3475,per_gop:.684245735310514,per_dem:.29680008919611994,per_point_diff:.3874456461143941},{state_name:"Iowa",county_fips:19043,county_name:"Clayton County",votes_gop:6106,votes_dem:3340,total_votes:9594,diff:2766,per_gop:.6364394413174901,per_dem:.34813425057327496,per_point_diff:.2883051907442151},{state_name:"Iowa",county_fips:19045,county_name:"Clinton County",votes_gop:13361,votes_dem:10812,total_votes:24687,diff:2549,per_gop:.541216024628347,per_dem:.43796330052254223,per_point_diff:.10325272410580472},{state_name:"Iowa",county_fips:19047,county_name:"Crawford County",votes_gop:4854,votes_dem:2220,total_votes:7154,diff:2634,per_gop:.6785015376013419,per_dem:.31031590718479174,per_point_diff:.36818563041655017},{state_name:"Iowa",county_fips:19049,county_name:"Dallas County",votes_gop:27987,votes_dem:26879,total_votes:56022,diff:1108,per_gop:.4995715968726572,per_dem:.4797936524936632,per_point_diff:.019777944378993995},{state_name:"Iowa",county_fips:19051,county_name:"Davis County",votes_gop:3032,votes_dem:1013,total_votes:4102,diff:2019,per_gop:.7391516333495856,per_dem:.24695270599707458,per_point_diff:.492198927352511},{state_name:"Iowa",county_fips:19053,county_name:"Decatur County",votes_gop:2615,votes_dem:1120,total_votes:3804,diff:1495,per_gop:.687434279705573,per_dem:.29442691903259727,per_point_diff:.39300736067297576},{state_name:"Iowa",county_fips:19055,county_name:"Delaware County",votes_gop:6666,votes_dem:3157,total_votes:10003,diff:3509,per_gop:.6664000799760071,per_dem:.31560531840447864,per_point_diff:.3507947615715285},{state_name:"Iowa",county_fips:19057,county_name:"Des Moines County",votes_gop:10592,votes_dem:8893,total_votes:19956,diff:1699,per_gop:.5307676889156143,per_dem:.44563038685107237,per_point_diff:.08513730206454195},{state_name:"Iowa",county_fips:19059,county_name:"Dickinson County",votes_gop:7438,votes_dem:3661,total_votes:11244,diff:3777,per_gop:.6615083600142299,per_dem:.32559587335467804,per_point_diff:.3359124866595518},{state_name:"Iowa",county_fips:19061,county_name:"Dubuque County",votes_gop:27214,votes_dem:25657,total_votes:53926,diff:1557,per_gop:.5046545265734526,per_dem:.47578162667358975,per_point_diff:.028872899899862803},{state_name:"Iowa",county_fips:19063,county_name:"Emmet County",votes_gop:3265,votes_dem:1520,total_votes:4853,diff:1745,per_gop:.6727797238821348,per_dem:.3132083247475788,per_point_diff:.359571399134556},{state_name:"Iowa",county_fips:19065,county_name:"Fayette County",votes_gop:6145,votes_dem:3835,total_votes:10186,diff:2310,per_gop:.6032790104064402,per_dem:.37649715295503633,per_point_diff:.22678185745140383},{state_name:"Iowa",county_fips:19067,county_name:"Floyd County",votes_gop:4732,votes_dem:3172,total_votes:8032,diff:1560,per_gop:.5891434262948207,per_dem:.3949203187250996,per_point_diff:.19422310756972117},{state_name:"Iowa",county_fips:19069,county_name:"Franklin County",votes_gop:3422,votes_dem:1626,total_votes:5130,diff:1796,per_gop:.6670565302144249,per_dem:.3169590643274854,per_point_diff:.3500974658869395},{state_name:"Iowa",county_fips:19071,county_name:"Fremont County",votes_gop:2711,votes_dem:1080,total_votes:3857,diff:1631,per_gop:.7028778843660877,per_dem:.2800103707544724,per_point_diff:.4228675136116153},{state_name:"Iowa",county_fips:19073,county_name:"Greene County",votes_gop:3223,votes_dem:1769,total_votes:5057,diff:1454,per_gop:.6373343879770615,per_dem:.3498121415859205,per_point_diff:.28752224639114105},{state_name:"Iowa",county_fips:19075,county_name:"Grundy County",votes_gop:4929,votes_dem:2206,total_votes:7276,diff:2723,per_gop:.6774326553051127,per_dem:.30318856514568443,per_point_diff:.3742440901594282},{state_name:"Iowa",county_fips:19077,county_name:"Guthrie County",votes_gop:4272,votes_dem:1985,total_votes:6371,diff:2287,per_gop:.6705383770208758,per_dem:.3115680426934547,per_point_diff:.3589703343274211},{state_name:"Iowa",county_fips:19079,county_name:"Hamilton County",votes_gop:4956,votes_dem:2843,total_votes:7943,diff:2113,per_gop:.6239456124889841,per_dem:.35792521717235304,per_point_diff:.266020395316631},{state_name:"Iowa",county_fips:19081,county_name:"Hancock County",votes_gop:4390,votes_dem:1683,total_votes:6172,diff:2707,per_gop:.7112767336357745,per_dem:.27268308489954635,per_point_diff:.43859364873622814},{state_name:"Iowa",county_fips:19083,county_name:"Hardin County",votes_gop:5850,votes_dem:2976,total_votes:8989,diff:2874,per_gop:.6507954166203137,per_dem:.33107130937812884,per_point_diff:.31972410724218486},{state_name:"Iowa",county_fips:19085,county_name:"Harrison County",votes_gop:5569,votes_dem:2440,total_votes:8155,diff:3129,per_gop:.6828939301042305,per_dem:.299202942979767,per_point_diff:.3836909871244635},{state_name:"Iowa",county_fips:19087,county_name:"Henry County",votes_gop:6507,votes_dem:3275,total_votes:9982,diff:3232,per_gop:.6518733720697255,per_dem:.32809056301342415,per_point_diff:.32378280905630136},{state_name:"Iowa",county_fips:19089,county_name:"Howard County",votes_gop:3127,votes_dem:1772,total_votes:4958,diff:1355,per_gop:.6306978620411456,per_dem:.3574021782977007,per_point_diff:.27329568374344493},{state_name:"Iowa",county_fips:19091,county_name:"Humboldt County",votes_gop:3819,votes_dem:1442,total_votes:5327,diff:2377,per_gop:.7169138351792754,per_dem:.2706964520367937,per_point_diff:.4462173831424817},{state_name:"Iowa",county_fips:19093,county_name:"Ida County",votes_gop:2880,votes_dem:917,total_votes:3849,diff:1963,per_gop:.7482462977396727,per_dem:.23824369966224992,per_point_diff:.5100025980774228},{state_name:"Iowa",county_fips:19095,county_name:"Iowa County",votes_gop:6009,votes_dem:3547,total_votes:9742,diff:2462,per_gop:.6168137959351263,per_dem:.364093615274071,per_point_diff:.2527201806610553},{state_name:"Iowa",county_fips:19097,county_name:"Jackson County",votes_gop:6940,votes_dem:4029,total_votes:11135,diff:2911,per_gop:.6232599910193085,per_dem:.3618320610687023,per_point_diff:.2614279299506062},{state_name:"Iowa",county_fips:19099,county_name:"Jasper County",votes_gop:12084,votes_dem:7737,total_votes:20184,diff:4347,per_gop:.598692033293698,per_dem:.38332342449464923,per_point_diff:.2153686087990488},{state_name:"Iowa",county_fips:19101,county_name:"Jefferson County",votes_gop:4443,votes_dem:4319,total_votes:8959,diff:124,per_gop:.4959258845853332,per_dem:.4820850541355062,per_point_diff:.013840830449827035},{state_name:"Iowa",county_fips:19103,county_name:"Johnson County",votes_gop:22925,votes_dem:59177,total_votes:83851,diff:-36252,per_gop:.2734016290801541,per_dem:.7057399434711572,per_point_diff:-.4323383143910031},{state_name:"Iowa",county_fips:19105,county_name:"Jones County",votes_gop:6572,votes_dem:4213,total_votes:10989,diff:2359,per_gop:.598052598052598,per_dem:.3833833833833834,per_point_diff:.21466921466921463},{state_name:"Iowa",county_fips:19107,county_name:"Keokuk County",votes_gop:3797,votes_dem:1414,total_votes:5303,diff:2383,per_gop:.7160098057703187,per_dem:.26664152366584953,per_point_diff:.44936828210446916},{state_name:"Iowa",county_fips:19109,county_name:"Kossuth County",votes_gop:6275,votes_dem:2696,total_votes:9090,diff:3579,per_gop:.6903190319031903,per_dem:.29658965896589656,per_point_diff:.39372937293729376},{state_name:"Iowa",county_fips:19111,county_name:"Lee County",votes_gop:9773,votes_dem:6541,total_votes:16734,diff:3232,per_gop:.5840205569499223,per_dem:.39088084140074103,per_point_diff:.19313971554918125},{state_name:"Iowa",county_fips:19113,county_name:"Linn County",votes_gop:53364,votes_dem:70874,total_votes:127458,diff:-17510,per_gop:.4186790942898837,per_dem:.5560576817461438,per_point_diff:-.13737858745626008},{state_name:"Iowa",county_fips:19115,county_name:"Louisa County",votes_gop:3500,votes_dem:1726,total_votes:5332,diff:1774,per_gop:.6564141035258815,per_dem:.3237059264816204,per_point_diff:.3327081770442611},{state_name:"Iowa",county_fips:19117,county_name:"Lucas County",votes_gop:3287,votes_dem:1284,total_votes:4630,diff:2003,per_gop:.7099352051835853,per_dem:.27732181425485963,per_point_diff:.4326133909287257},{state_name:"Iowa",county_fips:19119,county_name:"Lyon County",votes_gop:5707,votes_dem:1067,total_votes:6863,diff:4640,per_gop:.83156054203701,per_dem:.15547136820632376,per_point_diff:.6760891738306862},{state_name:"Iowa",county_fips:19121,county_name:"Madison County",votes_gop:6507,votes_dem:3134,total_votes:9824,diff:3373,per_gop:.6623574918566775,per_dem:.31901465798045603,per_point_diff:.34334283387622144},{state_name:"Iowa",county_fips:19123,county_name:"Mahaska County",votes_gop:8297,votes_dem:2894,total_votes:11404,diff:5403,per_gop:.7275517362329007,per_dem:.25377060680462993,per_point_diff:.4737811294282708},{state_name:"Iowa",county_fips:19125,county_name:"Marion County",votes_gop:12663,votes_dem:6178,total_votes:19232,diff:6485,per_gop:.6584338602329451,per_dem:.32123544093178036,per_point_diff:.3371984193011648},{state_name:"Iowa",county_fips:19127,county_name:"Marshall County",votes_gop:9571,votes_dem:8176,total_votes:18136,diff:1395,per_gop:.5277348919276577,per_dem:.45081605646228495,per_point_diff:.0769188354653727},{state_name:"Iowa",county_fips:19129,county_name:"Mills County",votes_gop:5585,votes_dem:2508,total_votes:8268,diff:3077,per_gop:.6754958877600387,per_dem:.3033381712626996,per_point_diff:.3721577164973391},{state_name:"Iowa",county_fips:19131,county_name:"Mitchell County",votes_gop:3677,votes_dem:2053,total_votes:5822,diff:1624,per_gop:.6315699072483683,per_dem:.3526279628993473,per_point_diff:.278941944349021},{state_name:"Iowa",county_fips:19133,county_name:"Monona County",votes_gop:3248,votes_dem:1407,total_votes:4728,diff:1841,per_gop:.6869712351945855,per_dem:.29758883248730966,per_point_diff:.3893824027072758},{state_name:"Iowa",county_fips:19135,county_name:"Monroe County",votes_gop:2975,votes_dem:1078,total_votes:4088,diff:1897,per_gop:.7277397260273972,per_dem:.2636986301369863,per_point_diff:.4640410958904109},{state_name:"Iowa",county_fips:19137,county_name:"Montgomery County",votes_gop:3659,votes_dem:1583,total_votes:5327,diff:2076,per_gop:.6868781678242913,per_dem:.2971653838933734,per_point_diff:.38971278393091796},{state_name:"Iowa",county_fips:19139,county_name:"Muscatine County",votes_gop:10823,votes_dem:9372,total_votes:20671,diff:1451,per_gop:.5235837646944995,per_dem:.453388805573025,per_point_diff:.0701949591214745},{state_name:"Iowa",county_fips:19141,county_name:"O'Brien County",votes_gop:5861,votes_dem:1569,total_votes:7551,diff:4292,per_gop:.776188584293471,per_dem:.2077870480731029,per_point_diff:.5684015362203682},{state_name:"Iowa",county_fips:19143,county_name:"Osceola County",votes_gop:2690,votes_dem:601,total_votes:3328,diff:2089,per_gop:.8082932692307693,per_dem:.18058894230769232,per_point_diff:.627704326923077},{state_name:"Iowa",county_fips:19145,county_name:"Page County",votes_gop:5319,votes_dem:2086,total_votes:7528,diff:3233,per_gop:.7065621679064825,per_dem:.2770988310308183,per_point_diff:.42946333687566424},{state_name:"Iowa",county_fips:19147,county_name:"Palo Alto County",votes_gop:3370,votes_dem:1519,total_votes:4958,diff:1851,per_gop:.6797095603065753,per_dem:.3063735377168213,per_point_diff:.37333602258975396},{state_name:"Iowa",county_fips:19149,county_name:"Plymouth County",votes_gop:10492,votes_dem:3494,total_votes:14188,diff:6998,per_gop:.7394981674654638,per_dem:.24626444882999718,per_point_diff:.4932337186354666},{state_name:"Iowa",county_fips:19151,county_name:"Pocahontas County",votes_gop:2826,votes_dem:933,total_votes:3823,diff:1893,per_gop:.7392100444676956,per_dem:.24404917603975934,per_point_diff:.4951608684279362},{state_name:"Iowa",county_fips:19153,county_name:"Polk County",votes_gop:106800,votes_dem:146250,total_votes:258755,diff:-39450,per_gop:.41274564742710285,per_dem:.565206469440204,per_point_diff:-.15246082201310118},{state_name:"Iowa",county_fips:19155,county_name:"Pottawattamie County",votes_gop:26247,votes_dem:18575,total_votes:45744,diff:7672,per_gop:.5737801678908709,per_dem:.40606418328086746,per_point_diff:.16771598461000348},{state_name:"Iowa",county_fips:19157,county_name:"Poweshiek County",votes_gop:5657,votes_dem:4306,total_votes:10140,diff:1351,per_gop:.5578895463510848,per_dem:.42465483234714,per_point_diff:.13323471400394477},{state_name:"Iowa",county_fips:19159,county_name:"Ringgold County",votes_gop:1968,votes_dem:709,total_votes:2714,diff:1259,per_gop:.7251289609432572,per_dem:.261238025055269,per_point_diff:.4638909358879882},{state_name:"Iowa",county_fips:19161,county_name:"Sac County",votes_gop:4061,votes_dem:1389,total_votes:5535,diff:2672,per_gop:.7336946702800361,per_dem:.25094850948509484,per_point_diff:.48274616079494126},{state_name:"Iowa",county_fips:19163,county_name:"Scott County",votes_gop:43683,votes_dem:46926,total_votes:92599,diff:-3243,per_gop:.47174375533213103,per_dem:.5067657318113586,per_point_diff:-.03502197647922761},{state_name:"Iowa",county_fips:19165,county_name:"Shelby County",votes_gop:4697,votes_dem:1959,total_votes:6795,diff:2738,per_gop:.691243561442237,per_dem:.2883002207505519,per_point_diff:.4029433406916851},{state_name:"Iowa",county_fips:19167,county_name:"Sioux County",votes_gop:15680,votes_dem:3019,total_votes:19051,diff:12661,per_gop:.8230539079313421,per_dem:.15846937168652564,per_point_diff:.6645845362448165},{state_name:"Iowa",county_fips:19169,county_name:"Story County",votes_gop:20340,votes_dem:29175,total_votes:51038,diff:-8835,per_gop:.3985265880324464,per_dem:.5716329009757436,per_point_diff:-.1731063129432972},{state_name:"Iowa",county_fips:19171,county_name:"Tama County",votes_gop:5303,votes_dem:3577,total_votes:9048,diff:1726,per_gop:.5860963748894783,per_dem:.3953359858532272,per_point_diff:.1907603890362511},{state_name:"Iowa",county_fips:19173,county_name:"Taylor County",votes_gop:2463,votes_dem:746,total_votes:3249,diff:1717,per_gop:.7580794090489381,per_dem:.2296091104955371,per_point_diff:.528470298553401},{state_name:"Iowa",county_fips:19175,county_name:"Union County",votes_gop:4010,votes_dem:2061,total_votes:6185,diff:1949,per_gop:.6483427647534358,per_dem:.3332255456750202,per_point_diff:.31511721907841556},{state_name:"Iowa",county_fips:19177,county_name:"Van Buren County",votes_gop:2859,votes_dem:875,total_votes:3791,diff:1984,per_gop:.7541545766288579,per_dem:.2308098127143234,per_point_diff:.5233447639145344},{state_name:"Iowa",county_fips:19179,county_name:"Wapello County",votes_gop:9516,votes_dem:5821,total_votes:15633,diff:3695,per_gop:.6087123392822875,per_dem:.3723533550821979,per_point_diff:.2363589842000896},{state_name:"Iowa",county_fips:19181,county_name:"Warren County",votes_gop:17782,votes_dem:12574,total_votes:31039,diff:5208,per_gop:.5728921679177809,per_dem:.4051032571925642,per_point_diff:.16778891072521668},{state_name:"Iowa",county_fips:19183,county_name:"Washington County",votes_gop:6971,votes_dem:4561,total_votes:11765,diff:2410,per_gop:.5925201869953252,per_dem:.38767530811729706,per_point_diff:.2048448788780281},{state_name:"Iowa",county_fips:19185,county_name:"Wayne County",votes_gop:2338,votes_dem:727,total_votes:3109,diff:1611,per_gop:.752010292698617,per_dem:.23383724670311998,per_point_diff:.518173045995497},{state_name:"Iowa",county_fips:19187,county_name:"Webster County",votes_gop:10938,votes_dem:6613,total_votes:17822,diff:4325,per_gop:.6137358321176074,per_dem:.3710582426214791,per_point_diff:.24267758949612833},{state_name:"Iowa",county_fips:19189,county_name:"Winnebago County",votes_gop:3707,votes_dem:2135,total_votes:5970,diff:1572,per_gop:.6209380234505862,per_dem:.3576214405360134,per_point_diff:.2633165829145728},{state_name:"Iowa",county_fips:19191,county_name:"Winneshiek County",votes_gop:6235,votes_dem:5617,total_votes:12064,diff:618,per_gop:.5168269230769231,per_dem:.4656001326259947,per_point_diff:.05122679045092843},{state_name:"Iowa",county_fips:19193,county_name:"Woodbury County",votes_gop:25736,votes_dem:18704,total_votes:45362,diff:7032,per_gop:.5673471187337419,per_dem:.4123274987875314,per_point_diff:.1550196199462105},{state_name:"Iowa",county_fips:19195,county_name:"Worth County",votes_gop:2738,votes_dem:1596,total_votes:4418,diff:1142,per_gop:.6197374377546401,per_dem:.3612494341330919,per_point_diff:.25848800362154817},{state_name:"Iowa",county_fips:19197,county_name:"Wright County",votes_gop:4136,votes_dem:1996,total_votes:6254,diff:2140,per_gop:.6613367444835305,per_dem:.31915574032619126,per_point_diff:.34218100415733926},{state_name:"Kansas",county_fips:20001,county_name:"Allen County",votes_gop:4155,votes_dem:1559,total_votes:5842,diff:2596,per_gop:.7112290311537145,per_dem:.2668606641561109,per_point_diff:.44436836699760357},{state_name:"Kansas",county_fips:20003,county_name:"Anderson County",votes_gop:2874,votes_dem:765,total_votes:3720,diff:2109,per_gop:.7725806451612903,per_dem:.2056451612903226,per_point_diff:.5669354838709677},{state_name:"Kansas",county_fips:20005,county_name:"Atchison County",votes_gop:4826,votes_dem:2314,total_votes:7312,diff:2512,per_gop:.6600109409190372,per_dem:.3164660831509847,per_point_diff:.34354485776805255},{state_name:"Kansas",county_fips:20007,county_name:"Barber County",votes_gop:1992,votes_dem:284,total_votes:2313,diff:1708,per_gop:.8612191958495461,per_dem:.12278426286208387,per_point_diff:.7384349329874622},{state_name:"Kansas",county_fips:20009,county_name:"Barton County",votes_gop:8480,votes_dem:2302,total_votes:10961,diff:6178,per_gop:.7736520390475322,per_dem:.21001733418483715,per_point_diff:.5636347048626951},{state_name:"Kansas",county_fips:20011,county_name:"Bourbon County",votes_gop:4910,votes_dem:1505,total_votes:6550,diff:3405,per_gop:.749618320610687,per_dem:.2297709923664122,per_point_diff:.5198473282442748},{state_name:"Kansas",county_fips:20013,county_name:"Brown County",votes_gop:3206,votes_dem:1088,total_votes:4396,diff:2118,per_gop:.7292993630573248,per_dem:.24749772520473157,per_point_diff:.4818016378525932},{state_name:"Kansas",county_fips:20015,county_name:"Butler County",votes_gop:22250,votes_dem:9003,total_votes:31946,diff:13247,per_gop:.6964878232016528,per_dem:.28181932010267324,per_point_diff:.41466850309897957},{state_name:"Kansas",county_fips:20017,county_name:"Chase County",votes_gop:1114,votes_dem:341,total_votes:1478,diff:773,per_gop:.7537212449255751,per_dem:.2307171853856563,per_point_diff:.5230040595399188},{state_name:"Kansas",county_fips:20019,county_name:"Chautauqua County",votes_gop:1397,votes_dem:212,total_votes:1634,diff:1185,per_gop:.8549571603427173,per_dem:.12974296205630356,per_point_diff:.7252141982864138},{state_name:"Kansas",county_fips:20021,county_name:"Cherokee County",votes_gop:6622,votes_dem:2163,total_votes:8945,diff:4459,per_gop:.7403018446059251,per_dem:.24181106763555058,per_point_diff:.49849077697037447},{state_name:"Kansas",county_fips:20023,county_name:"Cheyenne County",votes_gop:1158,votes_dem:220,total_votes:1400,diff:938,per_gop:.8271428571428572,per_dem:.15714285714285714,per_point_diff:.67},{state_name:"Kansas",county_fips:20025,county_name:"Clark County",votes_gop:885,votes_dem:143,total_votes:1048,diff:742,per_gop:.8444656488549618,per_dem:.1364503816793893,per_point_diff:.7080152671755725},{state_name:"Kansas",county_fips:20027,county_name:"Clay County",votes_gop:3129,votes_dem:883,total_votes:4134,diff:2246,per_gop:.7568940493468795,per_dem:.21359458151910982,per_point_diff:.5432994678277697},{state_name:"Kansas",county_fips:20029,county_name:"Cloud County",votes_gop:3182,votes_dem:893,total_votes:4174,diff:2289,per_gop:.7623382846190704,per_dem:.21394345951126018,per_point_diff:.5483948251078102},{state_name:"Kansas",county_fips:20031,county_name:"Coffey County",votes_gop:3407,votes_dem:928,total_votes:4448,diff:2479,per_gop:.7659622302158273,per_dem:.20863309352517986,per_point_diff:.5573291366906474},{state_name:"Kansas",county_fips:20033,county_name:"Comanche County",votes_gop:745,votes_dem:126,total_votes:904,diff:619,per_gop:.8241150442477876,per_dem:.13938053097345132,per_point_diff:.6847345132743363},{state_name:"Kansas",county_fips:20035,county_name:"Cowley County",votes_gop:9442,votes_dem:4171,total_votes:13911,diff:5271,per_gop:.6787434404428151,per_dem:.29983466321615987,per_point_diff:.3789087772266552},{state_name:"Kansas",county_fips:20037,county_name:"Crawford County",votes_gop:10045,votes_dem:6179,total_votes:16718,diff:3866,per_gop:.6008493838975955,per_dem:.3696016269888743,per_point_diff:.23124775690872118},{state_name:"Kansas",county_fips:20039,county_name:"Decatur County",votes_gop:1232,votes_dem:208,total_votes:1458,diff:1024,per_gop:.8449931412894376,per_dem:.14266117969821673,per_point_diff:.7023319615912209},{state_name:"Kansas",county_fips:20041,county_name:"Dickinson County",votes_gop:7045,votes_dem:2040,total_votes:9246,diff:5005,per_gop:.7619511139952412,per_dem:.22063595068137573,per_point_diff:.5413151633138654},{state_name:"Kansas",county_fips:20043,county_name:"Doniphan County",votes_gop:2949,votes_dem:678,total_votes:3674,diff:2271,per_gop:.8026673924877518,per_dem:.18454001088731628,per_point_diff:.6181273816004355},{state_name:"Kansas",county_fips:20045,county_name:"Douglas County",votes_gop:16737,votes_dem:39436,total_votes:57540,diff:-22699,per_gop:.2908759124087591,per_dem:.6853667014250956,per_point_diff:-.3944907890163365},{state_name:"Kansas",county_fips:20047,county_name:"Edwards County",votes_gop:1127,votes_dem:267,total_votes:1413,diff:860,per_gop:.7975937721160651,per_dem:.18895966029723993,per_point_diff:.6086341118188252},{state_name:"Kansas",county_fips:20049,county_name:"Elk County",votes_gop:1130,votes_dem:191,total_votes:1347,diff:939,per_gop:.8389012620638456,per_dem:.14179658500371195,per_point_diff:.6971046770601337},{state_name:"Kansas",county_fips:20051,county_name:"Ellis County",votes_gop:9569,votes_dem:3633,total_votes:13501,diff:5936,per_gop:.7087623139026739,per_dem:.2690911784312273,per_point_diff:.43967113547144654},{state_name:"Kansas",county_fips:20053,county_name:"Ellsworth County",votes_gop:2106,votes_dem:646,total_votes:2806,diff:1460,per_gop:.7505345687811832,per_dem:.23022095509622237,per_point_diff:.5203136136849609},{state_name:"Kansas",county_fips:20055,county_name:"Finney County",votes_gop:7079,votes_dem:4155,total_votes:11466,diff:2924,per_gop:.6173905459619745,per_dem:.36237571951857667,per_point_diff:.25501482644339785},{state_name:"Kansas",county_fips:20057,county_name:"Ford County",votes_gop:5763,votes_dem:2926,total_votes:8850,diff:2837,per_gop:.651186440677966,per_dem:.3306214689265537,per_point_diff:.32056497175141235},{state_name:"Kansas",county_fips:20059,county_name:"Franklin County",votes_gop:8326,votes_dem:3623,total_votes:12247,diff:4703,per_gop:.6798399608067281,per_dem:.29582754960398466,per_point_diff:.3840124112027435},{state_name:"Kansas",county_fips:20061,county_name:"Geary County",votes_gop:5193,votes_dem:3825,total_votes:9311,diff:1368,per_gop:.5577274191816132,per_dem:.4108044248738052,per_point_diff:.14692299430780797},{state_name:"Kansas",county_fips:20063,county_name:"Gove County",votes_gop:1256,votes_dem:163,total_votes:1433,diff:1093,per_gop:.8764829030006979,per_dem:.1137473831123517,per_point_diff:.7627355198883462},{state_name:"Kansas",county_fips:20065,county_name:"Graham County",votes_gop:1052,votes_dem:222,total_votes:1302,diff:830,per_gop:.8079877112135176,per_dem:.17050691244239632,per_point_diff:.6374807987711213},{state_name:"Kansas",county_fips:20067,county_name:"Grant County",votes_gop:1910,votes_dem:497,total_votes:2452,diff:1413,per_gop:.7789559543230016,per_dem:.20269168026101142,per_point_diff:.5762642740619901},{state_name:"Kansas",county_fips:20069,county_name:"Gray County",votes_gop:1871,votes_dem:337,total_votes:2240,diff:1534,per_gop:.8352678571428571,per_dem:.15044642857142856,per_point_diff:.6848214285714286},{state_name:"Kansas",county_fips:20071,county_name:"Greeley County",votes_gop:537,votes_dem:77,total_votes:629,diff:460,per_gop:.8537360890302067,per_dem:.12241653418124006,per_point_diff:.7313195548489666},{state_name:"Kansas",county_fips:20073,county_name:"Greenwood County",votes_gop:2404,votes_dem:562,total_votes:3030,diff:1842,per_gop:.7933993399339934,per_dem:.18547854785478549,per_point_diff:.6079207920792079},{state_name:"Kansas",county_fips:20075,county_name:"Hamilton County",votes_gop:684,votes_dem:134,total_votes:837,diff:550,per_gop:.8172043010752689,per_dem:.16009557945041816,per_point_diff:.6571087216248507},{state_name:"Kansas",county_fips:20077,county_name:"Harper County",votes_gop:2128,votes_dem:453,total_votes:2626,diff:1675,per_gop:.8103579588728104,per_dem:.1725057121096725,per_point_diff:.6378522467631379},{state_name:"Kansas",county_fips:20079,county_name:"Harvey County",votes_gop:10015,votes_dem:6652,total_votes:17034,diff:3363,per_gop:.58794176353176,per_dem:.39051309146413055,per_point_diff:.19742867206762943},{state_name:"Kansas",county_fips:20081,county_name:"Haskell County",votes_gop:1103,votes_dem:261,total_votes:1383,diff:842,per_gop:.7975415762834418,per_dem:.18872017353579176,per_point_diff:.6088214027476501},{state_name:"Kansas",county_fips:20083,county_name:"Hodgeman County",votes_gop:866,votes_dem:151,total_votes:1033,diff:715,per_gop:.8383349467570184,per_dem:.14617618586640851,per_point_diff:.6921587608906099},{state_name:"Kansas",county_fips:20085,county_name:"Jackson County",votes_gop:4435,votes_dem:1852,total_votes:6468,diff:2583,per_gop:.6856833642547928,per_dem:.28633271490414347,per_point_diff:.39935064935064934},{state_name:"Kansas",county_fips:20087,county_name:"Jefferson County",votes_gop:6193,votes_dem:3106,total_votes:9581,diff:3087,per_gop:.6463834672789897,per_dem:.32418327940716,per_point_diff:.32220018787182964},{state_name:"Kansas",county_fips:20089,county_name:"Jewell County",votes_gop:1369,votes_dem:211,total_votes:1608,diff:1158,per_gop:.8513681592039801,per_dem:.13121890547263682,per_point_diff:.7201492537313433},{state_name:"Kansas",county_fips:20091,county_name:"Johnson County",votes_gop:155631,votes_dem:184259,total_votes:349386,diff:-28628,per_gop:.4454414315399014,per_dem:.5273794599669134,per_point_diff:-.08193802842701198},{state_name:"Kansas",county_fips:20093,county_name:"Kearny County",votes_gop:1134,votes_dem:255,total_votes:1413,diff:879,per_gop:.802547770700637,per_dem:.18046709129511676,per_point_diff:.6220806794055203},{state_name:"Kansas",county_fips:20095,county_name:"Kingman County",votes_gop:3102,votes_dem:745,total_votes:3929,diff:2357,per_gop:.7895138712140494,per_dem:.18961567828964113,per_point_diff:.5998981929244083},{state_name:"Kansas",county_fips:20097,county_name:"Kiowa County",votes_gop:957,votes_dem:153,total_votes:1139,diff:804,per_gop:.8402107111501317,per_dem:.13432835820895522,per_point_diff:.7058823529411764},{state_name:"Kansas",county_fips:20099,county_name:"Labette County",votes_gop:5639,votes_dem:2607,total_votes:8414,diff:3032,per_gop:.6701925362491087,per_dem:.3098407416211077,per_point_diff:.360351794628001},{state_name:"Kansas",county_fips:20101,county_name:"Lane County",votes_gop:757,votes_dem:114,total_votes:888,diff:643,per_gop:.8524774774774775,per_dem:.12837837837837837,per_point_diff:.7240990990990991},{state_name:"Kansas",county_fips:20103,county_name:"Leavenworth County",votes_gop:21378,votes_dem:13753,total_votes:36115,diff:7625,per_gop:.591942406202409,per_dem:.3808112972449121,per_point_diff:.21113110895749693},{state_name:"Kansas",county_fips:20105,county_name:"Lincoln County",votes_gop:1273,votes_dem:266,total_votes:1570,diff:1007,per_gop:.810828025477707,per_dem:.16942675159235668,per_point_diff:.6414012738853504},{state_name:"Kansas",county_fips:20107,county_name:"Linn County",votes_gop:3940,votes_dem:863,total_votes:4903,diff:3077,per_gop:.8035896389965327,per_dem:.176014684886804,per_point_diff:.6275749541097286},{state_name:"Kansas",county_fips:20109,county_name:"Logan County",votes_gop:1231,votes_dem:185,total_votes:1437,diff:1046,per_gop:.8566457898399443,per_dem:.12874043145441894,per_point_diff:.7279053583855254},{state_name:"Kansas",county_fips:20111,county_name:"Lyon County",votes_gop:7381,votes_dem:5878,total_votes:13622,diff:1503,per_gop:.5418440757598003,per_dem:.43150785494053734,per_point_diff:.11033622081926298},{state_name:"Kansas",county_fips:20113,county_name:"McPherson County",votes_gop:9562,votes_dem:3977,total_votes:13868,diff:5585,per_gop:.6895010095183155,per_dem:.2867753100663398,per_point_diff:.4027256994519757},{state_name:"Kansas",county_fips:20115,county_name:"Marion County",votes_gop:4377,votes_dem:1463,total_votes:5969,diff:2914,per_gop:.7332886580666779,per_dem:.2450996816887251,per_point_diff:.4881889763779528},{state_name:"Kansas",county_fips:20117,county_name:"Marshall County",votes_gop:3662,votes_dem:1239,total_votes:5023,diff:2423,per_gop:.7290463866215409,per_dem:.24666533943858251,per_point_diff:.4823810471829584},{state_name:"Kansas",county_fips:20119,county_name:"Meade County",votes_gop:1508,votes_dem:261,total_votes:1807,diff:1247,per_gop:.8345323741007195,per_dem:.1444382955174322,per_point_diff:.6900940785832872},{state_name:"Kansas",county_fips:20121,county_name:"Miami County",votes_gop:12116,votes_dem:5133,total_votes:17624,diff:6983,per_gop:.6874716295960055,per_dem:.29125056740807986,per_point_diff:.39622106218792563},{state_name:"Kansas",county_fips:20123,county_name:"Mitchell County",votes_gop:2454,votes_dem:547,total_votes:3039,diff:1907,per_gop:.807502467917078,per_dem:.17999341888779205,per_point_diff:.627509049029286},{state_name:"Kansas",county_fips:20125,county_name:"Montgomery County",votes_gop:9768,votes_dem:3147,total_votes:13177,diff:6621,per_gop:.7412916445321394,per_dem:.2388252257721788,per_point_diff:.5024664187599606},{state_name:"Kansas",county_fips:20127,county_name:"Morris County",votes_gop:2085,votes_dem:721,total_votes:2849,diff:1364,per_gop:.7318357318357318,per_dem:.25307125307125306,per_point_diff:.47876447876447875},{state_name:"Kansas",county_fips:20129,county_name:"Morton County",votes_gop:1004,votes_dem:147,total_votes:1163,diff:857,per_gop:.8632846087704213,per_dem:.12639724849527084,per_point_diff:.7368873602751504},{state_name:"Kansas",county_fips:20131,county_name:"Nemaha County",votes_gop:4612,votes_dem:920,total_votes:5625,diff:3692,per_gop:.8199111111111111,per_dem:.16355555555555557,per_point_diff:.6563555555555556},{state_name:"Kansas",county_fips:20133,county_name:"Neosho County",votes_gop:4795,votes_dem:1727,total_votes:6629,diff:3068,per_gop:.723336853220697,per_dem:.26052194901191733,per_point_diff:.46281490420877963},{state_name:"Kansas",county_fips:20135,county_name:"Ness County",votes_gop:1315,votes_dem:147,total_votes:1487,diff:1168,per_gop:.8843308675184937,per_dem:.0988567585743107,per_point_diff:.785474108944183},{state_name:"Kansas",county_fips:20137,county_name:"Norton County",votes_gop:1977,votes_dem:361,total_votes:2390,diff:1616,per_gop:.8271966527196652,per_dem:.15104602510460252,per_point_diff:.6761506276150627},{state_name:"Kansas",county_fips:20139,county_name:"Osage County",votes_gop:5591,votes_dem:2099,total_votes:7893,diff:3492,per_gop:.7083491701507665,per_dem:.2659318383377676,per_point_diff:.44241733181299886},{state_name:"Kansas",county_fips:20141,county_name:"Osborne County",votes_gop:1590,votes_dem:275,total_votes:1899,diff:1315,per_gop:.8372827804107424,per_dem:.14481305950500264,per_point_diff:.6924697209057398},{state_name:"Kansas",county_fips:20143,county_name:"Ottawa County",votes_gop:2581,votes_dem:504,total_votes:3159,diff:2077,per_gop:.8170307059195948,per_dem:.15954415954415954,per_point_diff:.6574865463754352},{state_name:"Kansas",county_fips:20145,county_name:"Pawnee County",votes_gop:2028,votes_dem:635,total_votes:2712,diff:1393,per_gop:.7477876106194691,per_dem:.23414454277286137,per_point_diff:.5136430678466077},{state_name:"Kansas",county_fips:20147,county_name:"Phillips County",votes_gop:2388,votes_dem:318,total_votes:2752,diff:2070,per_gop:.8677325581395349,per_dem:.11555232558139535,per_point_diff:.7521802325581395},{state_name:"Kansas",county_fips:20149,county_name:"Pottawatomie County",votes_gop:9247,votes_dem:3257,total_votes:12815,diff:5990,per_gop:.7215762777994538,per_dem:.2541552867733125,per_point_diff:.46742099102614126},{state_name:"Kansas",county_fips:20151,county_name:"Pratt County",votes_gop:3087,votes_dem:924,total_votes:4107,diff:2163,per_gop:.7516435354273192,per_dem:.22498173849525202,per_point_diff:.5266617969320672},{state_name:"Kansas",county_fips:20153,county_name:"Rawlins County",votes_gop:1253,votes_dem:214,total_votes:1496,diff:1039,per_gop:.8375668449197861,per_dem:.14304812834224598,per_point_diff:.69451871657754},{state_name:"Kansas",county_fips:20155,county_name:"Reno County",votes_gop:17948,votes_dem:8602,total_votes:27245,diff:9346,per_gop:.6587630757937236,per_dem:.3157276564507249,per_point_diff:.3430354193429987},{state_name:"Kansas",county_fips:20157,county_name:"Republic County",votes_gop:2172,votes_dem:420,total_votes:2643,diff:1752,per_gop:.8217934165720772,per_dem:.15891032917139614,per_point_diff:.662883087400681},{state_name:"Kansas",county_fips:20159,county_name:"Rice County",votes_gop:3187,votes_dem:953,total_votes:4230,diff:2234,per_gop:.7534278959810875,per_dem:.22529550827423167,per_point_diff:.5281323877068558},{state_name:"Kansas",county_fips:20161,county_name:"Riley County",votes_gop:11174,votes_dem:11940,total_votes:23855,diff:-766,per_gop:.4684133305386711,per_dem:.5005239991616014,per_point_diff:-.03211066862293027},{state_name:"Kansas",county_fips:20163,county_name:"Rooks County",votes_gop:2294,votes_dem:332,total_votes:2661,diff:1962,per_gop:.8620819240886884,per_dem:.1247651258925216,per_point_diff:.7373167981961668},{state_name:"Kansas",county_fips:20165,county_name:"Rush County",votes_gop:1425,votes_dem:291,total_votes:1748,diff:1134,per_gop:.8152173913043478,per_dem:.16647597254004576,per_point_diff:.648741418764302},{state_name:"Kansas",county_fips:20167,county_name:"Russell County",votes_gop:2765,votes_dem:591,total_votes:3429,diff:2174,per_gop:.8063575386410032,per_dem:.17235345581802275,per_point_diff:.6340040828229805},{state_name:"Kansas",county_fips:20169,county_name:"Saline County",votes_gop:15313,votes_dem:8022,total_votes:23911,diff:7291,per_gop:.640416544686546,per_dem:.33549412404332735,per_point_diff:.3049224206432186},{state_name:"Kansas",county_fips:20171,county_name:"Scott County",votes_gop:1991,votes_dem:290,total_votes:2322,diff:1701,per_gop:.8574504737295435,per_dem:.12489233419465978,per_point_diff:.7325581395348837},{state_name:"Kansas",county_fips:20173,county_name:"Sedgwick County",votes_gop:117653,votes_dem:90820,total_votes:213552,diff:26833,per_gop:.550933730426313,per_dem:.42528283509402864,per_point_diff:.12565089533228435},{state_name:"Kansas",county_fips:20175,county_name:"Seward County",votes_gop:3285,votes_dem:1736,total_votes:5099,diff:1549,per_gop:.6442439694057658,per_dem:.34045891351245344,per_point_diff:.30378505589331234},{state_name:"Kansas",county_fips:20177,county_name:"Shawnee County",votes_gop:40443,votes_dem:43015,total_votes:86122,diff:-2572,per_gop:.4696012633241216,per_dem:.49946587399270803,per_point_diff:-.029864610668586422},{state_name:"Kansas",county_fips:20179,county_name:"Sheridan County",votes_gop:1237,votes_dem:144,total_votes:1397,diff:1093,per_gop:.8854688618468146,per_dem:.10307802433786686,per_point_diff:.7823908375089478},{state_name:"Kansas",county_fips:20181,county_name:"Sherman County",votes_gop:2222,votes_dem:386,total_votes:2673,diff:1836,per_gop:.831275720164609,per_dem:.1444070332959222,per_point_diff:.6868686868686869},{state_name:"Kansas",county_fips:20183,county_name:"Smith County",votes_gop:1734,votes_dem:328,total_votes:2092,diff:1406,per_gop:.8288718929254302,per_dem:.15678776290630975,per_point_diff:.6720841300191205},{state_name:"Kansas",county_fips:20185,county_name:"Stafford County",votes_gop:1631,votes_dem:355,total_votes:2017,diff:1276,per_gop:.8086266732771443,per_dem:.1760039662865642,per_point_diff:.6326227069905801},{state_name:"Kansas",county_fips:20187,county_name:"Stanton County",votes_gop:607,votes_dem:147,total_votes:767,diff:460,per_gop:.7913950456323338,per_dem:.19165580182529335,per_point_diff:.5997392438070404},{state_name:"Kansas",county_fips:20189,county_name:"Stevens County",votes_gop:1731,votes_dem:233,total_votes:1997,diff:1498,per_gop:.8668002003004507,per_dem:.11667501251877817,per_point_diff:.7501251877816725},{state_name:"Kansas",county_fips:20191,county_name:"Sumner County",votes_gop:7998,votes_dem:2551,total_votes:10779,diff:5447,per_gop:.7419983300862789,per_dem:.23666388347713146,per_point_diff:.5053344466091474},{state_name:"Kansas",county_fips:20193,county_name:"Thomas County",votes_gop:3106,votes_dem:622,total_votes:3794,diff:2484,per_gop:.8186610437532946,per_dem:.1639430680021086,per_point_diff:.6547179757511861},{state_name:"Kansas",county_fips:20195,county_name:"Trego County",votes_gop:1341,votes_dem:238,total_votes:1603,diff:1103,per_gop:.8365564566437929,per_dem:.14847161572052403,per_point_diff:.6880848409232688},{state_name:"Kansas",county_fips:20197,county_name:"Wabaunsee County",votes_gop:2813,votes_dem:956,total_votes:3861,diff:1857,per_gop:.7285677285677286,per_dem:.2476042476042476,per_point_diff:.48096348096348096},{state_name:"Kansas",county_fips:20199,county_name:"Wallace County",votes_gop:762,votes_dem:44,total_votes:817,diff:718,per_gop:.9326805385556916,per_dem:.05385556915544676,per_point_diff:.8788249694002448},{state_name:"Kansas",county_fips:20201,county_name:"Washington County",votes_gop:2332,votes_dem:467,total_votes:2843,diff:1865,per_gop:.8202602884277173,per_dem:.1642631023566655,per_point_diff:.6559971860710517},{state_name:"Kansas",county_fips:20203,county_name:"Wichita County",votes_gop:803,votes_dem:147,total_votes:961,diff:656,per_gop:.8355879292403746,per_dem:.1529656607700312,per_point_diff:.6826222684703434},{state_name:"Kansas",county_fips:20205,county_name:"Wilson County",votes_gop:3111,votes_dem:711,total_votes:3899,diff:2400,per_gop:.7978968966401642,per_dem:.1823544498589382,per_point_diff:.6155424467812259},{state_name:"Kansas",county_fips:20207,county_name:"Woodson County",votes_gop:1189,votes_dem:283,total_votes:1495,diff:906,per_gop:.7953177257525084,per_dem:.18929765886287625,per_point_diff:.6060200668896321},{state_name:"Kansas",county_fips:20209,county_name:"Wyandotte County",votes_gop:18512,votes_dem:35566,total_votes:55107,diff:-17054,per_gop:.33592828497287097,per_dem:.6453989511314352,per_point_diff:-.3094706661585642},{state_name:"Kentucky",county_fips:21001,county_name:"Adair County",votes_gop:7276,votes_dem:1392,total_votes:8768,diff:5884,per_gop:.8298357664233577,per_dem:.15875912408759124,per_point_diff:.6710766423357664},{state_name:"Kentucky",county_fips:21003,county_name:"Allen County",votes_gop:7587,votes_dem:1642,total_votes:9364,diff:5945,per_gop:.8102306706535668,per_dem:.17535241349850492,per_point_diff:.6348782571550619},{state_name:"Kentucky",county_fips:21005,county_name:"Anderson County",votes_gop:9661,votes_dem:3348,total_votes:13254,diff:6313,per_gop:.7289120265580202,per_dem:.2526029877772748,per_point_diff:.47630903878074543},{state_name:"Kentucky",county_fips:21007,county_name:"Ballard County",votes_gop:3356,votes_dem:825,total_votes:4225,diff:2531,per_gop:.7943195266272189,per_dem:.1952662721893491,per_point_diff:.5990532544378698},{state_name:"Kentucky",county_fips:21009,county_name:"Barren County",votes_gop:14654,votes_dem:5127,total_votes:20064,diff:9527,per_gop:.7303628389154705,per_dem:.2555322966507177,per_point_diff:.4748305422647528},{state_name:"Kentucky",county_fips:21011,county_name:"Bath County",votes_gop:3986,votes_dem:1573,total_votes:5627,diff:2413,per_gop:.7083703572063267,per_dem:.27954505064865826,per_point_diff:.42882530655766843},{state_name:"Kentucky",county_fips:21013,county_name:"Bell County",votes_gop:8140,votes_dem:1789,total_votes:10044,diff:6351,per_gop:.8104340900039825,per_dem:.1781162883313421,per_point_diff:.6323178016726404},{state_name:"Kentucky",county_fips:21015,county_name:"Boone County",votes_gop:44814,votes_dem:20901,total_votes:66998,diff:23913,per_gop:.668885638377265,per_dem:.3119645362548136,per_point_diff:.35692110212245143},{state_name:"Kentucky",county_fips:21017,county_name:"Bourbon County",votes_gop:6190,votes_dem:3296,total_votes:9648,diff:2894,per_gop:.6415837479270315,per_dem:.3416252072968491,per_point_diff:.29995854063018246},{state_name:"Kentucky",county_fips:21019,county_name:"Boyd County",votes_gop:14295,votes_dem:7083,total_votes:21751,diff:7212,per_gop:.657211162705163,per_dem:.325640200450554,per_point_diff:.331570962254609},{state_name:"Kentucky",county_fips:21021,county_name:"Boyle County",votes_gop:8872,votes_dem:5298,total_votes:14478,diff:3574,per_gop:.6127918220748723,per_dem:.3659345213427269,per_point_diff:.24685730073214535},{state_name:"Kentucky",county_fips:21023,county_name:"Bracken County",votes_gop:3398,votes_dem:800,total_votes:4246,diff:2598,per_gop:.8002826189354687,per_dem:.18841262364578426,per_point_diff:.6118699952896844},{state_name:"Kentucky",county_fips:21025,county_name:"Breathitt County",votes_gop:4265,votes_dem:1301,total_votes:5661,diff:2964,per_gop:.7534004592828122,per_dem:.2298180533474651,per_point_diff:.5235824059353471},{state_name:"Kentucky",county_fips:21027,county_name:"Breckinridge County",votes_gop:7701,votes_dem:2350,total_votes:10201,diff:5351,per_gop:.7549259876482698,per_dem:.2303695716106264,per_point_diff:.5245564160376434},{state_name:"Kentucky",county_fips:21029,county_name:"Bullitt County",votes_gop:30708,votes_dem:10552,total_votes:41998,diff:20156,per_gop:.7311776751273871,per_dem:.25125005952664414,per_point_diff:.47992761560074293},{state_name:"Kentucky",county_fips:21031,county_name:"Butler County",votes_gop:4960,votes_dem:1079,total_votes:6125,diff:3881,per_gop:.809795918367347,per_dem:.17616326530612245,per_point_diff:.6336326530612245},{state_name:"Kentucky",county_fips:21033,county_name:"Caldwell County",votes_gop:4906,votes_dem:1433,total_votes:6434,diff:3473,per_gop:.7625116568231272,per_dem:.22272303388249923,per_point_diff:.5397886229406279},{state_name:"Kentucky",county_fips:21035,county_name:"Calloway County",votes_gop:11352,votes_dem:5797,total_votes:17457,diff:5555,per_gop:.6502835538752363,per_dem:.3320730938878387,per_point_diff:.3182104599873976},{state_name:"Kentucky",county_fips:21037,county_name:"Campbell County",votes_gop:28482,votes_dem:19374,total_votes:48878,diff:9108,per_gop:.5827161504153198,per_dem:.3963746470804861,per_point_diff:.18634150333483368},{state_name:"Kentucky",county_fips:21039,county_name:"Carlisle County",votes_gop:2159,votes_dem:463,total_votes:2638,diff:1696,per_gop:.8184230477634572,per_dem:.1755117513267627,per_point_diff:.6429112964366945},{state_name:"Kentucky",county_fips:21041,county_name:"Carroll County",votes_gop:2954,votes_dem:1116,total_votes:4136,diff:1838,per_gop:.7142166344294004,per_dem:.269825918762089,per_point_diff:.4443907156673114},{state_name:"Kentucky",county_fips:21043,county_name:"Carter County",votes_gop:8775,votes_dem:2642,total_votes:11586,diff:6133,per_gop:.7573795960642155,per_dem:.22803383393751078,per_point_diff:.5293457621267047},{state_name:"Kentucky",county_fips:21045,county_name:"Casey County",votes_gop:6179,votes_dem:918,total_votes:7171,diff:5261,per_gop:.8616650397434109,per_dem:.12801561846325477,per_point_diff:.7336494212801561},{state_name:"Kentucky",county_fips:21047,county_name:"Christian County",votes_gop:15080,votes_dem:8296,total_votes:23863,diff:6784,per_gop:.6319406612747769,per_dem:.34765117545991703,per_point_diff:.28428948581485985},{state_name:"Kentucky",county_fips:21049,county_name:"Clark County",votes_gop:11811,votes_dem:6004,total_votes:18139,diff:5807,per_gop:.6511384310050168,per_dem:.3309995038315232,per_point_diff:.32013892717349357},{state_name:"Kentucky",county_fips:21051,county_name:"Clay County",votes_gop:6677,votes_dem:831,total_votes:7591,diff:5846,per_gop:.8795942563562114,per_dem:.109471742853379,per_point_diff:.7701225135028323},{state_name:"Kentucky",county_fips:21053,county_name:"Clinton County",votes_gop:4280,votes_dem:603,total_votes:4932,diff:3677,per_gop:.8678021086780211,per_dem:.12226277372262774,per_point_diff:.7455393349553934},{state_name:"Kentucky",county_fips:21055,county_name:"Crittenden County",votes_gop:3451,votes_dem:731,total_votes:4242,diff:2720,per_gop:.8135313531353136,per_dem:.17232437529467232,per_point_diff:.6412069778406413},{state_name:"Kentucky",county_fips:21057,county_name:"Cumberland County",votes_gop:2769,votes_dem:508,total_votes:3309,diff:2261,per_gop:.8368087035358114,per_dem:.1535207011181626,per_point_diff:.6832880024176488},{state_name:"Kentucky",county_fips:21059,county_name:"Daviess County",votes_gop:31025,votes_dem:17286,total_votes:49287,diff:13739,per_gop:.629476332501471,per_dem:.3507212855316818,per_point_diff:.27875504696978914},{state_name:"Kentucky",county_fips:21061,county_name:"Edmonson County",votes_gop:4828,votes_dem:1227,total_votes:6132,diff:3601,per_gop:.7873450750163079,per_dem:.20009784735812133,per_point_diff:.5872472276581866},{state_name:"Kentucky",county_fips:21063,county_name:"Elliott County",votes_gop:2246,votes_dem:712,total_votes:2995,diff:1534,per_gop:.7499165275459099,per_dem:.23772954924874792,per_point_diff:.512186978297162},{state_name:"Kentucky",county_fips:21065,county_name:"Estill County",votes_gop:5100,votes_dem:1355,total_votes:6540,diff:3745,per_gop:.7798165137614679,per_dem:.20718654434250763,per_point_diff:.5726299694189603},{state_name:"Kentucky",county_fips:21067,county_name:"Fayette County",votes_gop:58860,votes_dem:90600,total_votes:152912,diff:-31740,per_gop:.38492727843465524,per_dem:.5924976457047191,per_point_diff:-.20757036727006384},{state_name:"Kentucky",county_fips:21069,county_name:"Fleming County",votes_gop:5534,votes_dem:1474,total_votes:7068,diff:4060,per_gop:.7829654782116582,per_dem:.20854555744199207,per_point_diff:.5744199207696661},{state_name:"Kentucky",county_fips:21071,county_name:"Floyd County",votes_gop:12250,votes_dem:3884,total_votes:16353,diff:8366,per_gop:.7490980248272489,per_dem:.23750993701461506,per_point_diff:.5115880878126338},{state_name:"Kentucky",county_fips:21073,county_name:"Franklin County",votes_gop:12900,votes_dem:12652,total_votes:26072,diff:248,per_gop:.49478367597422523,per_dem:.48527155569193003,per_point_diff:.0095121202822952},{state_name:"Kentucky",county_fips:21075,county_name:"Fulton County",votes_gop:1606,votes_dem:794,total_votes:2426,diff:812,per_gop:.6619950535861501,per_dem:.32728771640560594,per_point_diff:.33470733718054413},{state_name:"Kentucky",county_fips:21077,county_name:"Gallatin County",votes_gop:2955,votes_dem:822,total_votes:3849,diff:2133,per_gop:.7677318784099766,per_dem:.21356196414653156,per_point_diff:.5541699142634451},{state_name:"Kentucky",county_fips:21079,county_name:"Garrard County",votes_gop:6754,votes_dem:1830,total_votes:8706,diff:4924,per_gop:.7757868136917069,per_dem:.2101998621640248,per_point_diff:.5655869515276821},{state_name:"Kentucky",county_fips:21081,county_name:"Grant County",votes_gop:8725,votes_dem:2205,total_votes:11108,diff:6520,per_gop:.7854699315808427,per_dem:.1985055815628376,per_point_diff:.5869643500180051},{state_name:"Kentucky",county_fips:21083,county_name:"Graves County",votes_gop:13206,votes_dem:3560,total_votes:17019,diff:9646,per_gop:.7759562841530054,per_dem:.2091779775544979,per_point_diff:.5667783065985075},{state_name:"Kentucky",county_fips:21085,county_name:"Grayson County",votes_gop:9453,votes_dem:2400,total_votes:11985,diff:7053,per_gop:.7887359198998748,per_dem:.2002503128911139,per_point_diff:.588485607008761},{state_name:"Kentucky",county_fips:21087,county_name:"Green County",votes_gop:4838,votes_dem:920,total_votes:5812,diff:3918,per_gop:.8324156916724019,per_dem:.1582931865106676,per_point_diff:.6741225051617343},{state_name:"Kentucky",county_fips:21089,county_name:"Greenup County",votes_gop:13064,votes_dem:4873,total_votes:18176,diff:8191,per_gop:.71875,per_dem:.2681007922535211,per_point_diff:.4506492077464789},{state_name:"Kentucky",county_fips:21091,county_name:"Hancock County",votes_gop:3145,votes_dem:1351,total_votes:4587,diff:1794,per_gop:.6856333115325921,per_dem:.2945280139524744,per_point_diff:.3911052975801177},{state_name:"Kentucky",county_fips:21093,county_name:"Hardin County",votes_gop:29832,votes_dem:18101,total_votes:48941,diff:11731,per_gop:.6095502748207025,per_dem:.3698534970678981,per_point_diff:.23969677775280435},{state_name:"Kentucky",county_fips:21095,county_name:"Harlan County",votes_gop:9367,votes_dem:1494,total_votes:10971,diff:7873,per_gop:.8537963722541245,per_dem:.1361771944216571,per_point_diff:.7176191778324674},{state_name:"Kentucky",county_fips:21097,county_name:"Harrison County",votes_gop:6334,votes_dem:2400,total_votes:8859,diff:3934,per_gop:.7149791172818603,per_dem:.2709109380291229,per_point_diff:.44406817925273734},{state_name:"Kentucky",county_fips:21099,county_name:"Hart County",votes_gop:6345,votes_dem:1908,total_votes:8370,diff:4437,per_gop:.7580645161290323,per_dem:.22795698924731184,per_point_diff:.5301075268817204},{state_name:"Kentucky",county_fips:21101,county_name:"Henderson County",votes_gop:12730,votes_dem:7639,total_votes:20697,diff:5091,per_gop:.6150649852635648,per_dem:.3690873073392279,per_point_diff:.2459776779243369},{state_name:"Kentucky",county_fips:21103,county_name:"Henry County",votes_gop:5843,votes_dem:2142,total_votes:8110,diff:3701,per_gop:.7204685573366214,per_dem:.26411837237977803,per_point_diff:.4563501849568434},{state_name:"Kentucky",county_fips:21105,county_name:"Hickman County",votes_gop:1714,votes_dem:458,total_votes:2199,diff:1256,per_gop:.7794452023647113,per_dem:.20827648931332424,per_point_diff:.5711687130513871},{state_name:"Kentucky",county_fips:21107,county_name:"Hopkins County",votes_gop:15757,votes_dem:5439,total_votes:21512,diff:10318,per_gop:.7324748977314987,per_dem:.2528356266269989,per_point_diff:.4796392711044998},{state_name:"Kentucky",county_fips:21109,county_name:"Jackson County",votes_gop:5453,votes_dem:605,total_votes:6113,diff:4848,per_gop:.8920333715033535,per_dem:.09896940945525928,per_point_diff:.7930639620480942},{state_name:"Kentucky",county_fips:21111,county_name:"Jefferson County",votes_gop:150646,votes_dem:228358,total_votes:386629,diff:-77712,per_gop:.3896396804171441,per_dem:.590638570826296,per_point_diff:-.20099889040915192},{state_name:"Kentucky",county_fips:21113,county_name:"Jessamine County",votes_gop:17096,votes_dem:8567,total_votes:26280,diff:8529,per_gop:.6505327245053273,per_dem:.32598934550989345,per_point_diff:.32454337899543384},{state_name:"Kentucky",county_fips:21115,county_name:"Johnson County",votes_gop:8450,votes_dem:1608,total_votes:10192,diff:6842,per_gop:.8290816326530612,per_dem:.1577708006279435,per_point_diff:.6713108320251178},{state_name:"Kentucky",county_fips:21117,county_name:"Kenton County",votes_gop:48129,votes_dem:32271,total_votes:82198,diff:15858,per_gop:.5855251952602253,per_dem:.39260079320664737,per_point_diff:.19292440205357791},{state_name:"Kentucky",county_fips:21119,county_name:"Knott County",votes_gop:4780,votes_dem:1412,total_votes:6252,diff:3368,per_gop:.7645553422904671,per_dem:.22584772872680742,per_point_diff:.5387076135636597},{state_name:"Kentucky",county_fips:21121,county_name:"Knox County",votes_gop:11012,votes_dem:2114,total_votes:13273,diff:8898,per_gop:.8296541851879756,per_dem:.159270699917125,per_point_diff:.6703834852708506},{state_name:"Kentucky",county_fips:21123,county_name:"Larue County",votes_gop:5685,votes_dem:1504,total_votes:7301,diff:4181,per_gop:.7786604574715792,per_dem:.20599917819476785,per_point_diff:.5726612792768113},{state_name:"Kentucky",county_fips:21125,county_name:"Laurel County",votes_gop:23237,votes_dem:4475,total_votes:28111,diff:18762,per_gop:.8266159154779268,per_dem:.15919035253103767,per_point_diff:.6674255629468892},{state_name:"Kentucky",county_fips:21127,county_name:"Lawrence County",votes_gop:5633,votes_dem:1238,total_votes:6955,diff:4395,per_gop:.809920920201294,per_dem:.17800143781452193,per_point_diff:.6319194823867721},{state_name:"Kentucky",county_fips:21129,county_name:"Lee County",votes_gop:2273,votes_dem:481,total_votes:2801,diff:1792,per_gop:.8114958943234559,per_dem:.1717243841485184,per_point_diff:.6397715101749375},{state_name:"Kentucky",county_fips:21131,county_name:"Leslie County",votes_gop:4321,votes_dem:446,total_votes:4813,diff:3875,per_gop:.8977768543527945,per_dem:.09266569707043425,per_point_diff:.8051111572823603},{state_name:"Kentucky",county_fips:21133,county_name:"Letcher County",votes_gop:7226,votes_dem:1799,total_votes:9135,diff:5427,per_gop:.7910235358511221,per_dem:.19693486590038314,per_point_diff:.594088669950739},{state_name:"Kentucky",county_fips:21135,county_name:"Lewis County",votes_gop:4986,votes_dem:823,total_votes:5883,diff:4163,per_gop:.847526772055074,per_dem:.1398946115927248,per_point_diff:.7076321604623492},{state_name:"Kentucky",county_fips:21137,county_name:"Lincoln County",votes_gop:8489,votes_dem:2254,total_votes:10914,diff:6235,per_gop:.777808319589518,per_dem:.2065237309877222,per_point_diff:.5712845886017959},{state_name:"Kentucky",county_fips:21139,county_name:"Livingston County",votes_gop:4010,votes_dem:939,total_votes:5004,diff:3071,per_gop:.8013589128697043,per_dem:.18764988009592326,per_point_diff:.6137090327737811},{state_name:"Kentucky",county_fips:21141,county_name:"Logan County",votes_gop:9067,votes_dem:3094,total_votes:12350,diff:5973,per_gop:.73417004048583,per_dem:.2505263157894737,per_point_diff:.4836437246963563},{state_name:"Kentucky",county_fips:21143,county_name:"Lyon County",votes_gop:3100,votes_dem:1092,total_votes:4228,diff:2008,per_gop:.7332071901608326,per_dem:.2582781456953642,per_point_diff:.47492904446546835},{state_name:"Kentucky",county_fips:21145,county_name:"McCracken County",votes_gop:21820,votes_dem:11195,total_votes:33549,diff:10625,per_gop:.6503919639929655,per_dem:.3336910191063817,per_point_diff:.3167009448865838},{state_name:"Kentucky",county_fips:21147,county_name:"McCreary County",votes_gop:5664,votes_dem:725,total_votes:6438,diff:4939,per_gop:.8797763280521901,per_dem:.11261261261261261,per_point_diff:.7671637154395775},{state_name:"Kentucky",county_fips:21149,county_name:"McLean County",votes_gop:3633,votes_dem:1074,total_votes:4782,diff:2559,per_gop:.759723964868256,per_dem:.2245922208281054,per_point_diff:.5351317440401506},{state_name:"Kentucky",county_fips:21151,county_name:"Madison County",votes_gop:27356,votes_dem:15581,total_votes:43957,diff:11775,per_gop:.6223354642036536,per_dem:.3544600404941193,per_point_diff:.2678754237095343},{state_name:"Kentucky",county_fips:21153,county_name:"Magoffin County",votes_gop:4174,votes_dem:1214,total_votes:5447,diff:2960,per_gop:.7662933724986231,per_dem:.22287497705158804,per_point_diff:.5434183954470351},{state_name:"Kentucky",county_fips:21155,county_name:"Marion County",votes_gop:6113,votes_dem:2722,total_votes:8928,diff:3391,per_gop:.6846998207885304,per_dem:.3048835125448029,per_point_diff:.37981630824372753},{state_name:"Kentucky",county_fips:21157,county_name:"Marshall County",votes_gop:13297,votes_dem:4071,total_votes:17603,diff:9226,per_gop:.7553826052377436,per_dem:.23126739760268136,per_point_diff:.5241152076350623},{state_name:"Kentucky",county_fips:21159,county_name:"Martin County",votes_gop:3496,votes_dem:403,total_votes:3936,diff:3093,per_gop:.8882113821138211,per_dem:.10238821138211382,per_point_diff:.7858231707317073},{state_name:"Kentucky",county_fips:21161,county_name:"Mason County",votes_gop:5477,votes_dem:2362,total_votes:7958,diff:3115,per_gop:.6882382508167881,per_dem:.29680824327720534,per_point_diff:.3914300075395828},{state_name:"Kentucky",county_fips:21163,county_name:"Meade County",votes_gop:10185,votes_dem:3632,total_votes:14113,diff:6553,per_gop:.7216750513710763,per_dem:.25735137816197834,per_point_diff:.464323673209098},{state_name:"Kentucky",county_fips:21165,county_name:"Menifee County",votes_gop:2311,votes_dem:750,total_votes:3102,diff:1561,per_gop:.745003223726628,per_dem:.24177949709864605,per_point_diff:.503223726627982},{state_name:"Kentucky",county_fips:21167,county_name:"Mercer County",votes_gop:8506,votes_dem:3033,total_votes:11735,diff:5473,per_gop:.7248402215594376,per_dem:.2584576054537708,per_point_diff:.46638261610566684},{state_name:"Kentucky",county_fips:21169,county_name:"Metcalfe County",votes_gop:3959,votes_dem:975,total_votes:5012,diff:2984,per_gop:.789904229848364,per_dem:.19453312051077415,per_point_diff:.5953711093375897},{state_name:"Kentucky",county_fips:21171,county_name:"Monroe County",votes_gop:4628,votes_dem:657,total_votes:5330,diff:3971,per_gop:.8682926829268293,per_dem:.12326454033771107,per_point_diff:.7450281425891182},{state_name:"Kentucky",county_fips:21173,county_name:"Montgomery County",votes_gop:8993,votes_dem:3630,total_votes:12842,diff:5363,per_gop:.7002803301666407,per_dem:.2826662513627161,per_point_diff:.4176140788039246},{state_name:"Kentucky",county_fips:21175,county_name:"Morgan County",votes_gop:4301,votes_dem:1175,total_votes:5544,diff:3126,per_gop:.7757936507936508,per_dem:.21194083694083693,per_point_diff:.5638528138528138},{state_name:"Kentucky",county_fips:21177,county_name:"Muhlenberg County",votes_gop:10497,votes_dem:3545,total_votes:14235,diff:6952,per_gop:.7374077976817703,per_dem:.24903407095187918,per_point_diff:.48837372672989116},{state_name:"Kentucky",county_fips:21179,county_name:"Nelson County",votes_gop:15703,votes_dem:7188,total_votes:23256,diff:8515,per_gop:.6752235982112144,per_dem:.3090815273477812,per_point_diff:.36614207086343314},{state_name:"Kentucky",county_fips:21181,county_name:"Nicholas County",votes_gop:2408,votes_dem:955,total_votes:3396,diff:1453,per_gop:.7090694935217904,per_dem:.28121319199057715,per_point_diff:.42785630153121323},{state_name:"Kentucky",county_fips:21183,county_name:"Ohio County",votes_gop:8582,votes_dem:2404,total_votes:11129,diff:6178,per_gop:.7711384670680205,per_dem:.2160122203252763,per_point_diff:.5551262467427441},{state_name:"Kentucky",county_fips:21185,county_name:"Oldham County",votes_gop:22654,votes_dem:14505,total_votes:37976,diff:8149,per_gop:.5965346534653465,per_dem:.3819517590056878,per_point_diff:.21458289445965872},{state_name:"Kentucky",county_fips:21187,county_name:"Owen County",votes_gop:4292,votes_dem:1098,total_votes:5458,diff:3194,per_gop:.786368633198974,per_dem:.20117259069256138,per_point_diff:.5851960425064127},{state_name:"Kentucky",county_fips:21189,county_name:"Owsley County",votes_gop:1671,votes_dem:216,total_votes:1896,diff:1455,per_gop:.8813291139240507,per_dem:.11392405063291139,per_point_diff:.7674050632911393},{state_name:"Kentucky",county_fips:21191,county_name:"Pendleton County",votes_gop:5515,votes_dem:1322,total_votes:6925,diff:4193,per_gop:.7963898916967509,per_dem:.19090252707581226,per_point_diff:.6054873646209387},{state_name:"Kentucky",county_fips:21193,county_name:"Perry County",votes_gop:8129,votes_dem:2356,total_votes:10626,diff:5773,per_gop:.7650103519668737,per_dem:.2217203086768304,per_point_diff:.5432900432900434},{state_name:"Kentucky",county_fips:21195,county_name:"Pike County",votes_gop:20284,votes_dem:4866,total_votes:25395,diff:15418,per_gop:.7987399094309904,per_dem:.19161252215002952,per_point_diff:.6071273872809608},{state_name:"Kentucky",county_fips:21197,county_name:"Powell County",votes_gop:4041,votes_dem:1367,total_votes:5505,diff:2674,per_gop:.7340599455040872,per_dem:.2483197093551317,per_point_diff:.48574023614895545},{state_name:"Kentucky",county_fips:21199,county_name:"Pulaski County",votes_gop:25442,votes_dem:5666,total_votes:31557,diff:19776,per_gop:.8062236587761827,per_dem:.17954811927623032,per_point_diff:.6266755394999524},{state_name:"Kentucky",county_fips:21201,county_name:"Robertson County",votes_gop:884,votes_dem:253,total_votes:1146,diff:631,per_gop:.7713787085514834,per_dem:.22076788830715532,per_point_diff:.5506108202443281},{state_name:"Kentucky",county_fips:21203,county_name:"Rockcastle County",votes_gop:6577,votes_dem:1134,total_votes:7784,diff:5443,per_gop:.8449383350462487,per_dem:.14568345323741008,per_point_diff:.6992548818088387},{state_name:"Kentucky",county_fips:21205,county_name:"Rowan County",votes_gop:5994,votes_dem:3880,total_votes:10065,diff:2114,per_gop:.5955290611028315,per_dem:.3854942871336314,per_point_diff:.21003477396920017},{state_name:"Kentucky",county_fips:21207,county_name:"Russell County",votes_gop:7519,votes_dem:1331,total_votes:8955,diff:6188,per_gop:.83964265773311,per_dem:.1486320491345617,per_point_diff:.6910106085985482},{state_name:"Kentucky",county_fips:21209,county_name:"Scott County",votes_gop:17767,votes_dem:10567,total_votes:28969,diff:7200,per_gop:.6133107804894887,per_dem:.36476923607994755,per_point_diff:.24854154440954118},{state_name:"Kentucky",county_fips:21211,county_name:"Shelby County",votes_gop:15055,votes_dem:8077,total_votes:23550,diff:6978,per_gop:.6392781316348195,per_dem:.3429723991507431,per_point_diff:.2963057324840764},{state_name:"Kentucky",county_fips:21213,county_name:"Simpson County",votes_gop:5888,votes_dem:2681,total_votes:8732,diff:3207,per_gop:.674301420064132,per_dem:.3070316078790655,per_point_diff:.36726981218506644},{state_name:"Kentucky",county_fips:21215,county_name:"Spencer County",votes_gop:8737,votes_dem:2530,total_votes:11433,diff:6207,per_gop:.7641913758418613,per_dem:.22128925041546402,per_point_diff:.5429021254263973},{state_name:"Kentucky",county_fips:21217,county_name:"Taylor County",votes_gop:9376,votes_dem:2963,total_votes:12517,diff:6413,per_gop:.7490612766637373,per_dem:.2367180634337301,per_point_diff:.5123432132300072},{state_name:"Kentucky",county_fips:21219,county_name:"Todd County",votes_gop:4062,votes_dem:1205,total_votes:5363,diff:2857,per_gop:.7574118963266828,per_dem:.22468767480887564,per_point_diff:.5327242215178072},{state_name:"Kentucky",county_fips:21221,county_name:"Trigg County",votes_gop:5487,votes_dem:1791,total_votes:7376,diff:3696,per_gop:.7438991323210412,per_dem:.24281453362255964,per_point_diff:.5010845986984815},{state_name:"Kentucky",county_fips:21223,county_name:"Trimble County",votes_gop:3227,votes_dem:1012,total_votes:4320,diff:2215,per_gop:.7469907407407408,per_dem:.23425925925925925,per_point_diff:.5127314814814815},{state_name:"Kentucky",county_fips:21225,county_name:"Union County",votes_gop:4965,votes_dem:1529,total_votes:6577,diff:3436,per_gop:.7549034514216209,per_dem:.23247681313668847,per_point_diff:.5224266382849324},{state_name:"Kentucky",county_fips:21227,county_name:"Warren County",votes_gop:31791,votes_dem:22479,total_votes:55401,diff:9312,per_gop:.5738344073211675,per_dem:.4057507987220447,per_point_diff:.1680836085991228},{state_name:"Kentucky",county_fips:21229,county_name:"Washington County",votes_gop:4482,votes_dem:1644,total_votes:6225,diff:2838,per_gop:.72,per_dem:.2640963855421687,per_point_diff:.4559036144578313},{state_name:"Kentucky",county_fips:21231,county_name:"Wayne County",votes_gop:7430,votes_dem:1700,total_votes:9240,diff:5730,per_gop:.8041125541125541,per_dem:.18398268398268397,per_point_diff:.6201298701298701},{state_name:"Kentucky",county_fips:21233,county_name:"Webster County",votes_gop:4506,votes_dem:1412,total_votes:5993,diff:3094,per_gop:.7518771900550643,per_dem:.23560820957784082,per_point_diff:.5162689804772235},{state_name:"Kentucky",county_fips:21235,county_name:"Whitley County",votes_gop:12567,votes_dem:2552,total_votes:15356,diff:10015,per_gop:.8183771815576973,per_dem:.166189111747851,per_point_diff:.6521880698098463},{state_name:"Kentucky",county_fips:21237,county_name:"Wolfe County",votes_gop:2097,votes_dem:839,total_votes:2979,diff:1258,per_gop:.7039274924471299,per_dem:.28163813360187984,per_point_diff:.4222893588452501},{state_name:"Kentucky",county_fips:21239,county_name:"Woodford County",votes_gop:8362,votes_dem:6530,total_votes:15211,diff:1832,per_gop:.5497337453158898,per_dem:.4292945894418513,per_point_diff:.12043915587403853},{state_name:"Louisiana",county_fips:22001,county_name:"Acadia Parish",votes_gop:22596,votes_dem:5443,total_votes:28425,diff:17153,per_gop:.794934036939314,per_dem:.19148636763412488,per_point_diff:.6034476693051891},{state_name:"Louisiana",county_fips:22003,county_name:"Allen Parish",votes_gop:7574,votes_dem:2108,total_votes:9810,diff:5466,per_gop:.7720693170234455,per_dem:.2148827726809378,per_point_diff:.5571865443425077},{state_name:"Louisiana",county_fips:22005,county_name:"Ascension Parish",votes_gop:40687,votes_dem:20399,total_votes:62325,diff:20288,per_gop:.6528198957079824,per_dem:.32730044123545926,per_point_diff:.3255194544725231},{state_name:"Louisiana",county_fips:22007,county_name:"Assumption Parish",votes_gop:7271,votes_dem:3833,total_votes:11235,diff:3438,per_gop:.6471740097908322,per_dem:.34116599910992434,per_point_diff:.3060080106809078},{state_name:"Louisiana",county_fips:22009,county_name:"Avoyelles Parish",votes_gop:12028,votes_dem:4979,total_votes:17292,diff:7049,per_gop:.6955817719176498,per_dem:.28793661808928983,per_point_diff:.40764515382836},{state_name:"Louisiana",county_fips:22011,county_name:"Beauregard Parish",votes_gop:13575,votes_dem:2542,total_votes:16357,diff:11033,per_gop:.8299199119642966,per_dem:.1554074708076053,per_point_diff:.6745124411566913},{state_name:"Louisiana",county_fips:22013,county_name:"Bienville Parish",votes_gop:3891,votes_dem:3067,total_votes:7050,diff:824,per_gop:.5519148936170213,per_dem:.4350354609929078,per_point_diff:.11687943262411349},{state_name:"Louisiana",county_fips:22015,county_name:"Bossier Parish",votes_gop:38074,votes_dem:15662,total_votes:54655,diff:22412,per_gop:.6966242795718598,per_dem:.28656115634434176,per_point_diff:.41006312322751803},{state_name:"Louisiana",county_fips:22017,county_name:"Caddo Parish",votes_gop:48021,votes_dem:55110,total_votes:104912,diff:-7089,per_gop:.4577264755223425,per_dem:.5252973921000458,per_point_diff:-.06757091657770325},{state_name:"Louisiana",county_fips:22019,county_name:"Calcasieu Parish",votes_gop:55066,votes_dem:25982,total_votes:82663,diff:29084,per_gop:.6661505147405732,per_dem:.3143123283694035,per_point_diff:.3518381863711697},{state_name:"Louisiana",county_fips:22021,county_name:"Caldwell Parish",votes_gop:3976,votes_dem:745,total_votes:4762,diff:3231,per_gop:.8349433011339773,per_dem:.15644687106257874,per_point_diff:.6784964300713986},{state_name:"Louisiana",county_fips:22023,county_name:"Cameron Parish",votes_gop:3671,votes_dem:324,total_votes:4039,diff:3347,per_gop:.9088883386976975,per_dem:.08021787571180986,per_point_diff:.8286704629858876},{state_name:"Louisiana",county_fips:22025,county_name:"Catahoula Parish",votes_gop:3541,votes_dem:1269,total_votes:4858,diff:2272,per_gop:.7289007822149033,per_dem:.2612186084808563,per_point_diff:.46768217373404697},{state_name:"Louisiana",county_fips:22027,county_name:"Claiborne Parish",votes_gop:3770,votes_dem:2731,total_votes:6580,diff:1039,per_gop:.5729483282674772,per_dem:.41504559270516717,per_point_diff:.15790273556231005},{state_name:"Louisiana",county_fips:22029,county_name:"Concordia Parish",votes_gop:5550,votes_dem:3177,total_votes:8828,diff:2373,per_gop:.6286814680561849,per_dem:.3598776619845945,per_point_diff:.2688038060715904},{state_name:"Louisiana",county_fips:22031,county_name:"De Soto Parish",votes_gop:9112,votes_dem:5457,total_votes:14736,diff:3655,per_gop:.6183496199782845,per_dem:.37031758957654726,per_point_diff:.24803203040173727},{state_name:"Louisiana",county_fips:22033,county_name:"East Baton Rouge Parish",votes_gop:88420,votes_dem:115577,total_votes:208182,diff:-27157,per_gop:.424724519891249,per_dem:.5551728775782728,per_point_diff:-.13044835768702384},{state_name:"Louisiana",county_fips:22035,county_name:"East Carroll Parish",votes_gop:1080,votes_dem:1900,total_votes:3036,diff:-820,per_gop:.3557312252964427,per_dem:.6258234519104084,per_point_diff:-.27009222661396576},{state_name:"Louisiana",county_fips:22037,county_name:"East Feliciana Parish",votes_gop:6064,votes_dem:4280,total_votes:10509,diff:1784,per_gop:.5770292130554763,per_dem:.40726995908269104,per_point_diff:.16975925397278524},{state_name:"Louisiana",county_fips:22039,county_name:"Evangeline Parish",votes_gop:11053,votes_dem:4158,total_votes:15412,diff:6895,per_gop:.7171684401764858,per_dem:.2697897742019206,per_point_diff:.44737866597456527},{state_name:"Louisiana",county_fips:22041,county_name:"Franklin Parish",votes_gop:6970,votes_dem:2658,total_votes:9720,diff:4312,per_gop:.7170781893004116,per_dem:.2734567901234568,per_point_diff:.44362139917695476},{state_name:"Louisiana",county_fips:22043,county_name:"Grant Parish",votes_gop:8117,votes_dem:1157,total_votes:9392,diff:6960,per_gop:.8642461669505963,per_dem:.12318994889267462,per_point_diff:.7410562180579217},{state_name:"Louisiana",county_fips:22045,county_name:"Iberia Parish",votes_gop:21251,votes_dem:11027,total_votes:32713,diff:10224,per_gop:.649619417357014,per_dem:.33708311680371716,per_point_diff:.31253630055329684},{state_name:"Louisiana",county_fips:22047,county_name:"Iberville Parish",votes_gop:7893,votes_dem:8514,total_votes:16719,diff:-621,per_gop:.47209761349363,per_dem:.5092409833123991,per_point_diff:-.03714336981876909},{state_name:"Louisiana",county_fips:22049,county_name:"Jackson Parish",votes_gop:5394,votes_dem:2143,total_votes:7632,diff:3251,per_gop:.7067610062893082,per_dem:.28079140461215935,per_point_diff:.4259696016771488},{state_name:"Louisiana",county_fips:22051,county_name:"Jefferson Parish",votes_gop:105949,votes_dem:84477,total_votes:193733,diff:21472,per_gop:.5468815328312677,per_dem:.43604858232722354,per_point_diff:.11083295050404418},{state_name:"Louisiana",county_fips:22053,county_name:"Jefferson Davis Parish",votes_gop:11423,votes_dem:3208,total_votes:14841,diff:8215,per_gop:.7696920692675696,per_dem:.21615794083956608,per_point_diff:.5535341284280035},{state_name:"Louisiana",county_fips:22055,county_name:"Lafayette Parish",votes_gop:72519,votes_dem:39685,total_votes:114521,diff:32834,per_gop:.6332375721483396,per_dem:.346530330681709,per_point_diff:.2867072414666306},{state_name:"Louisiana",county_fips:22057,county_name:"Lafourche Parish",votes_gop:36024,votes_dem:8672,total_votes:45388,diff:27352,per_gop:.793689962104521,per_dem:.191063717282101,per_point_diff:.60262624482242},{state_name:"Louisiana",county_fips:22059,county_name:"LaSalle Parish",votes_gop:6378,votes_dem:638,total_votes:7077,diff:5740,per_gop:.9012293344637559,per_dem:.09015119400876077,per_point_diff:.811078140454995},{state_name:"Louisiana",county_fips:22061,county_name:"Lincoln Parish",votes_gop:11311,votes_dem:7559,total_votes:19275,diff:3752,per_gop:.586822308690013,per_dem:.39216601815823604,per_point_diff:.1946562905317769},{state_name:"Louisiana",county_fips:22063,county_name:"Livingston Parish",votes_gop:54877,votes_dem:9249,total_votes:65230,diff:45628,per_gop:.8412846849609076,per_dem:.1417905871531504,per_point_diff:.6994940978077572},{state_name:"Louisiana",county_fips:22065,county_name:"Madison Parish",votes_gop:1930,votes_dem:2654,total_votes:4670,diff:-724,per_gop:.4132762312633833,per_dem:.5683083511777302,per_point_diff:-.15503211991434684},{state_name:"Louisiana",county_fips:22067,county_name:"Morehouse Parish",votes_gop:6510,votes_dem:4946,total_votes:11574,diff:1564,per_gop:.5624675997926387,per_dem:.42733713495766373,per_point_diff:.13513046483497498},{state_name:"Louisiana",county_fips:22069,county_name:"Natchitoches Parish",votes_gop:9358,votes_dem:6896,total_votes:16554,diff:2462,per_gop:.5653014377189803,per_dem:.41657605412589105,per_point_diff:.1487253835930893},{state_name:"Louisiana",county_fips:22071,county_name:"Orleans Parish",votes_gop:26664,votes_dem:147854,total_votes:177819,diff:-121190,per_gop:.14995023029035143,per_dem:.8314859491955303,per_point_diff:-.6815357189051789},{state_name:"Louisiana",county_fips:22073,county_name:"Ouachita Parish",votes_gop:42255,votes_dem:25913,total_votes:69166,diff:16342,per_gop:.6109215510510945,per_dem:.37464939421102855,per_point_diff:.23627215684006592},{state_name:"Louisiana",county_fips:22075,county_name:"Plaquemines Parish",votes_gop:7412,votes_dem:3414,total_votes:11014,diff:3998,per_gop:.6729616851280189,per_dem:.30996913019792993,per_point_diff:.362992554930089},{state_name:"Louisiana",county_fips:22077,county_name:"Pointe Coupee Parish",votes_gop:7503,votes_dem:4683,total_votes:12371,diff:2820,per_gop:.6064990704065961,per_dem:.37854660092151,per_point_diff:.22795246948508613},{state_name:"Louisiana",county_fips:22079,county_name:"Rapides Parish",votes_gop:38347,votes_dem:19475,total_votes:58865,diff:18872,per_gop:.6514397349868343,per_dem:.33084175656162407,per_point_diff:.3205979784252102},{state_name:"Louisiana",county_fips:22081,county_name:"Red River Parish",votes_gop:2413,votes_dem:1644,total_votes:4132,diff:769,per_gop:.5839787028073572,per_dem:.3978702807357212,per_point_diff:.18610842207163597},{state_name:"Louisiana",county_fips:22083,county_name:"Richland Parish",votes_gop:6607,votes_dem:3225,total_votes:9940,diff:3382,per_gop:.6646881287726358,per_dem:.3244466800804829,per_point_diff:.34024144869215295},{state_name:"Louisiana",county_fips:22085,county_name:"Sabine Parish",votes_gop:8776,votes_dem:1731,total_votes:10596,diff:7045,per_gop:.8282370705926765,per_dem:.16336353340883353,per_point_diff:.664873537183843},{state_name:"Louisiana",county_fips:22087,county_name:"St. Bernard Parish",votes_gop:11179,votes_dem:6151,total_votes:17650,diff:5028,per_gop:.633371104815864,per_dem:.3484985835694051,per_point_diff:.2848725212464589},{state_name:"Louisiana",county_fips:22089,county_name:"St. Charles Parish",votes_gop:18233,votes_dem:9800,total_votes:28517,diff:8433,per_gop:.6393730055756216,per_dem:.34365466213136026,per_point_diff:.29571834344426134},{state_name:"Louisiana",county_fips:22091,county_name:"St. Helena Parish",votes_gop:2714,votes_dem:3346,total_votes:6158,diff:-632,per_gop:.4407275089314713,per_dem:.543358233192595,per_point_diff:-.10263072426112374},{state_name:"Louisiana",county_fips:22093,county_name:"St. James Parish",votes_gop:5954,votes_dem:6510,total_votes:12590,diff:-556,per_gop:.47291501191421764,per_dem:.517077045274027,per_point_diff:-.04416203335980934},{state_name:"Louisiana",county_fips:22095,county_name:"St. John the Baptist Parish",votes_gop:7538,votes_dem:13582,total_votes:21432,diff:-6044,per_gop:.3517170586039567,per_dem:.6337252706233669,per_point_diff:-.28200821201941023},{state_name:"Louisiana",county_fips:22097,county_name:"St. Landry Parish",votes_gop:23171,votes_dem:17372,total_votes:41154,diff:5799,per_gop:.5630315400690091,per_dem:.4221217864606114,per_point_diff:.14090975360839775},{state_name:"Louisiana",county_fips:22099,county_name:"St. Martin Parish",votes_gop:18203,votes_dem:8439,total_votes:27038,diff:9764,per_gop:.6732376655078038,per_dem:.31211628078999926,per_point_diff:.3611213847178046},{state_name:"Louisiana",county_fips:22101,county_name:"St. Mary Parish",votes_gop:14811,votes_dem:8055,total_votes:23186,diff:6756,per_gop:.6387906495298887,per_dem:.3474079185715518,per_point_diff:.29138273095833694},{state_name:"Louisiana",county_fips:22103,county_name:"St. Tammany Parish",votes_gop:99666,votes_dem:37746,total_votes:140110,diff:61920,per_gop:.7113410891442438,per_dem:.2694026122332453,per_point_diff:.44193847691099847},{state_name:"Louisiana",county_fips:22105,county_name:"Tangipahoa Parish",votes_gop:37806,votes_dem:18887,total_votes:57661,diff:18919,per_gop:.6556598047206951,per_dem:.32755241844574323,per_point_diff:.32810738627495184},{state_name:"Louisiana",county_fips:22107,county_name:"Tensas Parish",votes_gop:1197,votes_dem:1329,total_votes:2554,diff:-132,per_gop:.46867658574784654,per_dem:.5203602192638997,per_point_diff:-.05168363351605321},{state_name:"Louisiana",county_fips:22109,county_name:"Terrebonne Parish",votes_gop:34339,votes_dem:11198,total_votes:46240,diff:23141,per_gop:.7426254325259516,per_dem:.24217128027681661,per_point_diff:.500454152249135},{state_name:"Louisiana",county_fips:22111,county_name:"Union Parish",votes_gop:8407,votes_dem:2654,total_votes:11201,diff:5753,per_gop:.7505579858941166,per_dem:.23694313007767165,per_point_diff:.513614855816445},{state_name:"Louisiana",county_fips:22113,county_name:"Vermilion Parish",votes_gop:21930,votes_dem:5009,total_votes:27324,diff:16921,per_gop:.8025911286780852,per_dem:.1833186941882594,per_point_diff:.6192724344898258},{state_name:"Louisiana",county_fips:22115,county_name:"Vernon Parish",votes_gop:14107,votes_dem:2898,total_votes:17268,diff:11209,per_gop:.8169446374797313,per_dem:.16782487838776927,per_point_diff:.6491197590919621},{state_name:"Louisiana",county_fips:22117,county_name:"Washington Parish",votes_gop:13307,votes_dem:5970,total_votes:19513,diff:7337,per_gop:.6819556193307026,per_dem:.30594987956746783,per_point_diff:.37600573976323476},{state_name:"Louisiana",county_fips:22119,county_name:"Webster Parish",votes_gop:11830,votes_dem:6172,total_votes:18216,diff:5658,per_gop:.6494290733421169,per_dem:.3388230127360562,per_point_diff:.31060606060606066},{state_name:"Louisiana",county_fips:22121,county_name:"West Baton Rouge Parish",votes_gop:7684,votes_dem:6200,total_votes:14097,diff:1484,per_gop:.5450805135844506,per_dem:.4398098886287863,per_point_diff:.10527062495566436},{state_name:"Louisiana",county_fips:22123,county_name:"West Carroll Parish",votes_gop:4317,votes_dem:710,total_votes:5052,diff:3607,per_gop:.8545130641330166,per_dem:.1405384006334125,per_point_diff:.7139746634996041},{state_name:"Louisiana",county_fips:22125,county_name:"West Feliciana Parish",votes_gop:3863,votes_dem:2298,total_votes:6268,diff:1565,per_gop:.6163050414805361,per_dem:.3666241225271219,per_point_diff:.2496809189534142},{state_name:"Louisiana",county_fips:22127,county_name:"Winn Parish",votes_gop:4619,votes_dem:1543,total_votes:6225,diff:3076,per_gop:.7420080321285141,per_dem:.2478714859437751,per_point_diff:.494136546184739},{state_name:"Maine",county_fips:23001,county_name:"Androscoggin County",votes_gop:29268,votes_dem:27617,total_votes:58707,diff:1651,per_gop:.4985436149011191,per_dem:.4704209038104485,per_point_diff:.028122711090670605},{state_name:"Maine",county_fips:23003,county_name:"Aroostook County",votes_gop:21080,votes_dem:13956,total_votes:35746,diff:7124,per_gop:.5897163318972752,per_dem:.3904213058803782,per_point_diff:.19929502601689703},{state_name:"Maine",county_fips:23005,county_name:"Cumberland County",votes_gop:59584,votes_dem:128759,total_votes:193765,diff:-69175,per_gop:.3075065156245968,per_dem:.6645111346218358,per_point_diff:-.35700461899723895},{state_name:"Maine",county_fips:23007,county_name:"Franklin County",votes_gop:8754,votes_dem:8069,total_votes:17390,diff:685,per_gop:.5033927544565843,per_dem:.4640023001725129,per_point_diff:.03939045428407134},{state_name:"Maine",county_fips:23009,county_name:"Hancock County",votes_gop:14982,votes_dem:19369,total_votes:35325,diff:-4387,per_gop:.4241188959660297,per_dem:.5483085633404104,per_point_diff:-.12418966737438075},{state_name:"Maine",county_fips:23011,county_name:"Kennebec County",votes_gop:34721,votes_dem:34902,total_votes:71858,diff:-181,per_gop:.4831890673272287,per_dem:.4857079239611456,per_point_diff:-.002518856633916877},{state_name:"Maine",county_fips:23013,county_name:"Knox County",votes_gop:9982,votes_dem:15110,total_votes:25734,diff:-5128,per_gop:.3878915054014145,per_dem:.5871609543794202,per_point_diff:-.1992694489780057},{state_name:"Maine",county_fips:23015,county_name:"Lincoln County",votes_gop:10256,votes_dem:12684,total_votes:23594,diff:-2428,per_gop:.4346867847757905,per_dem:.5375943036365177,per_point_diff:-.10290751886072724},{state_name:"Maine",county_fips:23017,county_name:"Oxford County",votes_gop:17698,votes_dem:14755,total_votes:33492,diff:2943,per_gop:.5284246984354473,per_dem:.44055296787292486,per_point_diff:.0878717305625224},{state_name:"Maine",county_fips:23019,county_name:"Penobscot County",votes_gop:44825,votes_dem:37713,total_votes:85269,diff:7112,per_gop:.5256892891906789,per_dem:.44228265841044223,per_point_diff:.08340663078023669},{state_name:"Maine",county_fips:23021,county_name:"Piscataquis County",votes_gop:6143,votes_dem:3517,total_votes:9908,diff:2626,per_gop:.6200040371417037,per_dem:.3549656842955188,per_point_diff:.26503835284618493},{state_name:"Maine",county_fips:23023,county_name:"Sagadahoc County",votes_gop:9755,votes_dem:13528,total_votes:24038,diff:-3773,per_gop:.4058157916631999,per_dem:.5627756052916216,per_point_diff:-.1569598136284217},{state_name:"Maine",county_fips:23025,county_name:"Somerset County",votes_gop:16644,votes_dem:10199,total_votes:27578,diff:6445,per_gop:.6035245485531946,per_dem:.3698237725723403,per_point_diff:.23370077598085431},{state_name:"Maine",county_fips:23027,county_name:"Waldo County",votes_gop:11196,votes_dem:12345,total_votes:24320,diff:-1149,per_gop:.46036184210526315,per_dem:.5076069078947368,per_point_diff:-.047245065789473684},{state_name:"Maine",county_fips:23029,county_name:"Washington County",votes_gop:10194,votes_dem:6761,total_votes:17357,diff:3433,per_gop:.5873134758310768,per_dem:.3895258397188454,per_point_diff:.19778763611223144},{state_name:"Maine",county_fips:23031,county_name:"York County",votes_gop:54817,votes_dem:71189,total_votes:129659,diff:-16372,per_gop:.4227782105368698,per_dem:.54904788715014,per_point_diff:-.12626967661327015},{state_name:"Maryland",county_fips:24001,county_name:"Allegany County",votes_gop:20886,votes_dem:9158,total_votes:30641,diff:11728,per_gop:.6816357168499723,per_dem:.2988805848373095,per_point_diff:.38275513201266276},{state_name:"Maryland",county_fips:24003,county_name:"Anne Arundel County",votes_gop:127821,votes_dem:172823,total_votes:309617,diff:-45002,per_gop:.412835858496142,per_dem:.5581831746964798,per_point_diff:-.1453473162003378},{state_name:"Maryland",county_fips:24005,county_name:"Baltimore County",votes_gop:146202,votes_dem:258409,total_votes:414932,diff:-112207,per_gop:.3523517106417437,per_dem:.6227743341077574,per_point_diff:-.2704226234660137},{state_name:"Maryland",county_fips:24009,county_name:"Calvert County",votes_gop:25346,votes_dem:22587,total_votes:49112,diff:2759,per_gop:.5160856817071184,per_dem:.4599079654666884,per_point_diff:.05617771624043005},{state_name:"Maryland",county_fips:24011,county_name:"Caroline County",votes_gop:10283,votes_dem:5095,total_votes:15794,diff:5188,per_gop:.6510700265923769,per_dem:.3225908572875776,per_point_diff:.3284791693047993},{state_name:"Maryland",county_fips:24013,county_name:"Carroll County",votes_gop:60218,votes_dem:36456,total_votes:100327,diff:23762,per_gop:.6002172894634545,per_dem:.3633717742980454,per_point_diff:.23684551516540914},{state_name:"Maryland",county_fips:24015,county_name:"Cecil County",votes_gop:29439,votes_dem:16809,total_votes:47462,diff:12630,per_gop:.6202646327588387,per_dem:.354157009818381,per_point_diff:.2661076229404577},{state_name:"Maryland",county_fips:24017,county_name:"Charles County",votes_gop:25579,votes_dem:62171,total_votes:89498,diff:-36592,per_gop:.2858052693914948,per_dem:.6946635679009587,per_point_diff:-.4088582985094639},{state_name:"Maryland",county_fips:24019,county_name:"Dorchester County",votes_gop:8764,votes_dem:6857,total_votes:15977,diff:1907,per_gop:.5485385241284346,per_dem:.4291794454528385,per_point_diff:.11935907867559614},{state_name:"Maryland",county_fips:24021,county_name:"Frederick County",votes_gop:63682,votes_dem:77675,total_votes:145615,diff:-13993,per_gop:.43733131888885074,per_dem:.5334271881330906,per_point_diff:-.0960958692442399},{state_name:"Maryland",county_fips:24023,county_name:"Garrett County",votes_gop:12002,votes_dem:3281,total_votes:15611,diff:8721,per_gop:.7688168599064762,per_dem:.21017231439369674,per_point_diff:.5586445455127794},{state_name:"Maryland",county_fips:24025,county_name:"Harford County",votes_gop:80930,votes_dem:63095,total_votes:148186,diff:17835,per_gop:.5461379617507727,per_dem:.4257824625808106,per_point_diff:.12035549916996208},{state_name:"Maryland",county_fips:24027,county_name:"Howard County",votes_gop:48390,votes_dem:129433,total_votes:183062,diff:-81043,per_gop:.26433667282122997,per_dem:.7070446078377818,per_point_diff:-.4427079350165518},{state_name:"Maryland",county_fips:24029,county_name:"Kent County",votes_gop:5195,votes_dem:5329,total_votes:10794,diff:-134,per_gop:.48128589957383733,per_dem:.49370020381693536,per_point_diff:-.012414304243098029},{state_name:"Maryland",county_fips:24031,county_name:"Montgomery County",votes_gop:101222,votes_dem:419569,total_votes:533743,diff:-318347,per_gop:.18964557849002237,per_dem:.7860880611080614,per_point_diff:-.596442482618039},{state_name:"Maryland",county_fips:24033,county_name:"Prince George's County",votes_gop:37090,votes_dem:379208,total_votes:424855,diff:-342118,per_gop:.08730037306845866,per_dem:.8925586376528463,per_point_diff:-.8052582645843877},{state_name:"Maryland",county_fips:24035,county_name:"Queen Anne's County",votes_gop:18741,votes_dem:10709,total_votes:30290,diff:8032,per_gop:.6187190491911522,per_dem:.3535490260812149,per_point_diff:.26517002310993726},{state_name:"Maryland",county_fips:24037,county_name:"St. Mary's County",votes_gop:30826,votes_dem:23138,total_votes:55665,diff:7688,per_gop:.553777059193389,per_dem:.4156651396748406,per_point_diff:.13811191951854845},{state_name:"Maryland",county_fips:24039,county_name:"Somerset County",votes_gop:5739,votes_dem:4241,total_votes:10147,diff:1498,per_gop:.5655858874544201,per_dem:.4179560461220065,per_point_diff:.14762984133241358},{state_name:"Maryland",county_fips:24041,county_name:"Talbot County",votes_gop:10946,votes_dem:11062,total_votes:22555,diff:-116,per_gop:.4853025936599424,per_dem:.49044557747727774,per_point_diff:-.005142983817335356},{state_name:"Maryland",county_fips:24043,county_name:"Washington County",votes_gop:40224,votes_dem:26044,total_votes:67779,diff:14180,per_gop:.5934581507546586,per_dem:.3842488086280411,per_point_diff:.20920934212661746},{state_name:"Maryland",county_fips:24045,county_name:"Wicomico County",votes_gop:22944,votes_dem:22054,total_votes:46216,diff:890,per_gop:.496451445386879,per_dem:.47719404535225896,per_point_diff:.019257400034620065},{state_name:"Maryland",county_fips:24047,county_name:"Worcester County",votes_gop:18571,votes_dem:12560,total_votes:31691,diff:6011,per_gop:.5860023350478054,per_dem:.3963270329115522,per_point_diff:.18967530213625322},{state_name:"Maryland",county_fips:24510,county_name:"Baltimore city",votes_gop:25374,votes_dem:207260,total_votes:237461,diff:-181886,per_gop:.10685544152513465,per_dem:.8728170099511078,per_point_diff:-.7659615684259731},{state_name:"Massachusetts",county_fips:25001,county_name:"Barnstable County",votes_gop:55311,votes_dem:91994,total_votes:150325,diff:-36683,per_gop:.36794279062032265,per_dem:.6119674039580908,per_point_diff:-.24402461333776815},{state_name:"Massachusetts",county_fips:25003,county_name:"Berkshire County",votes_gop:18064,votes_dem:51705,total_votes:71375,diff:-33641,per_gop:.2530858143607706,per_dem:.7244133099824869,per_point_diff:-.4713274956217163},{state_name:"Massachusetts",county_fips:25005,county_name:"Bristol County",votes_gop:119872,votes_dem:153377,total_votes:279279,diff:-33505,per_gop:.42921952599371954,per_dem:.5491891620923879,per_point_diff:-.11996963609866834},{state_name:"Massachusetts",county_fips:25007,county_name:"Dukes County",votes_gop:2631,votes_dem:9914,total_votes:12798,diff:-7283,per_gop:.20557899671823723,per_dem:.7746522894202219,per_point_diff:-.5690732927019847},{state_name:"Massachusetts",county_fips:25009,county_name:"Essex County",votes_gop:144837,votes_dem:267198,total_votes:421210,diff:-122361,per_gop:.34385935756511005,per_dem:.634358158638209,per_point_diff:-.29049880107309894},{state_name:"Massachusetts",county_fips:25011,county_name:"Franklin County",votes_gop:11201,votes_dem:30030,total_votes:42458,diff:-18829,per_gop:.2638136511375948,per_dem:.7072872014696877,per_point_diff:-.4434735503320929},{state_name:"Massachusetts",county_fips:25013,county_name:"Hampden County",votes_gop:87318,votes_dem:125948,total_votes:218177,diff:-38630,per_gop:.40021633811079993,per_dem:.5772744148099938,per_point_diff:-.17705807669919382},{state_name:"Massachusetts",county_fips:25015,county_name:"Hampshire County",votes_gop:22281,votes_dem:63362,total_votes:87854,diff:-41081,per_gop:.25361395041773854,per_dem:.7212192956496005,per_point_diff:-.467605345231862},{state_name:"Massachusetts",county_fips:25017,county_name:"Middlesex County",votes_gop:226956,votes_dem:617196,total_votes:863577,diff:-390240,per_gop:.2628092225707725,per_dem:.7146971260235045,per_point_diff:-.45188790345273205},{state_name:"Massachusetts",county_fips:25019,county_name:"Nantucket County",votes_gop:1914,votes_dem:5241,total_votes:7306,diff:-3327,per_gop:.2619764577059951,per_dem:.7173555981385162,per_point_diff:-.45537914043252115},{state_name:"Massachusetts",county_fips:25021,county_name:"Norfolk County",votes_gop:125294,votes_dem:273312,total_votes:407751,diff:-148018,per_gop:.3072806688395614,per_dem:.6702914278567067,per_point_diff:-.3630107590171453},{state_name:"Massachusetts",county_fips:25023,county_name:"Plymouth County",votes_gop:121227,votes_dem:173630,total_votes:301816,diff:-52403,per_gop:.401658626447902,per_dem:.5752842791634638,per_point_diff:-.1736256527155618},{state_name:"Massachusetts",county_fips:25025,county_name:"Suffolk County",votes_gop:58613,votes_dem:270522,total_votes:335462,diff:-211909,per_gop:.17472321753283532,per_dem:.806416225980886,per_point_diff:-.6316930084480508},{state_name:"Massachusetts",county_fips:25027,county_name:"Worcester County",votes_gop:171683,votes_dem:248773,total_votes:432014,diff:-77090,per_gop:.3974014731004088,per_dem:.5758447642900462,per_point_diff:-.17844329118963737},{state_name:"Michigan",county_fips:26001,county_name:"Alcona County",votes_gop:4848,votes_dem:2142,total_votes:7064,diff:2706,per_gop:.6862967157417894,per_dem:.3032276330690827,per_point_diff:.38306908267270673},{state_name:"Michigan",county_fips:26003,county_name:"Alger County",votes_gop:3014,votes_dem:2053,total_votes:5128,diff:961,per_gop:.5877535101404057,per_dem:.4003510140405616,per_point_diff:.18740249609984405},{state_name:"Michigan",county_fips:26005,county_name:"Allegan County",votes_gop:41392,votes_dem:24449,total_votes:67094,diff:16943,per_gop:.6169255074969446,per_dem:.3643992011208156,per_point_diff:.25252630637612905},{state_name:"Michigan",county_fips:26007,county_name:"Alpena County",votes_gop:10686,votes_dem:6e3,total_votes:16969,diff:4686,per_gop:.6297365784666156,per_dem:.3535859508515528,per_point_diff:.27615062761506276},{state_name:"Michigan",county_fips:26009,county_name:"Antrim County",votes_gop:9748,votes_dem:5960,total_votes:15949,diff:3788,per_gop:.6111981942441532,per_dem:.37369114051037683,per_point_diff:.2375070537337764},{state_name:"Michigan",county_fips:26011,county_name:"Arenac County",votes_gop:5928,votes_dem:2774,total_votes:8831,diff:3154,per_gop:.6712716566640244,per_dem:.31412071113124224,per_point_diff:.3571509455327822},{state_name:"Michigan",county_fips:26013,county_name:"Baraga County",votes_gop:2512,votes_dem:1478,total_votes:4038,diff:1034,per_gop:.6220901436354631,per_dem:.3660227835562159,per_point_diff:.2560673600792472},{state_name:"Michigan",county_fips:26015,county_name:"Barry County",votes_gop:23471,votes_dem:11797,total_votes:35905,diff:11674,per_gop:.6536972566494917,per_dem:.3285614816877872,per_point_diff:.32513577496170454},{state_name:"Michigan",county_fips:26017,county_name:"Bay County",votes_gop:33125,votes_dem:26151,total_votes:60255,diff:6974,per_gop:.54974690897021,per_dem:.4340054767239233,per_point_diff:.11574143224628664},{state_name:"Michigan",county_fips:26019,county_name:"Benzie County",votes_gop:6601,votes_dem:5480,total_votes:12262,diff:1121,per_gop:.538329799380199,per_dem:.44690915022019245,per_point_diff:.09142064916000653},{state_name:"Michigan",county_fips:26021,county_name:"Berrien County",votes_gop:43519,votes_dem:37438,total_votes:82391,diff:6081,per_gop:.5282008957289024,per_dem:.45439429063854064,per_point_diff:.07380660509036174},{state_name:"Michigan",county_fips:26023,county_name:"Branch County",votes_gop:14064,votes_dem:6159,total_votes:20536,diff:7905,per_gop:.6848461238800155,per_dem:.2999123490455785,per_point_diff:.384933774834437},{state_name:"Michigan",county_fips:26025,county_name:"Calhoun County",votes_gop:36221,votes_dem:28877,total_votes:66281,diff:7344,per_gop:.5464763657760142,per_dem:.4356753820853638,per_point_diff:.11080098369065039},{state_name:"Michigan",county_fips:26027,county_name:"Cass County",votes_gop:16699,votes_dem:9130,total_votes:26216,diff:7569,per_gop:.6369774183704607,per_dem:.3482606042111688,per_point_diff:.28871681415929196},{state_name:"Michigan",county_fips:26029,county_name:"Charlevoix County",votes_gop:9841,votes_dem:6939,total_votes:17e3,diff:2902,per_gop:.5788823529411765,per_dem:.4081764705882353,per_point_diff:.1707058823529412},{state_name:"Michigan",county_fips:26031,county_name:"Cheboygan County",votes_gop:10186,votes_dem:5437,total_votes:15868,diff:4749,per_gop:.6419208469876481,per_dem:.34263927401058736,per_point_diff:.2992815729770607},{state_name:"Michigan",county_fips:26033,county_name:"Chippewa County",votes_gop:10681,votes_dem:6648,total_votes:17642,diff:4033,per_gop:.6054302233306881,per_dem:.3768280240335563,per_point_diff:.22860219929713177},{state_name:"Michigan",county_fips:26035,county_name:"Clare County",votes_gop:10861,votes_dem:5199,total_votes:16281,diff:5662,per_gop:.6670966156869971,per_dem:.3193292795282845,per_point_diff:.3477673361587126},{state_name:"Michigan",county_fips:26037,county_name:"Clinton County",votes_gop:25098,votes_dem:21968,total_votes:47927,diff:3130,per_gop:.5236714169466063,per_dem:.4583637615540301,per_point_diff:.06530765539257627},{state_name:"Michigan",county_fips:26039,county_name:"Crawford County",votes_gop:5087,votes_dem:2672,total_votes:7861,diff:2415,per_gop:.6471186871899249,per_dem:.339905864393843,per_point_diff:.3072128227960819},{state_name:"Michigan",county_fips:26041,county_name:"Delta County",votes_gop:13207,votes_dem:7606,total_votes:21151,diff:5601,per_gop:.6244149212803177,per_dem:.3596047468204813,per_point_diff:.2648101744598364},{state_name:"Michigan",county_fips:26043,county_name:"Dickinson County",votes_gop:9617,votes_dem:4744,total_votes:14589,diff:4873,per_gop:.6591952841181712,per_dem:.325176502844609,per_point_diff:.3340187812735622},{state_name:"Michigan",county_fips:26045,county_name:"Eaton County",votes_gop:31798,votes_dem:31299,total_votes:64327,diff:499,per_gop:.4943180934910691,per_dem:.4865608531409828,per_point_diff:.007757240350086292},{state_name:"Michigan",county_fips:26047,county_name:"Emmet County",votes_gop:12135,votes_dem:9662,total_votes:22177,diff:2473,per_gop:.5471885286558146,per_dem:.43567660188483565,per_point_diff:.11151192677097893},{state_name:"Michigan",county_fips:26049,county_name:"Genesee County",votes_gop:98714,votes_dem:119390,total_votes:221360,diff:-20676,per_gop:.44594325984821104,per_dem:.5393476689555475,per_point_diff:-.0934044091073365},{state_name:"Michigan",county_fips:26051,county_name:"Gladwin County",votes_gop:9893,votes_dem:4524,total_votes:14603,diff:5369,per_gop:.677463534890091,per_dem:.3097993562966514,per_point_diff:.36766417859343964},{state_name:"Michigan",county_fips:26053,county_name:"Gogebic County",votes_gop:4600,votes_dem:3570,total_votes:8266,diff:1030,per_gop:.5564964916525527,per_dem:.43188966852165495,per_point_diff:.12460682313089771},{state_name:"Michigan",county_fips:26055,county_name:"Grand Traverse County",votes_gop:30502,votes_dem:28683,total_votes:60236,diff:1819,per_gop:.5063749252938442,per_dem:.4761770369878478,per_point_diff:.0301978883059964},{state_name:"Michigan",county_fips:26057,county_name:"Gratiot County",votes_gop:12102,votes_dem:6693,total_votes:19127,diff:5409,per_gop:.6327181471218696,per_dem:.3499241909342814,per_point_diff:.2827939561875882},{state_name:"Michigan",county_fips:26059,county_name:"Hillsdale County",votes_gop:17037,votes_dem:5883,total_votes:23302,diff:11154,per_gop:.7311389580293537,per_dem:.25246759934769547,per_point_diff:.4786713586816582},{state_name:"Michigan",county_fips:26061,county_name:"Houghton County",votes_gop:10378,votes_dem:7750,total_votes:18501,diff:2628,per_gop:.5609426517485542,per_dem:.41889627587697964,per_point_diff:.14204637587157454},{state_name:"Michigan",county_fips:26063,county_name:"Huron County",votes_gop:12731,votes_dem:5490,total_votes:18437,diff:7241,per_gop:.6905136410478928,per_dem:.29777078700439336,per_point_diff:.39274285404349946},{state_name:"Michigan",county_fips:26065,county_name:"Ingham County",votes_gop:47639,votes_dem:94212,total_votes:144550,diff:-46573,per_gop:.3295676236596333,per_dem:.651760636457973,per_point_diff:-.3221930127983397},{state_name:"Michigan",county_fips:26067,county_name:"Ionia County",votes_gop:20657,votes_dem:10901,total_votes:32209,diff:9756,per_gop:.6413424819149927,per_dem:.33844577602533454,per_point_diff:.3028967058896581},{state_name:"Michigan",county_fips:26069,county_name:"Iosco County",votes_gop:9759,votes_dem:5373,total_votes:15363,diff:4386,per_gop:.6352274946299551,per_dem:.34973637961335674,per_point_diff:.28549111501659835},{state_name:"Michigan",county_fips:26071,county_name:"Iron County",votes_gop:4216,votes_dem:2493,total_votes:6789,diff:1723,per_gop:.6210045662100456,per_dem:.3672116659301812,per_point_diff:.25379290027986445},{state_name:"Michigan",county_fips:26073,county_name:"Isabella County",votes_gop:14815,votes_dem:14072,total_votes:29421,diff:743,per_gop:.5035518847082017,per_dem:.4782978144862513,per_point_diff:.025254070221950364},{state_name:"Michigan",county_fips:26075,county_name:"Jackson County",votes_gop:47372,votes_dem:31995,total_votes:80861,diff:15377,per_gop:.5858448448572241,per_dem:.39567900471178935,per_point_diff:.19016584014543475},{state_name:"Michigan",county_fips:26077,county_name:"Kalamazoo County",votes_gop:56823,votes_dem:83686,total_votes:143414,diff:-26863,per_gop:.39621654789630023,per_dem:.5835274101552149,per_point_diff:-.1873108622589147},{state_name:"Michigan",county_fips:26079,county_name:"Kalkaska County",votes_gop:7436,votes_dem:3002,total_votes:10631,diff:4434,per_gop:.6994638321888815,per_dem:.28238171385570504,per_point_diff:.4170821183331765},{state_name:"Michigan",county_fips:26081,county_name:"Kent County",votes_gop:165741,votes_dem:187915,total_votes:361048,diff:-22174,per_gop:.45905530566572866,per_dem:.5204709623097206,per_point_diff:-.0614156566439919},{state_name:"Michigan",county_fips:26083,county_name:"Keweenaw County",votes_gop:862,votes_dem:672,total_votes:1557,diff:190,per_gop:.5536287732819525,per_dem:.43159922928709055,per_point_diff:.12202954399486193},{state_name:"Michigan",county_fips:26085,county_name:"Lake County",votes_gop:3946,votes_dem:2288,total_votes:6323,diff:1658,per_gop:.6240708524434604,per_dem:.3618535505298118,per_point_diff:.2622173019136486},{state_name:"Michigan",county_fips:26087,county_name:"Lapeer County",votes_gop:35482,votes_dem:16367,total_votes:52650,diff:19115,per_gop:.6739221272554606,per_dem:.3108641975308642,per_point_diff:.36305792972459644},{state_name:"Michigan",county_fips:26089,county_name:"Leelanau County",votes_gop:7916,votes_dem:8795,total_votes:16900,diff:-879,per_gop:.46840236686390535,per_dem:.520414201183432,per_point_diff:-.052011834319526606},{state_name:"Michigan",county_fips:26091,county_name:"Lenawee County",votes_gop:31541,votes_dem:20918,total_votes:53375,diff:10623,per_gop:.5909320843091335,per_dem:.39190632318501173,per_point_diff:.19902576112412174},{state_name:"Michigan",county_fips:26093,county_name:"Livingston County",votes_gop:76982,votes_dem:48220,total_votes:127197,diff:28762,per_gop:.6052186765411134,per_dem:.3790969912812409,per_point_diff:.22612168525987247},{state_name:"Michigan",county_fips:26095,county_name:"Luce County",votes_gop:2109,votes_dem:842,total_votes:3001,diff:1267,per_gop:.7027657447517495,per_dem:.2805731422859047,per_point_diff:.4221926024658448},{state_name:"Michigan",county_fips:26097,county_name:"Mackinac County",votes_gop:4304,votes_dem:2632,total_votes:7015,diff:1672,per_gop:.6135424091233072,per_dem:.3751960085531005,per_point_diff:.23834640057020667},{state_name:"Michigan",county_fips:26099,county_name:"Macomb County",votes_gop:263863,votes_dem:223952,total_votes:494256,diff:39911,per_gop:.5338589718688291,per_dem:.45310931986662784,per_point_diff:.0807496520022013},{state_name:"Michigan",county_fips:26101,county_name:"Manistee County",votes_gop:8321,votes_dem:6107,total_votes:14655,diff:2214,per_gop:.5677925622654384,per_dem:.4167178437393381,per_point_diff:.15107471852610027},{state_name:"Michigan",county_fips:26103,county_name:"Marquette County",votes_gop:16286,votes_dem:20465,total_votes:37462,diff:-4179,per_gop:.43473386364849714,per_dem:.5462869040627836,per_point_diff:-.11155304041428643},{state_name:"Michigan",county_fips:26105,county_name:"Mason County",votes_gop:10207,votes_dem:6802,total_votes:17254,diff:3405,per_gop:.5915729685869944,per_dem:.39422742552451606,per_point_diff:.1973455430624783},{state_name:"Michigan",county_fips:26107,county_name:"Mecosta County",votes_gop:13267,votes_dem:7375,total_votes:21049,diff:5892,per_gop:.6302912252363533,per_dem:.3503729393320348,per_point_diff:.2799182859043185},{state_name:"Michigan",county_fips:26109,county_name:"Menominee County",votes_gop:8117,votes_dem:4316,total_votes:12607,diff:3801,per_gop:.6438486555088443,per_dem:.3423494883794717,per_point_diff:.3014991671293726},{state_name:"Michigan",county_fips:26111,county_name:"Midland County",votes_gop:27675,votes_dem:20493,total_votes:49088,diff:7182,per_gop:.5637834093872229,per_dem:.417474739243807,per_point_diff:.14630867014341592},{state_name:"Michigan",county_fips:26113,county_name:"Missaukee County",votes_gop:6648,votes_dem:1967,total_votes:8755,diff:4681,per_gop:.7593375214163335,per_dem:.22467161621930326,per_point_diff:.5346659051970302},{state_name:"Michigan",county_fips:26115,county_name:"Monroe County",votes_gop:52710,votes_dem:32975,total_votes:87148,diff:19735,per_gop:.6048331573874328,per_dem:.37837930876210585,per_point_diff:.22645384862532697},{state_name:"Michigan",county_fips:26117,county_name:"Montcalm County",votes_gop:21815,votes_dem:9703,total_votes:32100,diff:12112,per_gop:.679595015576324,per_dem:.30227414330218066,per_point_diff:.3773208722741433},{state_name:"Michigan",county_fips:26119,county_name:"Montmorency County",votes_gop:4171,votes_dem:1628,total_votes:5859,diff:2543,per_gop:.7118962280252603,per_dem:.277863116572794,per_point_diff:.4340331114524663},{state_name:"Michigan",county_fips:26121,county_name:"Muskegon County",votes_gop:45133,votes_dem:45643,total_votes:92444,diff:-510,per_gop:.4882198952879581,per_dem:.4937367487343689,per_point_diff:-.0055168534464107855},{state_name:"Michigan",county_fips:26123,county_name:"Newaygo County",votes_gop:18857,votes_dem:7873,total_votes:27161,diff:10984,per_gop:.6942675159235668,per_dem:.2898641434409632,per_point_diff:.40440337248260366},{state_name:"Michigan",county_fips:26125,county_name:"Oakland County",votes_gop:325971,votes_dem:434148,total_votes:770351,diff:-108177,per_gop:.42314607237480056,per_dem:.56357167057614,per_point_diff:-.14042559820133943},{state_name:"Michigan",county_fips:26127,county_name:"Oceana County",votes_gop:8892,votes_dem:4944,total_votes:14062,diff:3948,per_gop:.6323424832882947,per_dem:.35158583416299244,per_point_diff:.28075664912530224},{state_name:"Michigan",county_fips:26129,county_name:"Ogemaw County",votes_gop:8253,votes_dem:3475,total_votes:11907,diff:4778,per_gop:.6931216931216931,per_dem:.2918451331149744,per_point_diff:.40127656000671874},{state_name:"Michigan",county_fips:26131,county_name:"Ontonagon County",votes_gop:2358,votes_dem:1391,total_votes:3804,diff:967,per_gop:.6198738170347003,per_dem:.3656677181913775,per_point_diff:.25420609884332285},{state_name:"Michigan",county_fips:26133,county_name:"Osceola County",votes_gop:8928,votes_dem:3214,total_votes:12329,diff:5714,per_gop:.7241463216805905,per_dem:.2606861870386893,per_point_diff:.46346013464190117},{state_name:"Michigan",county_fips:26135,county_name:"Oscoda County",votes_gop:3466,votes_dem:1342,total_votes:4874,diff:2124,per_gop:.7111202297907263,per_dem:.275338530980714,per_point_diff:.43578169881001233},{state_name:"Michigan",county_fips:26137,county_name:"Otsego County",votes_gop:9779,votes_dem:4743,total_votes:14757,diff:5036,per_gop:.6626685640712882,per_dem:.32140678999796707,per_point_diff:.3412617740733211},{state_name:"Michigan",county_fips:26139,county_name:"Ottawa County",votes_gop:100913,votes_dem:64705,total_votes:168713,diff:36208,per_gop:.5981341094047288,per_dem:.38352112759538387,per_point_diff:.2146129818093449},{state_name:"Michigan",county_fips:26141,county_name:"Presque Isle County",votes_gop:5342,votes_dem:2911,total_votes:8344,diff:2431,per_gop:.6402205177372963,per_dem:.34887344199424736,per_point_diff:.2913470757430489},{state_name:"Michigan",county_fips:26143,county_name:"Roscommon County",votes_gop:9670,votes_dem:5166,total_votes:15018,diff:4504,per_gop:.6438939938740178,per_dem:.3439872153415901,per_point_diff:.2999067785324277},{state_name:"Michigan",county_fips:26145,county_name:"Saginaw County",votes_gop:50785,votes_dem:51088,total_votes:103349,diff:-303,per_gop:.49139324037968435,per_dem:.4943250539434344,per_point_diff:-.002931813563750052},{state_name:"Michigan",county_fips:26147,county_name:"St. Clair County",votes_gop:59185,votes_dem:31363,total_votes:92064,diff:27822,per_gop:.64286800486618,per_dem:.3406651894334376,per_point_diff:.3022028154327424},{state_name:"Michigan",county_fips:26149,county_name:"St. Joseph County",votes_gop:18127,votes_dem:9262,total_votes:27936,diff:8865,per_gop:.6488760022909508,per_dem:.3315435280641466,per_point_diff:.31733247422680416},{state_name:"Michigan",county_fips:26151,county_name:"Sanilac County",votes_gop:16194,votes_dem:5966,total_votes:22446,diff:10228,per_gop:.7214648489708634,per_dem:.26579345985921765,per_point_diff:.45567138911164573},{state_name:"Michigan",county_fips:26153,county_name:"Schoolcraft County",votes_gop:3090,votes_dem:1589,total_votes:4745,diff:1501,per_gop:.6512118018967334,per_dem:.33487881981032663,per_point_diff:.3163329820864068},{state_name:"Michigan",county_fips:26155,county_name:"Shiawassee County",votes_gop:23149,votes_dem:15347,total_votes:39224,diff:7802,per_gop:.5901743830307975,per_dem:.39126555170303895,per_point_diff:.19890883132775855},{state_name:"Michigan",county_fips:26157,county_name:"Tuscola County",votes_gop:20297,votes_dem:8712,total_votes:29445,diff:11585,per_gop:.6893190694515198,per_dem:.29587366276107996,per_point_diff:.3934454066904398},{state_name:"Michigan",county_fips:26159,county_name:"Van Buren County",votes_gop:21591,votes_dem:16803,total_votes:39066,diff:4788,per_gop:.5526800798648441,per_dem:.43011826140377823,per_point_diff:.1225618184610659},{state_name:"Michigan",county_fips:26161,county_name:"Washtenaw County",votes_gop:56241,votes_dem:157136,total_votes:216418,diff:-100895,per_gop:.2598720993632692,per_dem:.72607638920977,per_point_diff:-.4662042898465008},{state_name:"Michigan",county_fips:26163,county_name:"Wayne County",votes_gop:264553,votes_dem:597170,total_votes:872469,diff:-332617,per_gop:.3032233810026488,per_dem:.6844598490032311,per_point_diff:-.3812364680005823},{state_name:"Michigan",county_fips:26165,county_name:"Wexford County",votes_gop:12102,votes_dem:5838,total_votes:18265,diff:6264,per_gop:.6625787024363536,per_dem:.3196277032575965,per_point_diff:.34295099917875715},{state_name:"Minnesota",county_fips:27001,county_name:"Aitkin County",votes_gop:6258,votes_dem:3607,total_votes:10025,diff:2651,per_gop:.6242394014962593,per_dem:.3598004987531172,per_point_diff:.26443890274314213},{state_name:"Minnesota",county_fips:27003,county_name:"Anoka County",votes_gop:104902,votes_dem:100893,total_votes:211132,diff:4009,per_gop:.49685504802682684,per_dem:.4778669268514484,per_point_diff:.01898812117537846},{state_name:"Minnesota",county_fips:27005,county_name:"Becker County",votes_gop:12438,votes_dem:6589,total_votes:19401,diff:5849,per_gop:.6411009741765888,per_dem:.3396216689861347,per_point_diff:.3014793051904541},{state_name:"Minnesota",county_fips:27007,county_name:"Beltrami County",votes_gop:12188,votes_dem:11426,total_votes:24189,diff:762,per_gop:.5038653933606184,per_dem:.4723634709992145,per_point_diff:.03150192236140392},{state_name:"Minnesota",county_fips:27009,county_name:"Benton County",votes_gop:14382,votes_dem:7280,total_votes:22260,diff:7102,per_gop:.6460916442048518,per_dem:.3270440251572327,per_point_diff:.3190476190476191},{state_name:"Minnesota",county_fips:27011,county_name:"Big Stone County",votes_gop:1863,votes_dem:1053,total_votes:2974,diff:810,per_gop:.6264290517821116,per_dem:.35406859448554134,per_point_diff:.27236045729657027},{state_name:"Minnesota",county_fips:27013,county_name:"Blue Earth County",votes_gop:16731,votes_dem:18330,total_votes:36051,diff:-1599,per_gop:.46409253557460267,per_dem:.5084463676458351,per_point_diff:-.04435383207123239},{state_name:"Minnesota",county_fips:27015,county_name:"Brown County",votes_gop:9552,votes_dem:4753,total_votes:14635,diff:4799,per_gop:.6526819268875982,per_dem:.32476938845234027,per_point_diff:.3279125384352579},{state_name:"Minnesota",county_fips:27017,county_name:"Carlton County",votes_gop:9791,votes_dem:10098,total_votes:20369,diff:-307,per_gop:.4806814276596789,per_dem:.49575335067995485,per_point_diff:-.015071923020275935},{state_name:"Minnesota",county_fips:27019,county_name:"Carver County",votes_gop:34009,votes_dem:30774,total_votes:66361,diff:3235,per_gop:.5124847425445669,per_dem:.4637362306173807,per_point_diff:.04874851192718621},{state_name:"Minnesota",county_fips:27021,county_name:"Cass County",votes_gop:11620,votes_dem:6342,total_votes:18289,diff:5278,per_gop:.6353545847230576,per_dem:.34676581551752417,per_point_diff:.28858876920553345},{state_name:"Minnesota",county_fips:27023,county_name:"Chippewa County",votes_gop:4250,votes_dem:2226,total_votes:6611,diff:2024,per_gop:.6428679473604598,per_dem:.3367115413704432,per_point_diff:.30615640599001664},{state_name:"Minnesota",county_fips:27025,county_name:"Chisago County",votes_gop:21916,votes_dem:11806,total_votes:34570,diff:10110,per_gop:.6339600809950824,per_dem:.3415099797512294,per_point_diff:.292450101243853},{state_name:"Minnesota",county_fips:27027,county_name:"Clay County",votes_gop:15043,votes_dem:16357,total_votes:32239,diff:-1314,per_gop:.4666087657805763,per_dem:.5073668538106021,per_point_diff:-.040758088030025785},{state_name:"Minnesota",county_fips:27029,county_name:"Clearwater County",votes_gop:3372,votes_dem:1260,total_votes:4708,diff:2112,per_gop:.7162276975361087,per_dem:.2676295666949873,per_point_diff:.44859813084112143},{state_name:"Minnesota",county_fips:27031,county_name:"Cook County",votes_gop:1203,votes_dem:2496,total_votes:3806,diff:-1293,per_gop:.3160798738833421,per_dem:.6558066211245402,per_point_diff:-.33972674724119817},{state_name:"Minnesota",county_fips:27033,county_name:"Cottonwood County",votes_gop:4165,votes_dem:1834,total_votes:6107,diff:2331,per_gop:.6820042574095301,per_dem:.30031111838873426,per_point_diff:.3816931390207958},{state_name:"Minnesota",county_fips:27035,county_name:"Crow Wing County",votes_gop:25676,votes_dem:13726,total_votes:40173,diff:11950,per_gop:.6391357379334379,per_dem:.3416722674433077,per_point_diff:.2974634704901302},{state_name:"Minnesota",county_fips:27037,county_name:"Dakota County",votes_gop:109638,votes_dem:146155,total_votes:262259,diff:-36517,per_gop:.418052383330982,per_dem:.5572926000632962,per_point_diff:-.13924021673231418},{state_name:"Minnesota",county_fips:27039,county_name:"Dodge County",votes_gop:7783,votes_dem:4079,total_votes:12187,diff:3704,per_gop:.6386313284647576,per_dem:.3347009108065972,per_point_diff:.30393041765816037},{state_name:"Minnesota",county_fips:27041,county_name:"Douglas County",votes_gop:15799,votes_dem:7868,total_votes:24165,diff:7931,per_gop:.6537968135733498,per_dem:.3255948686116284,per_point_diff:.32820194496172145},{state_name:"Minnesota",county_fips:27043,county_name:"Faribault County",votes_gop:5191,votes_dem:2531,total_votes:7914,diff:2660,per_gop:.6559262067222643,per_dem:.3198129896386151,per_point_diff:.3361132170836492},{state_name:"Minnesota",county_fips:27045,county_name:"Fillmore County",votes_gop:7301,votes_dem:4551,total_votes:12141,diff:2750,per_gop:.6013507948274442,per_dem:.37484556461576474,per_point_diff:.2265052302116795},{state_name:"Minnesota",county_fips:27047,county_name:"Freeborn County",votes_gop:9578,votes_dem:6889,total_votes:16818,diff:2689,per_gop:.5695088595552384,per_dem:.4096206445475086,per_point_diff:.15988821500772982},{state_name:"Minnesota",county_fips:27049,county_name:"Goodhue County",votes_gop:16052,votes_dem:11806,total_votes:28636,diff:4246,per_gop:.5605531498812684,per_dem:.4122782511523956,per_point_diff:.14827489872887278},{state_name:"Minnesota",county_fips:27051,county_name:"Grant County",votes_gop:2269,votes_dem:1300,total_votes:3654,diff:969,per_gop:.6209633278598796,per_dem:.35577449370552816,per_point_diff:.26518883415435146},{state_name:"Minnesota",county_fips:27053,county_name:"Hennepin County",votes_gop:205973,votes_dem:532623,total_votes:755969,diff:-326650,per_gop:.2724622305941117,per_dem:.7045566683289923,per_point_diff:-.43209443773488065},{state_name:"Minnesota",county_fips:27055,county_name:"Houston County",votes_gop:6334,votes_dem:4853,total_votes:11440,diff:1481,per_gop:.5536713286713286,per_dem:.42421328671328673,per_point_diff:.1294580419580419},{state_name:"Minnesota",county_fips:27057,county_name:"Hubbard County",votes_gop:8202,votes_dem:4462,total_votes:12965,diff:3740,per_gop:.63262630158118,per_dem:.344157346702661,per_point_diff:.28846895487851903},{state_name:"Minnesota",county_fips:27059,county_name:"Isanti County",votes_gop:16491,votes_dem:7138,total_votes:24235,diff:9353,per_gop:.6804621415308438,per_dem:.2945327006395709,per_point_diff:.38592944089127296},{state_name:"Minnesota",county_fips:27061,county_name:"Itasca County",votes_gop:15239,votes_dem:10786,total_votes:26561,diff:4453,per_gop:.5737359286171454,per_dem:.4060841082790558,per_point_diff:.16765182033808962},{state_name:"Minnesota",county_fips:27063,county_name:"Jackson County",votes_gop:3948,votes_dem:1745,total_votes:5819,diff:2203,per_gop:.6784670905653892,per_dem:.2998797044165664,per_point_diff:.3785873861488228},{state_name:"Minnesota",county_fips:27065,county_name:"Kanabec County",votes_gop:6278,votes_dem:2774,total_votes:9242,diff:3504,per_gop:.679290196927072,per_dem:.3001514823631249,per_point_diff:.37913871456394715},{state_name:"Minnesota",county_fips:27067,county_name:"Kandiyohi County",votes_gop:14437,votes_dem:8440,total_votes:23367,diff:5997,per_gop:.6178371207258099,per_dem:.36119313561860744,per_point_diff:.25664398510720243},{state_name:"Minnesota",county_fips:27069,county_name:"Kittson County",votes_gop:1546,votes_dem:1006,total_votes:2639,diff:540,per_gop:.5858279651383099,per_dem:.38120500189465706,per_point_diff:.20462296324365287},{state_name:"Minnesota",county_fips:27071,county_name:"Koochiching County",votes_gop:4131,votes_dem:2659,total_votes:6922,diff:1472,per_gop:.596792834440913,per_dem:.38413753250505633,per_point_diff:.2126553019358567},{state_name:"Minnesota",county_fips:27073,county_name:"Lac qui Parle County",votes_gop:2528,votes_dem:1446,total_votes:4040,diff:1082,per_gop:.6257425742574257,per_dem:.3579207920792079,per_point_diff:.26782178217821784},{state_name:"Minnesota",county_fips:27075,county_name:"Lake County",votes_gop:3393,votes_dem:3647,total_votes:7202,diff:-254,per_gop:.4711191335740072,per_dem:.5063871146903638,per_point_diff:-.035267981116356595},{state_name:"Minnesota",county_fips:27077,county_name:"Lake of the Woods County",votes_gop:1704,votes_dem:671,total_votes:2408,diff:1033,per_gop:.707641196013289,per_dem:.27865448504983387,per_point_diff:.42898671096345514},{state_name:"Minnesota",county_fips:27079,county_name:"Le Sueur County",votes_gop:10775,votes_dem:5672,total_votes:16818,diff:5103,per_gop:.6406826019740754,per_dem:.3372577000832441,per_point_diff:.3034249018908313},{state_name:"Minnesota",county_fips:27081,county_name:"Lincoln County",votes_gop:2121,votes_dem:937,total_votes:3115,diff:1184,per_gop:.6808988764044944,per_dem:.30080256821829854,per_point_diff:.3800963081861959},{state_name:"Minnesota",county_fips:27083,county_name:"Lyon County",votes_gop:7979,votes_dem:4634,total_votes:12893,diff:3345,per_gop:.6188629488869929,per_dem:.35941984022337703,per_point_diff:.25944310866361586},{state_name:"Minnesota",county_fips:27085,county_name:"McLeod County",votes_gop:13986,votes_dem:6413,total_votes:20933,diff:7573,per_gop:.6681316581474227,per_dem:.3063583815028902,per_point_diff:.3617732766445325},{state_name:"Minnesota",county_fips:27087,county_name:"Mahnomen County",votes_gop:1142,votes_dem:1112,total_votes:2304,diff:30,per_gop:.4956597222222222,per_dem:.4826388888888889,per_point_diff:.013020833333333315},{state_name:"Minnesota",county_fips:27089,county_name:"Marshall County",votes_gop:3721,votes_dem:1295,total_votes:5113,diff:2426,per_gop:.727752787013495,per_dem:.25327596323097984,per_point_diff:.47447682378251516},{state_name:"Minnesota",county_fips:27091,county_name:"Martin County",votes_gop:7480,votes_dem:3305,total_votes:11009,diff:4175,per_gop:.6794440911981107,per_dem:.3002089199745663,per_point_diff:.3792351712235444},{state_name:"Minnesota",county_fips:27093,county_name:"Meeker County",votes_gop:9359,votes_dem:3867,total_votes:13529,diff:5492,per_gop:.6917732278808485,per_dem:.28583043831768795,per_point_diff:.40594278956316054},{state_name:"Minnesota",county_fips:27095,county_name:"Mille Lacs County",votes_gop:9952,votes_dem:4404,total_votes:14689,diff:5548,per_gop:.6775137858261284,per_dem:.2998161889849547,per_point_diff:.3776975968411737},{state_name:"Minnesota",county_fips:27097,county_name:"Morrison County",votes_gop:14821,votes_dem:4367,total_votes:19558,diff:10454,per_gop:.7577973207894467,per_dem:.2232845894263217,per_point_diff:.534512731363125},{state_name:"Minnesota",county_fips:27099,county_name:"Mower County",votes_gop:10025,votes_dem:8899,total_votes:19345,diff:1126,per_gop:.5182217627293875,per_dem:.46001550788317397,per_point_diff:.0582062548462135},{state_name:"Minnesota",county_fips:27101,county_name:"Murray County",votes_gop:3363,votes_dem:1449,total_votes:4896,diff:1914,per_gop:.6868872549019608,per_dem:.2959558823529412,per_point_diff:.3909313725490196},{state_name:"Minnesota",county_fips:27103,county_name:"Nicollet County",votes_gop:9018,votes_dem:9622,total_votes:19125,diff:-604,per_gop:.47152941176470586,per_dem:.5031111111111111,per_point_diff:-.0315816993464052},{state_name:"Minnesota",county_fips:27105,county_name:"Nobles County",votes_gop:5600,votes_dem:2933,total_votes:8715,diff:2667,per_gop:.642570281124498,per_dem:.3365461847389558,per_point_diff:.3060240963855422},{state_name:"Minnesota",county_fips:27107,county_name:"Norman County",votes_gop:1953,votes_dem:1404,total_votes:3441,diff:549,per_gop:.5675675675675675,per_dem:.4080209241499564,per_point_diff:.15954664341761116},{state_name:"Minnesota",county_fips:27109,county_name:"Olmsted County",votes_gop:39692,votes_dem:49491,total_votes:91385,diff:-9799,per_gop:.4343382393171746,per_dem:.5415659025004104,per_point_diff:-.10722766318323579},{state_name:"Minnesota",county_fips:27111,county_name:"Otter Tail County",votes_gop:23800,votes_dem:11958,total_votes:36399,diff:11842,per_gop:.6538641171460754,per_dem:.3285255089425534,per_point_diff:.325338608203522},{state_name:"Minnesota",county_fips:27113,county_name:"Pennington County",votes_gop:4532,votes_dem:2568,total_votes:7277,diff:1964,per_gop:.6227841143328294,per_dem:.35289267555311254,per_point_diff:.2698914387797169},{state_name:"Minnesota",county_fips:27115,county_name:"Pine County",votes_gop:10256,votes_dem:5419,total_votes:16001,diff:4837,per_gop:.6409599400037498,per_dem:.33866633335416535,per_point_diff:.30229360664958443},{state_name:"Minnesota",county_fips:27117,county_name:"Pipestone County",votes_gop:3553,votes_dem:1306,total_votes:4940,diff:2247,per_gop:.7192307692307692,per_dem:.26437246963562755,per_point_diff:.4548582995951417},{state_name:"Minnesota",county_fips:27119,county_name:"Polk County",votes_gop:9865,votes_dem:5439,total_votes:15594,diff:4426,per_gop:.632615108375016,per_dem:.34878799538283956,per_point_diff:.28382711299217644},{state_name:"Minnesota",county_fips:27121,county_name:"Pope County",votes_gop:4417,votes_dem:2477,total_votes:7022,diff:1940,per_gop:.6290230703503276,per_dem:.3527485046995158,per_point_diff:.27627456565081177},{state_name:"Minnesota",county_fips:27123,county_name:"Ramsey County",votes_gop:77376,votes_dem:211620,total_votes:295977,diff:-134244,per_gop:.2614257188903192,per_dem:.7149879889315723,per_point_diff:-.45356227004125316},{state_name:"Minnesota",county_fips:27125,county_name:"Red Lake County",votes_gop:1454,votes_dem:691,total_votes:2196,diff:763,per_gop:.6621129326047359,per_dem:.3146630236794171,per_point_diff:.3474499089253188},{state_name:"Minnesota",county_fips:27127,county_name:"Redwood County",votes_gop:5771,votes_dem:2355,total_votes:8284,diff:3416,per_gop:.6966441332689522,per_dem:.2842829550941574,per_point_diff:.41236117817479484},{state_name:"Minnesota",county_fips:27129,county_name:"Renville County",votes_gop:5467,votes_dem:2496,total_votes:8128,diff:2971,per_gop:.672613188976378,per_dem:.30708661417322836,per_point_diff:.36552657480314965},{state_name:"Minnesota",county_fips:27131,county_name:"Rice County",votes_gop:17464,votes_dem:17402,total_votes:35686,diff:62,per_gop:.4893795886341983,per_dem:.48764221263240487,per_point_diff:.0017373760017934115},{state_name:"Minnesota",county_fips:27133,county_name:"Rock County",votes_gop:3583,votes_dem:1556,total_votes:5240,diff:2027,per_gop:.6837786259541985,per_dem:.2969465648854962,per_point_diff:.38683206106870227},{state_name:"Minnesota",county_fips:27135,county_name:"Roseau County",votes_gop:6065,votes_dem:2188,total_votes:8421,diff:3877,per_gop:.7202232513953212,per_dem:.2598266239163995,per_point_diff:.4603966274789217},{state_name:"Minnesota",county_fips:27137,county_name:"St. Louis County",votes_gop:49017,votes_dem:67704,total_votes:119531,diff:-18687,per_gop:.41007772042399043,per_dem:.5664137336757828,per_point_diff:-.15633601325179242},{state_name:"Minnesota",county_fips:27139,county_name:"Scott County",votes_gop:45872,votes_dem:40040,total_votes:87965,diff:5832,per_gop:.521480134144262,per_dem:.45518103791280623,per_point_diff:.06629909623145575},{state_name:"Minnesota",county_fips:27141,county_name:"Sherburne County",votes_gop:36222,votes_dem:18065,total_votes:55612,diff:18157,per_gop:.6513342444076818,per_dem:.3248399625980004,per_point_diff:.32649428180968143},{state_name:"Minnesota",county_fips:27143,county_name:"Sibley County",votes_gop:5864,votes_dem:2417,total_votes:8452,diff:3447,per_gop:.69380028395646,per_dem:.2859678182678656,per_point_diff:.4078324656885944},{state_name:"Minnesota",county_fips:27145,county_name:"Stearns County",votes_gop:50959,votes_dem:31879,total_votes:84835,diff:19080,per_gop:.6006836800848706,per_dem:.37577650733777335,per_point_diff:.22490717274709726},{state_name:"Minnesota",county_fips:27147,county_name:"Steele County",votes_gop:12656,votes_dem:7917,total_votes:21128,diff:4739,per_gop:.5990155244225672,per_dem:.3747160166603559,per_point_diff:.2242995077622113},{state_name:"Minnesota",county_fips:27149,county_name:"Stevens County",votes_gop:3044,votes_dem:1922,total_votes:5085,diff:1122,per_gop:.5986234021632252,per_dem:.37797443461160274,per_point_diff:.22064896755162244},{state_name:"Minnesota",county_fips:27151,county_name:"Swift County",votes_gop:3316,votes_dem:1784,total_votes:5193,diff:1532,per_gop:.6385518967841325,per_dem:.34353937993452727,per_point_diff:.2950125168496052},{state_name:"Minnesota",county_fips:27153,county_name:"Todd County",votes_gop:9753,votes_dem:3286,total_votes:13257,diff:6467,per_gop:.7356868069699027,per_dem:.24786905031304216,per_point_diff:.48781775665686056},{state_name:"Minnesota",county_fips:27155,county_name:"Traverse County",votes_gop:1172,votes_dem:661,total_votes:1864,diff:511,per_gop:.628755364806867,per_dem:.3546137339055794,per_point_diff:.2741416309012876},{state_name:"Minnesota",county_fips:27157,county_name:"Wabasha County",votes_gop:8153,votes_dem:4696,total_votes:13123,diff:3457,per_gop:.6212756229520688,per_dem:.3578450049531357,per_point_diff:.26343061799893314},{state_name:"Minnesota",county_fips:27159,county_name:"Wadena County",votes_gop:5520,votes_dem:2023,total_votes:7677,diff:3497,per_gop:.719030871434154,per_dem:.2635143936433503,per_point_diff:.45551647779080373},{state_name:"Minnesota",county_fips:27161,county_name:"Waseca County",votes_gop:6624,votes_dem:3496,total_votes:10389,diff:3128,per_gop:.6375974588507075,per_dem:.3365097699489845,per_point_diff:.301087688901723},{state_name:"Minnesota",county_fips:27163,county_name:"Washington County",votes_gop:73764,votes_dem:89165,total_votes:166786,diff:-15401,per_gop:.4422673365870037,per_dem:.5346072212295996,per_point_diff:-.0923398846425959},{state_name:"Minnesota",county_fips:27165,county_name:"Watonwan County",votes_gop:3103,votes_dem:1987,total_votes:5201,diff:1116,per_gop:.5966160353778119,per_dem:.382041915016343,per_point_diff:.21457412036146895},{state_name:"Minnesota",county_fips:27167,county_name:"Wilkin County",votes_gop:2328,votes_dem:1026,total_votes:3430,diff:1302,per_gop:.6787172011661807,per_dem:.2991253644314869,per_point_diff:.3795918367346938},{state_name:"Minnesota",county_fips:27169,county_name:"Winona County",votes_gop:13227,votes_dem:13333,total_votes:27173,diff:-106,per_gop:.48676995547050383,per_dem:.4906708865417878,per_point_diff:-.003900931071283975},{state_name:"Minnesota",county_fips:27171,county_name:"Wright County",votes_gop:51973,votes_dem:28430,total_votes:82426,diff:23543,per_gop:.6305413340450828,per_dem:.3449154393031325,per_point_diff:.2856258947419503},{state_name:"Minnesota",county_fips:27173,county_name:"Yellow Medicine County",votes_gop:3734,votes_dem:1688,total_votes:5528,diff:2046,per_gop:.6754703328509407,per_dem:.3053545586107091,per_point_diff:.3701157742402316},{state_name:"Mississippi",county_fips:28001,county_name:"Adams County",votes_gop:5696,votes_dem:7917,total_votes:13759,diff:-2221,per_gop:.4139835743876735,per_dem:.5754051893306199,per_point_diff:-.16142161494294638},{state_name:"Mississippi",county_fips:28003,county_name:"Alcorn County",votes_gop:12818,votes_dem:2782,total_votes:15811,diff:10036,per_gop:.8107014104104737,per_dem:.17595345012965657,per_point_diff:.6347479602808171},{state_name:"Mississippi",county_fips:28005,county_name:"Amite County",votes_gop:4503,votes_dem:2620,total_votes:7207,diff:1883,per_gop:.6248092132648814,per_dem:.3635354516442348,per_point_diff:.2612737616206466},{state_name:"Mississippi",county_fips:28007,county_name:"Attala County",votes_gop:5178,votes_dem:3542,total_votes:8832,diff:1636,per_gop:.5862771739130435,per_dem:.4010416666666667,per_point_diff:.18523550724637677},{state_name:"Mississippi",county_fips:28009,county_name:"Benton County",votes_gop:2570,votes_dem:1679,total_votes:4292,diff:891,per_gop:.5987884436160298,per_dem:.39119291705498604,per_point_diff:.20759552656104374},{state_name:"Mississippi",county_fips:28011,county_name:"Bolivar County",votes_gop:4671,votes_dem:8904,total_votes:13755,diff:-4233,per_gop:.3395856052344602,per_dem:.6473282442748092,per_point_diff:-.307742639040349},{state_name:"Mississippi",county_fips:28013,county_name:"Calhoun County",votes_gop:4625,votes_dem:1902,total_votes:6595,diff:2723,per_gop:.7012888551933283,per_dem:.2884003032600455,per_point_diff:.4128885519332828},{state_name:"Mississippi",county_fips:28015,county_name:"Carroll County",votes_gop:3924,votes_dem:1729,total_votes:5705,diff:2195,per_gop:.6878177037686241,per_dem:.3030674846625767,per_point_diff:.38475021910604734},{state_name:"Mississippi",county_fips:28017,county_name:"Chickasaw County",votes_gop:4175,votes_dem:3810,total_votes:8148,diff:365,per_gop:.5123956799214531,per_dem:.46759941089838,per_point_diff:.0447962690230731},{state_name:"Mississippi",county_fips:28019,county_name:"Choctaw County",votes_gop:3001,votes_dem:1185,total_votes:4225,diff:1816,per_gop:.7102958579881656,per_dem:.2804733727810651,per_point_diff:.42982248520710054},{state_name:"Mississippi",county_fips:28021,county_name:"Claiborne County",votes_gop:603,votes_dem:3772,total_votes:4453,diff:-3169,per_gop:.13541432741971704,per_dem:.8470693914215136,per_point_diff:-.7116550640017966},{state_name:"Mississippi",county_fips:28023,county_name:"Clarke County",votes_gop:5417,votes_dem:2838,total_votes:8347,diff:2579,per_gop:.6489756798849886,per_dem:.34000239607044447,per_point_diff:.30897328381454414},{state_name:"Mississippi",county_fips:28025,county_name:"Clay County",votes_gop:4181,votes_dem:5844,total_votes:10206,diff:-1663,per_gop:.4096609837350578,per_dem:.5726043503821282,per_point_diff:-.16294336664707038},{state_name:"Mississippi",county_fips:28027,county_name:"Coahoma County",votes_gop:2375,votes_dem:6020,total_votes:8507,diff:-3645,per_gop:.279181850240978,per_dem:.7076525214529211,per_point_diff:-.4284706712119431},{state_name:"Mississippi",county_fips:28029,county_name:"Copiah County",votes_gop:6250,votes_dem:6470,total_votes:12897,diff:-220,per_gop:.484608823757463,per_dem:.5016670543537257,per_point_diff:-.017058230596262713},{state_name:"Mississippi",county_fips:28031,county_name:"Covington County",votes_gop:5854,votes_dem:3416,total_votes:9371,diff:2438,per_gop:.624693202433038,per_dem:.3645288656493437,per_point_diff:.2601643367836943},{state_name:"Mississippi",county_fips:28033,county_name:"DeSoto County",votes_gop:46462,votes_dem:28265,total_votes:76248,diff:18197,per_gop:.609353687965586,per_dem:.37069824782289373,per_point_diff:.23865544014269224},{state_name:"Mississippi",county_fips:28035,county_name:"Forrest County",votes_gop:17290,votes_dem:13755,total_votes:31725,diff:3535,per_gop:.5449960598896769,per_dem:.4335697399527187,per_point_diff:.11142631993695823},{state_name:"Mississippi",county_fips:28037,county_name:"Franklin County",votes_gop:2923,votes_dem:1480,total_votes:4464,diff:1443,per_gop:.6547939068100358,per_dem:.33154121863799285,per_point_diff:.32325268817204295},{state_name:"Mississippi",county_fips:28039,county_name:"George County",votes_gop:9713,votes_dem:1218,total_votes:11064,diff:8495,per_gop:.8778922631959508,per_dem:.11008676789587853,per_point_diff:.7678054953000722},{state_name:"Mississippi",county_fips:28041,county_name:"Greene County",votes_gop:4794,votes_dem:966,total_votes:5816,diff:3828,per_gop:.8242778541953233,per_dem:.16609353507565336,per_point_diff:.6581843191196699},{state_name:"Mississippi",county_fips:28043,county_name:"Grenada County",votes_gop:6081,votes_dem:4734,total_votes:10919,diff:1347,per_gop:.5569191317886253,per_dem:.4335561864639619,per_point_diff:.12336294532466341},{state_name:"Mississippi",county_fips:28045,county_name:"Hancock County",votes_gop:16132,votes_dem:4504,total_votes:20957,diff:11628,per_gop:.7697666650761082,per_dem:.21491625709786707,per_point_diff:.5548504079782411},{state_name:"Mississippi",county_fips:28047,county_name:"Harrison County",votes_gop:46822,votes_dem:27728,total_votes:75865,diff:19094,per_gop:.6171752455018783,per_dem:.36549133328939565,per_point_diff:.25168391221248265},{state_name:"Mississippi",county_fips:28049,county_name:"Hinds County",votes_gop:25141,votes_dem:73550,total_votes:100191,diff:-48409,per_gop:.2509307223203681,per_dem:.7340978730624507,per_point_diff:-.48316715074208255},{state_name:"Mississippi",county_fips:28051,county_name:"Holmes County",votes_gop:1369,votes_dem:6588,total_votes:8115,diff:-5219,per_gop:.1686999383857055,per_dem:.811829944547135,per_point_diff:-.6431300061614295},{state_name:"Mississippi",county_fips:28053,county_name:"Humphreys County",votes_gop:1118,votes_dem:3016,total_votes:4189,diff:-1898,per_gop:.26688947242778704,per_dem:.7199809023633326,per_point_diff:-.4530914299355455},{state_name:"Mississippi",county_fips:28055,county_name:"Issaquena County",votes_gop:308,votes_dem:355,total_votes:676,diff:-47,per_gop:.4556213017751479,per_dem:.5251479289940828,per_point_diff:-.06952662721893488},{state_name:"Mississippi",county_fips:28057,county_name:"Itawamba County",votes_gop:9438,votes_dem:1249,total_votes:10826,diff:8189,per_gop:.8717901348605209,per_dem:.1153704045815629,per_point_diff:.756419730278958},{state_name:"Mississippi",county_fips:28059,county_name:"Jackson County",votes_gop:36295,votes_dem:17375,total_votes:54623,diff:18920,per_gop:.6644636874576644,per_dem:.3180894494992952,per_point_diff:.3463742379583692},{state_name:"Mississippi",county_fips:28061,county_name:"Jasper County",votes_gop:4302,votes_dem:4341,total_votes:8742,diff:-39,per_gop:.4921070693205216,per_dem:.49656829100892247,per_point_diff:-.0044612216884008515},{state_name:"Mississippi",county_fips:28063,county_name:"Jefferson County",votes_gop:531,votes_dem:3327,total_votes:3911,diff:-2796,per_gop:.13577090258245972,per_dem:.8506775760675019,per_point_diff:-.7149066734850422},{state_name:"Mississippi",county_fips:28065,county_name:"Jefferson Davis County",votes_gop:2534,votes_dem:3599,total_votes:6213,diff:-1065,per_gop:.4078544986319009,per_dem:.5792692741026879,per_point_diff:-.17141477547078704},{state_name:"Mississippi",county_fips:28067,county_name:"Jones County",votes_gop:21226,votes_dem:8517,total_votes:30091,diff:12709,per_gop:.7053936392941411,per_dem:.283041440962414,per_point_diff:.4223521983317271},{state_name:"Mississippi",county_fips:28069,county_name:"Kemper County",votes_gop:1787,votes_dem:2887,total_votes:4732,diff:-1100,per_gop:.3776415891800507,per_dem:.6101014370245139,per_point_diff:-.23245984784446322},{state_name:"Mississippi",county_fips:28071,county_name:"Lafayette County",votes_gop:12949,votes_dem:10070,total_votes:23481,diff:2879,per_gop:.5514671436480558,per_dem:.4288573740471019,per_point_diff:.12260976960095393},{state_name:"Mississippi",county_fips:28073,county_name:"Lamar County",votes_gop:20704,votes_dem:7340,total_votes:28526,diff:13364,per_gop:.725794012479843,per_dem:.2573091215031901,per_point_diff:.4684848909766529},{state_name:"Mississippi",county_fips:28075,county_name:"Lauderdale County",votes_gop:17967,votes_dem:12960,total_votes:31266,diff:5007,per_gop:.5746497793129918,per_dem:.41450777202072536,per_point_diff:.1601420072922664},{state_name:"Mississippi",county_fips:28077,county_name:"Lawrence County",votes_gop:4285,votes_dem:2260,total_votes:6617,diff:2025,per_gop:.6475744294997733,per_dem:.3415445065739761,per_point_diff:.30602992292579717},{state_name:"Mississippi",county_fips:28079,county_name:"Leake County",votes_gop:5228,votes_dem:3897,total_votes:9204,diff:1331,per_gop:.5680139069969579,per_dem:.42340286831812257,per_point_diff:.1446110386788353},{state_name:"Mississippi",county_fips:28081,county_name:"Lee County",votes_gop:24207,votes_dem:12189,total_votes:37003,diff:12018,per_gop:.6541902007945302,per_dem:.32940572386022754,per_point_diff:.3247844769343026},{state_name:"Mississippi",county_fips:28083,county_name:"Leflore County",votes_gop:3129,votes_dem:7648,total_votes:10893,diff:-4519,per_gop:.28724869182043516,per_dem:.7021022675112457,per_point_diff:-.41485357569081055},{state_name:"Mississippi",county_fips:28085,county_name:"Lincoln County",votes_gop:11596,votes_dem:5040,total_votes:16818,diff:6556,per_gop:.689499345938875,per_dem:.29967891544773456,per_point_diff:.3898204304911404},{state_name:"Mississippi",county_fips:28087,county_name:"Lowndes County",votes_gop:13800,votes_dem:13087,total_votes:27273,diff:713,per_gop:.5059949400505995,per_dem:.4798518681479852,per_point_diff:.026143071902614334},{state_name:"Mississippi",county_fips:28089,county_name:"Madison County",votes_gop:31091,votes_dem:24440,total_votes:56335,diff:6651,per_gop:.5518949143516464,per_dem:.4338333185408716,per_point_diff:.1180615958107748},{state_name:"Mississippi",county_fips:28091,county_name:"Marion County",votes_gop:8273,votes_dem:3787,total_votes:12194,diff:4486,per_gop:.6784484172543874,per_dem:.3105625717566016,per_point_diff:.3678858454977858},{state_name:"Mississippi",county_fips:28093,county_name:"Marshall County",votes_gop:7566,votes_dem:8057,total_votes:15830,diff:-491,per_gop:.4779532533164877,per_dem:.5089703095388503,per_point_diff:-.03101705622236256},{state_name:"Mississippi",county_fips:28095,county_name:"Monroe County",votes_gop:11177,votes_dem:5874,total_votes:17279,diff:5303,per_gop:.646854563342786,per_dem:.3399502286011922,per_point_diff:.30690433474159384},{state_name:"Mississippi",county_fips:28097,county_name:"Montgomery County",votes_gop:2917,votes_dem:2121,total_votes:5078,diff:796,per_gop:.5744387554155179,per_dem:.417684127609295,per_point_diff:.1567546278062229},{state_name:"Mississippi",county_fips:28099,county_name:"Neshoba County",votes_gop:8320,votes_dem:3260,total_votes:11720,diff:5060,per_gop:.7098976109215017,per_dem:.2781569965870307,per_point_diff:.43174061433447103},{state_name:"Mississippi",county_fips:28101,county_name:"Newton County",votes_gop:6997,votes_dem:3075,total_votes:10189,diff:3922,per_gop:.6867209735989793,per_dem:.3017960545686525,per_point_diff:.38492491903032683},{state_name:"Mississippi",county_fips:28103,county_name:"Noxubee County",votes_gop:1240,votes_dem:4040,total_votes:5341,diff:-2800,per_gop:.23216626099981277,per_dem:.7564126568058416,per_point_diff:-.5242463958060288},{state_name:"Mississippi",county_fips:28105,county_name:"Oktibbeha County",votes_gop:9004,votes_dem:10299,total_votes:19812,diff:-1295,per_gop:.4544720371492025,per_dem:.5198364627498486,per_point_diff:-.06536442560064615},{state_name:"Mississippi",county_fips:28107,county_name:"Panola County",votes_gop:8060,votes_dem:7403,total_votes:15635,diff:657,per_gop:.5155100735529261,per_dem:.4734889670610809,per_point_diff:.042021106491845206},{state_name:"Mississippi",county_fips:28109,county_name:"Pearl River County",votes_gop:19595,votes_dem:4148,total_votes:24056,diff:15447,per_gop:.8145576987030263,per_dem:.17243099434652479,per_point_diff:.6421267043565015},{state_name:"Mississippi",county_fips:28111,county_name:"Perry County",votes_gop:4500,votes_dem:1362,total_votes:5922,diff:3138,per_gop:.7598784194528876,per_dem:.22998986828774062,per_point_diff:.529888551165147},{state_name:"Mississippi",county_fips:28113,county_name:"Pike County",votes_gop:8479,votes_dem:8646,total_votes:17360,diff:-167,per_gop:.4884216589861751,per_dem:.49804147465437787,per_point_diff:-.009619815668202747},{state_name:"Mississippi",county_fips:28115,county_name:"Pontotoc County",votes_gop:11550,votes_dem:2614,total_votes:14377,diff:8936,per_gop:.8033664881407804,per_dem:.18181818181818182,per_point_diff:.6215483063225986},{state_name:"Mississippi",county_fips:28117,county_name:"Prentiss County",votes_gop:8370,votes_dem:2153,total_votes:10661,diff:6217,per_gop:.7851045868117438,per_dem:.2019510364881343,per_point_diff:.5831535503236095},{state_name:"Mississippi",county_fips:28119,county_name:"Quitman County",votes_gop:1026,votes_dem:2150,total_votes:3229,diff:-1124,per_gop:.31774543202229794,per_dem:.6658408175905853,per_point_diff:-.3480953855682874},{state_name:"Mississippi",county_fips:28121,county_name:"Rankin County",votes_gop:50895,votes_dem:18847,total_votes:70655,diff:32048,per_gop:.7203311867525299,per_dem:.26674686858679497,per_point_diff:.45358431816573497},{state_name:"Mississippi",county_fips:28123,county_name:"Scott County",votes_gop:6285,votes_dem:4330,total_votes:10744,diff:1955,per_gop:.5849776619508563,per_dem:.4030156366344006,per_point_diff:.18196202531645572},{state_name:"Mississippi",county_fips:28125,county_name:"Sharkey County",votes_gop:688,votes_dem:1465,total_votes:2183,diff:-777,per_gop:.315162620247366,per_dem:.6710948236371965,per_point_diff:-.3559322033898305},{state_name:"Mississippi",county_fips:28127,county_name:"Simpson County",votes_gop:7635,votes_dem:4037,total_votes:11820,diff:3598,per_gop:.6459390862944162,per_dem:.3415397631133672,per_point_diff:.304399323181049},{state_name:"Mississippi",county_fips:28129,county_name:"Smith County",votes_gop:6458,votes_dem:1791,total_votes:8327,diff:4667,per_gop:.7755494175573436,per_dem:.21508346343220847,per_point_diff:.5604659541251351},{state_name:"Mississippi",county_fips:28131,county_name:"Stone County",votes_gop:5964,votes_dem:1802,total_votes:7878,diff:4162,per_gop:.7570449352627571,per_dem:.22873825844122875,per_point_diff:.5283066768215283},{state_name:"Mississippi",county_fips:28133,county_name:"Sunflower County",votes_gop:2799,votes_dem:6781,total_votes:9683,diff:-3982,per_gop:.2890633068263968,per_dem:.7002994939584839,per_point_diff:-.4112361871320871},{state_name:"Mississippi",county_fips:28135,county_name:"Tallahatchie County",votes_gop:2488,votes_dem:3105,total_votes:5691,diff:-617,per_gop:.4371815146722896,per_dem:.5455983131259884,per_point_diff:-.10841679845369878},{state_name:"Mississippi",county_fips:28137,county_name:"Tate County",votes_gop:8707,votes_dem:4183,total_votes:13101,diff:4524,per_gop:.6646057552858561,per_dem:.3192886039233646,per_point_diff:.34531715136249147},{state_name:"Mississippi",county_fips:28139,county_name:"Tippah County",votes_gop:8054,votes_dem:1937,total_votes:10102,diff:6117,per_gop:.7972678677489606,per_dem:.19174420906751138,per_point_diff:.6055236586814492},{state_name:"Mississippi",county_fips:28141,county_name:"Tishomingo County",votes_gop:7933,votes_dem:1059,total_votes:9147,diff:6874,per_gop:.8672788892533071,per_dem:.11577566415218105,per_point_diff:.751503225101126},{state_name:"Mississippi",county_fips:28143,county_name:"Tunica County",votes_gop:926,votes_dem:2580,total_votes:3565,diff:-1654,per_gop:.2597475455820477,per_dem:.7237026647966339,per_point_diff:-.4639551192145862},{state_name:"Mississippi",county_fips:28145,county_name:"Union County",votes_gop:10373,votes_dem:2160,total_votes:12683,diff:8213,per_gop:.8178664353859497,per_dem:.1703067097689821,per_point_diff:.6475597256169676},{state_name:"Mississippi",county_fips:28147,county_name:"Walthall County",votes_gop:4220,votes_dem:2835,total_votes:7122,diff:1385,per_gop:.5925301881493963,per_dem:.3980623420387532,per_point_diff:.1944678461106431},{state_name:"Mississippi",county_fips:28149,county_name:"Warren County",votes_gop:10365,votes_dem:10442,total_votes:21056,diff:-77,per_gop:.49225873860182373,per_dem:.49591565349544076,per_point_diff:-.003656914893617025},{state_name:"Mississippi",county_fips:28151,county_name:"Washington County",votes_gop:5300,votes_dem:12503,total_votes:18025,diff:-7203,per_gop:.29403606102635227,per_dem:.6936477115117892,per_point_diff:-.3996116504854369},{state_name:"Mississippi",county_fips:28153,county_name:"Wayne County",votes_gop:6307,votes_dem:3624,total_votes:10065,diff:2683,per_gop:.6266269249875808,per_dem:.3600596125186289,per_point_diff:.2665673124689519},{state_name:"Mississippi",county_fips:28155,county_name:"Webster County",votes_gop:4291,votes_dem:1043,total_votes:5402,diff:3248,per_gop:.7943354313217327,per_dem:.19307663828211774,per_point_diff:.6012587930396149},{state_name:"Mississippi",county_fips:28157,county_name:"Wilkinson County",votes_gop:1324,votes_dem:2749,total_votes:4130,diff:-1425,per_gop:.32058111380145277,per_dem:.6656174334140436,per_point_diff:-.3450363196125908},{state_name:"Mississippi",county_fips:28159,county_name:"Winston County",votes_gop:5112,votes_dem:4040,total_votes:9244,diff:1072,per_gop:.5530073561228905,per_dem:.4370402423193423,per_point_diff:.11596711380354824},{state_name:"Mississippi",county_fips:28161,county_name:"Yalobusha County",votes_gop:3671,votes_dem:2785,total_votes:6538,diff:886,per_gop:.561486693178342,per_dem:.42597124502906086,per_point_diff:.13551544814928113},{state_name:"Mississippi",county_fips:28163,county_name:"Yazoo County",votes_gop:4832,votes_dem:5496,total_votes:10441,diff:-664,per_gop:.4627909204099224,per_dem:.5263863614596304,per_point_diff:-.06359544104970793},{state_name:"Missouri",county_fips:29001,county_name:"Adair County",votes_gop:6413,votes_dem:3710,total_votes:10336,diff:2703,per_gop:.620452786377709,per_dem:.3589396284829721,per_point_diff:.26151315789473684},{state_name:"Missouri",county_fips:29003,county_name:"Andrew County",votes_gop:7255,votes_dem:2351,total_votes:9752,diff:4904,per_gop:.7439499589827727,per_dem:.24107875307629203,per_point_diff:.5028712059064807},{state_name:"Missouri",county_fips:29005,county_name:"Atchison County",votes_gop:2199,votes_dem:564,total_votes:2814,diff:1635,per_gop:.7814498933901919,per_dem:.20042643923240938,per_point_diff:.5810234541577826},{state_name:"Missouri",county_fips:29007,county_name:"Audrain County",votes_gop:7732,votes_dem:2704,total_votes:10656,diff:5028,per_gop:.7256006006006006,per_dem:.25375375375375375,per_point_diff:.47184684684684686},{state_name:"Missouri",county_fips:29009,county_name:"Barry County",votes_gop:12425,votes_dem:2948,total_votes:15598,diff:9477,per_gop:.7965764841646364,per_dem:.18899858956276447,per_point_diff:.607577894601872},{state_name:"Missouri",county_fips:29011,county_name:"Barton County",votes_gop:5168,votes_dem:844,total_votes:6077,diff:4324,per_gop:.850419614941583,per_dem:.13888431792002634,per_point_diff:.7115352970215567},{state_name:"Missouri",county_fips:29013,county_name:"Bates County",votes_gop:6597,votes_dem:1672,total_votes:8416,diff:4925,per_gop:.7838640684410646,per_dem:.19866920152091255,per_point_diff:.5851948669201521},{state_name:"Missouri",county_fips:29015,county_name:"Benton County",votes_gop:8109,votes_dem:2180,total_votes:10476,diff:5929,per_gop:.7740549828178694,per_dem:.2080946926307751,per_point_diff:.5659602901870944},{state_name:"Missouri",county_fips:29017,county_name:"Bollinger County",votes_gop:5167,votes_dem:750,total_votes:5983,diff:4417,per_gop:.863613571786729,per_dem:.12535517299013874,per_point_diff:.7382583987965903},{state_name:"Missouri",county_fips:29019,county_name:"Boone County",votes_gop:38646,votes_dem:50064,total_votes:91168,diff:-11418,per_gop:.4238987363987364,per_dem:.5491400491400491,per_point_diff:-.12524131274131273},{state_name:"Missouri",county_fips:29021,county_name:"Buchanan County",votes_gop:22450,votes_dem:13445,total_votes:36598,diff:9005,per_gop:.6134214984425378,per_dem:.3673698016285043,per_point_diff:.2460516968140335},{state_name:"Missouri",county_fips:29023,county_name:"Butler County",votes_gop:14602,votes_dem:3301,total_votes:18141,diff:11301,per_gop:.8049170387519983,per_dem:.18196350807562978,per_point_diff:.6229535306763685},{state_name:"Missouri",county_fips:29025,county_name:"Caldwell County",votes_gop:3725,votes_dem:897,total_votes:4682,diff:2828,per_gop:.7956001708671507,per_dem:.19158479282357968,per_point_diff:.6040153780435711},{state_name:"Missouri",county_fips:29027,county_name:"Callaway County",votes_gop:14815,votes_dem:5870,total_votes:21144,diff:8945,per_gop:.7006715853197124,per_dem:.27762012864169505,per_point_diff:.42305145667801736},{state_name:"Missouri",county_fips:29029,county_name:"Camden County",votes_gop:18850,votes_dem:5652,total_votes:24812,diff:13198,per_gop:.7597130420764147,per_dem:.22779300338545866,per_point_diff:.5319200386909559},{state_name:"Missouri",county_fips:29031,county_name:"Cape Girardeau County",votes_gop:28907,votes_dem:10760,total_votes:40328,diff:18147,per_gop:.716797262447927,per_dem:.26681214044832374,per_point_diff:.4499851219996032},{state_name:"Missouri",county_fips:29033,county_name:"Carroll County",votes_gop:3706,votes_dem:786,total_votes:4532,diff:2920,per_gop:.8177405119152692,per_dem:.1734333627537511,per_point_diff:.6443071491615181},{state_name:"Missouri",county_fips:29035,county_name:"Carter County",votes_gop:2451,votes_dem:418,total_votes:2897,diff:2033,per_gop:.8460476354849845,per_dem:.144287193648602,per_point_diff:.7017604418363825},{state_name:"Missouri",county_fips:29037,county_name:"Cass County",votes_gop:37197,votes_dem:19052,total_votes:57408,diff:18145,per_gop:.6479410535117057,per_dem:.3318701226309922,per_point_diff:.31607093088071353},{state_name:"Missouri",county_fips:29039,county_name:"Cedar County",votes_gop:5788,votes_dem:1145,total_votes:7044,diff:4643,per_gop:.8216922203293583,per_dem:.16254968767745598,per_point_diff:.6591425326519023},{state_name:"Missouri",county_fips:29041,county_name:"Chariton County",votes_gop:3111,votes_dem:916,total_votes:4077,diff:2195,per_gop:.7630610743193524,per_dem:.2246750061319598,per_point_diff:.5383860681873927},{state_name:"Missouri",county_fips:29043,county_name:"Christian County",votes_gop:34920,votes_dem:11131,total_votes:46839,diff:23789,per_gop:.745532569013002,per_dem:.23764384380537587,per_point_diff:.5078887252076262},{state_name:"Missouri",county_fips:29045,county_name:"Clark County",votes_gop:2672,votes_dem:678,total_votes:3394,diff:1994,per_gop:.7872716558632882,per_dem:.19976428992339423,per_point_diff:.5875073659398939},{state_name:"Missouri",county_fips:29047,county_name:"Clay County",votes_gop:64605,votes_dem:59400,total_votes:126569,diff:5205,per_gop:.5104330444263603,per_dem:.46930923053828344,per_point_diff:.04112381388807684},{state_name:"Missouri",county_fips:29049,county_name:"Clinton County",votes_gop:7799,votes_dem:2896,total_votes:10888,diff:4903,per_gop:.7162931667891257,per_dem:.2659808963997061,per_point_diff:.45031227038941957},{state_name:"Missouri",county_fips:29051,county_name:"Cole County",votes_gop:26086,votes_dem:12694,total_votes:39529,diff:13392,per_gop:.6599205646487389,per_dem:.3211313213084065,per_point_diff:.33878924334033245},{state_name:"Missouri",county_fips:29053,county_name:"Cooper County",votes_gop:6272,votes_dem:2249,total_votes:8693,diff:4023,per_gop:.7215000575175429,per_dem:.25871390774186126,per_point_diff:.4627861497756816},{state_name:"Missouri",county_fips:29055,county_name:"Crawford County",votes_gop:8725,votes_dem:2113,total_votes:10973,diff:6612,per_gop:.7951335095233756,per_dem:.19256356511437164,per_point_diff:.6025699444090039},{state_name:"Missouri",county_fips:29057,county_name:"Dade County",votes_gop:3414,votes_dem:656,total_votes:4119,diff:2758,per_gop:.8288419519300801,per_dem:.15926195678562757,per_point_diff:.6695799951444525},{state_name:"Missouri",county_fips:29059,county_name:"Dallas County",votes_gop:6619,votes_dem:1380,total_votes:8104,diff:5239,per_gop:.8167571569595261,per_dem:.1702862783810464,per_point_diff:.6464708785784797},{state_name:"Missouri",county_fips:29061,county_name:"Daviess County",votes_gop:3102,votes_dem:746,total_votes:3911,diff:2356,per_gop:.793147532600358,per_dem:.19074405522884172,per_point_diff:.6024034773715162},{state_name:"Missouri",county_fips:29063,county_name:"DeKalb County",votes_gop:3828,votes_dem:930,total_votes:4843,diff:2898,per_gop:.7904191616766467,per_dem:.19202973363617593,per_point_diff:.5983894280404708},{state_name:"Missouri",county_fips:29065,county_name:"Dent County",votes_gop:5987,votes_dem:1056,total_votes:7142,diff:4931,per_gop:.8382805936712405,per_dem:.1478577429291515,per_point_diff:.6904228507420891},{state_name:"Missouri",county_fips:29067,county_name:"Douglas County",votes_gop:5898,votes_dem:1016,total_votes:7e3,diff:4882,per_gop:.8425714285714285,per_dem:.14514285714285713,per_point_diff:.6974285714285714},{state_name:"Missouri",county_fips:29069,county_name:"Dunklin County",votes_gop:8135,votes_dem:2200,total_votes:10419,diff:5935,per_gop:.7807851041366733,per_dem:.21115270179479798,per_point_diff:.5696324023418754},{state_name:"Missouri",county_fips:29071,county_name:"Franklin County",votes_gop:38058,votes_dem:14569,total_votes:53685,diff:23489,per_gop:.7089131042190556,per_dem:.2713793424606501,per_point_diff:.4375337617584055},{state_name:"Missouri",county_fips:29073,county_name:"Gasconade County",votes_gop:6222,votes_dem:1601,total_votes:7923,diff:4621,per_gop:.7853085952290799,per_dem:.20206992300896126,per_point_diff:.5832386722201186},{state_name:"Missouri",county_fips:29075,county_name:"Gentry County",votes_gop:2581,votes_dem:613,total_votes:3237,diff:1968,per_gop:.797343219029966,per_dem:.18937287611986406,per_point_diff:.6079703429101019},{state_name:"Missouri",county_fips:29077,county_name:"Greene County",votes_gop:83630,votes_dem:55068,total_votes:141800,diff:28562,per_gop:.5897743300423132,per_dem:.38834978843441464,per_point_diff:.20142454160789852},{state_name:"Missouri",county_fips:29079,county_name:"Grundy County",votes_gop:3585,votes_dem:799,total_votes:4437,diff:2786,per_gop:.8079783637592968,per_dem:.18007662835249041,per_point_diff:.6279017354068064},{state_name:"Missouri",county_fips:29081,county_name:"Harrison County",votes_gop:3198,votes_dem:597,total_votes:3826,diff:2601,per_gop:.8358599059069525,per_dem:.1560376372190277,per_point_diff:.6798222686879247},{state_name:"Missouri",county_fips:29083,county_name:"Henry County",votes_gop:8027,votes_dem:2619,total_votes:10788,diff:5408,per_gop:.7440674823878384,per_dem:.24276974416017796,per_point_diff:.5012977382276604},{state_name:"Missouri",county_fips:29085,county_name:"Hickory County",votes_gop:3966,votes_dem:1056,total_votes:5080,diff:2910,per_gop:.7807086614173229,per_dem:.2078740157480315,per_point_diff:.5728346456692914},{state_name:"Missouri",county_fips:29087,county_name:"Holt County",votes_gop:1976,votes_dem:338,total_votes:2343,diff:1638,per_gop:.8433632095603927,per_dem:.14425949637217242,per_point_diff:.6991037131882203},{state_name:"Missouri",county_fips:29089,county_name:"Howard County",votes_gop:3553,votes_dem:1413,total_votes:5092,diff:2140,per_gop:.6977611940298507,per_dem:.2774941084053417,per_point_diff:.420267085624509},{state_name:"Missouri",county_fips:29091,county_name:"Howell County",votes_gop:15181,votes_dem:3218,total_votes:18650,diff:11963,per_gop:.8139946380697051,per_dem:.17254691689008042,per_point_diff:.6414477211796247},{state_name:"Missouri",county_fips:29093,county_name:"Iron County",votes_gop:3596,votes_dem:945,total_votes:4592,diff:2651,per_gop:.7831010452961672,per_dem:.20579268292682926,per_point_diff:.5773083623693379},{state_name:"Missouri",county_fips:29095,county_name:"Jackson County",votes_gop:126535,votes_dem:199842,total_votes:333063,diff:-73307,per_gop:.37991310953183033,per_dem:.600012610226894,per_point_diff:-.22009950069506368},{state_name:"Missouri",county_fips:29097,county_name:"Jasper County",votes_gop:37728,votes_dem:13549,total_votes:52352,diff:24179,per_gop:.7206601466992665,per_dem:.25880577628361856,per_point_diff:.4618543704156479},{state_name:"Missouri",county_fips:29099,county_name:"Jefferson County",votes_gop:77046,votes_dem:37523,total_votes:116688,diff:39523,per_gop:.6602735499794323,per_dem:.32156691347867816,per_point_diff:.33870663650075417},{state_name:"Missouri",county_fips:29101,county_name:"Johnson County",votes_gop:15489,votes_dem:6974,total_votes:23123,diff:8515,per_gop:.6698525277861869,per_dem:.30160446308869954,per_point_diff:.36824806469748733},{state_name:"Missouri",county_fips:29103,county_name:"Knox County",votes_gop:1486,votes_dem:340,total_votes:1854,diff:1146,per_gop:.8015102481121898,per_dem:.18338727076591155,per_point_diff:.6181229773462783},{state_name:"Missouri",county_fips:29105,county_name:"Laclede County",votes_gop:13762,votes_dem:2780,total_votes:16793,diff:10982,per_gop:.8195081283868278,per_dem:.16554516762936938,per_point_diff:.6539629607574584},{state_name:"Missouri",county_fips:29107,county_name:"Lafayette County",votes_gop:12273,votes_dem:4472,total_votes:17055,diff:7801,per_gop:.719613016710642,per_dem:.26221049545587805,per_point_diff:.457402521254764},{state_name:"Missouri",county_fips:29109,county_name:"Lawrence County",votes_gop:14426,votes_dem:3214,total_votes:17905,diff:11212,per_gop:.8056967327562133,per_dem:.1795029321418598,per_point_diff:.6261938006143535},{state_name:"Missouri",county_fips:29111,county_name:"Lewis County",votes_gop:3553,votes_dem:984,total_votes:4609,diff:2569,per_gop:.7708830548926014,per_dem:.2134953352137123,per_point_diff:.5573877196788891},{state_name:"Missouri",county_fips:29113,county_name:"Lincoln County",votes_gop:21848,votes_dem:6607,total_votes:29018,diff:15241,per_gop:.7529119856640706,per_dem:.2276862636983941,per_point_diff:.5252257219656765},{state_name:"Missouri",county_fips:29115,county_name:"Linn County",votes_gop:4363,votes_dem:1275,total_votes:5726,diff:3088,per_gop:.7619629758994062,per_dem:.22266852951449528,per_point_diff:.539294446384911},{state_name:"Missouri",county_fips:29117,county_name:"Livingston County",votes_gop:5267,votes_dem:1410,total_votes:6758,diff:3857,per_gop:.7793725954424386,per_dem:.20864160994377035,per_point_diff:.5707309854986683},{state_name:"Missouri",county_fips:29119,county_name:"McDonald County",votes_gop:7465,votes_dem:1439,total_votes:9053,diff:6026,per_gop:.8245885341875622,per_dem:.15895283331492324,per_point_diff:.6656357008726389},{state_name:"Missouri",county_fips:29121,county_name:"Macon County",votes_gop:6076,votes_dem:1662,total_votes:7836,diff:4414,per_gop:.7753956100051046,per_dem:.2120980091883614,per_point_diff:.5632976008167432},{state_name:"Missouri",county_fips:29123,county_name:"Madison County",votes_gop:4584,votes_dem:1019,total_votes:5676,diff:3565,per_gop:.8076109936575053,per_dem:.17952783650458068,per_point_diff:.6280831571529246},{state_name:"Missouri",county_fips:29125,county_name:"Maries County",votes_gop:3892,votes_dem:814,total_votes:4771,diff:3078,per_gop:.8157618947809684,per_dem:.17061412701739678,per_point_diff:.6451477677635716},{state_name:"Missouri",county_fips:29127,county_name:"Marion County",votes_gop:9915,votes_dem:3202,total_votes:13348,diff:6713,per_gop:.7428079112975726,per_dem:.23988612526221156,per_point_diff:.5029217860353611},{state_name:"Missouri",county_fips:29129,county_name:"Mercer County",votes_gop:1541,votes_dem:222,total_votes:1779,diff:1319,per_gop:.8662169758291175,per_dem:.12478920741989882,per_point_diff:.7414277684092186},{state_name:"Missouri",county_fips:29131,county_name:"Miller County",votes_gop:10176,votes_dem:2038,total_votes:12382,diff:8138,per_gop:.821838152156356,per_dem:.16459376514294943,per_point_diff:.6572443870134066},{state_name:"Missouri",county_fips:29133,county_name:"Mississippi County",votes_gop:3537,votes_dem:1178,total_votes:4756,diff:2359,per_gop:.7436921783010934,per_dem:.24768713204373424,per_point_diff:.4960050462573591},{state_name:"Missouri",county_fips:29135,county_name:"Moniteau County",votes_gop:5744,votes_dem:1308,total_votes:7157,diff:4436,per_gop:.802570909598994,per_dem:.1827581388850077,per_point_diff:.6198127707139863},{state_name:"Missouri",county_fips:29137,county_name:"Monroe County",votes_gop:3477,votes_dem:936,total_votes:4483,diff:2541,per_gop:.775596698639304,per_dem:.20878875752844078,per_point_diff:.5668079411108633},{state_name:"Missouri",county_fips:29139,county_name:"Montgomery County",votes_gop:4465,votes_dem:1208,total_votes:5772,diff:3257,per_gop:.7735620235620235,per_dem:.20928620928620928,per_point_diff:.5642758142758142},{state_name:"Missouri",county_fips:29141,county_name:"Morgan County",votes_gop:7442,votes_dem:1924,total_votes:9487,diff:5518,per_gop:.784441867819121,per_dem:.2028038368293454,per_point_diff:.5816380309897755},{state_name:"Missouri",county_fips:29143,county_name:"New Madrid County",votes_gop:5447,votes_dem:1748,total_votes:7250,diff:3699,per_gop:.7513103448275862,per_dem:.24110344827586208,per_point_diff:.5102068965517241},{state_name:"Missouri",county_fips:29145,county_name:"Newton County",votes_gop:22120,votes_dem:5818,total_votes:28405,diff:16302,per_gop:.7787361380038725,per_dem:.20482309452561168,per_point_diff:.5739130434782609},{state_name:"Missouri",county_fips:29147,county_name:"Nodaway County",votes_gop:6865,votes_dem:2853,total_votes:9893,diff:4012,per_gop:.6939249974729607,per_dem:.2883857272819165,per_point_diff:.40553927019104413},{state_name:"Missouri",county_fips:29149,county_name:"Oregon County",votes_gop:3847,votes_dem:823,total_votes:4739,diff:3024,per_gop:.8117746359991559,per_dem:.17366533023844694,per_point_diff:.638109305760709},{state_name:"Missouri",county_fips:29151,county_name:"Osage County",votes_gop:6425,votes_dem:1037,total_votes:7539,diff:5388,per_gop:.8522350444356015,per_dem:.1375513993898395,per_point_diff:.714683645045762},{state_name:"Missouri",county_fips:29153,county_name:"Ozark County",votes_gop:4064,votes_dem:752,total_votes:4864,diff:3312,per_gop:.8355263157894737,per_dem:.15460526315789475,per_point_diff:.680921052631579},{state_name:"Missouri",county_fips:29155,county_name:"Pemiscot County",votes_gop:4120,votes_dem:1560,total_votes:5735,diff:2560,per_gop:.7183958151700087,per_dem:.27201394943330426,per_point_diff:.44638186573670446},{state_name:"Missouri",county_fips:29157,county_name:"Perry County",votes_gop:7657,votes_dem:1664,total_votes:9447,diff:5993,per_gop:.8105218587911507,per_dem:.17614057372710915,per_point_diff:.6343812850640416},{state_name:"Missouri",county_fips:29159,county_name:"Pettis County",votes_gop:13854,votes_dem:4783,total_votes:19097,diff:9071,per_gop:.7254542598313871,per_dem:.2504581871498141,per_point_diff:.474996072681573},{state_name:"Missouri",county_fips:29161,county_name:"Phelps County",votes_gop:13480,votes_dem:5637,total_votes:19568,diff:7843,per_gop:.6888798037612428,per_dem:.28807236304170075,per_point_diff:.40080744071954205},{state_name:"Missouri",county_fips:29163,county_name:"Pike County",votes_gop:5863,votes_dem:1717,total_votes:7695,diff:4146,per_gop:.7619233268356075,per_dem:.22313190383365822,per_point_diff:.5387914230019493},{state_name:"Missouri",county_fips:29165,county_name:"Platte County",votes_gop:28917,votes_dem:27179,total_votes:57270,diff:1738,per_gop:.5049240440020953,per_dem:.4745765671381177,per_point_diff:.03034747686397765},{state_name:"Missouri",county_fips:29167,county_name:"Polk County",votes_gop:11850,votes_dem:2885,total_votes:15064,diff:8965,per_gop:.7866436537440255,per_dem:.19151619755708976,per_point_diff:.5951274561869357},{state_name:"Missouri",county_fips:29169,county_name:"Pulaski County",votes_gop:10329,votes_dem:3740,total_votes:14414,diff:6589,per_gop:.7165949771055918,per_dem:.2594699597613431,per_point_diff:.4571250173442487},{state_name:"Missouri",county_fips:29171,county_name:"Putnam County",votes_gop:1984,votes_dem:361,total_votes:2361,diff:1623,per_gop:.8403218975010589,per_dem:.15290131300296483,per_point_diff:.6874205844980941},{state_name:"Missouri",county_fips:29173,county_name:"Ralls County",votes_gop:4396,votes_dem:1205,total_votes:5662,diff:3191,per_gop:.7764040974920523,per_dem:.21282232426704345,per_point_diff:.5635817732250088},{state_name:"Missouri",county_fips:29175,county_name:"Randolph County",votes_gop:8018,votes_dem:2485,total_votes:10744,diff:5533,per_gop:.746276991809382,per_dem:.23129188384214444,per_point_diff:.5149851079672376},{state_name:"Missouri",county_fips:29177,county_name:"Ray County",votes_gop:8345,votes_dem:3109,total_votes:11649,diff:5236,per_gop:.7163705039059147,per_dem:.26688986179071167,per_point_diff:.44948064211520306},{state_name:"Missouri",county_fips:29179,county_name:"Reynolds County",votes_gop:2733,votes_dem:529,total_votes:3298,diff:2204,per_gop:.8286840509399637,per_dem:.16040024257125532,per_point_diff:.6682838083687084},{state_name:"Missouri",county_fips:29181,county_name:"Ripley County",votes_gop:4839,votes_dem:833,total_votes:5717,diff:4006,per_gop:.8464229490991779,per_dem:.1457057897498688,per_point_diff:.7007171593493091},{state_name:"Missouri",county_fips:29183,county_name:"St. Charles County",votes_gop:128389,votes_dem:89530,total_votes:222017,diff:38859,per_gop:.578284545778026,per_dem:.4032574082164879,per_point_diff:.1750271375615381},{state_name:"Missouri",county_fips:29185,county_name:"St. Clair County",votes_gop:3932,votes_dem:988,total_votes:4974,diff:2944,per_gop:.7905106554081223,per_dem:.19863289103337353,per_point_diff:.5918777643747487},{state_name:"Missouri",county_fips:29186,county_name:"Ste. Genevieve County",votes_gop:6630,votes_dem:2713,total_votes:9484,diff:3917,per_gop:.6990721214677351,per_dem:.2860607338675664,per_point_diff:.4130113876001687},{state_name:"Missouri",county_fips:29187,county_name:"St. Francois County",votes_gop:20511,votes_dem:7044,total_votes:28001,diff:13467,per_gop:.7325095532302418,per_dem:.2515624441984215,per_point_diff:.4809471090318203},{state_name:"Missouri",county_fips:29189,county_name:"St. Louis County",votes_gop:199493,votes_dem:328151,total_votes:536446,diff:-128658,per_gop:.37187899620837883,per_dem:.6117130149166925,per_point_diff:-.23983401870831367},{state_name:"Missouri",county_fips:29195,county_name:"Saline County",votes_gop:6451,votes_dem:2904,total_votes:9519,diff:3547,per_gop:.6776972371047378,per_dem:.30507406240151275,per_point_diff:.3726231747032251},{state_name:"Missouri",county_fips:29197,county_name:"Schuyler County",votes_gop:1606,votes_dem:373,total_votes:2003,diff:1233,per_gop:.8017973040439341,per_dem:.18622066899650525,per_point_diff:.6155766350474289},{state_name:"Missouri",county_fips:29199,county_name:"Scotland County",votes_gop:1560,votes_dem:388,total_votes:1984,diff:1172,per_gop:.7862903225806451,per_dem:.19556451612903225,per_point_diff:.5907258064516129},{state_name:"Missouri",county_fips:29201,county_name:"Scott County",votes_gop:13769,votes_dem:3753,total_votes:17719,diff:10016,per_gop:.7770754557254924,per_dem:.21180653535752583,per_point_diff:.5652689203679666},{state_name:"Missouri",county_fips:29203,county_name:"Shannon County",votes_gop:3165,votes_dem:706,total_votes:3906,diff:2459,per_gop:.8102918586789555,per_dem:.18074756784434204,per_point_diff:.6295442908346134},{state_name:"Missouri",county_fips:29205,county_name:"Shelby County",votes_gop:2700,votes_dem:592,total_votes:3350,diff:2108,per_gop:.8059701492537313,per_dem:.17671641791044776,per_point_diff:.6292537313432836},{state_name:"Missouri",county_fips:29207,county_name:"Stoddard County",votes_gop:11484,votes_dem:1819,total_votes:13426,diff:9665,per_gop:.8553552807984508,per_dem:.13548339043646657,per_point_diff:.7198718903619843},{state_name:"Missouri",county_fips:29209,county_name:"Stone County",votes_gop:14800,votes_dem:3506,total_votes:18483,diff:11294,per_gop:.8007358112860467,per_dem:.1896878212411405,per_point_diff:.6110479900449062},{state_name:"Missouri",county_fips:29211,county_name:"Sullivan County",votes_gop:1974,votes_dem:478,total_votes:2471,diff:1496,per_gop:.7988668555240793,per_dem:.19344394981788748,per_point_diff:.6054229057061918},{state_name:"Missouri",county_fips:29213,county_name:"Taney County",votes_gop:20508,votes_dem:5339,total_votes:26288,diff:15169,per_gop:.7801278149726111,per_dem:.20309646987218502,per_point_diff:.5770313451004261},{state_name:"Missouri",county_fips:29215,county_name:"Texas County",votes_gop:9478,votes_dem:1716,total_votes:11315,diff:7762,per_gop:.8376491383119753,per_dem:.1516570923552806,per_point_diff:.6859920459566947},{state_name:"Missouri",county_fips:29217,county_name:"Vernon County",votes_gop:7155,votes_dem:1903,total_votes:9185,diff:5252,per_gop:.778987479586282,per_dem:.20718562874251498,per_point_diff:.571801850843767},{state_name:"Missouri",county_fips:29219,county_name:"Warren County",votes_gop:13222,votes_dem:4769,total_votes:18375,diff:8453,per_gop:.7195646258503401,per_dem:.25953741496598637,per_point_diff:.4600272108843537},{state_name:"Missouri",county_fips:29221,county_name:"Washington County",votes_gop:8047,votes_dem:1804,total_votes:9976,diff:6243,per_gop:.806635926222935,per_dem:.18083400160384924,per_point_diff:.6258019246190858},{state_name:"Missouri",county_fips:29223,county_name:"Wayne County",votes_gop:4987,votes_dem:845,total_votes:5878,diff:4142,per_gop:.8484178291936033,per_dem:.14375637972099353,per_point_diff:.7046614494726098},{state_name:"Missouri",county_fips:29225,county_name:"Webster County",votes_gop:14880,votes_dem:3573,total_votes:18779,diff:11307,per_gop:.7923744608339102,per_dem:.19026572234943287,per_point_diff:.6021087384844773},{state_name:"Missouri",county_fips:29227,county_name:"Worth County",votes_gop:877,votes_dem:215,total_votes:1107,diff:662,per_gop:.7922312556458898,per_dem:.1942186088527552,per_point_diff:.5980126467931346},{state_name:"Missouri",county_fips:29229,county_name:"Wright County",votes_gop:7453,votes_dem:1168,total_votes:8739,diff:6285,per_gop:.8528435747797231,per_dem:.1336537361254148,per_point_diff:.7191898386543083},{state_name:"Missouri",county_fips:29510,county_name:"St. Louis city",votes_gop:21474,votes_dem:110089,total_votes:133867,diff:-88615,per_gop:.16041294717891638,per_dem:.8223759402989534,per_point_diff:-.661962993120037},{state_name:"Montana",county_fips:30001,county_name:"Beaverhead County",votes_gop:3923,votes_dem:1608,total_votes:5661,diff:2315,per_gop:.6929871047518106,per_dem:.2840487546369899,per_point_diff:.40893835011482066},{state_name:"Montana",county_fips:30003,county_name:"Big Horn County",votes_gop:2207,votes_dem:2491,total_votes:4784,diff:-284,per_gop:.4613294314381271,per_dem:.5206939799331104,per_point_diff:-.059364548494983294},{state_name:"Montana",county_fips:30005,county_name:"Blaine County",votes_gop:1469,votes_dem:1589,total_votes:3117,diff:-120,per_gop:.4712864934231633,per_dem:.5097850497273019,per_point_diff:-.038498556304138565},{state_name:"Montana",county_fips:30007,county_name:"Broadwater County",votes_gop:3173,votes_dem:835,total_votes:4097,diff:2338,per_gop:.7744691237490847,per_dem:.20380766414449597,per_point_diff:.5706614596045887},{state_name:"Montana",county_fips:30009,county_name:"Carbon County",votes_gop:4468,votes_dem:2421,total_votes:7101,diff:2047,per_gop:.6292071539219828,per_dem:.3409378960709759,per_point_diff:.2882692578510069},{state_name:"Montana",county_fips:30011,county_name:"Carter County",votes_gop:775,votes_dem:74,total_votes:864,diff:701,per_gop:.8969907407407407,per_dem:.08564814814814815,per_point_diff:.8113425925925926},{state_name:"Montana",county_fips:30013,county_name:"Cascade County",votes_gop:23315,votes_dem:15456,total_votes:39885,diff:7859,per_gop:.5845555973423593,per_dem:.387514103046258,per_point_diff:.1970414942961013},{state_name:"Montana",county_fips:30015,county_name:"Chouteau County",votes_gop:1891,votes_dem:991,total_votes:2974,diff:900,per_gop:.6358439811701412,per_dem:.3332212508406187,per_point_diff:.30262273032952247},{state_name:"Montana",county_fips:30017,county_name:"Custer County",votes_gop:4205,votes_dem:1514,total_votes:5883,diff:2691,per_gop:.7147713751487337,per_dem:.25735169131395547,per_point_diff:.4574196838347782},{state_name:"Montana",county_fips:30019,county_name:"Daniels County",votes_gop:799,votes_dem:195,total_votes:1014,diff:604,per_gop:.7879684418145957,per_dem:.19230769230769232,per_point_diff:.5956607495069034},{state_name:"Montana",county_fips:30021,county_name:"Dawson County",votes_gop:3758,votes_dem:962,total_votes:4837,diff:2796,per_gop:.77692784783957,per_dem:.19888360554062434,per_point_diff:.5780442422989457},{state_name:"Montana",county_fips:30023,county_name:"Deer Lodge County",votes_gop:2186,votes_dem:2562,total_votes:4891,diff:-376,per_gop:.44694336536495605,per_dem:.5238192598650583,per_point_diff:-.07687589450010224},{state_name:"Montana",county_fips:30025,county_name:"Fallon County",votes_gop:1375,votes_dem:172,total_votes:1575,diff:1203,per_gop:.873015873015873,per_dem:.10920634920634921,per_point_diff:.7638095238095238},{state_name:"Montana",county_fips:30027,county_name:"Fergus County",votes_gop:4869,votes_dem:1496,total_votes:6531,diff:3373,per_gop:.7455213596692697,per_dem:.2290613994794059,per_point_diff:.5164599601898638},{state_name:"Montana",county_fips:30029,county_name:"Flathead County",votes_gop:38321,votes_dem:20274,total_votes:60258,diff:18047,per_gop:.6359487536924557,per_dem:.33645325102061135,per_point_diff:.2994955026718444},{state_name:"Montana",county_fips:30031,county_name:"Gallatin County",votes_gop:31696,votes_dem:37044,total_votes:71507,diff:-5348,per_gop:.44325730348077813,per_dem:.5180471841917574,per_point_diff:-.0747898807109793},{state_name:"Montana",county_fips:30033,county_name:"Garfield County",votes_gop:764,votes_dem:41,total_votes:813,diff:723,per_gop:.939729397293973,per_dem:.05043050430504305,per_point_diff:.88929889298893},{state_name:"Montana",county_fips:30035,county_name:"Glacier County",votes_gop:1884,votes_dem:3610,total_votes:5639,diff:-1726,per_gop:.3341017910977124,per_dem:.6401844298634509,per_point_diff:-.30608263876573855},{state_name:"Montana",county_fips:30037,county_name:"Golden Valley County",votes_gop:414,votes_dem:78,total_votes:503,diff:336,per_gop:.8230616302186878,per_dem:.1550695825049702,per_point_diff:.6679920477137177},{state_name:"Montana",county_fips:30039,county_name:"Granite County",votes_gop:1419,votes_dem:638,total_votes:2102,diff:781,per_gop:.6750713606089439,per_dem:.30352045670789723,per_point_diff:.37155090390104667},{state_name:"Montana",county_fips:30041,county_name:"Hill County",votes_gop:3957,votes_dem:2981,total_votes:7182,diff:976,per_gop:.5509607351712615,per_dem:.41506544138123086,per_point_diff:.13589529379003068},{state_name:"Montana",county_fips:30043,county_name:"Jefferson County",votes_gop:5345,votes_dem:2625,total_votes:8191,diff:2720,per_gop:.6525454767427664,per_dem:.32047369063606396,per_point_diff:.33207178610670246},{state_name:"Montana",county_fips:30045,county_name:"Judith Basin County",votes_gop:1040,votes_dem:275,total_votes:1344,diff:765,per_gop:.7738095238095238,per_dem:.20461309523809523,per_point_diff:.5691964285714286},{state_name:"Montana",county_fips:30047,county_name:"Lake County",votes_gop:9322,votes_dem:6916,total_votes:16626,diff:2406,per_gop:.5606880789125466,per_dem:.41597497894863467,per_point_diff:.1447130999639119},{state_name:"Montana",county_fips:30049,county_name:"Lewis and Clark County",votes_gop:21409,votes_dem:19743,total_votes:42485,diff:1666,per_gop:.5039190302459692,per_dem:.4647051900670825,per_point_diff:.03921384017888668},{state_name:"Montana",county_fips:30051,county_name:"Liberty County",votes_gop:821,votes_dem:249,total_votes:1083,diff:572,per_gop:.7580794090489381,per_dem:.2299168975069252,per_point_diff:.5281625115420129},{state_name:"Montana",county_fips:30053,county_name:"Lincoln County",votes_gop:8672,votes_dem:2835,total_votes:11747,diff:5837,per_gop:.7382310377117562,per_dem:.2413382140120882,per_point_diff:.49689282369966803},{state_name:"Montana",county_fips:30055,county_name:"McCone County",votes_gop:956,votes_dem:155,total_votes:1128,diff:801,per_gop:.8475177304964538,per_dem:.1374113475177305,per_point_diff:.7101063829787233},{state_name:"Montana",county_fips:30057,county_name:"Madison County",votes_gop:4191,votes_dem:1771,total_votes:6113,diff:2420,per_gop:.6855880909537052,per_dem:.2897104531326681,per_point_diff:.39587763782103713},{state_name:"Montana",county_fips:30059,county_name:"Meagher County",votes_gop:833,votes_dem:258,total_votes:1110,diff:575,per_gop:.7504504504504504,per_dem:.23243243243243245,per_point_diff:.5180180180180181},{state_name:"Montana",county_fips:30061,county_name:"Mineral County",votes_gop:1828,votes_dem:686,total_votes:2563,diff:1142,per_gop:.7132266874756145,per_dem:.26765509168942647,per_point_diff:.445571595786188},{state_name:"Montana",county_fips:30063,county_name:"Missoula County",votes_gop:26347,votes_dem:43357,total_votes:71986,diff:-17010,per_gop:.3660017225571639,per_dem:.6022976689911927,per_point_diff:-.23629594643402885},{state_name:"Montana",county_fips:30065,county_name:"Musselshell County",votes_gop:2423,votes_dem:413,total_votes:2881,diff:2010,per_gop:.8410274210343631,per_dem:.1433530024297119,per_point_diff:.6976744186046512},{state_name:"Montana",county_fips:30067,county_name:"Park County",votes_gop:6025,votes_dem:5280,total_votes:11618,diff:745,per_gop:.5185918402478912,per_dem:.45446720605956276,per_point_diff:.06412463418832842},{state_name:"Montana",county_fips:30069,county_name:"Petroleum County",votes_gop:298,votes_dem:39,total_votes:351,diff:259,per_gop:.8490028490028491,per_dem:.1111111111111111,per_point_diff:.737891737891738},{state_name:"Montana",county_fips:30071,county_name:"Phillips County",votes_gop:1936,votes_dem:416,total_votes:2386,diff:1520,per_gop:.8113998323554066,per_dem:.17435037720033528,per_point_diff:.6370494551550713},{state_name:"Montana",county_fips:30073,county_name:"Pondera County",votes_gop:2031,votes_dem:903,total_votes:2995,diff:1128,per_gop:.6781302170283806,per_dem:.30150250417362273,per_point_diff:.3766277128547579},{state_name:"Montana",county_fips:30075,county_name:"Powder River County",votes_gop:970,votes_dem:154,total_votes:1136,diff:816,per_gop:.8538732394366197,per_dem:.13556338028169015,per_point_diff:.7183098591549296},{state_name:"Montana",county_fips:30077,county_name:"Powell County",votes_gop:2355,votes_dem:752,total_votes:3195,diff:1603,per_gop:.7370892018779343,per_dem:.2353677621283255,per_point_diff:.5017214397496088},{state_name:"Montana",county_fips:30079,county_name:"Prairie County",votes_gop:603,votes_dem:126,total_votes:744,diff:477,per_gop:.8104838709677419,per_dem:.1693548387096774,per_point_diff:.6411290322580645},{state_name:"Montana",county_fips:30081,county_name:"Ravalli County",votes_gop:19114,votes_dem:8763,total_votes:28507,diff:10351,per_gop:.6705019819693409,per_dem:.307398182902445,per_point_diff:.3631037990668958},{state_name:"Montana",county_fips:30083,county_name:"Richland County",votes_gop:4800,votes_dem:875,total_votes:5798,diff:3925,per_gop:.8278716798896171,per_dem:.15091410831321145,per_point_diff:.6769575715764056},{state_name:"Montana",county_fips:30085,county_name:"Roosevelt County",votes_gop:1996,votes_dem:1910,total_votes:4028,diff:86,per_gop:.4955312810327706,per_dem:.4741807348560079,per_point_diff:.021350546176762686},{state_name:"Montana",county_fips:30087,county_name:"Rosebud County",votes_gop:2486,votes_dem:1199,total_votes:3784,diff:1287,per_gop:.6569767441860465,per_dem:.3168604651162791,per_point_diff:.3401162790697674},{state_name:"Montana",county_fips:30089,county_name:"Sanders County",votes_gop:5660,votes_dem:1820,total_votes:7652,diff:3840,per_gop:.7396759017250392,per_dem:.23784631468897022,per_point_diff:.501829587036069},{state_name:"Montana",county_fips:30091,county_name:"Sheridan County",votes_gop:1403,votes_dem:574,total_votes:2030,diff:829,per_gop:.6911330049261084,per_dem:.2827586206896552,per_point_diff:.4083743842364532},{state_name:"Montana",county_fips:30093,county_name:"Silver Bow County",votes_gop:7745,votes_dem:10392,total_votes:18827,diff:-2647,per_gop:.41137727731449514,per_dem:.5519732299357306,per_point_diff:-.14059595262123548},{state_name:"Montana",county_fips:30095,county_name:"Stillwater County",votes_gop:4462,votes_dem:1156,total_votes:5741,diff:3306,per_gop:.7772165128026476,per_dem:.20135864831910816,per_point_diff:.5758578644835395},{state_name:"Montana",county_fips:30097,county_name:"Sweet Grass County",votes_gop:1840,votes_dem:549,total_votes:2446,diff:1291,per_gop:.7522485690923958,per_dem:.22444807849550286,per_point_diff:.5278004905968929},{state_name:"Montana",county_fips:30099,county_name:"Teton County",votes_gop:2608,votes_dem:1007,total_votes:3695,diff:1601,per_gop:.7058186738836265,per_dem:.27253044654939107,per_point_diff:.43328822733423544},{state_name:"Montana",county_fips:30101,county_name:"Toole County",votes_gop:1596,votes_dem:467,total_votes:2123,diff:1129,per_gop:.7517663683466792,per_dem:.21997173810645312,per_point_diff:.5317946302402261},{state_name:"Montana",county_fips:30103,county_name:"Treasure County",votes_gop:373,votes_dem:78,total_votes:460,diff:295,per_gop:.8108695652173913,per_dem:.16956521739130434,per_point_diff:.6413043478260869},{state_name:"Montana",county_fips:30105,county_name:"Valley County",votes_gop:3135,votes_dem:1030,total_votes:4272,diff:2105,per_gop:.7338483146067416,per_dem:.24110486891385768,per_point_diff:.4927434456928839},{state_name:"Montana",county_fips:30107,county_name:"Wheatland County",votes_gop:823,votes_dem:225,total_votes:1068,diff:598,per_gop:.7705992509363296,per_dem:.21067415730337077,per_point_diff:.5599250936329588},{state_name:"Montana",county_fips:30109,county_name:"Wibaux County",votes_gop:516,votes_dem:77,total_votes:598,diff:439,per_gop:.862876254180602,per_dem:.12876254180602006,per_point_diff:.7341137123745819},{state_name:"Montana",county_fips:30111,county_name:"Yellowstone County",votes_gop:50772,votes_dem:30679,total_votes:83821,diff:20093,per_gop:.6057193304780425,per_dem:.3660061321148638,per_point_diff:.23971319836317867},{state_name:"Nebraska",county_fips:31001,county_name:"Adams County",votes_gop:10085,votes_dem:4213,total_votes:14653,diff:5872,per_gop:.6882549648536136,per_dem:.28751791442025526,per_point_diff:.40073705043335833},{state_name:"Nebraska",county_fips:31003,county_name:"Antelope County",votes_gop:3093,votes_dem:452,total_votes:3583,diff:2641,per_gop:.8632430923806865,per_dem:.12615126988557074,per_point_diff:.7370918224951157},{state_name:"Nebraska",county_fips:31005,county_name:"Arthur County",votes_gop:260,votes_dem:21,total_votes:285,diff:239,per_gop:.9122807017543859,per_dem:.07368421052631578,per_point_diff:.8385964912280701},{state_name:"Nebraska",county_fips:31007,county_name:"Banner County",votes_gop:362,votes_dem:43,total_votes:411,diff:319,per_gop:.8807785888077859,per_dem:.10462287104622871,per_point_diff:.7761557177615572},{state_name:"Nebraska",county_fips:31009,county_name:"Blaine County",votes_gop:280,votes_dem:35,total_votes:317,diff:245,per_gop:.8832807570977917,per_dem:.11041009463722397,per_point_diff:.7728706624605678},{state_name:"Nebraska",county_fips:31011,county_name:"Boone County",votes_gop:2653,votes_dem:499,total_votes:3226,diff:2154,per_gop:.8223806571605704,per_dem:.15468071915685058,per_point_diff:.6676999380037199},{state_name:"Nebraska",county_fips:31013,county_name:"Box Butte County",votes_gop:4002,votes_dem:1051,total_votes:5200,diff:2951,per_gop:.7696153846153846,per_dem:.2021153846153846,per_point_diff:.5675},{state_name:"Nebraska",county_fips:31015,county_name:"Boyd County",votes_gop:1010,votes_dem:135,total_votes:1155,diff:875,per_gop:.8744588744588745,per_dem:.11688311688311688,per_point_diff:.7575757575757576},{state_name:"Nebraska",county_fips:31017,county_name:"Brown County",votes_gop:1470,votes_dem:191,total_votes:1684,diff:1279,per_gop:.8729216152019003,per_dem:.11342042755344418,per_point_diff:.7595011876484561},{state_name:"Nebraska",county_fips:31019,county_name:"Buffalo County",votes_gop:16640,votes_dem:6350,total_votes:23711,diff:10290,per_gop:.7017839821180043,per_dem:.26780819029142594,per_point_diff:.43397579182657836},{state_name:"Nebraska",county_fips:31021,county_name:"Burt County",votes_gop:2580,votes_dem:1063,total_votes:3739,diff:1517,per_gop:.6900240706071142,per_dem:.28430061513773736,per_point_diff:.4057234554693769},{state_name:"Nebraska",county_fips:31023,county_name:"Butler County",votes_gop:3542,votes_dem:873,total_votes:4518,diff:2669,per_gop:.783975210270031,per_dem:.19322709163346613,per_point_diff:.5907481186365648},{state_name:"Nebraska",county_fips:31025,county_name:"Cass County",votes_gop:10121,votes_dem:4737,total_votes:15326,diff:5384,per_gop:.6603810518073862,per_dem:.30908260472399846,per_point_diff:.3512984470833877},{state_name:"Nebraska",county_fips:31027,county_name:"Cedar County",votes_gop:4174,votes_dem:725,total_votes:5015,diff:3449,per_gop:.8323030907278165,per_dem:.14456630109670987,per_point_diff:.6877367896311066},{state_name:"Nebraska",county_fips:31029,county_name:"Chase County",votes_gop:1740,votes_dem:226,total_votes:2e3,diff:1514,per_gop:.87,per_dem:.113,per_point_diff:.757},{state_name:"Nebraska",county_fips:31031,county_name:"Cherry County",votes_gop:2844,votes_dem:373,total_votes:3269,diff:2471,per_gop:.8699908228816152,per_dem:.11410217191801775,per_point_diff:.7558886509635975},{state_name:"Nebraska",county_fips:31033,county_name:"Cheyenne County",votes_gop:3813,votes_dem:855,total_votes:4776,diff:2958,per_gop:.7983668341708543,per_dem:.17902010050251257,per_point_diff:.6193467336683417},{state_name:"Nebraska",county_fips:31035,county_name:"Clay County",votes_gop:2848,votes_dem:632,total_votes:3570,diff:2216,per_gop:.7977591036414566,per_dem:.17703081232492998,per_point_diff:.6207282913165266},{state_name:"Nebraska",county_fips:31037,county_name:"Colfax County",votes_gop:2636,votes_dem:1025,total_votes:3726,diff:1611,per_gop:.7074610842726785,per_dem:.27509393451422437,per_point_diff:.43236714975845414},{state_name:"Nebraska",county_fips:31039,county_name:"Cuming County",votes_gop:3507,votes_dem:870,total_votes:4459,diff:2637,per_gop:.7864992150706437,per_dem:.19511101143754206,per_point_diff:.5913882036331016},{state_name:"Nebraska",county_fips:31041,county_name:"Custer County",votes_gop:5090,votes_dem:786,total_votes:6010,diff:4304,per_gop:.8469217970049917,per_dem:.1307820299500832,per_point_diff:.7161397670549086},{state_name:"Nebraska",county_fips:31043,county_name:"Dakota County",votes_gop:3926,votes_dem:2744,total_votes:6817,diff:1182,per_gop:.5759131582807686,per_dem:.40252310400469415,per_point_diff:.17339005427607446},{state_name:"Nebraska",county_fips:31045,county_name:"Dawes County",votes_gop:2931,votes_dem:1082,total_votes:4151,diff:1849,per_gop:.706094916887497,per_dem:.26066008190797396,per_point_diff:.4454348349795231},{state_name:"Nebraska",county_fips:31047,county_name:"Dawson County",votes_gop:6524,votes_dem:2497,total_votes:9191,diff:4027,per_gop:.7098248286367098,per_dem:.27167881623327167,per_point_diff:.43814601240343815},{state_name:"Nebraska",county_fips:31049,county_name:"Deuel County",votes_gop:871,votes_dem:141,total_votes:1034,diff:730,per_gop:.8423597678916828,per_dem:.13636363636363635,per_point_diff:.7059961315280464},{state_name:"Nebraska",county_fips:31051,county_name:"Dixon County",votes_gop:2335,votes_dem:651,total_votes:3094,diff:1684,per_gop:.7546864899806076,per_dem:.21040723981900453,per_point_diff:.5442792501616031},{state_name:"Nebraska",county_fips:31053,county_name:"Dodge County",votes_gop:10984,votes_dem:5544,total_votes:16938,diff:5440,per_gop:.6484827016176644,per_dem:.3273113708820404,per_point_diff:.32117133073562404},{state_name:"Nebraska",county_fips:31055,county_name:"Douglas County",votes_gop:119159,votes_dem:150350,total_votes:276540,diff:-31191,per_gop:.43089245678744487,per_dem:.5436826498879005,per_point_diff:-.11279019310045563},{state_name:"Nebraska",county_fips:31057,county_name:"Dundy County",votes_gop:883,votes_dem:105,total_votes:1003,diff:778,per_gop:.8803589232303091,per_dem:.10468594217347957,per_point_diff:.7756729810568295},{state_name:"Nebraska",county_fips:31059,county_name:"Fillmore County",votes_gop:2359,votes_dem:693,total_votes:3148,diff:1666,per_gop:.7493646759847522,per_dem:.22013977128335452,per_point_diff:.5292249047013977},{state_name:"Nebraska",county_fips:31061,county_name:"Franklin County",votes_gop:1437,votes_dem:276,total_votes:1728,diff:1161,per_gop:.8315972222222222,per_dem:.1597222222222222,per_point_diff:.671875},{state_name:"Nebraska",county_fips:31063,county_name:"Frontier County",votes_gop:1229,votes_dem:189,total_votes:1446,diff:1040,per_gop:.8499308437067773,per_dem:.13070539419087138,per_point_diff:.719225449515906},{state_name:"Nebraska",county_fips:31065,county_name:"Furnas County",votes_gop:2163,votes_dem:399,total_votes:2602,diff:1764,per_gop:.8312836279784781,per_dem:.1533435818601076,per_point_diff:.6779400461183704},{state_name:"Nebraska",county_fips:31067,county_name:"Gage County",votes_gop:7445,votes_dem:3385,total_votes:11119,diff:4060,per_gop:.6695746020325569,per_dem:.30443385196510475,per_point_diff:.36514075006745217},{state_name:"Nebraska",county_fips:31069,county_name:"Garden County",votes_gop:1016,votes_dem:161,total_votes:1200,diff:855,per_gop:.8466666666666667,per_dem:.13416666666666666,per_point_diff:.7125},{state_name:"Nebraska",county_fips:31071,county_name:"Garfield County",votes_gop:933,votes_dem:133,total_votes:1076,diff:800,per_gop:.8671003717472119,per_dem:.12360594795539033,per_point_diff:.7434944237918215},{state_name:"Nebraska",county_fips:31073,county_name:"Gosper County",votes_gop:893,votes_dem:215,total_votes:1121,diff:678,per_gop:.7966101694915254,per_dem:.19179304192685104,per_point_diff:.6048171275646743},{state_name:"Nebraska",county_fips:31075,county_name:"Grant County",votes_gop:375,votes_dem:20,total_votes:402,diff:355,per_gop:.9328358208955224,per_dem:.04975124378109453,per_point_diff:.8830845771144279},{state_name:"Nebraska",county_fips:31077,county_name:"Greeley County",votes_gop:1016,votes_dem:229,total_votes:1259,diff:787,per_gop:.806989674344718,per_dem:.181890389197776,per_point_diff:.625099285146942},{state_name:"Nebraska",county_fips:31079,county_name:"Hall County",votes_gop:16189,votes_dem:7681,total_votes:24450,diff:8508,per_gop:.6621267893660532,per_dem:.31415132924335376,per_point_diff:.3479754601226994},{state_name:"Nebraska",county_fips:31081,county_name:"Hamilton County",votes_gop:4309,votes_dem:1118,total_votes:5566,diff:3191,per_gop:.7741645706072584,per_dem:.20086237872799137,per_point_diff:.573302191879267},{state_name:"Nebraska",county_fips:31083,county_name:"Harlan County",votes_gop:1615,votes_dem:282,total_votes:1934,diff:1333,per_gop:.8350568769389866,per_dem:.14581178903826267,per_point_diff:.6892450879007239},{state_name:"Nebraska",county_fips:31085,county_name:"Hayes County",votes_gop:494,votes_dem:34,total_votes:536,diff:460,per_gop:.9216417910447762,per_dem:.06343283582089553,per_point_diff:.8582089552238806},{state_name:"Nebraska",county_fips:31087,county_name:"Hitchcock County",votes_gop:1264,votes_dem:175,total_votes:1470,diff:1089,per_gop:.8598639455782313,per_dem:.11904761904761904,per_point_diff:.7408163265306122},{state_name:"Nebraska",county_fips:31089,county_name:"Holt County",votes_gop:4769,votes_dem:686,total_votes:5550,diff:4083,per_gop:.8592792792792793,per_dem:.1236036036036036,per_point_diff:.7356756756756757},{state_name:"Nebraska",county_fips:31091,county_name:"Hooker County",votes_gop:376,votes_dem:59,total_votes:442,diff:317,per_gop:.8506787330316742,per_dem:.1334841628959276,per_point_diff:.7171945701357466},{state_name:"Nebraska",county_fips:31093,county_name:"Howard County",votes_gop:2786,votes_dem:648,total_votes:3511,diff:2138,per_gop:.7935061236115067,per_dem:.18456280262033609,per_point_diff:.6089433209911707},{state_name:"Nebraska",county_fips:31095,county_name:"Jefferson County",votes_gop:2616,votes_dem:1016,total_votes:3730,diff:1600,per_gop:.7013404825737265,per_dem:.27238605898123325,per_point_diff:.42895442359249325},{state_name:"Nebraska",county_fips:31097,county_name:"Johnson County",votes_gop:1518,votes_dem:647,total_votes:2233,diff:871,per_gop:.6798029556650246,per_dem:.2897447380206001,per_point_diff:.3900582176444245},{state_name:"Nebraska",county_fips:31099,county_name:"Kearney County",votes_gop:2822,votes_dem:701,total_votes:3617,diff:2121,per_gop:.7802045894387614,per_dem:.19380702239424938,per_point_diff:.586397567044512},{state_name:"Nebraska",county_fips:31101,county_name:"Keith County",votes_gop:3544,votes_dem:763,total_votes:4369,diff:2781,per_gop:.8111696040283818,per_dem:.17463950560769054,per_point_diff:.6365300984206912},{state_name:"Nebraska",county_fips:31103,county_name:"Keya Paha County",votes_gop:476,votes_dem:49,total_votes:530,diff:427,per_gop:.8981132075471698,per_dem:.09245283018867924,per_point_diff:.8056603773584906},{state_name:"Nebraska",county_fips:31105,county_name:"Kimball County",votes_gop:1563,votes_dem:268,total_votes:1877,diff:1295,per_gop:.8327117741076185,per_dem:.1427810335641982,per_point_diff:.6899307405434203},{state_name:"Nebraska",county_fips:31107,county_name:"Knox County",votes_gop:3721,votes_dem:905,total_votes:4708,diff:2816,per_gop:.79035683942226,per_dem:.19222599830076464,per_point_diff:.5981308411214954},{state_name:"Nebraska",county_fips:31109,county_name:"Lancaster County",votes_gop:70092,votes_dem:82293,total_votes:157215,diff:-12201,per_gop:.445835321057151,per_dem:.5234424196164488,per_point_diff:-.07760709855929776},{state_name:"Nebraska",county_fips:31111,county_name:"Lincoln County",votes_gop:13071,votes_dem:3692,total_votes:17163,diff:9379,per_gop:.7615801433315854,per_dem:.21511390782497233,per_point_diff:.5464662355066131},{state_name:"Nebraska",county_fips:31113,county_name:"Logan County",votes_gop:407,votes_dem:38,total_votes:450,diff:369,per_gop:.9044444444444445,per_dem:.08444444444444445,per_point_diff:.8200000000000001},{state_name:"Nebraska",county_fips:31115,county_name:"Loup County",votes_gop:370,votes_dem:75,total_votes:454,diff:295,per_gop:.8149779735682819,per_dem:.16519823788546256,per_point_diff:.6497797356828194},{state_name:"Nebraska",county_fips:31117,county_name:"McPherson County",votes_gop:275,votes_dem:17,total_votes:302,diff:258,per_gop:.9105960264900662,per_dem:.056291390728476824,per_point_diff:.8543046357615894},{state_name:"Nebraska",county_fips:31119,county_name:"Madison County",votes_gop:11940,votes_dem:3478,total_votes:15819,diff:8462,per_gop:.7547885454200645,per_dem:.21986219103609583,per_point_diff:.5349263543839686},{state_name:"Nebraska",county_fips:31121,county_name:"Merrick County",votes_gop:3419,votes_dem:743,total_votes:4282,diff:2676,per_gop:.7984586641756188,per_dem:.17351704810836058,per_point_diff:.6249416160672583},{state_name:"Nebraska",county_fips:31123,county_name:"Morrill County",votes_gop:2113,votes_dem:386,total_votes:2558,diff:1727,per_gop:.8260359655981235,per_dem:.15089913995308835,per_point_diff:.6751368256450352},{state_name:"Nebraska",county_fips:31125,county_name:"Nance County",votes_gop:1437,votes_dem:359,total_votes:1832,diff:1078,per_gop:.7843886462882096,per_dem:.19596069868995633,per_point_diff:.5884279475982532},{state_name:"Nebraska",county_fips:31127,county_name:"Nemaha County",votes_gop:2428,votes_dem:921,total_votes:3432,diff:1507,per_gop:.7074592074592074,per_dem:.26835664335664333,per_point_diff:.4391025641025641},{state_name:"Nebraska",county_fips:31129,county_name:"Nuckolls County",votes_gop:1857,votes_dem:409,total_votes:2305,diff:1448,per_gop:.8056399132321042,per_dem:.17744034707158352,per_point_diff:.6281995661605206},{state_name:"Nebraska",county_fips:31131,county_name:"Otoe County",votes_gop:5649,votes_dem:2490,total_votes:8355,diff:3159,per_gop:.6761220825852783,per_dem:.2980251346499102,per_point_diff:.3780969479353681},{state_name:"Nebraska",county_fips:31133,county_name:"Pawnee County",votes_gop:1071,votes_dem:322,total_votes:1429,diff:749,per_gop:.7494751574527642,per_dem:.22533240027991602,per_point_diff:.5241427571728481},{state_name:"Nebraska",county_fips:31135,county_name:"Perkins County",votes_gop:1321,votes_dem:199,total_votes:1545,diff:1122,per_gop:.8550161812297734,per_dem:.12880258899676375,per_point_diff:.7262135922330096},{state_name:"Nebraska",county_fips:31137,county_name:"Phelps County",votes_gop:4157,votes_dem:752,total_votes:5021,diff:3405,per_gop:.8279227245568612,per_dem:.14977096195976897,per_point_diff:.6781517625970923},{state_name:"Nebraska",county_fips:31139,county_name:"Pierce County",votes_gop:3462,votes_dem:480,total_votes:4012,diff:2982,per_gop:.8629112662013958,per_dem:.11964107676969092,per_point_diff:.7432701894317049},{state_name:"Nebraska",county_fips:31141,county_name:"Platte County",votes_gop:12186,votes_dem:3260,total_votes:15721,diff:8926,per_gop:.7751415304369951,per_dem:.20736594364226194,per_point_diff:.5677755867947332},{state_name:"Nebraska",county_fips:31143,county_name:"Polk County",votes_gop:2291,votes_dem:530,total_votes:2887,diff:1761,per_gop:.7935573259438864,per_dem:.1835815725666782,per_point_diff:.6099757533772082},{state_name:"Nebraska",county_fips:31145,county_name:"Red Willow County",votes_gop:4525,votes_dem:811,total_votes:5470,diff:3714,per_gop:.8272394881170019,per_dem:.1482632541133455,per_point_diff:.6789762340036564},{state_name:"Nebraska",county_fips:31147,county_name:"Richardson County",votes_gop:3073,votes_dem:996,total_votes:4134,diff:2077,per_gop:.743347847121432,per_dem:.2409288824383164,per_point_diff:.5024189646831156},{state_name:"Nebraska",county_fips:31149,county_name:"Rock County",votes_gop:744,votes_dem:84,total_votes:842,diff:660,per_gop:.8836104513064132,per_dem:.0997624703087886,per_point_diff:.7838479809976246},{state_name:"Nebraska",county_fips:31151,county_name:"Saline County",votes_gop:3631,votes_dem:1986,total_votes:5780,diff:1645,per_gop:.6282006920415225,per_dem:.343598615916955,per_point_diff:.2846020761245675},{state_name:"Nebraska",county_fips:31153,county_name:"Sarpy County",votes_gop:51979,votes_dem:41206,total_votes:96193,diff:10773,per_gop:.5403615647708253,per_dem:.4283679685632011,per_point_diff:.11199359620762422},{state_name:"Nebraska",county_fips:31155,county_name:"Saunders County",votes_gop:9108,votes_dem:3331,total_votes:12786,diff:5777,per_gop:.7123416236508682,per_dem:.26051931800406697,per_point_diff:.4518223056468012},{state_name:"Nebraska",county_fips:31157,county_name:"Scotts Bluff County",votes_gop:10952,votes_dem:4196,total_votes:15524,diff:6756,per_gop:.7054882762174697,per_dem:.270291162071631,per_point_diff:.43519711414583867},{state_name:"Nebraska",county_fips:31159,county_name:"Seward County",votes_gop:6490,votes_dem:2438,total_votes:9199,diff:4052,per_gop:.7055114686378954,per_dem:.2650288074790738,per_point_diff:.44048266115882156},{state_name:"Nebraska",county_fips:31161,county_name:"Sheridan County",votes_gop:2292,votes_dem:340,total_votes:2684,diff:1952,per_gop:.8539493293591655,per_dem:.12667660208643816,per_point_diff:.7272727272727273},{state_name:"Nebraska",county_fips:31163,county_name:"Sherman County",votes_gop:1322,votes_dem:343,total_votes:1700,diff:979,per_gop:.7776470588235294,per_dem:.20176470588235293,per_point_diff:.5758823529411764},{state_name:"Nebraska",county_fips:31165,county_name:"Sioux County",votes_gop:642,votes_dem:72,total_votes:731,diff:570,per_gop:.8782489740082079,per_dem:.09849521203830369,per_point_diff:.7797537619699042},{state_name:"Nebraska",county_fips:31167,county_name:"Stanton County",votes_gop:2561,votes_dem:532,total_votes:3165,diff:2029,per_gop:.8091627172195892,per_dem:.16808846761453397,per_point_diff:.6410742496050552},{state_name:"Nebraska",county_fips:31169,county_name:"Thayer County",votes_gop:2308,votes_dem:624,total_votes:2989,diff:1684,per_gop:.7721646035463365,per_dem:.20876547340247575,per_point_diff:.5633991301438608},{state_name:"Nebraska",county_fips:31171,county_name:"Thomas County",votes_gop:377,votes_dem:45,total_votes:427,diff:332,per_gop:.882903981264637,per_dem:.1053864168618267,per_point_diff:.7775175644028103},{state_name:"Nebraska",county_fips:31173,county_name:"Thurston County",votes_gop:1180,votes_dem:1122,total_votes:2379,diff:58,per_gop:.49600672551492225,per_dem:.47162673392181587,per_point_diff:.024379991593106387},{state_name:"Nebraska",county_fips:31175,county_name:"Valley County",votes_gop:1901,votes_dem:412,total_votes:2344,diff:1489,per_gop:.8110068259385665,per_dem:.1757679180887372,per_point_diff:.6352389078498293},{state_name:"Nebraska",county_fips:31177,county_name:"Washington County",votes_gop:8583,votes_dem:3554,total_votes:12467,diff:5029,per_gop:.6884575278735863,per_dem:.2850725916419347,per_point_diff:.40338493623165156},{state_name:"Nebraska",county_fips:31179,county_name:"Wayne County",votes_gop:3055,votes_dem:1022,total_votes:4218,diff:2033,per_gop:.7242769084874348,per_dem:.2422949265054528,per_point_diff:.48198198198198194},{state_name:"Nebraska",county_fips:31181,county_name:"Webster County",votes_gop:1511,votes_dem:335,total_votes:1876,diff:1176,per_gop:.8054371002132196,per_dem:.17857142857142858,per_point_diff:.626865671641791},{state_name:"Nebraska",county_fips:31183,county_name:"Wheeler County",votes_gop:438,votes_dem:59,total_votes:503,diff:379,per_gop:.8707753479125249,per_dem:.1172962226640159,per_point_diff:.7534791252485089},{state_name:"Nebraska",county_fips:31185,county_name:"York County",votes_gop:5337,votes_dem:1630,total_votes:7161,diff:3707,per_gop:.7452869710934227,per_dem:.22762184052506634,per_point_diff:.5176651305683564},{state_name:"Nevada",county_fips:32001,county_name:"Churchill County",votes_gop:9372,votes_dem:3051,total_votes:12890,diff:6321,per_gop:.7270752521334368,per_dem:.23669511249030256,per_point_diff:.49038013964313426},{state_name:"Nevada",county_fips:32003,county_name:"Clark County",votes_gop:430930,votes_dem:521852,total_votes:972510,diff:-90922,per_gop:.4431111248213386,per_dem:.5366032225889709,per_point_diff:-.09349209776763229},{state_name:"Nevada",county_fips:32005,county_name:"Douglas County",votes_gop:21630,votes_dem:11571,total_votes:34125,diff:10059,per_gop:.6338461538461538,per_dem:.33907692307692305,per_point_diff:.2947692307692308},{state_name:"Nevada",county_fips:32007,county_name:"Elko County",votes_gop:16741,votes_dem:4557,total_votes:21967,diff:12184,per_gop:.7620976919925343,per_dem:.2074475349387718,per_point_diff:.5546501570537625},{state_name:"Nevada",county_fips:32009,county_name:"Esmeralda County",votes_gop:400,votes_dem:74,total_votes:487,diff:326,per_gop:.8213552361396304,per_dem:.15195071868583163,per_point_diff:.6694045174537987},{state_name:"Nevada",county_fips:32011,county_name:"Eureka County",votes_gop:895,votes_dem:105,total_votes:1017,diff:790,per_gop:.880039331366765,per_dem:.10324483775811209,per_point_diff:.7767944936086529},{state_name:"Nevada",county_fips:32013,county_name:"Humboldt County",votes_gop:5877,votes_dem:1689,total_votes:7771,diff:4188,per_gop:.7562733238965385,per_dem:.21734654484622315,per_point_diff:.5389267790503153},{state_name:"Nevada",county_fips:32015,county_name:"Lander County",votes_gop:2198,votes_dem:496,total_votes:2765,diff:1702,per_gop:.7949367088607595,per_dem:.17938517179023508,per_point_diff:.6155515370705245},{state_name:"Nevada",county_fips:32017,county_name:"Lincoln County",votes_gop:2067,votes_dem:330,total_votes:2446,diff:1737,per_gop:.8450531479967294,per_dem:.1349141455437449,per_point_diff:.7101390024529844},{state_name:"Nevada",county_fips:32019,county_name:"Lyon County",votes_gop:20914,votes_dem:8473,total_votes:30238,diff:12441,per_gop:.6916462729016469,per_dem:.28021033137112245,per_point_diff:.4114359415305245},{state_name:"Nevada",county_fips:32021,county_name:"Mineral County",votes_gop:1423,votes_dem:829,total_votes:2335,diff:594,per_gop:.6094218415417559,per_dem:.3550321199143469,per_point_diff:.254389721627409},{state_name:"Nevada",county_fips:32023,county_name:"Nye County",votes_gop:17528,votes_dem:7288,total_votes:25378,diff:10240,per_gop:.6906769642997872,per_dem:.28717787059657973,per_point_diff:.40349909370320747},{state_name:"Nevada",county_fips:32027,county_name:"Pershing County",votes_gop:1731,votes_dem:547,total_votes:2320,diff:1184,per_gop:.7461206896551724,per_dem:.23577586206896553,per_point_diff:.5103448275862069},{state_name:"Nevada",county_fips:32029,county_name:"Storey County",votes_gop:1908,votes_dem:902,total_votes:2877,diff:1006,per_gop:.6631908237747653,per_dem:.313521028849496,per_point_diff:.34966979492526934},{state_name:"Nevada",county_fips:32031,county_name:"Washoe County",votes_gop:116760,votes_dem:128128,total_votes:252142,diff:-11368,per_gop:.4630723957135265,per_dem:.5081581013873135,per_point_diff:-.04508570567378706},{state_name:"Nevada",county_fips:32033,county_name:"White Pine County",votes_gop:3403,votes_dem:859,total_votes:4369,diff:2544,per_gop:.7788967727168689,per_dem:.1966124971389334,per_point_diff:.5822842755779355},{state_name:"Nevada",county_fips:32510,county_name:"Carson City",votes_gop:16113,votes_dem:12735,total_votes:29739,diff:3378,per_gop:.5418137798849995,per_dem:.4282255623928175,per_point_diff:.11358821749218195},{state_name:"New Hampshire",county_fips:33001,county_name:"Belknap County",votes_gop:20899,votes_dem:16894,total_votes:38453,diff:4005,per_gop:.5434946558135906,per_dem:.43934153382050817,per_point_diff:.10415312199308241},{state_name:"New Hampshire",county_fips:33003,county_name:"Carroll County",votes_gop:16150,votes_dem:16649,total_votes:33272,diff:-499,per_gop:.4853931233469584,per_dem:.500390718922818,per_point_diff:-.014997595575859557},{state_name:"New Hampshire",county_fips:33005,county_name:"Cheshire County",votes_gop:17892,votes_dem:25506,total_votes:44206,diff:-7614,per_gop:.4047414378138714,per_dem:.5769805003845632,per_point_diff:-.17223906257069177},{state_name:"New Hampshire",county_fips:33007,county_name:"Coos County",votes_gop:8617,votes_dem:7640,total_votes:16528,diff:977,per_gop:.5213576960309777,per_dem:.46224588576960307,per_point_diff:.05911181026137463},{state_name:"New Hampshire",county_fips:33009,county_name:"Grafton County",votes_gop:19905,votes_dem:33180,total_votes:53989,diff:-13275,per_gop:.3686862138583786,per_dem:.6145696345551872,per_point_diff:-.24588342069680863},{state_name:"New Hampshire",county_fips:33011,county_name:"Hillsborough County",votes_gop:104625,votes_dem:122344,total_votes:231040,diff:-17719,per_gop:.45284366343490307,per_dem:.5295360110803324,per_point_diff:-.07669234764542937},{state_name:"New Hampshire",county_fips:33013,county_name:"Merrimack County",votes_gop:39711,votes_dem:48533,total_votes:89887,diff:-8822,per_gop:.441788022739662,per_dem:.5399334720259882,per_point_diff:-.09814544928632618},{state_name:"New Hampshire",county_fips:33015,county_name:"Rockingham County",votes_gop:95858,votes_dem:100064,total_votes:198943,diff:-4206,per_gop:.48183650593386046,per_dem:.5029782399983915,per_point_diff:-.02114173406453107},{state_name:"New Hampshire",county_fips:33017,county_name:"Strafford County",votes_gop:30489,votes_dem:41721,total_votes:73729,diff:-11232,per_gop:.41352791981445564,per_dem:.565869603548129,per_point_diff:-.15234168373367335},{state_name:"New Hampshire",county_fips:33019,county_name:"Sullivan County",votes_gop:11508,votes_dem:12390,total_votes:24383,diff:-882,per_gop:.47196817454784074,per_dem:.5081409178526022,per_point_diff:-.036172743304761446},{state_name:"New Jersey",county_fips:34001,county_name:"Atlantic County",votes_gop:64438,votes_dem:73808,total_votes:140441,diff:-9370,per_gop:.45882612627366653,per_dem:.5255445347156457,per_point_diff:-.06671840844197913},{state_name:"New Jersey",county_fips:34003,county_name:"Bergen County",votes_gop:204417,votes_dem:285967,total_votes:497460,diff:-81550,per_gop:.4109214811241105,per_dem:.574854259638966,per_point_diff:-.1639327785148555},{state_name:"New Jersey",county_fips:34005,county_name:"Burlington County",votes_gop:103345,votes_dem:154595,total_votes:262650,diff:-51250,per_gop:.393470397867885,per_dem:.5885969921949362,per_point_diff:-.1951265943270512},{state_name:"New Jersey",county_fips:34007,county_name:"Camden County",votes_gop:86207,votes_dem:175065,total_votes:265599,diff:-88858,per_gop:.3245757702400988,per_dem:.6591327527588583,per_point_diff:-.3345569825187595},{state_name:"New Jersey",county_fips:34009,county_name:"Cape May County",votes_gop:33158,votes_dem:23941,total_votes:57933,diff:9217,per_gop:.5723508190495917,per_dem:.4132532408126629,per_point_diff:.15909757823692883},{state_name:"New Jersey",county_fips:34011,county_name:"Cumberland County",votes_gop:28952,votes_dem:32742,total_votes:62575,diff:-3790,per_gop:.4626767878545745,per_dem:.5232441070715141,per_point_diff:-.06056731921693964},{state_name:"New Jersey",county_fips:34013,county_name:"Essex County",votes_gop:75475,votes_dem:266820,total_votes:345311,diff:-191345,per_gop:.2185710851956642,per_dem:.7726947592170537,per_point_diff:-.5541236740213895},{state_name:"New Jersey",county_fips:34015,county_name:"Gloucester County",votes_gop:83340,votes_dem:86702,total_votes:173453,diff:-3362,per_gop:.48047597908367107,per_dem:.49985875136204044,per_point_diff:-.019382772278369376},{state_name:"New Jersey",county_fips:34017,county_name:"Hudson County",votes_gop:65698,votes_dem:181452,total_votes:250458,diff:-115754,per_gop:.26231144543196866,per_dem:.7244807512636849,per_point_diff:-.4621693058317163},{state_name:"New Jersey",county_fips:34019,county_name:"Hunterdon County",votes_gop:43153,votes_dem:39457,total_votes:84673,diff:3696,per_gop:.5096429794621662,per_dem:.46599270133336484,per_point_diff:.043650278128801345},{state_name:"New Jersey",county_fips:34021,county_name:"Mercer County",votes_gop:51641,votes_dem:122532,total_votes:177223,diff:-70891,per_gop:.2913899437431936,per_dem:.6914001004384307,per_point_diff:-.4000101566952371},{state_name:"New Jersey",county_fips:34023,county_name:"Middlesex County",votes_gop:143467,votes_dem:226250,total_votes:375692,diff:-82783,per_gop:.38187398187877303,per_dem:.6022220329418779,per_point_diff:-.2203480510631049},{state_name:"New Jersey",county_fips:34025,county_name:"Monmouth County",votes_gop:191808,votes_dem:181291,total_votes:378390,diff:10517,per_gop:.5069055736145247,per_dem:.47911149871825365,per_point_diff:.02779407489627106},{state_name:"New Jersey",county_fips:34027,county_name:"Morris County",votes_gop:141134,votes_dem:153881,total_votes:300917,diff:-12747,per_gop:.46901305011016325,per_dem:.5113735681267592,per_point_diff:-.042360518016595905},{state_name:"New Jersey",county_fips:34029,county_name:"Ocean County",votes_gop:217740,votes_dem:119456,total_votes:342746,diff:98284,per_gop:.6352809369037129,per_dem:.3485263139467711,per_point_diff:.2867546229569418},{state_name:"New Jersey",county_fips:34031,county_name:"Passaic County",votes_gop:92009,votes_dem:129097,total_votes:224330,diff:-37088,per_gop:.41015022511478627,per_dem:.5754780903133776,per_point_diff:-.16532786519859133},{state_name:"New Jersey",county_fips:34033,county_name:"Salem County",votes_gop:18827,votes_dem:14479,total_votes:34042,diff:4348,per_gop:.5530521120968216,per_dem:.4253275365724693,per_point_diff:.1277245755243523},{state_name:"New Jersey",county_fips:34035,county_name:"Somerset County",votes_gop:71996,votes_dem:111173,total_votes:186891,diff:-39177,per_gop:.38522989336030095,per_dem:.5948547549106163,per_point_diff:-.2096248615503154},{state_name:"New Jersey",county_fips:34037,county_name:"Sussex County",votes_gop:51698,votes_dem:34481,total_votes:88352,diff:17217,per_gop:.5851367258239768,per_dem:.3902684715682724,per_point_diff:.19486825425570442},{state_name:"New Jersey",county_fips:34039,county_name:"Union County",votes_gop:80002,votes_dem:170245,total_votes:254041,diff:-90243,per_gop:.3149176707696789,per_dem:.6701477320589984,per_point_diff:-.35523006128931944},{state_name:"New Jersey",county_fips:34041,county_name:"Warren County",votes_gop:34769,votes_dem:24901,total_votes:61057,diff:9868,per_gop:.5694514961429484,per_dem:.4078320258119462,per_point_diff:.1616194703310022},{state_name:"New Mexico",county_fips:35001,county_name:"Bernalillo County",votes_gop:116135,votes_dem:193757,total_votes:317590,diff:-77622,per_gop:.3656758714065304,per_dem:.6100853301426368,per_point_diff:-.24440945873610637},{state_name:"New Mexico",county_fips:35003,county_name:"Catron County",votes_gop:1698,votes_dem:595,total_votes:2326,diff:1103,per_gop:.7300085984522786,per_dem:.25580395528804817,per_point_diff:.47420464316423044},{state_name:"New Mexico",county_fips:35005,county_name:"Chaves County",votes_gop:15656,votes_dem:6381,total_votes:22443,diff:9275,per_gop:.6975894488259146,per_dem:.2843202780376955,per_point_diff:.41326917078821906},{state_name:"New Mexico",county_fips:35006,county_name:"Cibola County",votes_gop:3975,votes_dem:4745,total_votes:8903,diff:-770,per_gop:.4464787150398742,per_dem:.5329664158148939,per_point_diff:-.08648770077501972},{state_name:"New Mexico",county_fips:35007,county_name:"Colfax County",votes_gop:3271,votes_dem:2611,total_votes:6016,diff:660,per_gop:.543716755319149,per_dem:.4340093085106383,per_point_diff:.10970744680851069},{state_name:"New Mexico",county_fips:35009,county_name:"Curry County",votes_gop:10444,votes_dem:4307,total_votes:15101,diff:6137,per_gop:.691609827163764,per_dem:.2852128998079597,per_point_diff:.40639692735580424},{state_name:"New Mexico",county_fips:35011,county_name:"De Baca County",votes_gop:656,votes_dem:231,total_votes:901,diff:425,per_gop:.7280799112097669,per_dem:.2563817980022198,per_point_diff:.4716981132075471},{state_name:"New Mexico",county_fips:35013,county_name:"Doña Ana County",votes_gop:32802,votes_dem:47957,total_votes:82641,diff:-15155,per_gop:.3969216248593313,per_dem:.5803051753972,per_point_diff:-.18338355053786864},{state_name:"New Mexico",county_fips:35015,county_name:"Eddy County",votes_gop:17454,votes_dem:5424,total_votes:23222,diff:12030,per_gop:.7516148479889759,per_dem:.23357161312548447,per_point_diff:.5180432348634915},{state_name:"New Mexico",county_fips:35017,county_name:"Grant County",votes_gop:6553,votes_dem:7590,total_votes:14435,diff:-1037,per_gop:.45396605472809143,per_dem:.5258053342570143,per_point_diff:-.07183927952892283},{state_name:"New Mexico",county_fips:35019,county_name:"Guadalupe County",votes_gop:917,votes_dem:1234,total_votes:2189,diff:-317,per_gop:.4189127455459114,per_dem:.5637277295568753,per_point_diff:-.14481498401096393},{state_name:"New Mexico",county_fips:35021,county_name:"Harding County",votes_gop:319,votes_dem:179,total_votes:505,diff:140,per_gop:.6316831683168317,per_dem:.35445544554455444,per_point_diff:.27722772277227725},{state_name:"New Mexico",county_fips:35023,county_name:"Hidalgo County",votes_gop:1120,votes_dem:823,total_votes:1974,diff:297,per_gop:.5673758865248227,per_dem:.41691995947315097,per_point_diff:.15045592705167177},{state_name:"New Mexico",county_fips:35025,county_name:"Lea County",votes_gop:16531,votes_dem:4061,total_votes:20918,diff:12470,per_gop:.7902763170475189,per_dem:.1941390190266756,per_point_diff:.5961372980208433},{state_name:"New Mexico",county_fips:35027,county_name:"Lincoln County",votes_gop:6942,votes_dem:3194,total_votes:10306,diff:3748,per_gop:.6735882010479333,per_dem:.30991655346400154,per_point_diff:.3636716475839317},{state_name:"New Mexico",county_fips:35028,county_name:"Los Alamos County",votes_gop:4278,votes_dem:7554,total_votes:12293,diff:-3276,per_gop:.348002928495892,per_dem:.6144960546652567,per_point_diff:-.2664931261693647},{state_name:"New Mexico",county_fips:35029,county_name:"Luna County",votes_gop:4408,votes_dem:3563,total_votes:8103,diff:845,per_gop:.543996050845366,per_dem:.43971368628902874,per_point_diff:.10428236455633721},{state_name:"New Mexico",county_fips:35031,county_name:"McKinley County",votes_gop:7801,votes_dem:18029,total_votes:26486,diff:-10228,per_gop:.29453296080948427,per_dem:.6806992373329306,per_point_diff:-.3861662765234463},{state_name:"New Mexico",county_fips:35033,county_name:"Mora County",votes_gop:903,votes_dem:1745,total_votes:2686,diff:-842,per_gop:.3361876396128071,per_dem:.6496649292628444,per_point_diff:-.31347728965003724},{state_name:"New Mexico",county_fips:35035,county_name:"Otero County",votes_gop:14521,votes_dem:8485,total_votes:23571,diff:6036,per_gop:.6160536252174282,per_dem:.3599762419922786,per_point_diff:.2560773832251496},{state_name:"New Mexico",county_fips:35037,county_name:"Quay County",votes_gop:2634,votes_dem:1170,total_votes:3873,diff:1464,per_gop:.6800929512006196,per_dem:.3020914020139427,per_point_diff:.37800154918667694},{state_name:"New Mexico",county_fips:35039,county_name:"Rio Arriba County",votes_gop:5408,votes_dem:10990,total_votes:16628,diff:-5582,per_gop:.3252345441424104,per_dem:.6609333654077459,per_point_diff:-.33569882126533557},{state_name:"New Mexico",county_fips:35041,county_name:"Roosevelt County",votes_gop:4634,votes_dem:1802,total_votes:6608,diff:2832,per_gop:.701271186440678,per_dem:.2726997578692494,per_point_diff:.4285714285714286},{state_name:"New Mexico",county_fips:35043,county_name:"Sandoval County",votes_gop:34174,votes_dem:40588,total_votes:76562,diff:-6414,per_gop:.4463572007000862,per_dem:.5301324416812518,per_point_diff:-.08377524098116562},{state_name:"New Mexico",county_fips:35045,county_name:"San Juan County",votes_gop:32874,votes_dem:18083,total_votes:52294,diff:14791,per_gop:.6286380846751062,per_dem:.34579492867250544,per_point_diff:.28284315600260074},{state_name:"New Mexico",county_fips:35047,county_name:"San Miguel County",votes_gop:3421,votes_dem:7888,total_votes:11531,diff:-4467,per_gop:.2966785187754748,per_dem:.6840690313069118,per_point_diff:-.38739051253143697},{state_name:"New Mexico",county_fips:35049,county_name:"Santa Fe County",votes_gop:18329,votes_dem:62530,total_votes:82227,diff:-44201,per_gop:.2229073175477641,per_dem:.7604558113515025,per_point_diff:-.5375484938037385},{state_name:"New Mexico",county_fips:35051,county_name:"Sierra County",votes_gop:3542,votes_dem:2265,total_votes:5945,diff:1277,per_gop:.5957947855340623,per_dem:.3809924306139613,per_point_diff:.21480235492010097},{state_name:"New Mexico",county_fips:35053,county_name:"Socorro County",votes_gop:3255,votes_dem:3722,total_votes:7160,diff:-467,per_gop:.454608938547486,per_dem:.5198324022346369,per_point_diff:-.06522346368715087},{state_name:"New Mexico",county_fips:35055,county_name:"Taos County",votes_gop:3715,votes_dem:13121,total_votes:17181,diff:-9406,per_gop:.21622722775158607,per_dem:.7636924509632734,per_point_diff:-.5474652232116873},{state_name:"New Mexico",county_fips:35057,county_name:"Torrance County",votes_gop:4772,votes_dem:2344,total_votes:7281,diff:2428,per_gop:.6554044774069496,per_dem:.3219338003021563,per_point_diff:.33347067710479333},{state_name:"New Mexico",county_fips:35059,county_name:"Union County",votes_gop:1388,votes_dem:383,total_votes:1789,diff:1005,per_gop:.7758524315259921,per_dem:.21408608160983789,per_point_diff:.5617663499161543},{state_name:"New Mexico",county_fips:35061,county_name:"Valencia County",votes_gop:17364,votes_dem:14263,total_votes:32277,diff:3101,per_gop:.537968212659169,per_dem:.4418936084518388,per_point_diff:.09607460420733027},{state_name:"New York",county_fips:36001,county_name:"Albany County",votes_gop:51081,votes_dem:99474,total_votes:154101,diff:-48393,per_gop:.3314774076741877,per_dem:.6455117098526291,per_point_diff:-.31403430217844136},{state_name:"New York",county_fips:36003,county_name:"Allegany County",votes_gop:14135,votes_dem:6048,total_votes:20782,diff:8087,per_gop:.6801559041478202,per_dem:.2910210759310942,per_point_diff:.389134828216726},{state_name:"New York",county_fips:36005,county_name:"Bronx County",votes_gop:67740,votes_dem:355374,total_votes:425715,diff:-287634,per_gop:.1591205383883584,per_dem:.8347697403192277,per_point_diff:-.6756492019308693},{state_name:"New York",county_fips:36007,county_name:"Broome County",votes_gop:43800,votes_dem:47010,total_votes:92794,diff:-3210,per_gop:.4720132767204776,per_dem:.5066060305623208,per_point_diff:-.03459275384184318},{state_name:"New York",county_fips:36009,county_name:"Cattaraugus County",votes_gop:22155,votes_dem:11879,total_votes:34845,diff:10276,per_gop:.6358157554885924,per_dem:.34090974314822786,per_point_diff:.2949060123403645},{state_name:"New York",county_fips:36011,county_name:"Cayuga County",votes_gop:19512,votes_dem:16149,total_votes:36421,diff:3363,per_gop:.5357348782295929,per_dem:.44339803959254276,per_point_diff:.09233683863705011},{state_name:"New York",county_fips:36013,county_name:"Chautauqua County",votes_gop:34853,votes_dem:23087,total_votes:59304,diff:11766,per_gop:.5877006610009443,per_dem:.3892992041009038,per_point_diff:.19840145690004052},{state_name:"New York",county_fips:36015,county_name:"Chemung County",votes_gop:21922,votes_dem:16636,total_votes:39410,diff:5286,per_gop:.5562547576757169,per_dem:.42212636386703883,per_point_diff:.13412839380867803},{state_name:"New York",county_fips:36017,county_name:"Chenango County",votes_gop:13482,votes_dem:8290,total_votes:22282,diff:5192,per_gop:.6050623821919038,per_dem:.372049187685127,per_point_diff:.23301319450677677},{state_name:"New York",county_fips:36019,county_name:"Clinton County",votes_gop:16514,votes_dem:18364,total_votes:35437,diff:-1850,per_gop:.4660101024353077,per_dem:.5182154245562548,per_point_diff:-.052205322120947084},{state_name:"New York",county_fips:36021,county_name:"Columbia County",votes_gop:14464,votes_dem:20386,total_votes:35522,diff:-5922,per_gop:.40718428016440517,per_dem:.5738978661111424,per_point_diff:-.16671358594673719},{state_name:"New York",county_fips:36023,county_name:"Cortland County",votes_gop:10789,votes_dem:10369,total_votes:21678,diff:420,per_gop:.49769351416182306,per_dem:.47831903312113666,per_point_diff:.019374481040686398},{state_name:"New York",county_fips:36025,county_name:"Delaware County",votes_gop:13387,votes_dem:9143,total_votes:23025,diff:4244,per_gop:.5814115092290988,per_dem:.3970901194353963,per_point_diff:.1843213897937025},{state_name:"New York",county_fips:36027,county_name:"Dutchess County",votes_gop:66872,votes_dem:81443,total_votes:151122,diff:-14571,per_gop:.44250340784267017,per_dem:.5389221953123966,per_point_diff:-.09641878746972643},{state_name:"New York",county_fips:36029,county_name:"Erie County",votes_gop:197527,votes_dem:267174,total_votes:473021,diff:-69647,per_gop:.41758611139885965,per_dem:.564824817502817,per_point_diff:-.14723870610395734},{state_name:"New York",county_fips:36031,county_name:"Essex County",votes_gop:8976,votes_dem:9947,total_votes:19259,diff:-971,per_gop:.46606781245132145,per_dem:.5164857988472922,per_point_diff:-.050417986395970726},{state_name:"New York",county_fips:36033,county_name:"Franklin County",votes_gop:9668,votes_dem:9253,total_votes:19268,diff:415,per_gop:.5017645837658293,per_dem:.4802262819182064,per_point_diff:.021538301847622954},{state_name:"New York",county_fips:36035,county_name:"Fulton County",votes_gop:15378,votes_dem:7931,total_votes:23744,diff:7447,per_gop:.6476583557951483,per_dem:.33402122641509435,per_point_diff:.31363712938005395},{state_name:"New York",county_fips:36037,county_name:"Genesee County",votes_gop:18876,votes_dem:9625,total_votes:29217,diff:9251,per_gop:.6460622240476435,per_dem:.32943149536228905,per_point_diff:.3166307286853544},{state_name:"New York",county_fips:36039,county_name:"Greene County",votes_gop:14271,votes_dem:10346,total_votes:25194,diff:3925,per_gop:.5664443915217909,per_dem:.4106533301579741,per_point_diff:.15579106136381682},{state_name:"New York",county_fips:36041,county_name:"Hamilton County",votes_gop:2225,votes_dem:1178,total_votes:3460,diff:1047,per_gop:.6430635838150289,per_dem:.34046242774566476,per_point_diff:.30260115606936416},{state_name:"New York",county_fips:36043,county_name:"Herkimer County",votes_gop:18870,votes_dem:9937,total_votes:29319,diff:8933,per_gop:.6436099457689552,per_dem:.3389269756812988,per_point_diff:.30468297008765644},{state_name:"New York",county_fips:36045,county_name:"Jefferson County",votes_gop:25629,votes_dem:17307,total_votes:43848,diff:8322,per_gop:.5844964422550629,per_dem:.3947044334975369,per_point_diff:.189792008757526},{state_name:"New York",county_fips:36047,county_name:"Kings County",votes_gop:202772,votes_dem:703310,total_votes:913246,diff:-500538,per_gop:.22203436970980436,per_dem:.7701210845708604,per_point_diff:-.548086714861056},{state_name:"New York",county_fips:36049,county_name:"Lewis County",votes_gop:8894,votes_dem:3824,total_votes:12944,diff:5070,per_gop:.6871137206427689,per_dem:.2954264524103832,per_point_diff:.3916872682323857},{state_name:"New York",county_fips:36051,county_name:"Livingston County",votes_gop:18182,votes_dem:12477,total_votes:31401,diff:5705,per_gop:.5790261456641508,per_dem:.39734403362950227,per_point_diff:.1816821120346485},{state_name:"New York",county_fips:36053,county_name:"Madison County",votes_gop:18408,votes_dem:14807,total_votes:34038,diff:3601,per_gop:.5408073329807862,per_dem:.43501380809683293,per_point_diff:.10579352488395327},{state_name:"New York",county_fips:36055,county_name:"Monroe County",votes_gop:145661,votes_dem:225746,total_votes:380983,diff:-80085,per_gop:.38232939527485477,per_dem:.5925356249491447,per_point_diff:-.21020622967428992},{state_name:"New York",county_fips:36057,county_name:"Montgomery County",votes_gop:12745,votes_dem:7977,total_votes:21134,diff:4768,per_gop:.6030566859089619,per_dem:.37744866092552287,per_point_diff:.22560802498343902},{state_name:"New York",county_fips:36059,county_name:"Nassau County",votes_gop:326716,votes_dem:396504,total_votes:732756,diff:-69788,per_gop:.445872841709928,per_dem:.5411132764521888,per_point_diff:-.09524043474226074},{state_name:"New York",county_fips:36061,county_name:"New York County",votes_gop:85185,votes_dem:603040,total_votes:694904,diff:-517855,per_gop:.12258527796645292,per_dem:.86780332247332,per_point_diff:-.7452180445068671},{state_name:"New York",county_fips:36063,county_name:"Niagara County",votes_gop:56068,votes_dem:46029,total_votes:104080,diff:10039,per_gop:.5387009992313605,per_dem:.44224634896233667,per_point_diff:.09645465026902383},{state_name:"New York",county_fips:36065,county_name:"Oneida County",votes_gop:57180,votes_dem:41567,total_votes:100746,diff:15613,per_gop:.5675659579536656,per_dem:.41259206320846487,per_point_diff:.15497389474520074},{state_name:"New York",county_fips:36067,county_name:"Onondaga County",votes_gop:90619,votes_dem:138894,total_votes:234735,diff:-48275,per_gop:.38604809678999724,per_dem:.5917055402901144,per_point_diff:-.2056574435001171},{state_name:"New York",county_fips:36069,county_name:"Ontario County",votes_gop:29039,votes_dem:29025,total_votes:59674,diff:14,per_gop:.48662734189094076,per_dem:.4863927338539397,per_point_diff:.00023460803700103838},{state_name:"New York",county_fips:36071,county_name:"Orange County",votes_gop:84996,votes_dem:84684,total_votes:172099,diff:312,per_gop:.4938785234080384,per_dem:.49206561339694016,per_point_diff:.0018129100110982344},{state_name:"New York",county_fips:36073,county_name:"Orleans County",votes_gop:12126,votes_dem:5587,total_votes:18154,diff:6539,per_gop:.6679519665087584,per_dem:.30775586647570785,per_point_diff:.3601961000330506},{state_name:"New York",county_fips:36075,county_name:"Oswego County",votes_gop:32138,votes_dem:21143,total_votes:54491,diff:10995,per_gop:.5897854691600448,per_dem:.3880090290139656,per_point_diff:.2017764401460792},{state_name:"New York",county_fips:36077,county_name:"Otsego County",votes_gop:14382,votes_dem:12975,total_votes:28008,diff:1407,per_gop:.5134961439588689,per_dem:.4632604970008569,per_point_diff:.05023564695801197},{state_name:"New York",county_fips:36079,county_name:"Putnam County",votes_gop:29283,votes_dem:24953,total_votes:54989,diff:4330,per_gop:.5325246867555329,per_dem:.4537816654239939,per_point_diff:.07874302133153899},{state_name:"New York",county_fips:36081,county_name:"Queens County",votes_gop:212665,votes_dem:569038,total_votes:787860,diff:-356373,per_gop:.26992739826872797,per_dem:.7222577615312366,per_point_diff:-.4523303632625086},{state_name:"New York",county_fips:36083,county_name:"Rensselaer County",votes_gop:36500,votes_dem:40969,total_votes:79409,diff:-4469,per_gop:.4596456321071919,per_dem:.5159238877205354,per_point_diff:-.05627825561334354},{state_name:"New York",county_fips:36085,county_name:"Richmond County",votes_gop:123320,votes_dem:90997,total_votes:216153,diff:32323,per_gop:.5705218063131208,per_dem:.4209842102584743,per_point_diff:.14953759605464645},{state_name:"New York",county_fips:36087,county_name:"Rockland County",votes_gop:73186,votes_dem:75802,total_votes:150369,diff:-2616,per_gop:.48670936163703954,per_dem:.5041065645179525,per_point_diff:-.01739720288091301},{state_name:"New York",county_fips:36089,county_name:"St. Lawrence County",votes_gop:24608,votes_dem:19361,total_votes:44907,diff:5247,per_gop:.5479769300999844,per_dem:.4311354577237402,per_point_diff:.1168414723762442},{state_name:"New York",county_fips:36091,county_name:"Saratoga County",votes_gop:61305,votes_dem:68471,total_votes:132655,diff:-7166,per_gop:.46213863028155744,per_dem:.5161584561456409,per_point_diff:-.05401982586408349},{state_name:"New York",county_fips:36093,county_name:"Schenectady County",votes_gop:30741,votes_dem:42465,total_votes:74826,diff:-11724,per_gop:.41083313286825435,per_dem:.5675166386015557,per_point_diff:-.1566835057333013},{state_name:"New York",county_fips:36095,county_name:"Schoharie County",votes_gop:9903,votes_dem:5345,total_votes:15710,diff:4558,per_gop:.6303628262253341,per_dem:.3402291534054742,per_point_diff:.2901336728198599},{state_name:"New York",county_fips:36097,county_name:"Schuyler County",votes_gop:5621,votes_dem:3903,total_votes:9766,diff:1718,per_gop:.57556829817735,per_dem:.39965185336883063,per_point_diff:.17591644480851937},{state_name:"New York",county_fips:36099,county_name:"Seneca County",votes_gop:8329,votes_dem:6914,total_votes:15630,diff:1415,per_gop:.5328854766474728,per_dem:.44235444657709533,per_point_diff:.09053103007037744},{state_name:"New York",county_fips:36101,county_name:"Steuben County",votes_gop:29474,votes_dem:15790,total_votes:46178,diff:13684,per_gop:.6382693057300013,per_dem:.3419377192602538,per_point_diff:.2963315864697475},{state_name:"New York",county_fips:36103,county_name:"Suffolk County",votes_gop:381253,votes_dem:381021,total_votes:771541,diff:232,per_gop:.4941448348175923,per_dem:.493844137900643,per_point_diff:.00030069691694928347},{state_name:"New York",county_fips:36105,county_name:"Sullivan County",votes_gop:18665,votes_dem:15489,total_votes:34647,diff:3176,per_gop:.5387190810171155,per_dem:.4470516927872543,per_point_diff:.0916673882298612},{state_name:"New York",county_fips:36107,county_name:"Tioga County",votes_gop:14791,votes_dem:9634,total_votes:25044,diff:5157,per_gop:.5906005430442421,per_dem:.3846829579939307,per_point_diff:.20591758505031144},{state_name:"New York",county_fips:36109,county_name:"Tompkins County",votes_gop:11096,votes_dem:33619,total_votes:45735,diff:-22523,per_gop:.24261506504864983,per_dem:.7350825407237346,per_point_diff:-.49246747567508475},{state_name:"New York",county_fips:36111,county_name:"Ulster County",votes_gop:37590,votes_dem:57970,total_votes:97420,diff:-20380,per_gop:.38585506056251284,per_dem:.5950523506466845,per_point_diff:-.20919729008417165},{state_name:"New York",county_fips:36113,county_name:"Warren County",votes_gop:17699,votes_dem:17642,total_votes:36131,diff:57,per_gop:.4898563560377515,per_dem:.48827876338877974,per_point_diff:.0015775926489717818},{state_name:"New York",county_fips:36115,county_name:"Washington County",votes_gop:15941,votes_dem:11565,total_votes:28138,diff:4376,per_gop:.5665292487028218,per_dem:.41101002203425974,per_point_diff:.1555192266685621},{state_name:"New York",county_fips:36117,county_name:"Wayne County",votes_gop:26204,votes_dem:17456,total_votes:44714,diff:8748,per_gop:.5860356935188085,per_dem:.3903922708771302,per_point_diff:.19564342264167828},{state_name:"New York",county_fips:36119,county_name:"Westchester County",votes_gop:144713,votes_dem:312371,total_votes:462122,diff:-167658,per_gop:.3131489087297294,per_dem:.6759492082177434,per_point_diff:-.362800299488014},{state_name:"New York",county_fips:36121,county_name:"Wyoming County",votes_gop:13898,votes_dem:5073,total_votes:19399,diff:8825,per_gop:.7164286818908191,per_dem:.2615083251714006,per_point_diff:.4549203567194185},{state_name:"New York",county_fips:36123,county_name:"Yates County",votes_gop:6208,votes_dem:4219,total_votes:10701,diff:1989,per_gop:.5801326978787029,per_dem:.3942622184842538,per_point_diff:.18587047939444912},{state_name:"North Carolina",county_fips:37001,county_name:"Alamance County",votes_gop:46056,votes_dem:38825,total_votes:86091,diff:7231,per_gop:.5349688120709482,per_dem:.4509762925276742,per_point_diff:.08399251954327397},{state_name:"North Carolina",county_fips:37003,county_name:"Alexander County",votes_gop:15888,votes_dem:4145,total_votes:20236,diff:11743,per_gop:.7851354022534097,per_dem:.2048329709428741,per_point_diff:.5803024313105356},{state_name:"North Carolina",county_fips:37005,county_name:"Alleghany County",votes_gop:4527,votes_dem:1486,total_votes:6076,diff:3041,per_gop:.7450625411454904,per_dem:.2445687952600395,per_point_diff:.5004937458854509},{state_name:"North Carolina",county_fips:37007,county_name:"Anson County",votes_gop:5321,votes_dem:5789,total_votes:11194,diff:-468,per_gop:.4753439342504913,per_dem:.5171520457387886,per_point_diff:-.04180811148829727},{state_name:"North Carolina",county_fips:37009,county_name:"Ashe County",votes_gop:11451,votes_dem:4164,total_votes:15814,diff:7287,per_gop:.7241052232199318,per_dem:.26331099026179333,per_point_diff:.46079423295813843},{state_name:"North Carolina",county_fips:37011,county_name:"Avery County",votes_gop:7172,votes_dem:2191,total_votes:9458,diff:4981,per_gop:.7582998519771622,per_dem:.23165574117149504,per_point_diff:.5266441108056672},{state_name:"North Carolina",county_fips:37013,county_name:"Beaufort County",votes_gop:16437,votes_dem:9633,total_votes:26315,diff:6804,per_gop:.6246247387421623,per_dem:.36606498194945847,per_point_diff:.2585597567927038},{state_name:"North Carolina",county_fips:37015,county_name:"Bertie County",votes_gop:3817,votes_dem:5939,total_votes:9815,diff:-2122,per_gop:.3888945491594498,per_dem:.6050942435048395,per_point_diff:-.21619969434538971},{state_name:"North Carolina",county_fips:37017,county_name:"Bladen County",votes_gop:9676,votes_dem:7326,total_votes:17125,diff:2350,per_gop:.5650218978102189,per_dem:.4277956204379562,per_point_diff:.13722627737226273},{state_name:"North Carolina",county_fips:37019,county_name:"Brunswick County",votes_gop:55850,votes_dem:33310,total_votes:90175,diff:22540,per_gop:.6193512614360965,per_dem:.3693928472414749,per_point_diff:.24995841419462161},{state_name:"North Carolina",county_fips:37021,county_name:"Buncombe County",votes_gop:62412,votes_dem:96515,total_votes:161569,diff:-34103,per_gop:.3862869733674158,per_dem:.5973608798717576,per_point_diff:-.21107390650434177},{state_name:"North Carolina",county_fips:37023,county_name:"Burke County",votes_gop:31019,votes_dem:13118,total_votes:44602,diff:17901,per_gop:.6954620869019327,per_dem:.29411237164252724,per_point_diff:.40134971525940544},{state_name:"North Carolina",county_fips:37025,county_name:"Cabarrus County",votes_gop:63237,votes_dem:52162,total_votes:117227,diff:11075,per_gop:.539440572564341,per_dem:.44496575021112883,per_point_diff:.09447482235321214},{state_name:"North Carolina",county_fips:37027,county_name:"Caldwell County",votes_gop:32119,votes_dem:10245,total_votes:42829,diff:21874,per_gop:.7499357911695347,per_dem:.23920707931541713,per_point_diff:.5107287118541175},{state_name:"North Carolina",county_fips:37029,county_name:"Camden County",votes_gop:4312,votes_dem:1537,total_votes:5953,diff:2775,per_gop:.7243406685704686,per_dem:.2581891483285738,per_point_diff:.4661515202418948},{state_name:"North Carolina",county_fips:37031,county_name:"Carteret County",votes_gop:30028,votes_dem:12093,total_votes:42695,diff:17935,per_gop:.7033142054104696,per_dem:.283241597376742,per_point_diff:.42007260803372765},{state_name:"North Carolina",county_fips:37033,county_name:"Caswell County",votes_gop:7089,votes_dem:4860,total_votes:12051,diff:2229,per_gop:.5882499377645009,per_dem:.4032860343539955,per_point_diff:.18496390341050534},{state_name:"North Carolina",county_fips:37035,county_name:"Catawba County",votes_gop:56588,votes_dem:25689,total_votes:83425,diff:30899,per_gop:.6783098591549296,per_dem:.30792927779442614,per_point_diff:.37038058136050345},{state_name:"North Carolina",county_fips:37037,county_name:"Chatham County",votes_gop:21186,votes_dem:26787,total_votes:48599,diff:-5601,per_gop:.43593489577974853,per_dem:.5511841807444597,per_point_diff:-.11524928496471121},{state_name:"North Carolina",county_fips:37039,county_name:"Cherokee County",votes_gop:12628,votes_dem:3583,total_votes:16423,diff:9045,per_gop:.768921634293369,per_dem:.2181696401388297,per_point_diff:.5507519941545393},{state_name:"North Carolina",county_fips:37041,county_name:"Chowan County",votes_gop:4471,votes_dem:3247,total_votes:7784,diff:1224,per_gop:.5743833504624871,per_dem:.4171377183967112,per_point_diff:.1572456320657759},{state_name:"North Carolina",county_fips:37043,county_name:"Clay County",votes_gop:5112,votes_dem:1699,total_votes:6893,diff:3413,per_gop:.7416219352966777,per_dem:.24648193819817205,per_point_diff:.4951399970985057},{state_name:"North Carolina",county_fips:37045,county_name:"Cleveland County",votes_gop:33798,votes_dem:16955,total_votes:51308,diff:16843,per_gop:.6587276837920012,per_dem:.33045528962345055,per_point_diff:.32827239416855064},{state_name:"North Carolina",county_fips:37047,county_name:"Columbus County",votes_gop:16832,votes_dem:9446,total_votes:26446,diff:7386,per_gop:.6364667624593511,per_dem:.35718067004461923,per_point_diff:.27928609241473185},{state_name:"North Carolina",county_fips:37049,county_name:"Craven County",votes_gop:31032,votes_dem:21148,total_votes:53065,diff:9884,per_gop:.5847922359370583,per_dem:.39853010458871196,per_point_diff:.18626213134834635},{state_name:"North Carolina",county_fips:37051,county_name:"Cumberland County",votes_gop:60032,votes_dem:84469,total_votes:147150,diff:-24437,per_gop:.40796466190961606,per_dem:.5740332993544003,per_point_diff:-.16606863744478423},{state_name:"North Carolina",county_fips:37053,county_name:"Currituck County",votes_gop:11657,votes_dem:4195,total_votes:16147,diff:7462,per_gop:.7219297702359572,per_dem:.2598005821514833,per_point_diff:.4621291880844739},{state_name:"North Carolina",county_fips:37055,county_name:"Dare County",votes_gop:13938,votes_dem:9936,total_votes:24232,diff:4002,per_gop:.5751898316275998,per_dem:.41003631561571474,per_point_diff:.1651535160118851},{state_name:"North Carolina",county_fips:37057,county_name:"Davidson County",votes_gop:64658,votes_dem:22636,total_votes:88514,diff:42022,per_gop:.7304833133741555,per_dem:.25573355627358385,per_point_diff:.47474975710057166},{state_name:"North Carolina",county_fips:37059,county_name:"Davie County",votes_gop:18228,votes_dem:6713,total_votes:25311,diff:11515,per_gop:.7201611947374659,per_dem:.26522065505116355,per_point_diff:.4549405396863023},{state_name:"North Carolina",county_fips:37061,county_name:"Duplin County",votes_gop:13793,votes_dem:8767,total_votes:22715,diff:5026,per_gop:.6072198987453225,per_dem:.38595641646489104,per_point_diff:.2212634822804314},{state_name:"North Carolina",county_fips:37063,county_name:"Durham County",votes_gop:32459,votes_dem:144688,total_votes:179914,diff:-112229,per_gop:.1804139755661038,per_dem:.804206454194782,per_point_diff:-.6237924786286781},{state_name:"North Carolina",county_fips:37065,county_name:"Edgecombe County",votes_gop:9206,votes_dem:16089,total_votes:25477,diff:-6883,per_gop:.36134552733838365,per_dem:.6315107744239903,per_point_diff:-.27016524708560663},{state_name:"North Carolina",county_fips:37067,county_name:"Forsyth County",votes_gop:85064,votes_dem:113033,total_votes:201270,diff:-27969,per_gop:.4226362597505838,per_dem:.561598847319521,per_point_diff:-.13896258756893726},{state_name:"North Carolina",county_fips:37069,county_name:"Franklin County",votes_gop:20901,votes_dem:15879,total_votes:37351,diff:5022,per_gop:.5595834114213809,per_dem:.42512917994163474,per_point_diff:.13445423147974617},{state_name:"North Carolina",county_fips:37071,county_name:"Gaston County",votes_gop:73033,votes_dem:40959,total_votes:115498,diff:32074,per_gop:.6323312957800135,per_dem:.3546295173942406,per_point_diff:.27770177838577287},{state_name:"North Carolina",county_fips:37073,county_name:"Gates County",votes_gop:3367,votes_dem:2546,total_votes:5971,diff:821,per_gop:.5638921453692849,per_dem:.426394238820968,per_point_diff:.1374979065483169},{state_name:"North Carolina",county_fips:37075,county_name:"Graham County",votes_gop:3710,votes_dem:905,total_votes:4665,diff:2805,per_gop:.7952840300107181,per_dem:.1939978563772776,per_point_diff:.6012861736334405},{state_name:"North Carolina",county_fips:37077,county_name:"Granville County",votes_gop:16647,votes_dem:14565,total_votes:31598,diff:2082,per_gop:.52683714159124,per_dem:.4609468953731249,per_point_diff:.06589024621811507},{state_name:"North Carolina",county_fips:37079,county_name:"Greene County",votes_gop:4874,votes_dem:3832,total_votes:8753,diff:1042,per_gop:.5568376556609163,per_dem:.4377927567691077,per_point_diff:.11904489889180853},{state_name:"North Carolina",county_fips:37081,county_name:"Guilford County",votes_gop:107294,votes_dem:173086,total_votes:284486,diff:-65792,per_gop:.3771503694382149,per_dem:.6084165828898435,per_point_diff:-.23126621345162857},{state_name:"North Carolina",county_fips:37083,county_name:"Halifax County",votes_gop:10080,votes_dem:15545,total_votes:25759,diff:-5465,per_gop:.3913195388019721,per_dem:.6034783959004619,per_point_diff:-.2121588570984898},{state_name:"North Carolina",county_fips:37085,county_name:"Harnett County",votes_gop:35177,votes_dem:22093,total_votes:58293,diff:13084,per_gop:.6034515293431458,per_dem:.37899919372823493,per_point_diff:.2244523356149109},{state_name:"North Carolina",county_fips:37087,county_name:"Haywood County",votes_gop:22834,votes_dem:13144,total_votes:36542,diff:9690,per_gop:.6248700125882546,per_dem:.3596956926276613,per_point_diff:.26517431996059326},{state_name:"North Carolina",county_fips:37089,county_name:"Henderson County",votes_gop:40032,votes_dem:27211,total_votes:68371,diff:12821,per_gop:.5855114010326016,per_dem:.39799037603662374,per_point_diff:.18752102499597784},{state_name:"North Carolina",county_fips:37091,county_name:"Hertford County",votes_gop:3479,votes_dem:7097,total_votes:10634,diff:-3618,per_gop:.3271581719014482,per_dem:.6673876246003385,per_point_diff:-.3402294526988903},{state_name:"North Carolina",county_fips:37093,county_name:"Hoke County",votes_gop:9453,votes_dem:11804,total_votes:21639,diff:-2351,per_gop:.4368501317066408,per_dem:.5454965571421969,per_point_diff:-.10864642543555614},{state_name:"North Carolina",county_fips:37095,county_name:"Hyde County",votes_gop:1418,votes_dem:1046,total_votes:2492,diff:372,per_gop:.5690208667736758,per_dem:.41974317817014445,per_point_diff:.14927768860353136},{state_name:"North Carolina",county_fips:37097,county_name:"Iredell County",votes_gop:67010,votes_dem:33888,total_votes:102371,diff:33122,per_gop:.6545799103261666,per_dem:.3310312490842133,per_point_diff:.3235486612419533},{state_name:"North Carolina",county_fips:37099,county_name:"Jackson County",votes_gop:11356,votes_dem:9591,total_votes:21428,diff:1765,per_gop:.5299607989546388,per_dem:.44759193578495426,per_point_diff:.0823688631696845},{state_name:"North Carolina",county_fips:37101,county_name:"Johnston County",votes_gop:68353,votes_dem:41257,total_votes:111357,diff:27096,per_gop:.6138186193952783,per_dem:.37049309877241665,per_point_diff:.2433255206228616},{state_name:"North Carolina",county_fips:37103,county_name:"Jones County",votes_gop:3280,votes_dem:2197,total_votes:5525,diff:1083,per_gop:.5936651583710407,per_dem:.3976470588235294,per_point_diff:.19601809954751132},{state_name:"North Carolina",county_fips:37105,county_name:"Lee County",votes_gop:16469,votes_dem:12143,total_votes:29008,diff:4326,per_gop:.5677399338113623,per_dem:.41860865968008826,per_point_diff:.14913127413127408},{state_name:"North Carolina",county_fips:37107,county_name:"Lenoir County",votes_gop:14590,votes_dem:13605,total_votes:28409,diff:985,per_gop:.5135696434228589,per_dem:.4788975324721039,per_point_diff:.03467211095075501},{state_name:"North Carolina",county_fips:37109,county_name:"Lincoln County",votes_gop:36341,votes_dem:13274,total_votes:50217,diff:23067,per_gop:.7236792321325447,per_dem:.26433279566680606,per_point_diff:.45934643646573864},{state_name:"North Carolina",county_fips:37111,county_name:"McDowell County",votes_gop:16883,votes_dem:5832,total_votes:23003,diff:11051,per_gop:.733947745946181,per_dem:.2535321479806982,per_point_diff:.4804155979654828},{state_name:"North Carolina",county_fips:37113,county_name:"Macon County",votes_gop:14211,votes_dem:6230,total_votes:20743,diff:7981,per_gop:.6850985874752928,per_dem:.3003422841440486,per_point_diff:.3847563033312442},{state_name:"North Carolina",county_fips:37115,county_name:"Madison County",votes_gop:7979,votes_dem:4901,total_votes:13076,diff:3078,per_gop:.6102018966044662,per_dem:.3748088100336494,per_point_diff:.2353930865708168},{state_name:"North Carolina",county_fips:37117,county_name:"Martin County",votes_gop:6532,votes_dem:5911,total_votes:12540,diff:621,per_gop:.5208931419457735,per_dem:.47137161084529505,per_point_diff:.049521531100478466},{state_name:"North Carolina",county_fips:37119,county_name:"Mecklenburg County",votes_gop:179211,votes_dem:378107,total_votes:567053,diff:-198896,per_gop:.3160392414818368,per_dem:.6667930510904625,per_point_diff:-.3507538096086257},{state_name:"North Carolina",county_fips:37121,county_name:"Mitchell County",votes_gop:7090,votes_dem:1867,total_votes:9041,diff:5223,per_gop:.7842052870257715,per_dem:.2065037053423294,per_point_diff:.5777015816834421},{state_name:"North Carolina",county_fips:37123,county_name:"Montgomery County",votes_gop:8411,votes_dem:4327,total_votes:12849,diff:4084,per_gop:.6546034710872441,per_dem:.33675772433652423,per_point_diff:.3178457467507199},{state_name:"North Carolina",county_fips:37125,county_name:"Moore County",votes_gop:36764,votes_dem:20779,total_votes:58339,diff:15985,per_gop:.6301787826325442,per_dem:.35617682853665644,per_point_diff:.2740019540958878},{state_name:"North Carolina",county_fips:37127,county_name:"Nash County",votes_gop:25827,votes_dem:25947,total_votes:52271,diff:-120,per_gop:.4940980658491324,per_dem:.4963937938818848,per_point_diff:-.0022957280327524088},{state_name:"North Carolina",county_fips:37129,county_name:"New Hanover County",votes_gop:63331,votes_dem:66138,total_votes:131830,diff:-2807,per_gop:.48039899871046043,per_dem:.5016915724797087,per_point_diff:-.021292573769248313},{state_name:"North Carolina",county_fips:37131,county_name:"Northampton County",votes_gop:3989,votes_dem:6069,total_votes:10109,diff:-2080,per_gop:.394598872292017,per_dem:.6003561183104165,per_point_diff:-.20575724601839945},{state_name:"North Carolina",county_fips:37133,county_name:"Onslow County",votes_gop:46078,votes_dem:24266,total_votes:72235,diff:21812,per_gop:.6378902194227175,per_dem:.33593133522530627,per_point_diff:.30195888419741124},{state_name:"North Carolina",county_fips:37135,county_name:"Orange County",votes_gop:20176,votes_dem:63594,total_votes:84997,diff:-43418,per_gop:.23737308375589727,per_dem:.7481911126275045,per_point_diff:-.5108180288716072},{state_name:"North Carolina",county_fips:37137,county_name:"Pamlico County",votes_gop:4849,votes_dem:2713,total_votes:7631,diff:2136,per_gop:.6354344122657581,per_dem:.3555235224741187,per_point_diff:.2799108897916394},{state_name:"North Carolina",county_fips:37139,county_name:"Pasquotank County",votes_gop:9770,votes_dem:9832,total_votes:19897,diff:-62,per_gop:.4910287983113032,per_dem:.4941448459566769,per_point_diff:-.0031160476453737096},{state_name:"North Carolina",county_fips:37141,county_name:"Pender County",votes_gop:21956,votes_dem:11723,total_votes:34169,diff:10233,per_gop:.6425707512657672,per_dem:.3430887646697299,per_point_diff:.29948198659603736},{state_name:"North Carolina",county_fips:37143,county_name:"Perquimans County",votes_gop:4903,votes_dem:2492,total_votes:7484,diff:2411,per_gop:.6551309460181721,per_dem:.33297701763762694,per_point_diff:.3221539283805452},{state_name:"North Carolina",county_fips:37145,county_name:"Person County",votes_gop:13184,votes_dem:8465,total_votes:21894,diff:4719,per_gop:.6021741116287568,per_dem:.386635607929113,per_point_diff:.21553850369964378},{state_name:"North Carolina",county_fips:37147,county_name:"Pitt County",votes_gop:38982,votes_dem:47252,total_votes:87573,diff:-8270,per_gop:.4451371998218629,per_dem:.5395726993479726,per_point_diff:-.09443549952610969},{state_name:"North Carolina",county_fips:37149,county_name:"Polk County",votes_gop:7689,votes_dem:4518,total_votes:12358,diff:3171,per_gop:.6221880563197928,per_dem:.36559313804822785,per_point_diff:.25659491827156494},{state_name:"North Carolina",county_fips:37151,county_name:"Randolph County",votes_gop:56894,votes_dem:15618,total_votes:73316,diff:41276,per_gop:.7760106934366304,per_dem:.21302307818211577,per_point_diff:.5629876152545147},{state_name:"North Carolina",county_fips:37153,county_name:"Richmond County",votes_gop:11830,votes_dem:8754,total_votes:20763,diff:3076,per_gop:.5697635216490873,per_dem:.4216153735009392,per_point_diff:.14814814814814808},{state_name:"North Carolina",county_fips:37155,county_name:"Robeson County",votes_gop:27806,votes_dem:19020,total_votes:47188,diff:8786,per_gop:.589259981351191,per_dem:.4030685767568026,per_point_diff:.18619140459438838},{state_name:"North Carolina",county_fips:37157,county_name:"Rockingham County",votes_gop:31301,votes_dem:15992,total_votes:47809,diff:15309,per_gop:.6547093643456253,per_dem:.33449768871969715,per_point_diff:.32021167562592817},{state_name:"North Carolina",county_fips:37159,county_name:"Rowan County",votes_gop:49297,votes_dem:23114,total_votes:73408,diff:26183,per_gop:.6715480601569311,per_dem:.31487031386224934,per_point_diff:.3566777462946818},{state_name:"North Carolina",county_fips:37161,county_name:"Rutherford County",votes_gop:24891,votes_dem:9135,total_votes:34429,diff:15756,per_gop:.7229661041563797,per_dem:.2653286473612362,per_point_diff:.45763745679514356},{state_name:"North Carolina",county_fips:37163,county_name:"Sampson County",votes_gop:17411,votes_dem:10966,total_votes:28618,diff:6445,per_gop:.608393318890209,per_dem:.38318540778530996,per_point_diff:.22520791110489902},{state_name:"North Carolina",county_fips:37165,county_name:"Scotland County",votes_gop:7473,votes_dem:7186,total_votes:14775,diff:287,per_gop:.5057868020304569,per_dem:.48636209813874787,per_point_diff:.019424703891709028},{state_name:"North Carolina",county_fips:37167,county_name:"Stanly County",votes_gop:25458,votes_dem:8129,total_votes:33939,diff:17329,per_gop:.7501104923539291,per_dem:.23951795869059195,per_point_diff:.5105925336633372},{state_name:"North Carolina",county_fips:37169,county_name:"Stokes County",votes_gop:20142,votes_dem:5286,total_votes:25701,diff:14856,per_gop:.7837049142056729,per_dem:.2056729310143574,per_point_diff:.5780319831913154},{state_name:"North Carolina",county_fips:37171,county_name:"Surry County",votes_gop:27538,votes_dem:8721,total_votes:36638,diff:18817,per_gop:.7516239969430646,per_dem:.2380315519406081,per_point_diff:.5135924450024565},{state_name:"North Carolina",county_fips:37173,county_name:"Swain County",votes_gop:4161,votes_dem:2780,total_votes:7068,diff:1381,per_gop:.5887096774193549,per_dem:.39332201471420486,per_point_diff:.19538766270515},{state_name:"North Carolina",county_fips:37175,county_name:"Transylvania County",votes_gop:11636,votes_dem:8444,total_votes:20404,diff:3192,per_gop:.5702803371887865,per_dem:.41384042344638305,per_point_diff:.1564399137424034},{state_name:"North Carolina",county_fips:37177,county_name:"Tyrrell County",votes_gop:1044,votes_dem:758,total_votes:1817,diff:286,per_gop:.5745734727572922,per_dem:.4171711612548156,per_point_diff:.15740231150247658},{state_name:"North Carolina",county_fips:37179,county_name:"Union County",votes_gop:80382,votes_dem:48725,total_votes:131011,diff:31657,per_gop:.6135515338406698,per_dem:.37191533535351995,per_point_diff:.2416361984871499},{state_name:"North Carolina",county_fips:37181,county_name:"Vance County",votes_gop:8391,votes_dem:12431,total_votes:20999,diff:-4040,per_gop:.39959045668841375,per_dem:.5919805705033573,per_point_diff:-.19239011381494353},{state_name:"North Carolina",county_fips:37183,county_name:"Wake County",votes_gop:226197,votes_dem:393336,total_votes:631830,diff:-167139,per_gop:.35800294382982767,per_dem:.6225345425193486,per_point_diff:-.2645315986895209},{state_name:"North Carolina",county_fips:37185,county_name:"Warren County",votes_gop:3752,votes_dem:6400,total_votes:10293,diff:-2648,per_gop:.36451957641115323,per_dem:.6217817934518605,per_point_diff:-.25726221704070723},{state_name:"North Carolina",county_fips:37187,county_name:"Washington County",votes_gop:2781,votes_dem:3396,total_votes:6205,diff:-615,per_gop:.44818694601128123,per_dem:.547300564061241,per_point_diff:-.09911361804995972},{state_name:"North Carolina",county_fips:37189,county_name:"Watauga County",votes_gop:14451,votes_dem:17122,total_votes:32220,diff:-2671,per_gop:.4485102420856611,per_dem:.5314090626939789,per_point_diff:-.08289882060831782},{state_name:"North Carolina",county_fips:37191,county_name:"Wayne County",votes_gop:30709,votes_dem:24215,total_votes:55537,diff:6494,per_gop:.5529466841925204,per_dem:.4360156292201595,per_point_diff:.11693105497236084},{state_name:"North Carolina",county_fips:37193,county_name:"Wilkes County",votes_gop:27592,votes_dem:7511,total_votes:35466,diff:20081,per_gop:.7779845485817403,per_dem:.21178029662211695,per_point_diff:.5662042519596233},{state_name:"North Carolina",county_fips:37195,county_name:"Wilson County",votes_gop:19581,votes_dem:20754,total_votes:40735,diff:-1173,per_gop:.48069227936663805,per_dem:.5094881551491347,per_point_diff:-.02879587578249665},{state_name:"North Carolina",county_fips:37197,county_name:"Yadkin County",votes_gop:15933,votes_dem:3763,total_votes:19923,diff:12170,per_gop:.7997289564824575,per_dem:.18887717713195804,per_point_diff:.6108517793504994},{state_name:"North Carolina",county_fips:37199,county_name:"Yancey County",votes_gop:7516,votes_dem:3688,total_votes:11352,diff:3828,per_gop:.6620859760394644,per_dem:.324876673713883,per_point_diff:.3372093023255814},{state_name:"North Dakota",county_fips:38001,county_name:"Adams County",votes_gop:981,votes_dem:258,total_votes:1269,diff:723,per_gop:.7730496453900709,per_dem:.2033096926713948,per_point_diff:.5697399527186762},{state_name:"North Dakota",county_fips:38003,county_name:"Barnes County",votes_gop:3568,votes_dem:1820,total_votes:5565,diff:1748,per_gop:.6411500449236298,per_dem:.3270440251572327,per_point_diff:.3141060197663971},{state_name:"North Dakota",county_fips:38005,county_name:"Benson County",votes_gop:1094,votes_dem:822,total_votes:1961,diff:272,per_gop:.5578786333503315,per_dem:.4191738908720041,per_point_diff:.13870474247832743},{state_name:"North Dakota",county_fips:38007,county_name:"Billings County",votes_gop:541,votes_dem:72,total_votes:635,diff:469,per_gop:.8519685039370078,per_dem:.11338582677165354,per_point_diff:.7385826771653543},{state_name:"North Dakota",county_fips:38009,county_name:"Bottineau County",votes_gop:2575,votes_dem:821,total_votes:3471,diff:1754,per_gop:.7418611351195621,per_dem:.23653125900316913,per_point_diff:.5053298761163929},{state_name:"North Dakota",county_fips:38011,county_name:"Bowman County",votes_gop:1395,votes_dem:228,total_votes:1657,diff:1167,per_gop:.8418829209414604,per_dem:.1375980687990344,per_point_diff:.7042848521424261},{state_name:"North Dakota",county_fips:38013,county_name:"Burke County",votes_gop:994,votes_dem:137,total_votes:1155,diff:857,per_gop:.8606060606060606,per_dem:.11861471861471862,per_point_diff:.741991341991342},{state_name:"North Dakota",county_fips:38015,county_name:"Burleigh County",votes_gop:34744,votes_dem:14348,total_votes:50753,diff:20396,per_gop:.6845703702244202,per_dem:.2827025003448072,per_point_diff:.40186786987961304},{state_name:"North Dakota",county_fips:38017,county_name:"Cass County",votes_gop:42619,votes_dem:40311,total_votes:86053,diff:2308,per_gop:.49526454626799765,per_dem:.46844386598956456,per_point_diff:.026820680278433096},{state_name:"North Dakota",county_fips:38019,county_name:"Cavalier County",votes_gop:1499,votes_dem:474,total_votes:2020,diff:1025,per_gop:.7420792079207921,per_dem:.23465346534653464,per_point_diff:.5074257425742574},{state_name:"North Dakota",county_fips:38021,county_name:"Dickey County",votes_gop:1742,votes_dem:608,total_votes:2424,diff:1134,per_gop:.7186468646864687,per_dem:.2508250825082508,per_point_diff:.46782178217821785},{state_name:"North Dakota",county_fips:38023,county_name:"Divide County",votes_gop:904,votes_dem:265,total_votes:1202,diff:639,per_gop:.7520798668885191,per_dem:.22046589018302828,per_point_diff:.5316139767054908},{state_name:"North Dakota",county_fips:38025,county_name:"Dunn County",votes_gop:1951,votes_dem:342,total_votes:2338,diff:1609,per_gop:.8344739093242087,per_dem:.14627887082976904,per_point_diff:.6881950384944397},{state_name:"North Dakota",county_fips:38027,county_name:"Eddy County",votes_gop:854,votes_dem:383,total_votes:1261,diff:471,per_gop:.6772402854877082,per_dem:.3037272006344171,per_point_diff:.3735130848532911},{state_name:"North Dakota",county_fips:38029,county_name:"Emmons County",votes_gop:1738,votes_dem:237,total_votes:2009,diff:1501,per_gop:.8651070184171229,per_dem:.11796913887506222,per_point_diff:.7471378795420607},{state_name:"North Dakota",county_fips:38031,county_name:"Foster County",votes_gop:1362,votes_dem:373,total_votes:1778,diff:989,per_gop:.766029246344207,per_dem:.20978627671541059,per_point_diff:.5562429696287964},{state_name:"North Dakota",county_fips:38033,county_name:"Golden Valley County",votes_gop:871,votes_dem:137,total_votes:1026,diff:734,per_gop:.8489278752436648,per_dem:.13352826510721247,per_point_diff:.7153996101364523},{state_name:"North Dakota",county_fips:38035,county_name:"Grand Forks County",votes_gop:16987,votes_dem:12880,total_votes:30970,diff:4107,per_gop:.5484985469809494,per_dem:.41588634162092347,per_point_diff:.13261220536002588},{state_name:"North Dakota",county_fips:38037,county_name:"Grant County",votes_gop:1145,votes_dem:207,total_votes:1381,diff:938,per_gop:.8291093410572049,per_dem:.1498913830557567,per_point_diff:.6792179580014482},{state_name:"North Dakota",county_fips:38039,county_name:"Griggs County",votes_gop:907,votes_dem:308,total_votes:1250,diff:599,per_gop:.7256,per_dem:.2464,per_point_diff:.4792},{state_name:"North Dakota",county_fips:38041,county_name:"Hettinger County",votes_gop:1091,votes_dem:196,total_votes:1312,diff:895,per_gop:.8315548780487805,per_dem:.14939024390243902,per_point_diff:.6821646341463414},{state_name:"North Dakota",county_fips:38043,county_name:"Kidder County",votes_gop:1215,votes_dem:221,total_votes:1460,diff:994,per_gop:.8321917808219178,per_dem:.15136986301369862,per_point_diff:.6808219178082192},{state_name:"North Dakota",county_fips:38045,county_name:"LaMoure County",votes_gop:1645,votes_dem:527,total_votes:2219,diff:1118,per_gop:.7413249211356467,per_dem:.23749436683190625,per_point_diff:.5038305543037405},{state_name:"North Dakota",county_fips:38047,county_name:"Logan County",votes_gop:930,votes_dem:128,total_votes:1076,diff:802,per_gop:.8643122676579925,per_dem:.11895910780669144,per_point_diff:.745353159851301},{state_name:"North Dakota",county_fips:38049,county_name:"McHenry County",votes_gop:2364,votes_dem:564,total_votes:3003,diff:1800,per_gop:.7872127872127872,per_dem:.1878121878121878,per_point_diff:.5994005994005994},{state_name:"North Dakota",county_fips:38051,county_name:"McIntosh County",votes_gop:1153,votes_dem:261,total_votes:1455,diff:892,per_gop:.7924398625429553,per_dem:.17938144329896907,per_point_diff:.6130584192439862},{state_name:"North Dakota",county_fips:38053,county_name:"McKenzie County",votes_gop:4482,votes_dem:814,total_votes:5419,diff:3668,per_gop:.8270898689795165,per_dem:.1502122162760657,per_point_diff:.6768776527034508},{state_name:"North Dakota",county_fips:38055,county_name:"McLean County",votes_gop:4198,votes_dem:1230,total_votes:5536,diff:2968,per_gop:.7583092485549133,per_dem:.2221820809248555,per_point_diff:.5361271676300579},{state_name:"North Dakota",county_fips:38057,county_name:"Mercer County",votes_gop:3856,votes_dem:704,total_votes:4675,diff:3152,per_gop:.824812834224599,per_dem:.15058823529411763,per_point_diff:.6742245989304814},{state_name:"North Dakota",county_fips:38059,county_name:"Morton County",votes_gop:12243,votes_dem:3872,total_votes:16619,diff:8371,per_gop:.7366869246043685,per_dem:.2329863409350743,per_point_diff:.5037005836692942},{state_name:"North Dakota",county_fips:38061,county_name:"Mountrail County",votes_gop:2824,votes_dem:1256,total_votes:4165,diff:1568,per_gop:.678031212484994,per_dem:.30156062424969987,per_point_diff:.3764705882352941},{state_name:"North Dakota",county_fips:38063,county_name:"Nelson County",votes_gop:1141,votes_dem:586,total_votes:1777,diff:555,per_gop:.6420934158694429,per_dem:.3297692740574001,per_point_diff:.3123241418120428},{state_name:"North Dakota",county_fips:38065,county_name:"Oliver County",votes_gop:918,votes_dem:129,total_votes:1066,diff:789,per_gop:.8611632270168855,per_dem:.12101313320825516,per_point_diff:.7401500938086304},{state_name:"North Dakota",county_fips:38067,county_name:"Pembina County",votes_gop:2460,votes_dem:786,total_votes:3331,diff:1674,per_gop:.7385169618733113,per_dem:.23596517562293606,per_point_diff:.5025517862503752},{state_name:"North Dakota",county_fips:38069,county_name:"Pierce County",votes_gop:1585,votes_dem:497,total_votes:2128,diff:1088,per_gop:.7448308270676691,per_dem:.23355263157894737,per_point_diff:.5112781954887218},{state_name:"North Dakota",county_fips:38071,county_name:"Ramsey County",votes_gop:3577,votes_dem:1639,total_votes:5372,diff:1938,per_gop:.6658600148920327,per_dem:.30510052122114667,per_point_diff:.36075949367088606},{state_name:"North Dakota",county_fips:38073,county_name:"Ransom County",votes_gop:1418,votes_dem:945,total_votes:2454,diff:473,per_gop:.5778321108394459,per_dem:.38508557457212717,per_point_diff:.1927465362673187},{state_name:"North Dakota",county_fips:38075,county_name:"Renville County",votes_gop:1065,votes_dem:220,total_votes:1319,diff:845,per_gop:.8074298711144806,per_dem:.16679302501895377,per_point_diff:.6406368460955268},{state_name:"North Dakota",county_fips:38077,county_name:"Richland County",votes_gop:5072,votes_dem:2510,total_votes:7812,diff:2562,per_gop:.6492575524833589,per_dem:.3213005632360471,per_point_diff:.3279569892473118},{state_name:"North Dakota",county_fips:38079,county_name:"Rolette County",votes_gop:1257,votes_dem:2482,total_votes:3804,diff:-1225,per_gop:.3304416403785489,per_dem:.6524710830704522,per_point_diff:-.3220294426919033},{state_name:"North Dakota",county_fips:38081,county_name:"Sargent County",votes_gop:1266,votes_dem:738,total_votes:2070,diff:528,per_gop:.6115942028985507,per_dem:.3565217391304348,per_point_diff:.25507246376811593},{state_name:"North Dakota",county_fips:38083,county_name:"Sheridan County",votes_gop:688,votes_dem:104,total_votes:812,diff:584,per_gop:.8472906403940886,per_dem:.12807881773399016,per_point_diff:.7192118226600985},{state_name:"North Dakota",county_fips:38085,county_name:"Sioux County",votes_gop:258,votes_dem:804,total_votes:1186,diff:-546,per_gop:.2175379426644182,per_dem:.6779089376053963,per_point_diff:-.4603709949409781},{state_name:"North Dakota",county_fips:38087,county_name:"Slope County",votes_gop:380,votes_dem:44,total_votes:427,diff:336,per_gop:.8899297423887588,per_dem:.10304449648711944,per_point_diff:.7868852459016393},{state_name:"North Dakota",county_fips:38089,county_name:"Stark County",votes_gop:12110,votes_dem:2499,total_votes:15050,diff:9611,per_gop:.8046511627906977,per_dem:.16604651162790698,per_point_diff:.6386046511627907},{state_name:"North Dakota",county_fips:38091,county_name:"Steele County",votes_gop:652,votes_dem:392,total_votes:1088,diff:260,per_gop:.5992647058823529,per_dem:.3602941176470588,per_point_diff:.2389705882352941},{state_name:"North Dakota",county_fips:38093,county_name:"Stutsman County",votes_gop:6994,votes_dem:2676,total_votes:9959,diff:4318,per_gop:.7022793453157947,per_dem:.26870167687518826,per_point_diff:.43357766844060647},{state_name:"North Dakota",county_fips:38095,county_name:"Towner County",votes_gop:830,votes_dem:317,total_votes:1174,diff:513,per_gop:.706984667802385,per_dem:.27001703577512776,per_point_diff:.43696763202725725},{state_name:"North Dakota",county_fips:38097,county_name:"Traill County",votes_gop:2522,votes_dem:1493,total_votes:4136,diff:1029,per_gop:.6097678916827853,per_dem:.3609767891682785,per_point_diff:.2487911025145068},{state_name:"North Dakota",county_fips:38099,county_name:"Walsh County",votes_gop:3324,votes_dem:1333,total_votes:4783,diff:1991,per_gop:.6949613213464353,per_dem:.27869537946895256,per_point_diff:.4162659418774827},{state_name:"North Dakota",county_fips:38101,county_name:"Ward County",votes_gop:19974,votes_dem:7293,total_votes:28246,diff:12681,per_gop:.7071443744246974,per_dem:.2581958507399278,per_point_diff:.44894852368476956},{state_name:"North Dakota",county_fips:38103,county_name:"Wells County",votes_gop:1893,votes_dem:442,total_votes:2374,diff:1451,per_gop:.7973883740522325,per_dem:.18618365627632688,per_point_diff:.6112047177759057},{state_name:"North Dakota",county_fips:38105,county_name:"Williams County",votes_gop:11739,votes_dem:2169,total_votes:14334,diff:9570,per_gop:.8189619087484303,per_dem:.15131854332356634,per_point_diff:.667643365424864},{state_name:"Ohio",county_fips:39001,county_name:"Adams County",votes_gop:9870,votes_dem:2156,total_votes:12145,diff:7714,per_gop:.8126801152737753,per_dem:.17752161383285303,per_point_diff:.6351585014409222},{state_name:"Ohio",county_fips:39003,county_name:"Allen County",votes_gop:33116,votes_dem:14149,total_votes:48006,diff:18967,per_gop:.6898304378619339,per_dem:.2947339915843853,per_point_diff:.3950964462775486},{state_name:"Ohio",county_fips:39005,county_name:"Ashland County",votes_gop:19407,votes_dem:6541,total_votes:26405,diff:12866,per_gop:.7349744366597235,per_dem:.24771823518273053,per_point_diff:.487256201476993},{state_name:"Ohio",county_fips:39007,county_name:"Ashtabula County",votes_gop:26890,votes_dem:16497,total_votes:44147,diff:10393,per_gop:.6091014111944186,per_dem:.3736833759938388,per_point_diff:.23541803520057986},{state_name:"Ohio",county_fips:39009,county_name:"Athens County",votes_gop:10862,votes_dem:14772,total_votes:26059,diff:-3910,per_gop:.4168233623700065,per_dem:.5668674929966614,per_point_diff:-.1500441306266549},{state_name:"Ohio",county_fips:39011,county_name:"Auglaize County",votes_gop:20798,votes_dem:4651,total_votes:25777,diff:16147,per_gop:.8068433099274547,per_dem:.18043216821197192,per_point_diff:.6264111417154827},{state_name:"Ohio",county_fips:39013,county_name:"Belmont County",votes_gop:23560,votes_dem:9138,total_votes:33088,diff:14422,per_gop:.7120406189555126,per_dem:.27617263056092844,per_point_diff:.4358679883945842},{state_name:"Ohio",county_fips:39015,county_name:"Brown County",votes_gop:16480,votes_dem:4380,total_votes:21096,diff:12100,per_gop:.7811907470610542,per_dem:.20762229806598406,per_point_diff:.5735684489950701},{state_name:"Ohio",county_fips:39017,county_name:"Butler County",votes_gop:114392,votes_dem:69613,total_votes:186737,diff:44779,per_gop:.612583473012847,per_dem:.37278632515248716,per_point_diff:.23979714786035983},{state_name:"Ohio",county_fips:39019,county_name:"Carroll County",votes_gop:10745,votes_dem:3251,total_votes:14212,diff:7494,per_gop:.7560512243174782,per_dem:.2287503518153673,per_point_diff:.5273008725021109},{state_name:"Ohio",county_fips:39021,county_name:"Champaign County",votes_gop:14589,votes_dem:5062,total_votes:19972,diff:9527,per_gop:.730472661726417,per_dem:.25345483677148006,per_point_diff:.47701782495493694},{state_name:"Ohio",county_fips:39023,county_name:"Clark County",votes_gop:39032,votes_dem:24076,total_votes:64212,diff:14956,per_gop:.6078614589173363,per_dem:.3749454930542578,per_point_diff:.23291596586307856},{state_name:"Ohio",county_fips:39025,county_name:"Clermont County",votes_gop:74570,votes_dem:34092,total_votes:110480,diff:40478,per_gop:.6749637943519189,per_dem:.30858073859522084,per_point_diff:.36638305575669805},{state_name:"Ohio",county_fips:39027,county_name:"Clinton County",votes_gop:15488,votes_dem:4697,total_votes:20527,diff:10791,per_gop:.7545184391289521,per_dem:.2288205777756126,per_point_diff:.5256978613533395},{state_name:"Ohio",county_fips:39029,county_name:"Columbiana County",votes_gop:35726,votes_dem:13359,total_votes:49860,diff:22367,per_gop:.7165262735659848,per_dem:.26793020457280387,per_point_diff:.4485960689931809},{state_name:"Ohio",county_fips:39031,county_name:"Coshocton County",votes_gop:12325,votes_dem:4125,total_votes:16739,diff:8200,per_gop:.7363044387358862,per_dem:.24643049166616882,per_point_diff:.48987394706971743},{state_name:"Ohio",county_fips:39033,county_name:"Crawford County",votes_gop:15436,votes_dem:4916,total_votes:20686,diff:10520,per_gop:.7462051629121145,per_dem:.2376486512617229,per_point_diff:.5085565116503916},{state_name:"Ohio",county_fips:39035,county_name:"Cuyahoga County",votes_gop:202699,votes_dem:416176,total_votes:625670,diff:-213477,per_gop:.323971102977608,per_dem:.6651685393258427,per_point_diff:-.34119743634823474},{state_name:"Ohio",county_fips:39037,county_name:"Darke County",votes_gop:22004,votes_dem:4731,total_votes:27134,diff:17273,per_gop:.8109383061841232,per_dem:.17435689540797522,per_point_diff:.636581410776148},{state_name:"Ohio",county_fips:39039,county_name:"Defiance County",votes_gop:13038,votes_dem:5981,total_votes:19381,diff:7057,per_gop:.6727207058459316,per_dem:.30860120736804086,per_point_diff:.3641194984778907},{state_name:"Ohio",county_fips:39041,county_name:"Delaware County",votes_gop:66356,votes_dem:57735,total_votes:126070,diff:8621,per_gop:.5263425081304037,per_dem:.4579598635678591,per_point_diff:.06838264456254461},{state_name:"Ohio",county_fips:39043,county_name:"Erie County",votes_gop:22160,votes_dem:17493,total_votes:40335,diff:4667,per_gop:.5493987851741664,per_dem:.4336928226106359,per_point_diff:.1157059625635305},{state_name:"Ohio",county_fips:39045,county_name:"Fairfield County",votes_gop:50797,votes_dem:31224,total_votes:83311,diff:19573,per_gop:.6097274069450612,per_dem:.37478844330280514,per_point_diff:.23493896364225608},{state_name:"Ohio",county_fips:39047,county_name:"Fayette County",votes_gop:9473,votes_dem:2975,total_votes:12612,diff:6498,per_gop:.7511100539169046,per_dem:.23588645734221375,per_point_diff:.5152235965746907},{state_name:"Ohio",county_fips:39049,county_name:"Franklin County",votes_gop:211237,votes_dem:409144,total_votes:630577,diff:-197907,per_gop:.33499001707959536,per_dem:.648840664978266,per_point_diff:-.3138506478986706},{state_name:"Ohio",county_fips:39051,county_name:"Fulton County",votes_gop:15731,votes_dem:6664,total_votes:22770,diff:9067,per_gop:.6908651734738691,per_dem:.29266578831796225,per_point_diff:.39819938515590686},{state_name:"Ohio",county_fips:39053,county_name:"Gallia County",votes_gop:10645,votes_dem:2990,total_votes:13799,diff:7655,per_gop:.7714327125153997,per_dem:.21668236828755708,per_point_diff:.5547503442278426},{state_name:"Ohio",county_fips:39055,county_name:"Geauga County",votes_gop:34143,votes_dem:21201,total_votes:56021,diff:12942,per_gop:.6094678781171347,per_dem:.37844736795130396,per_point_diff:.2310205101658307},{state_name:"Ohio",county_fips:39057,county_name:"Greene County",votes_gop:52072,votes_dem:34798,total_votes:88643,diff:17274,per_gop:.5874349920467493,per_dem:.39256342858432136,per_point_diff:.19487156346242795},{state_name:"Ohio",county_fips:39059,county_name:"Guernsey County",votes_gop:13407,votes_dem:4577,total_votes:18230,diff:8830,per_gop:.7354360943499726,per_dem:.2510696653867252,per_point_diff:.4843664289632474},{state_name:"Ohio",county_fips:39061,county_name:"Hamilton County",votes_gop:177886,votes_dem:246266,total_votes:430929,diff:-68380,per_gop:.41279653956916335,per_dem:.5714769718445498,per_point_diff:-.15868043227538647},{state_name:"Ohio",county_fips:39063,county_name:"Hancock County",votes_gop:26310,votes_dem:11757,total_votes:38771,diff:14553,per_gop:.6785999845245158,per_dem:.30324211395114903,per_point_diff:.3753578705733667},{state_name:"Ohio",county_fips:39065,county_name:"Hardin County",votes_gop:9949,votes_dem:3062,total_votes:13247,diff:6887,per_gop:.7510379708613271,per_dem:.23114667471880426,per_point_diff:.5198912961425228},{state_name:"Ohio",county_fips:39067,county_name:"Harrison County",votes_gop:5792,votes_dem:1768,total_votes:7655,diff:4024,per_gop:.756629653821032,per_dem:.2309601567602874,per_point_diff:.5256694970607446},{state_name:"Ohio",county_fips:39069,county_name:"Henry County",votes_gop:10479,votes_dem:4062,total_votes:14764,diff:6417,per_gop:.7097670008127879,per_dem:.2751286914115416,per_point_diff:.43463830940124626},{state_name:"Ohio",county_fips:39071,county_name:"Highland County",votes_gop:15678,votes_dem:3799,total_votes:19676,diff:11879,per_gop:.7968082943687741,per_dem:.19307786135393373,per_point_diff:.6037304330148403},{state_name:"Ohio",county_fips:39073,county_name:"Hocking County",votes_gop:9737,votes_dem:3880,total_votes:13824,diff:5857,per_gop:.7043547453703703,per_dem:.2806712962962963,per_point_diff:.42368344907407407},{state_name:"Ohio",county_fips:39075,county_name:"Holmes County",votes_gop:10796,votes_dem:1994,total_votes:12947,diff:8802,per_gop:.8338611261296053,per_dem:.15401251255117016,per_point_diff:.6798486135784352},{state_name:"Ohio",county_fips:39077,county_name:"Huron County",votes_gop:18956,votes_dem:7759,total_votes:27190,diff:11197,per_gop:.6971680764987127,per_dem:.285362265538801,per_point_diff:.4118058109599117},{state_name:"Ohio",county_fips:39079,county_name:"Jackson County",votes_gop:11309,votes_dem:3311,total_votes:14794,diff:7998,per_gop:.7644315262944437,per_dem:.22380694876301202,per_point_diff:.5406245775314317},{state_name:"Ohio",county_fips:39081,county_name:"Jefferson County",votes_gop:22828,votes_dem:10018,total_votes:33362,diff:12810,per_gop:.6842515436724417,per_dem:.300281757688388,per_point_diff:.3839697859840537},{state_name:"Ohio",county_fips:39083,county_name:"Knox County",votes_gop:22340,votes_dem:8589,total_votes:31398,diff:13751,per_gop:.7115102872794445,per_dem:.2735524555704185,per_point_diff:.437957831709026},{state_name:"Ohio",county_fips:39085,county_name:"Lake County",votes_gop:73278,votes_dem:55514,total_votes:130509,diff:17764,per_gop:.5614785187228467,per_dem:.4253653004773617,per_point_diff:.136113218245485},{state_name:"Ohio",county_fips:39087,county_name:"Lawrence County",votes_gop:20306,votes_dem:7489,total_votes:28127,diff:12817,per_gop:.7219397731716856,per_dem:.2662566217513421,per_point_diff:.45568315142034344},{state_name:"Ohio",county_fips:39089,county_name:"Licking County",votes_gop:59514,votes_dem:33055,total_votes:94210,diff:26459,per_gop:.6317163783037895,per_dem:.35086508863178006,per_point_diff:.2808512896720094},{state_name:"Ohio",county_fips:39091,county_name:"Logan County",votes_gop:17964,votes_dem:5055,total_votes:23368,diff:12909,per_gop:.7687435809654228,per_dem:.21632146525162615,per_point_diff:.5524221157137967},{state_name:"Ohio",county_fips:39093,county_name:"Lorain County",votes_gop:79520,votes_dem:75667,total_votes:157437,diff:3853,per_gop:.5050909252589925,per_dem:.48061764388295003,per_point_diff:.024473281376042433},{state_name:"Ohio",county_fips:39095,county_name:"Lucas County",votes_gop:81763,votes_dem:115411,total_votes:200623,diff:-33648,per_gop:.4075454957806433,per_dem:.5752630555818625,per_point_diff:-.16771755980121922},{state_name:"Ohio",county_fips:39097,county_name:"Madison County",votes_gop:13835,votes_dem:5698,total_votes:19855,diff:8137,per_gop:.6968018131453034,per_dem:.2869806094182826,per_point_diff:.40982120372702086},{state_name:"Ohio",county_fips:39099,county_name:"Mahoning County",votes_gop:59903,votes_dem:57641,total_votes:118966,diff:2262,per_gop:.5035304204562648,per_dem:.48451658457038144,per_point_diff:.0190138358858834},{state_name:"Ohio",county_fips:39101,county_name:"Marion County",votes_gop:19023,votes_dem:8269,total_votes:27818,diff:10754,per_gop:.6838378028614566,per_dem:.29725357682076353,per_point_diff:.38658422604069304},{state_name:"Ohio",county_fips:39103,county_name:"Medina County",votes_gop:64598,votes_dem:39800,total_votes:105825,diff:24798,per_gop:.6104228679423577,per_dem:.3760926057169856,per_point_diff:.23433026222537207},{state_name:"Ohio",county_fips:39105,county_name:"Meigs County",votes_gop:8316,votes_dem:2492,total_votes:10951,diff:5824,per_gop:.7593827047758196,per_dem:.22755912702036343,per_point_diff:.5318235777554562},{state_name:"Ohio",county_fips:39107,county_name:"Mercer County",votes_gop:19452,votes_dem:4030,total_votes:23761,diff:15422,per_gop:.8186524136189555,per_dem:.16960565632759564,per_point_diff:.6490467572913599},{state_name:"Ohio",county_fips:39109,county_name:"Miami County",votes_gop:41371,votes_dem:15663,total_votes:57972,diff:25708,per_gop:.7136376181604913,per_dem:.27018215690333264,per_point_diff:.4434554612571587},{state_name:"Ohio",county_fips:39111,county_name:"Monroe County",votes_gop:5463,votes_dem:1605,total_votes:7148,diff:3858,per_gop:.7642697257974258,per_dem:.2245383324006715,per_point_diff:.5397313933967542},{state_name:"Ohio",county_fips:39113,county_name:"Montgomery County",votes_gop:129034,votes_dem:135064,total_votes:268505,diff:-6030,per_gop:.4805646077354239,per_dem:.5030222900877078,per_point_diff:-.022457682352283903},{state_name:"Ohio",county_fips:39115,county_name:"Morgan County",votes_gop:5041,votes_dem:1725,total_votes:6847,diff:3316,per_gop:.7362348473784139,per_dem:.2519351540820797,per_point_diff:.4842996932963342},{state_name:"Ohio",county_fips:39117,county_name:"Morrow County",votes_gop:14077,votes_dem:4048,total_votes:18457,diff:10029,per_gop:.762691661700168,per_dem:.21932058297664841,per_point_diff:.5433710787235195},{state_name:"Ohio",county_fips:39119,county_name:"Muskingum County",votes_gop:27867,votes_dem:11971,total_votes:40465,diff:15896,per_gop:.6886692203138515,per_dem:.29583590757444705,per_point_diff:.3928333127394044},{state_name:"Ohio",county_fips:39121,county_name:"Noble County",votes_gop:5135,votes_dem:1170,total_votes:6343,diff:3965,per_gop:.8095538388775028,per_dem:.18445530506069682,per_point_diff:.6250985338168059},{state_name:"Ohio",county_fips:39123,county_name:"Ottawa County",votes_gop:14628,votes_dem:9008,total_votes:24007,diff:5620,per_gop:.6093222810013746,per_dem:.37522389303119924,per_point_diff:.2340983879701754},{state_name:"Ohio",county_fips:39125,county_name:"Paulding County",votes_gop:7086,votes_dem:2213,total_votes:9467,diff:4873,per_gop:.7484947713108694,per_dem:.23375937466990598,per_point_diff:.5147353966409633},{state_name:"Ohio",county_fips:39127,county_name:"Perry County",votes_gop:12357,votes_dem:4098,total_votes:16675,diff:8259,per_gop:.7410494752623689,per_dem:.24575712143928036,per_point_diff:.4952923538230885},{state_name:"Ohio",county_fips:39129,county_name:"Pickaway County",votes_gop:20593,votes_dem:7304,total_votes:28271,diff:13289,per_gop:.7284142761133316,per_dem:.25835661985780484,per_point_diff:.4700576562555268},{state_name:"Ohio",county_fips:39131,county_name:"Pike County",votes_gop:9157,votes_dem:3110,total_votes:12412,diff:6047,per_gop:.7377537866580728,per_dem:.250563970351273,per_point_diff:.4871898163067998},{state_name:"Ohio",county_fips:39133,county_name:"Portage County",votes_gop:45990,votes_dem:35661,total_votes:82872,diff:10329,per_gop:.5549522154648132,per_dem:.43031421951925863,per_point_diff:.12463799594555458},{state_name:"Ohio",county_fips:39135,county_name:"Preble County",votes_gop:17022,votes_dem:4493,total_votes:21809,diff:12529,per_gop:.7805034618735385,per_dem:.20601586500985833,per_point_diff:.5744875968636801},{state_name:"Ohio",county_fips:39137,county_name:"Putnam County",votes_gop:16412,votes_dem:3195,total_votes:19921,diff:13217,per_gop:.8238542241855329,per_dem:.16038351488379096,per_point_diff:.6634707093017419},{state_name:"Ohio",county_fips:39139,county_name:"Richland County",votes_gop:41472,votes_dem:17640,total_votes:59975,diff:23832,per_gop:.6914881200500208,per_dem:.2941225510629429,per_point_diff:.3973655689870779},{state_name:"Ohio",county_fips:39141,county_name:"Ross County",votes_gop:22278,votes_dem:10557,total_votes:33299,diff:11721,per_gop:.6690290999729721,per_dem:.3170365476440734,per_point_diff:.3519925523288987},{state_name:"Ohio",county_fips:39143,county_name:"Sandusky County",votes_gop:18896,votes_dem:10596,total_votes:30074,diff:8300,per_gop:.6283168185143313,per_dem:.3523309170712243,per_point_diff:.275985901443107},{state_name:"Ohio",county_fips:39145,county_name:"Scioto County",votes_gop:22609,votes_dem:9080,total_votes:32047,diff:13529,per_gop:.705495054139233,per_dem:.28333385340281464,per_point_diff:.42216120073641833},{state_name:"Ohio",county_fips:39147,county_name:"Seneca County",votes_gop:17086,votes_dem:8266,total_votes:25810,diff:8820,per_gop:.6619914761720264,per_dem:.3202634637737311,per_point_diff:.34172801239829526},{state_name:"Ohio",county_fips:39149,county_name:"Shelby County",votes_gop:20422,votes_dem:4465,total_votes:25258,diff:15957,per_gop:.8085359094148389,per_dem:.1767756750336527,per_point_diff:.6317602343811861},{state_name:"Ohio",county_fips:39151,county_name:"Stark County",votes_gop:111097,votes_dem:75904,total_votes:189879,diff:35193,per_gop:.5850936649129183,per_dem:.399749314036834,per_point_diff:.18534435087608425},{state_name:"Ohio",county_fips:39153,county_name:"Summit County",votes_gop:124833,votes_dem:151668,total_votes:280473,diff:-26835,per_gop:.4450802751066948,per_dem:.5407579339187729,per_point_diff:-.09567765881207813},{state_name:"Ohio",county_fips:39155,county_name:"Trumbull County",votes_gop:55194,votes_dem:44519,total_votes:101001,diff:10675,per_gop:.5464698369323076,per_dem:.4407778140810487,per_point_diff:.10569202285125884},{state_name:"Ohio",county_fips:39157,county_name:"Tuscarawas County",votes_gop:30458,votes_dem:12889,total_votes:44015,diff:17569,per_gop:.6919913665795752,per_dem:.2928319890946268,per_point_diff:.39915937748494834},{state_name:"Ohio",county_fips:39159,county_name:"Union County",votes_gop:21669,votes_dem:11141,total_votes:33445,diff:10528,per_gop:.647899536552549,per_dem:.3331140678726267,per_point_diff:.31478546867992224},{state_name:"Ohio",county_fips:39161,county_name:"Van Wert County",votes_gop:11650,votes_dem:3067,total_votes:14965,diff:8583,per_gop:.7784831272970264,per_dem:.2049448713665219,per_point_diff:.5735382559305044},{state_name:"Ohio",county_fips:39163,county_name:"Vinton County",votes_gop:4632,votes_dem:1331,total_votes:6030,diff:3301,per_gop:.7681592039800995,per_dem:.2207296849087894,per_point_diff:.5474295190713101},{state_name:"Ohio",county_fips:39165,county_name:"Warren County",votes_gop:87988,votes_dem:46069,total_votes:136100,diff:41919,per_gop:.6464952240999265,per_dem:.3384937545922116,per_point_diff:.30800146950771495},{state_name:"Ohio",county_fips:39167,county_name:"Washington County",votes_gop:22307,votes_dem:9243,total_votes:32031,diff:13064,per_gop:.6964190940026849,per_dem:.2885642034279292,per_point_diff:.40785489057475566},{state_name:"Ohio",county_fips:39169,county_name:"Wayne County",votes_gop:36759,votes_dem:16660,total_votes:54283,diff:20099,per_gop:.6771733323508281,per_dem:.3069100823462226,per_point_diff:.3702632500046055},{state_name:"Ohio",county_fips:39171,county_name:"Williams County",votes_gop:13452,votes_dem:4842,total_votes:18651,diff:8610,per_gop:.7212481904455526,per_dem:.2596107447321859,per_point_diff:.4616374457133666},{state_name:"Ohio",county_fips:39173,county_name:"Wood County",votes_gop:35757,votes_dem:30617,total_votes:67597,diff:5140,per_gop:.5289731792831043,per_dem:.45293430181812805,per_point_diff:.07603887746497623},{state_name:"Ohio",county_fips:39175,county_name:"Wyandot County",votes_gop:8462,votes_dem:2733,total_votes:11390,diff:5729,per_gop:.7429323968393328,per_dem:.2399473222124671,per_point_diff:.5029850746268657},{state_name:"Oklahoma",county_fips:40001,county_name:"Adair County",votes_gop:5585,votes_dem:1387,total_votes:7108,diff:4198,per_gop:.7857343837929094,per_dem:.19513224535734383,per_point_diff:.5906021384355655},{state_name:"Oklahoma",county_fips:40003,county_name:"Alfalfa County",votes_gop:1978,votes_dem:232,total_votes:2262,diff:1746,per_gop:.874447391688771,per_dem:.10256410256410256,per_point_diff:.7718832891246684},{state_name:"Oklahoma",county_fips:40005,county_name:"Atoka County",votes_gop:4557,votes_dem:765,total_votes:5389,diff:3792,per_gop:.8456114306921507,per_dem:.14195583596214512,per_point_diff:.7036555947300056},{state_name:"Oklahoma",county_fips:40007,county_name:"Beaver County",votes_gop:1968,votes_dem:190,total_votes:2178,diff:1778,per_gop:.9035812672176309,per_dem:.08723599632690542,per_point_diff:.8163452708907255},{state_name:"Oklahoma",county_fips:40009,county_name:"Beckham County",votes_gop:6767,votes_dem:1048,total_votes:7948,diff:5719,per_gop:.8514091595369905,per_dem:.1318570709612481,per_point_diff:.7195520885757424},{state_name:"Oklahoma",county_fips:40011,county_name:"Blaine County",votes_gop:3136,votes_dem:688,total_votes:3901,diff:2448,per_gop:.803896436811074,per_dem:.17636503460651115,per_point_diff:.6275314022045628},{state_name:"Oklahoma",county_fips:40013,county_name:"Bryan County",votes_gop:12344,votes_dem:3323,total_votes:15976,diff:9021,per_gop:.7726589884827241,per_dem:.20799949924887332,per_point_diff:.5646594892338508},{state_name:"Oklahoma",county_fips:40015,county_name:"Caddo County",votes_gop:7013,votes_dem:2670,total_votes:9859,diff:4343,per_gop:.7113297494674916,per_dem:.2708185414342225,per_point_diff:.4405112080332691},{state_name:"Oklahoma",county_fips:40017,county_name:"Canadian County",votes_gop:43550,votes_dem:16742,total_votes:61940,diff:26808,per_gop:.7030997739748144,per_dem:.2702938327413626,per_point_diff:.4328059412334518},{state_name:"Oklahoma",county_fips:40019,county_name:"Carter County",votes_gop:14699,votes_dem:4470,total_votes:19479,diff:10229,per_gop:.7546075260536989,per_dem:.22947789927614354,per_point_diff:.5251296267775554},{state_name:"Oklahoma",county_fips:40021,county_name:"Cherokee County",votes_gop:11223,votes_dem:6027,total_votes:17714,diff:5196,per_gop:.6335666704301682,per_dem:.34023935869933386,per_point_diff:.2933273117308344},{state_name:"Oklahoma",county_fips:40023,county_name:"Choctaw County",votes_gop:4698,votes_dem:1082,total_votes:5832,diff:3616,per_gop:.8055555555555556,per_dem:.1855281207133059,per_point_diff:.6200274348422496},{state_name:"Oklahoma",county_fips:40025,county_name:"Cimarron County",votes_gop:970,votes_dem:70,total_votes:1054,diff:900,per_gop:.920303605313093,per_dem:.06641366223908918,per_point_diff:.8538899430740038},{state_name:"Oklahoma",county_fips:40027,county_name:"Cleveland County",votes_gop:66677,votes_dem:49827,total_votes:119778,diff:16850,per_gop:.5566715089582394,per_dem:.41599458999148425,per_point_diff:.1406769189667551},{state_name:"Oklahoma",county_fips:40029,county_name:"Coal County",votes_gop:2091,votes_dem:374,total_votes:2524,diff:1717,per_gop:.8284469096671949,per_dem:.14817749603803487,per_point_diff:.68026941362916},{state_name:"Oklahoma",county_fips:40031,county_name:"Comanche County",votes_gop:20905,votes_dem:13747,total_votes:35631,diff:7158,per_gop:.5867082035306335,per_dem:.38581572226432037,per_point_diff:.2008924812663131},{state_name:"Oklahoma",county_fips:40033,county_name:"Cotton County",votes_gop:2117,votes_dem:393,total_votes:2572,diff:1724,per_gop:.823094867807154,per_dem:.15279937791601866,per_point_diff:.6702954898911353},{state_name:"Oklahoma",county_fips:40035,county_name:"Craig County",votes_gop:4686,votes_dem:1217,total_votes:6032,diff:3469,per_gop:.7768567639257294,per_dem:.20175729442970822,per_point_diff:.5750994694960212},{state_name:"Oklahoma",county_fips:40037,county_name:"Creek County",votes_gop:23294,votes_dem:6577,total_votes:30505,diff:16717,per_gop:.763612522537289,per_dem:.21560399934436977,per_point_diff:.5480085231929192},{state_name:"Oklahoma",county_fips:40039,county_name:"Custer County",votes_gop:8060,votes_dem:2369,total_votes:10691,diff:5691,per_gop:.7539051538677393,per_dem:.22158825180057992,per_point_diff:.5323169020671593},{state_name:"Oklahoma",county_fips:40041,county_name:"Delaware County",votes_gop:13557,votes_dem:3472,total_votes:17245,diff:10085,per_gop:.7861409104088142,per_dem:.20133371991881704,per_point_diff:.5848071904899972},{state_name:"Oklahoma",county_fips:40043,county_name:"Dewey County",votes_gop:2124,votes_dem:214,total_votes:2359,diff:1910,per_gop:.9003815175922001,per_dem:.0907164052564646,per_point_diff:.8096651123357355},{state_name:"Oklahoma",county_fips:40045,county_name:"Ellis County",votes_gop:1688,votes_dem:162,total_votes:1873,diff:1526,per_gop:.9012279765082755,per_dem:.08649225840896957,per_point_diff:.8147357180993059},{state_name:"Oklahoma",county_fips:40047,county_name:"Garfield County",votes_gop:16970,votes_dem:4919,total_votes:22430,diff:12051,per_gop:.7565760142666073,per_dem:.2193045028979046,per_point_diff:.5372715113687027},{state_name:"Oklahoma",county_fips:40049,county_name:"Garvin County",votes_gop:8878,votes_dem:1865,total_votes:10922,diff:7013,per_gop:.8128547885002747,per_dem:.17075627174510163,per_point_diff:.642098516755173},{state_name:"Oklahoma",county_fips:40051,county_name:"Grady County",votes_gop:18538,votes_dem:4144,total_votes:23101,diff:14394,per_gop:.8024760832864378,per_dem:.17938617375871174,per_point_diff:.623089909527726},{state_name:"Oklahoma",county_fips:40053,county_name:"Grant County",votes_gop:1916,votes_dem:280,total_votes:2226,diff:1636,per_gop:.8607367475292004,per_dem:.12578616352201258,per_point_diff:.7349505840071878},{state_name:"Oklahoma",county_fips:40055,county_name:"Greer County",votes_gop:1605,votes_dem:328,total_votes:1973,diff:1277,per_gop:.8134820070957932,per_dem:.16624429802331475,per_point_diff:.6472377090724785},{state_name:"Oklahoma",county_fips:40057,county_name:"Harmon County",votes_gop:747,votes_dem:177,total_votes:933,diff:570,per_gop:.8006430868167203,per_dem:.18971061093247588,per_point_diff:.6109324758842444},{state_name:"Oklahoma",county_fips:40059,county_name:"Harper County",votes_gop:1327,votes_dem:136,total_votes:1487,diff:1191,per_gop:.8924008069939475,per_dem:.09145931405514458,per_point_diff:.8009414929388029},{state_name:"Oklahoma",county_fips:40061,county_name:"Haskell County",votes_gop:4165,votes_dem:783,total_votes:5014,diff:3382,per_gop:.8306741124850419,per_dem:.15616274431591542,per_point_diff:.6745113681691264},{state_name:"Oklahoma",county_fips:40063,county_name:"Hughes County",votes_gop:3875,votes_dem:919,total_votes:4857,diff:2956,per_gop:.7978175828700844,per_dem:.18921144739551163,per_point_diff:.6086061354745728},{state_name:"Oklahoma",county_fips:40065,county_name:"Jackson County",votes_gop:6392,votes_dem:1646,total_votes:8221,diff:4746,per_gop:.7775209828488019,per_dem:.2002189514657584,per_point_diff:.5773020313830435},{state_name:"Oklahoma",county_fips:40067,county_name:"Jefferson County",votes_gop:2026,votes_dem:319,total_votes:2385,diff:1707,per_gop:.8494758909853249,per_dem:.13375262054507336,per_point_diff:.7157232704402516},{state_name:"Oklahoma",county_fips:40069,county_name:"Johnston County",votes_gop:3441,votes_dem:738,total_votes:4251,diff:2703,per_gop:.8094565984474241,per_dem:.17360621030345802,per_point_diff:.6358503881439661},{state_name:"Oklahoma",county_fips:40071,county_name:"Kay County",votes_gop:12834,votes_dem:4040,total_votes:17249,diff:8794,per_gop:.7440431329352426,per_dem:.23421647631746767,per_point_diff:.5098266566177749},{state_name:"Oklahoma",county_fips:40073,county_name:"Kingfisher County",votes_gop:5521,votes_dem:854,total_votes:6465,diff:4667,per_gop:.8539829853054911,per_dem:.13209590100541377,per_point_diff:.7218870843000773},{state_name:"Oklahoma",county_fips:40075,county_name:"Kiowa County",votes_gop:2673,votes_dem:699,total_votes:3427,diff:1974,per_gop:.7799824919754887,per_dem:.2039684855558798,per_point_diff:.576014006419609},{state_name:"Oklahoma",county_fips:40077,county_name:"Latimer County",votes_gop:3437,votes_dem:762,total_votes:4249,diff:2675,per_gop:.8088962108731467,per_dem:.179336314426924,per_point_diff:.6295598964462227},{state_name:"Oklahoma",county_fips:40079,county_name:"Le Flore County",votes_gop:15213,votes_dem:3299,total_votes:18805,diff:11914,per_gop:.8089869715501197,per_dem:.1754320659399096,per_point_diff:.6335549056102101},{state_name:"Oklahoma",county_fips:40081,county_name:"Lincoln County",votes_gop:12013,votes_dem:2609,total_votes:14888,diff:9404,per_gop:.8068914562063407,per_dem:.17524180548092425,per_point_diff:.6316496507254165},{state_name:"Oklahoma",county_fips:40083,county_name:"Logan County",votes_gop:15608,votes_dem:5455,total_votes:21574,diff:10153,per_gop:.7234634282006118,per_dem:.2528506535644758,per_point_diff:.47061277463613604},{state_name:"Oklahoma",county_fips:40085,county_name:"Love County",votes_gop:3305,votes_dem:711,total_votes:4076,diff:2594,per_gop:.8108439646712463,per_dem:.17443572129538765,per_point_diff:.6364082433758587},{state_name:"Oklahoma",county_fips:40087,county_name:"McClain County",votes_gop:15295,votes_dem:3582,total_votes:19236,diff:11713,per_gop:.7951237263464338,per_dem:.18621334996880848,per_point_diff:.6089103763776254},{state_name:"Oklahoma",county_fips:40089,county_name:"McCurtain County",votes_gop:9485,votes_dem:1858,total_votes:11467,diff:7627,per_gop:.8271561873201361,per_dem:.16203017354146682,per_point_diff:.6651260137786692},{state_name:"Oklahoma",county_fips:40091,county_name:"McIntosh County",votes_gop:6172,votes_dem:2031,total_votes:8335,diff:4141,per_gop:.740491901619676,per_dem:.24367126574685063,per_point_diff:.49682063587282543},{state_name:"Oklahoma",county_fips:40093,county_name:"Major County",votes_gop:3084,votes_dem:320,total_votes:3467,diff:2764,per_gop:.8895298528987597,per_dem:.0922988174214018,per_point_diff:.797231035477358},{state_name:"Oklahoma",county_fips:40095,county_name:"Marshall County",votes_gop:4891,votes_dem:1100,total_votes:6064,diff:3791,per_gop:.8065633245382586,per_dem:.18139841688654354,per_point_diff:.6251649076517151},{state_name:"Oklahoma",county_fips:40097,county_name:"Mayes County",votes_gop:12749,votes_dem:3581,total_votes:16626,diff:9168,per_gop:.766811018886082,per_dem:.21538554071935523,per_point_diff:.5514254781667268},{state_name:"Oklahoma",county_fips:40099,county_name:"Murray County",votes_gop:4612,votes_dem:1156,total_votes:5894,diff:3456,per_gop:.7824906684764167,per_dem:.19613165931455717,per_point_diff:.5863590091618596},{state_name:"Oklahoma",county_fips:40101,county_name:"Muskogee County",votes_gop:16526,votes_dem:8027,total_votes:25081,diff:8499,per_gop:.6589051473226746,per_dem:.32004306048403175,per_point_diff:.33886208683864283},{state_name:"Oklahoma",county_fips:40103,county_name:"Noble County",votes_gop:3821,votes_dem:1003,total_votes:4938,diff:2818,per_gop:.7737950587282301,per_dem:.20311867152693397,per_point_diff:.5706763872012961},{state_name:"Oklahoma",county_fips:40105,county_name:"Nowata County",votes_gop:3610,votes_dem:712,total_votes:4391,diff:2898,per_gop:.8221361876565703,per_dem:.1621498519699385,per_point_diff:.6599863356866318},{state_name:"Oklahoma",county_fips:40107,county_name:"Okfuskee County",votes_gop:3058,votes_dem:896,total_votes:4038,diff:2162,per_gop:.7573055968301139,per_dem:.2218920257553244,per_point_diff:.5354135710747895},{state_name:"Oklahoma",county_fips:40109,county_name:"Oklahoma County",votes_gop:145050,votes_dem:141724,total_votes:294740,diff:3326,per_gop:.4921286557644025,per_dem:.480844133812852,per_point_diff:.011284521951550497},{state_name:"Oklahoma",county_fips:40111,county_name:"Okmulgee County",votes_gop:9668,votes_dem:4357,total_votes:14313,diff:5311,per_gop:.6754698525815692,per_dem:.30440857961293927,per_point_diff:.37106127296862995},{state_name:"Oklahoma",county_fips:40113,county_name:"Osage County",votes_gop:14121,votes_dem:6002,total_votes:20538,diff:8119,per_gop:.6875547765118317,per_dem:.2922387769013536,per_point_diff:.39531599961047814},{state_name:"Oklahoma",county_fips:40115,county_name:"Ottawa County",votes_gop:8545,votes_dem:2686,total_votes:11438,diff:5859,per_gop:.7470711662878126,per_dem:.2348312642070292,per_point_diff:.5122399020807833},{state_name:"Oklahoma",county_fips:40117,county_name:"Pawnee County",votes_gop:5267,votes_dem:1363,total_votes:6786,diff:3904,per_gop:.7761567933981727,per_dem:.20085470085470086,per_point_diff:.5753020925434718},{state_name:"Oklahoma",county_fips:40119,county_name:"Payne County",votes_gop:17813,votes_dem:10904,total_votes:29643,diff:6909,per_gop:.6009175859393449,per_dem:.3678440103903114,per_point_diff:.23307357554903346},{state_name:"Oklahoma",county_fips:40121,county_name:"Pittsburg County",votes_gop:13851,votes_dem:3768,total_votes:17924,diff:10083,per_gop:.7727627761660344,per_dem:.21022093282749385,per_point_diff:.5625418433385405},{state_name:"Oklahoma",county_fips:40123,county_name:"Pontotoc County",votes_gop:10805,votes_dem:4117,total_votes:15320,diff:6688,per_gop:.7052872062663186,per_dem:.268733681462141,per_point_diff:.4365535248041776},{state_name:"Oklahoma",county_fips:40125,county_name:"Pottawatomie County",votes_gop:20240,votes_dem:7275,total_votes:28185,diff:12965,per_gop:.7181124711726096,per_dem:.2581160191591272,per_point_diff:.4599964520134824},{state_name:"Oklahoma",county_fips:40127,county_name:"Pushmataha County",votes_gop:4016,votes_dem:668,total_votes:4739,diff:3348,per_gop:.8474361679679258,per_dem:.1409580080185693,per_point_diff:.7064781599493565},{state_name:"Oklahoma",county_fips:40129,county_name:"Roger Mills County",votes_gop:1629,votes_dem:168,total_votes:1834,diff:1461,per_gop:.8882224645583424,per_dem:.0916030534351145,per_point_diff:.7966194111232279},{state_name:"Oklahoma",county_fips:40131,county_name:"Rogers County",votes_gop:34031,votes_dem:9589,total_votes:44553,diff:24442,per_gop:.7638318407290193,per_dem:.21522680852018944,per_point_diff:.5486050322088298},{state_name:"Oklahoma",county_fips:40133,county_name:"Seminole County",votes_gop:6011,votes_dem:2150,total_votes:8337,diff:3861,per_gop:.7210027587861341,per_dem:.2578865299268322,per_point_diff:.46311622885930187},{state_name:"Oklahoma",county_fips:40135,county_name:"Sequoyah County",votes_gop:12113,votes_dem:3035,total_votes:15386,diff:9078,per_gop:.7872741453269205,per_dem:.1972572468477837,per_point_diff:.5900168984791369},{state_name:"Oklahoma",county_fips:40137,county_name:"Stephens County",votes_gop:15560,votes_dem:3154,total_votes:19057,diff:12406,per_gop:.8164978747966627,per_dem:.16550348953140578,per_point_diff:.6509943852652569},{state_name:"Oklahoma",county_fips:40139,county_name:"Texas County",votes_gop:4505,votes_dem:894,total_votes:5521,diff:3611,per_gop:.8159753667813802,per_dem:.16192718710378554,per_point_diff:.6540481796775947},{state_name:"Oklahoma",county_fips:40141,county_name:"Tillman County",votes_gop:2076,votes_dem:597,total_votes:2708,diff:1479,per_gop:.7666174298375185,per_dem:.22045790251107827,per_point_diff:.5461595273264401},{state_name:"Oklahoma",county_fips:40143,county_name:"Tulsa County",votes_gop:150574,votes_dem:108996,total_votes:266678,diff:41578,per_gop:.5646285032886103,per_dem:.4087176295007462,per_point_diff:.15591087378786406},{state_name:"Oklahoma",county_fips:40145,county_name:"Wagoner County",votes_gop:26165,votes_dem:8464,total_votes:35338,diff:17701,per_gop:.7404210764615994,per_dem:.23951553568396627,per_point_diff:.500905540777633},{state_name:"Oklahoma",county_fips:40147,county_name:"Washington County",votes_gop:17076,votes_dem:5790,total_votes:23501,diff:11286,per_gop:.7266073784094293,per_dem:.24637249478745585,per_point_diff:.48023488362197353},{state_name:"Oklahoma",county_fips:40149,county_name:"Washita County",votes_gop:4086,votes_dem:598,total_votes:4777,diff:3488,per_gop:.855348545111995,per_dem:.12518316935315052,per_point_diff:.7301653757588444},{state_name:"Oklahoma",county_fips:40151,county_name:"Woods County",votes_gop:2993,votes_dem:591,total_votes:3678,diff:2402,per_gop:.813757476889614,per_dem:.16068515497553018,per_point_diff:.6530723219140838},{state_name:"Oklahoma",county_fips:40153,county_name:"Woodward County",votes_gop:6611,votes_dem:1005,total_votes:7785,diff:5606,per_gop:.8491971740526654,per_dem:.12909441233140656,per_point_diff:.7201027617212588},{state_name:"Oregon",county_fips:41001,county_name:"Baker County",votes_gop:7352,votes_dem:2346,total_votes:9932,diff:5006,per_gop:.7402335884011276,per_dem:.23620620217478855,per_point_diff:.5040273862263391},{state_name:"Oregon",county_fips:41003,county_name:"Benton County",votes_gop:14878,votes_dem:35827,total_votes:52799,diff:-20949,per_gop:.2817856398795432,per_dem:.6785545180779939,per_point_diff:-.39676887819845075},{state_name:"Oregon",county_fips:41005,county_name:"Clackamas County",votes_gop:110509,votes_dem:139043,total_votes:257679,diff:-28534,per_gop:.42886304277803006,per_dem:.5395977165387944,per_point_diff:-.11073467376076435},{state_name:"Oregon",county_fips:41007,county_name:"Clatsop County",votes_gop:10218,votes_dem:12916,total_votes:23910,diff:-2698,per_gop:.4273525721455458,per_dem:.5401923881221247,per_point_diff:-.11283981597657888},{state_name:"Oregon",county_fips:41009,county_name:"Columbia County",votes_gop:17150,votes_dem:13835,total_votes:32221,diff:3315,per_gop:.532261568542255,per_dem:.42937835573073463,per_point_diff:.10288321281152041},{state_name:"Oregon",county_fips:41011,county_name:"Coos County",votes_gop:21829,votes_dem:14243,total_votes:37075,diff:7586,per_gop:.5887795010114633,per_dem:.3841672285906945,per_point_diff:.20461227242076874},{state_name:"Oregon",county_fips:41013,county_name:"Crook County",votes_gop:11287,votes_dem:3801,total_votes:15448,diff:7486,per_gop:.7306447436561367,per_dem:.24605126877265665,per_point_diff:.4845934748834801},{state_name:"Oregon",county_fips:41015,county_name:"Curry County",votes_gop:8484,votes_dem:6058,total_votes:14925,diff:2426,per_gop:.5684422110552764,per_dem:.40589614740368507,per_point_diff:.1625460636515913},{state_name:"Oregon",county_fips:41017,county_name:"Deschutes County",votes_gop:55646,votes_dem:65962,total_votes:125234,diff:-10316,per_gop:.4443362026286791,per_dem:.5267099988820927,per_point_diff:-.08237379625341357},{state_name:"Oregon",county_fips:41019,county_name:"Douglas County",votes_gop:43298,votes_dem:19160,total_votes:64349,diff:24138,per_gop:.6728620491382927,per_dem:.2977513248069123,per_point_diff:.37511072433138043},{state_name:"Oregon",county_fips:41021,county_name:"Gilliam County",votes_gop:834,votes_dem:324,total_votes:1178,diff:510,per_gop:.7079796264855688,per_dem:.27504244482173174,per_point_diff:.43293718166383705},{state_name:"Oregon",county_fips:41023,county_name:"Grant County",votes_gop:3545,votes_dem:929,total_votes:4596,diff:2616,per_gop:.7713228894691035,per_dem:.20213228894691035,per_point_diff:.5691906005221932},{state_name:"Oregon",county_fips:41025,county_name:"Harney County",votes_gop:3475,votes_dem:894,total_votes:4481,diff:2581,per_gop:.7754965409506807,per_dem:.19950903816112475,per_point_diff:.5759875027895559},{state_name:"Oregon",county_fips:41027,county_name:"Hood River County",votes_gop:3955,votes_dem:8764,total_votes:13090,diff:-4809,per_gop:.30213903743315507,per_dem:.6695187165775401,per_point_diff:-.3673796791443851},{state_name:"Oregon",county_fips:41029,county_name:"Jackson County",votes_gop:63869,votes_dem:59478,total_votes:127165,diff:4391,per_gop:.5022529784138717,per_dem:.4677230369991743,per_point_diff:.03452994141469745},{state_name:"Oregon",county_fips:41031,county_name:"Jefferson County",votes_gop:7189,votes_dem:4393,total_votes:11913,diff:2796,per_gop:.6034584067825065,per_dem:.368756820280366,per_point_diff:.2347015865021405},{state_name:"Oregon",county_fips:41033,county_name:"Josephine County",votes_gop:31751,votes_dem:18451,total_votes:51641,diff:13300,per_gop:.614840920973645,per_dem:.35729362328382486,per_point_diff:.2575472976898201},{state_name:"Oregon",county_fips:41035,county_name:"Klamath County",votes_gop:25308,votes_dem:10388,total_votes:36726,diff:14920,per_gop:.6891030877307629,per_dem:.2828513859391167,per_point_diff:.4062517017916462},{state_name:"Oregon",county_fips:41037,county_name:"Lake County",votes_gop:3470,votes_dem:792,total_votes:4363,diff:2678,per_gop:.7953243181297273,per_dem:.18152647261058905,per_point_diff:.6137978455191382},{state_name:"Oregon",county_fips:41039,county_name:"Lane County",votes_gop:80336,votes_dem:134366,total_votes:222253,diff:-54030,per_gop:.36146193752165323,per_dem:.6045632679873838,per_point_diff:-.24310133046573057},{state_name:"Oregon",county_fips:41041,county_name:"Lincoln County",votes_gop:12460,votes_dem:17385,total_votes:30726,diff:-4925,per_gop:.4055197552561349,per_dem:.5658074594805702,per_point_diff:-.16028770422443533},{state_name:"Oregon",county_fips:41043,county_name:"Linn County",votes_gop:43486,votes_dem:26512,total_votes:72640,diff:16974,per_gop:.5986508810572687,per_dem:.36497797356828193,per_point_diff:.23367290748898678},{state_name:"Oregon",county_fips:41045,county_name:"Malheur County",votes_gop:8187,votes_dem:3260,total_votes:11804,diff:4927,per_gop:.6935784479837344,per_dem:.2761775669264656,per_point_diff:.41740088105726875},{state_name:"Oregon",county_fips:41047,county_name:"Marion County",votes_gop:79002,votes_dem:80872,total_votes:165534,diff:-1870,per_gop:.47725542788792635,per_dem:.4885522007563401,per_point_diff:-.01129677286841374},{state_name:"Oregon",county_fips:41049,county_name:"Morrow County",votes_gop:3586,votes_dem:1371,total_votes:5118,diff:2215,per_gop:.7006643220007815,per_dem:.26787807737397423,per_point_diff:.4327862446268073},{state_name:"Oregon",county_fips:41051,county_name:"Multnomah County",votes_gop:82995,votes_dem:367249,total_votes:463659,diff:-284254,per_gop:.17900008411354035,per_dem:.7920670147673182,per_point_diff:-.6130669306537779},{state_name:"Oregon",county_fips:41053,county_name:"Polk County",votes_gop:23732,votes_dem:22917,total_votes:48291,diff:815,per_gop:.49143732786647615,per_dem:.47456047710753557,per_point_diff:.016876850758940576},{state_name:"Oregon",county_fips:41055,county_name:"Sherman County",votes_gop:921,votes_dem:260,total_votes:1208,diff:661,per_gop:.7624172185430463,per_dem:.2152317880794702,per_point_diff:.5471854304635762},{state_name:"Oregon",county_fips:41057,county_name:"Tillamook County",votes_gop:8354,votes_dem:8066,total_votes:16888,diff:288,per_gop:.49467077214590244,per_dem:.4776172430127901,per_point_diff:.01705352913311231},{state_name:"Oregon",county_fips:41059,county_name:"Umatilla County",votes_gop:21270,votes_dem:10707,total_votes:33038,diff:10563,per_gop:.643804104364671,per_dem:.32408136085719474,per_point_diff:.3197227435074762},{state_name:"Oregon",county_fips:41061,county_name:"Union County",votes_gop:10298,votes_dem:4254,total_votes:14944,diff:6044,per_gop:.6891059957173448,per_dem:.2846627408993576,per_point_diff:.40444325481798715},{state_name:"Oregon",county_fips:41063,county_name:"Wallowa County",votes_gop:3404,votes_dem:1625,total_votes:5149,diff:1779,per_gop:.6610992425713731,per_dem:.31559526121577003,per_point_diff:.34550398135560306},{state_name:"Oregon",county_fips:41065,county_name:"Wasco County",votes_gop:7035,votes_dem:6604,total_votes:14130,diff:431,per_gop:.4978768577494692,per_dem:.46737438075017695,per_point_diff:.03050247699929226},{state_name:"Oregon",county_fips:41067,county_name:"Washington County",votes_gop:99073,votes_dem:209940,total_votes:320326,diff:-110867,per_gop:.30928803781147957,per_dem:.6553948165306593,per_point_diff:-.3461067787191798},{state_name:"Oregon",county_fips:41069,county_name:"Wheeler County",votes_gop:711,votes_dem:217,total_votes:965,diff:494,per_gop:.7367875647668394,per_dem:.22487046632124352,per_point_diff:.5119170984455959},{state_name:"Oregon",county_fips:41071,county_name:"Yamhill County",votes_gop:29551,votes_dem:27174,total_votes:58923,diff:2377,per_gop:.5015189314868558,per_dem:.4611781477521511,per_point_diff:.04034078373470468},{state_name:"Pennsylvania",county_fips:42001,county_name:"Adams County",votes_gop:37523,votes_dem:18207,total_votes:56714,diff:19316,per_gop:.6616179426596608,per_dem:.3210318439891385,per_point_diff:.3405860986705223},{state_name:"Pennsylvania",county_fips:42003,county_name:"Allegheny County",votes_gop:282913,votes_dem:430759,total_votes:724800,diff:-147846,per_gop:.3903325055187638,per_dem:.594314293598234,per_point_diff:-.20398178807947015},{state_name:"Pennsylvania",county_fips:42005,county_name:"Armstrong County",votes_gop:27489,votes_dem:8457,total_votes:36370,diff:19032,per_gop:.7558152323343414,per_dem:.2325268078086335,per_point_diff:.5232884245257079},{state_name:"Pennsylvania",county_fips:42007,county_name:"Beaver County",votes_gop:54759,votes_dem:38122,total_votes:94122,diff:16637,per_gop:.581787467329636,per_dem:.4050275174773167,per_point_diff:.17675994985231935},{state_name:"Pennsylvania",county_fips:42009,county_name:"Bedford County",votes_gop:23025,votes_dem:4367,total_votes:27574,diff:18658,per_gop:.8350257488938856,per_dem:.15837383041996084,per_point_diff:.6766519184739248},{state_name:"Pennsylvania",county_fips:42011,county_name:"Berks County",votes_gop:109736,votes_dem:92895,total_votes:205540,diff:16841,per_gop:.5338912133891214,per_dem:.4519558236839545,per_point_diff:.0819353897051669},{state_name:"Pennsylvania",county_fips:42013,county_name:"Blair County",votes_gop:45306,votes_dem:17636,total_votes:63595,diff:27670,per_gop:.7124144979951254,per_dem:.27731739916660114,per_point_diff:.4350970988285242},{state_name:"Pennsylvania",county_fips:42015,county_name:"Bradford County",votes_gop:21600,votes_dem:8046,total_votes:30159,diff:13554,per_gop:.7162041181736795,per_dem:.26678603401969564,per_point_diff:.4494180841539838},{state_name:"Pennsylvania",county_fips:42017,county_name:"Bucks County",votes_gop:187367,votes_dem:204712,total_votes:396234,diff:-17345,per_gop:.47286956697305127,per_dem:.5166442051918816,per_point_diff:-.04377463821883032},{state_name:"Pennsylvania",county_fips:42019,county_name:"Butler County",votes_gop:74359,votes_dem:37508,total_votes:113305,diff:36851,per_gop:.6562728917523498,per_dem:.33103570010149597,per_point_diff:.32523719165085385},{state_name:"Pennsylvania",county_fips:42021,county_name:"Cambria County",votes_gop:48085,votes_dem:21730,total_votes:70574,diff:26355,per_gop:.681341570550061,per_dem:.3079037605917193,per_point_diff:.37343780995834164},{state_name:"Pennsylvania",county_fips:42023,county_name:"Cameron County",votes_gop:1771,votes_dem:634,total_votes:2434,diff:1137,per_gop:.727608874281019,per_dem:.26047658175842237,per_point_diff:.4671322925225966},{state_name:"Pennsylvania",county_fips:42025,county_name:"Carbon County",votes_gop:21984,votes_dem:11212,total_votes:33629,diff:10772,per_gop:.6537214903803265,per_dem:.33340271789229536,per_point_diff:.3203187724880311},{state_name:"Pennsylvania",county_fips:42027,county_name:"Centre County",votes_gop:36372,votes_dem:40055,total_votes:77493,diff:-3683,per_gop:.4693585227052766,per_dem:.5168853961002929,per_point_diff:-.04752687339501632},{state_name:"Pennsylvania",county_fips:42029,county_name:"Chester County",votes_gop:128565,votes_dem:182372,total_votes:315753,diff:-53807,per_gop:.4071695280804933,per_dem:.5775780435973689,per_point_diff:-.17040851551687558},{state_name:"Pennsylvania",county_fips:42031,county_name:"Clarion County",votes_gop:14578,votes_dem:4678,total_votes:19493,diff:9900,per_gop:.7478582055096702,per_dem:.23998358385061305,per_point_diff:.5078746216590572},{state_name:"Pennsylvania",county_fips:42033,county_name:"Clearfield County",votes_gop:29203,votes_dem:9673,total_votes:39496,diff:19530,per_gop:.7393913307676727,per_dem:.24491087705084058,per_point_diff:.49448045371683214},{state_name:"Pennsylvania",county_fips:42035,county_name:"Clinton County",votes_gop:11902,votes_dem:5502,total_votes:17625,diff:6400,per_gop:.675290780141844,per_dem:.31217021276595747,per_point_diff:.3631205673758865},{state_name:"Pennsylvania",county_fips:42037,county_name:"Columbia County",votes_gop:20098,votes_dem:10532,total_votes:31171,diff:9566,per_gop:.6447659683680343,per_dem:.33787815597831317,per_point_diff:.3068878123897212},{state_name:"Pennsylvania",county_fips:42039,county_name:"Crawford County",votes_gop:28559,votes_dem:12924,total_votes:42004,diff:15635,per_gop:.6799114370059994,per_dem:.3076849823826302,per_point_diff:.37222645462336923},{state_name:"Pennsylvania",county_fips:42041,county_name:"Cumberland County",votes_gop:77212,votes_dem:62245,total_votes:141595,diff:14967,per_gop:.5453017408806808,per_dem:.4395988558918041,per_point_diff:.10570288498887676},{state_name:"Pennsylvania",county_fips:42043,county_name:"Dauphin County",votes_gop:66408,votes_dem:78983,total_votes:147368,diff:-12575,per_gop:.45062700179143367,per_dem:.5359576027360078,per_point_diff:-.08533060094457412},{state_name:"Pennsylvania",county_fips:42045,county_name:"Delaware County",votes_gop:118532,votes_dem:206423,total_votes:329006,diff:-87891,per_gop:.3602730649289071,per_dem:.6274140897126497,per_point_diff:-.2671410247837426},{state_name:"Pennsylvania",county_fips:42047,county_name:"Elk County",votes_gop:12140,votes_dem:4522,total_votes:16906,diff:7618,per_gop:.7180882526913522,per_dem:.26747900153791554,per_point_diff:.4506092511534367},{state_name:"Pennsylvania",county_fips:42049,county_name:"Erie County",votes_gop:66869,votes_dem:68286,total_votes:137083,diff:-1417,per_gop:.4877993624300606,per_dem:.49813616568064606,per_point_diff:-.010336803250585447},{state_name:"Pennsylvania",county_fips:42051,county_name:"Fayette County",votes_gop:41227,votes_dem:20444,total_votes:62139,diff:20783,per_gop:.6634641690403772,per_dem:.329004329004329,per_point_diff:.3344598400360482},{state_name:"Pennsylvania",county_fips:42053,county_name:"Forest County",votes_gop:1882,votes_dem:728,total_votes:2646,diff:1154,per_gop:.7112622826908541,per_dem:.2751322751322751,per_point_diff:.436130007558579},{state_name:"Pennsylvania",county_fips:42055,county_name:"Franklin County",votes_gop:57245,votes_dem:22422,total_votes:80783,diff:34823,per_gop:.7086268150477204,per_dem:.27755839718752706,per_point_diff:.43106841786019334},{state_name:"Pennsylvania",county_fips:42057,county_name:"Fulton County",votes_gop:6824,votes_dem:1085,total_votes:7977,diff:5739,per_gop:.8554594459069825,per_dem:.13601604613263132,per_point_diff:.7194433997743512},{state_name:"Pennsylvania",county_fips:42059,county_name:"Greene County",votes_gop:12579,votes_dem:4911,total_votes:17669,diff:7668,per_gop:.7119248401154564,per_dem:.27794442243477274,per_point_diff:.4339804176806837},{state_name:"Pennsylvania",county_fips:42061,county_name:"Huntingdon County",votes_gop:17061,votes_dem:5445,total_votes:22792,diff:11616,per_gop:.7485521235521235,per_dem:.2388996138996139,per_point_diff:.5096525096525096},{state_name:"Pennsylvania",county_fips:42063,county_name:"Indiana County",votes_gop:28089,votes_dem:12634,total_votes:41198,diff:15455,per_gop:.6818049419874751,per_dem:.30666537210544204,per_point_diff:.37513956988203306},{state_name:"Pennsylvania",county_fips:42065,county_name:"Jefferson County",votes_gop:17960,votes_dem:4527,total_votes:22824,diff:13433,per_gop:.7868909919383106,per_dem:.19834384858044163,per_point_diff:.588547143357869},{state_name:"Pennsylvania",county_fips:42067,county_name:"Juniata County",votes_gop:9649,votes_dem:2253,total_votes:12043,diff:7396,per_gop:.8012123225110023,per_dem:.1870796313210994,per_point_diff:.6141326911899029},{state_name:"Pennsylvania",county_fips:42069,county_name:"Lackawanna County",votes_gop:52334,votes_dem:61991,total_votes:115410,diff:-9657,per_gop:.4534615717875401,per_dem:.5371371631574386,per_point_diff:-.08367559136989855},{state_name:"Pennsylvania",county_fips:42071,county_name:"Lancaster County",votes_gop:160209,votes_dem:115847,total_votes:281375,diff:44362,per_gop:.5693789426921368,per_dem:.4117174589071524,per_point_diff:.15766148378498446},{state_name:"Pennsylvania",county_fips:42073,county_name:"Lawrence County",votes_gop:29597,votes_dem:15978,total_votes:46076,diff:13619,per_gop:.6423517666464102,per_dem:.346774893653963,per_point_diff:.2955768729924472},{state_name:"Pennsylvania",county_fips:42075,county_name:"Lebanon County",votes_gop:46731,votes_dem:23932,total_votes:71858,diff:22799,per_gop:.6503242506053606,per_dem:.3330457290767903,per_point_diff:.3172785215285703},{state_name:"Pennsylvania",county_fips:42077,county_name:"Lehigh County",votes_gop:84259,votes_dem:98288,total_votes:184713,diff:-14029,per_gop:.45616172115660514,per_dem:.5321119791243714,per_point_diff:-.07595025796776622},{state_name:"Pennsylvania",county_fips:42079,county_name:"Luzerne County",votes_gop:86929,votes_dem:64873,total_votes:153321,diff:22056,per_gop:.5669738652891646,per_dem:.42311881607868457,per_point_diff:.14385504921048003},{state_name:"Pennsylvania",county_fips:42081,county_name:"Lycoming County",votes_gop:41462,votes_dem:16971,total_votes:59254,diff:24491,per_gop:.699733351334931,per_dem:.2864110439801532,per_point_diff:.41332230735477776},{state_name:"Pennsylvania",county_fips:42083,county_name:"McKean County",votes_gop:14083,votes_dem:5098,total_votes:19466,diff:8985,per_gop:.7234665570738724,per_dem:.2618925305661153,per_point_diff:.46157402650775714},{state_name:"Pennsylvania",county_fips:42085,county_name:"Mercer County",votes_gop:36143,votes_dem:21067,total_votes:57954,diff:15076,per_gop:.6236497912137212,per_dem:.36351244090140455,per_point_diff:.26013735031231666},{state_name:"Pennsylvania",county_fips:42087,county_name:"Mifflin County",votes_gop:16670,votes_dem:4603,total_votes:21502,diff:12067,per_gop:.7752767184447958,per_dem:.21407310947818808,per_point_diff:.5612036089666077},{state_name:"Pennsylvania",county_fips:42089,county_name:"Monroe County",votes_gop:38726,votes_dem:44060,total_votes:83829,diff:-5334,per_gop:.4619642367199895,per_dem:.5255937682663517,per_point_diff:-.06362953154636225},{state_name:"Pennsylvania",county_fips:42091,county_name:"Montgomery County",votes_gop:185460,votes_dem:319511,total_votes:510157,diff:-134051,per_gop:.3635351470233673,per_dem:.6262993549044706,per_point_diff:-.26276420788110333},{state_name:"Pennsylvania",county_fips:42093,county_name:"Montour County",votes_gop:5844,votes_dem:3771,total_votes:9817,diff:2073,per_gop:.5952938779667923,per_dem:.3841295711520831,per_point_diff:.2111643068147092},{state_name:"Pennsylvania",county_fips:42095,county_name:"Northampton County",votes_gop:83854,votes_dem:85087,total_votes:171399,diff:-1233,per_gop:.48923272597856465,per_dem:.4964264668988734,per_point_diff:-.007193740920308722},{state_name:"Pennsylvania",county_fips:42097,county_name:"Northumberland County",votes_gop:28952,votes_dem:12677,total_votes:42283,diff:16275,per_gop:.6847196272733723,per_dem:.299813163682804,per_point_diff:.38490646359056835},{state_name:"Pennsylvania",county_fips:42099,county_name:"Perry County",votes_gop:18293,votes_dem:5950,total_votes:24652,diff:12343,per_gop:.7420493266266429,per_dem:.24135972740548434,per_point_diff:.5006895992211586},{state_name:"Pennsylvania",county_fips:42101,county_name:"Philadelphia County",votes_gop:132740,votes_dem:603790,total_votes:741377,diff:-471050,per_gop:.17904520911762842,per_dem:.814416956555167,per_point_diff:-.6353717474375385},{state_name:"Pennsylvania",county_fips:42103,county_name:"Pike County",votes_gop:19213,votes_dem:13019,total_votes:32554,diff:6194,per_gop:.5901886096946611,per_dem:.3999201327025865,per_point_diff:.19026847699207466},{state_name:"Pennsylvania",county_fips:42105,county_name:"Potter County",votes_gop:7239,votes_dem:1726,total_votes:9064,diff:5513,per_gop:.7986540158870256,per_dem:.19042365401588704,per_point_diff:.6082303618711385},{state_name:"Pennsylvania",county_fips:42107,county_name:"Schuylkill County",votes_gop:48871,votes_dem:20727,total_votes:70603,diff:28144,per_gop:.6921943826749571,per_dem:.2935710947126893,per_point_diff:.39862328796226787},{state_name:"Pennsylvania",county_fips:42109,county_name:"Snyder County",votes_gop:13983,votes_dem:4910,total_votes:19140,diff:9073,per_gop:.730564263322884,per_dem:.25653082549634276,per_point_diff:.4740334378265413},{state_name:"Pennsylvania",county_fips:42111,county_name:"Somerset County",votes_gop:31466,votes_dem:8654,total_votes:40543,diff:22812,per_gop:.7761142490688898,per_dem:.21345238388871074,per_point_diff:.5626618651801791},{state_name:"Pennsylvania",county_fips:42113,county_name:"Sullivan County",votes_gop:2619,votes_dem:921,total_votes:3595,diff:1698,per_gop:.7285118219749652,per_dem:.25618915159944367,per_point_diff:.47232267037552156},{state_name:"Pennsylvania",county_fips:42115,county_name:"Susquehanna County",votes_gop:15207,votes_dem:6236,total_votes:21752,diff:8971,per_gop:.699108127988231,per_dem:.286686281721221,per_point_diff:.41242184626700995},{state_name:"Pennsylvania",county_fips:42117,county_name:"Tioga County",votes_gop:15742,votes_dem:4955,total_votes:21075,diff:10787,per_gop:.7469513641755635,per_dem:.2351126927639383,per_point_diff:.5118386714116252},{state_name:"Pennsylvania",county_fips:42119,county_name:"Union County",votes_gop:12356,votes_dem:7475,total_votes:20115,diff:4881,per_gop:.6142679592344021,per_dem:.37161322396221724,per_point_diff:.2426547352721849},{state_name:"Pennsylvania",county_fips:42121,county_name:"Venango County",votes_gop:18569,votes_dem:7585,total_votes:26528,diff:10984,per_gop:.6999773823884198,per_dem:.2859243063932449,per_point_diff:.4140530759951749},{state_name:"Pennsylvania",county_fips:42123,county_name:"Warren County",votes_gop:14237,votes_dem:6066,total_votes:20650,diff:8171,per_gop:.6894430992736077,per_dem:.2937530266343826,per_point_diff:.3956900726392251},{state_name:"Pennsylvania",county_fips:42125,county_name:"Washington County",votes_gop:72080,votes_dem:45088,total_votes:118478,diff:26992,per_gop:.6083829909350259,per_dem:.38056010398555007,per_point_diff:.22782288694947583},{state_name:"Pennsylvania",county_fips:42127,county_name:"Wayne County",votes_gop:18637,votes_dem:9191,total_votes:28089,diff:9446,per_gop:.6634981665420627,per_dem:.32720993983409874,per_point_diff:.336288226707964},{state_name:"Pennsylvania",county_fips:42129,county_name:"Westmoreland County",votes_gop:130218,votes_dem:72129,total_votes:205183,diff:58089,per_gop:.6346432209296092,per_dem:.3515349712208126,per_point_diff:.2831082497087966},{state_name:"Pennsylvania",county_fips:42131,county_name:"Wyoming County",votes_gop:9936,votes_dem:4704,total_votes:14858,diff:5232,per_gop:.6687306501547987,per_dem:.3165971193969579,per_point_diff:.3521335307578408},{state_name:"Pennsylvania",county_fips:42133,county_name:"York County",votes_gop:146733,votes_dem:88114,total_votes:238471,diff:58619,per_gop:.6153075216693015,per_dem:.36949566194631633,per_point_diff:.24581185972298514},{state_name:"Rhode Island",county_fips:44001,county_name:"Bristol County",votes_gop:9745,votes_dem:18050,total_votes:28415,diff:-8305,per_gop:.34295266584550416,per_dem:.6352278726024987,per_point_diff:-.29227520675699453},{state_name:"Rhode Island",county_fips:44003,county_name:"Kent County",votes_gop:42001,votes_dem:49113,total_votes:93093,diff:-7112,per_gop:.45117248343054794,per_dem:.5275692049885599,per_point_diff:-.07639672155801192},{state_name:"Rhode Island",county_fips:44005,county_name:"Newport County",votes_gop:15722,votes_dem:29486,total_votes:46148,diff:-13764,per_gop:.3406864869550143,per_dem:.638944266273728,per_point_diff:-.2982577793187137},{state_name:"Rhode Island",county_fips:44007,county_name:"Providence County",votes_gop:102551,votes_dem:165012,total_votes:272667,diff:-62461,per_gop:.37610345219626873,per_dem:.6051777442814862,per_point_diff:-.22907429208521746},{state_name:"Rhode Island",county_fips:44009,county_name:"Washington County",votes_gop:29818,votes_dem:44549,total_votes:76060,diff:-14731,per_gop:.3920326058374967,per_dem:.5857086510649487,per_point_diff:-.19367604522745202},{state_name:"South Carolina",county_fips:45001,county_name:"Abbeville County",votes_gop:8215,votes_dem:4101,total_votes:12433,diff:4114,per_gop:.6607415748411486,per_dem:.3298479852006756,per_point_diff:.330893589640473},{state_name:"South Carolina",county_fips:45003,county_name:"Aiken County",votes_gop:51589,votes_dem:32275,total_votes:85185,diff:19314,per_gop:.6056113165463404,per_dem:.37888125843751835,per_point_diff:.22673005810882202},{state_name:"South Carolina",county_fips:45005,county_name:"Allendale County",votes_gop:835,votes_dem:2718,total_votes:3593,diff:-1883,per_gop:.23239632618981354,per_dem:.7564709156693571,per_point_diff:-.5240745894795436},{state_name:"South Carolina",county_fips:45007,county_name:"Anderson County",votes_gop:67565,votes_dem:27169,total_votes:96093,diff:40396,per_gop:.7031209349276222,per_dem:.28273651566711416,per_point_diff:.420384419260508},{state_name:"South Carolina",county_fips:45009,county_name:"Bamberg County",votes_gop:2417,votes_dem:4010,total_votes:6482,diff:-1593,per_gop:.3728787411292811,per_dem:.6186362233878433,per_point_diff:-.2457574822585622},{state_name:"South Carolina",county_fips:45011,county_name:"Barnwell County",votes_gop:5492,votes_dem:4720,total_votes:10321,diff:772,per_gop:.5321189807189226,per_dem:.45732002712915415,per_point_diff:.07479895358976846},{state_name:"South Carolina",county_fips:45013,county_name:"Beaufort County",votes_gop:53194,votes_dem:43419,total_votes:97835,diff:9775,per_gop:.5437113507435989,per_dem:.4437982317166658,per_point_diff:.09991311902693306},{state_name:"South Carolina",county_fips:45015,county_name:"Berkeley County",votes_gop:57397,votes_dem:45223,total_votes:104458,diff:12174,per_gop:.5494744299144153,per_dem:.4329299814279423,per_point_diff:.116544448486473},{state_name:"South Carolina",county_fips:45017,county_name:"Calhoun County",votes_gop:4305,votes_dem:3905,total_votes:8291,diff:400,per_gop:.519237727656495,per_dem:.4709926426245326,per_point_diff:.0482450850319624},{state_name:"South Carolina",county_fips:45019,county_name:"Charleston County",votes_gop:93297,votes_dem:121485,total_votes:218857,diff:-28188,per_gop:.42629205371543977,per_dem:.5550884824337353,per_point_diff:-.12879642871829555},{state_name:"South Carolina",county_fips:45021,county_name:"Cherokee County",votes_gop:18043,votes_dem:6983,total_votes:25270,diff:11060,per_gop:.714008705975465,per_dem:.27633557578155915,per_point_diff:.4376731301939058},{state_name:"South Carolina",county_fips:45023,county_name:"Chester County",votes_gop:8660,votes_dem:6941,total_votes:15757,diff:1719,per_gop:.5495970045059339,per_dem:.4405026337500793,per_point_diff:.10909437075585454},{state_name:"South Carolina",county_fips:45025,county_name:"Chesterfield County",votes_gop:11297,votes_dem:7431,total_votes:18876,diff:3866,per_gop:.5984848484848485,per_dem:.39367450731087095,per_point_diff:.20481034117397756},{state_name:"South Carolina",county_fips:45027,county_name:"Clarendon County",votes_gop:8361,votes_dem:8250,total_votes:16733,diff:111,per_gop:.4996713081933903,per_dem:.49303770991454016,per_point_diff:.006633598278850128},{state_name:"South Carolina",county_fips:45029,county_name:"Colleton County",votes_gop:10440,votes_dem:8602,total_votes:19283,diff:1838,per_gop:.5414095317118706,per_dem:.44609241300627495,per_point_diff:.09531711870559562},{state_name:"South Carolina",county_fips:45031,county_name:"Darlington County",votes_gop:16832,votes_dem:15220,total_votes:32417,diff:1612,per_gop:.5192337353857543,per_dem:.46950674029058825,per_point_diff:.04972699509516609},{state_name:"South Carolina",county_fips:45033,county_name:"Dillon County",votes_gop:6582,votes_dem:6436,total_votes:13101,diff:146,per_gop:.5024043966109457,per_dem:.49126020914434015,per_point_diff:.01114418746660556},{state_name:"South Carolina",county_fips:45035,county_name:"Dorchester County",votes_gop:41913,votes_dem:33824,total_votes:77278,diff:8089,per_gop:.5423665208726934,per_dem:.43769248686560214,per_point_diff:.1046740340070913},{state_name:"South Carolina",county_fips:45037,county_name:"Edgefield County",votes_gop:8184,votes_dem:4953,total_votes:13304,diff:3231,per_gop:.6151533373421527,per_dem:.372294046903187,per_point_diff:.2428592904389657},{state_name:"South Carolina",county_fips:45039,county_name:"Fairfield County",votes_gop:4625,votes_dem:7382,total_votes:12136,diff:-2757,per_gop:.38109756097560976,per_dem:.6082729070533949,per_point_diff:-.2271753460777851},{state_name:"South Carolina",county_fips:45041,county_name:"Florence County",votes_gop:32615,votes_dem:31153,total_votes:64510,diff:1462,per_gop:.5055805301503643,per_dem:.48291737715082933,per_point_diff:.022663152999534975},{state_name:"South Carolina",county_fips:45043,county_name:"Georgetown County",votes_gop:20487,votes_dem:15822,total_votes:36668,diff:4665,per_gop:.5587160466892113,per_dem:.4314934002399913,per_point_diff:.12722264644922},{state_name:"South Carolina",county_fips:45045,county_name:"Greenville County",votes_gop:150021,votes_dem:103030,total_votes:258155,diff:46991,per_gop:.5811276171292441,per_dem:.3991013151013926,per_point_diff:.18202630202785153},{state_name:"South Carolina",county_fips:45047,county_name:"Greenwood County",votes_gop:19431,votes_dem:12145,total_votes:32006,diff:7286,per_gop:.6071049178279073,per_dem:.3794601012310192,per_point_diff:.22764481659688812},{state_name:"South Carolina",county_fips:45049,county_name:"Hampton County",votes_gop:3906,votes_dem:5323,total_votes:9305,diff:-1417,per_gop:.4197743148844707,per_dem:.5720580333154218,per_point_diff:-.15228371843095112},{state_name:"South Carolina",county_fips:45051,county_name:"Horry County",votes_gop:118821,votes_dem:59180,total_votes:179744,diff:59641,per_gop:.6610568363895318,per_dem:.3292460388107531,per_point_diff:.33181079757877874},{state_name:"South Carolina",county_fips:45053,county_name:"Jasper County",votes_gop:7078,votes_dem:7185,total_votes:14394,diff:-107,per_gop:.4917326663887731,per_dem:.4991663192997082,per_point_diff:-.007433652910935118},{state_name:"South Carolina",county_fips:45055,county_name:"Kershaw County",votes_gop:20471,votes_dem:12699,total_votes:33629,diff:7772,per_gop:.6087305599333909,per_dem:.3776205061107972,per_point_diff:.23111005382259364},{state_name:"South Carolina",county_fips:45057,county_name:"Lancaster County",votes_gop:30312,votes_dem:18937,total_votes:49868,diff:11375,per_gop:.607844710034491,per_dem:.37974252025346916,per_point_diff:.22810218978102187},{state_name:"South Carolina",county_fips:45059,county_name:"Laurens County",votes_gop:20004,votes_dem:10159,total_votes:30488,diff:9845,per_gop:.656127000787195,per_dem:.3332130674363684,per_point_diff:.3229139333508266},{state_name:"South Carolina",county_fips:45061,county_name:"Lee County",votes_gop:3008,votes_dem:5329,total_votes:8431,diff:-2321,per_gop:.35677855533151465,per_dem:.6320721148143755,per_point_diff:-.2752935594828609},{state_name:"South Carolina",county_fips:45063,county_name:"Lexington County",votes_gop:92817,votes_dem:49301,total_votes:144568,diff:43516,per_gop:.6420300481434342,per_dem:.34102290963422055,per_point_diff:.3010071385092137},{state_name:"South Carolina",county_fips:45065,county_name:"McCormick County",votes_gop:2958,votes_dem:2687,total_votes:5697,diff:271,per_gop:.5192206424433913,per_dem:.47165174653326314,per_point_diff:.04756889591012814},{state_name:"South Carolina",county_fips:45067,county_name:"Marion County",votes_gop:5711,votes_dem:8872,total_votes:14704,diff:-3161,per_gop:.3883977149075082,per_dem:.6033732317736671,per_point_diff:-.2149755168661589},{state_name:"South Carolina",county_fips:45069,county_name:"Marlboro County",votes_gop:5044,votes_dem:6290,total_votes:11446,diff:-1246,per_gop:.4406779661016949,per_dem:.5495369561418836,per_point_diff:-.10885899004018867},{state_name:"South Carolina",county_fips:45071,county_name:"Newberry County",votes_gop:11443,votes_dem:6958,total_votes:18631,diff:4485,per_gop:.614191401427728,per_dem:.37346358220170683,per_point_diff:.24072781922602116},{state_name:"South Carolina",county_fips:45073,county_name:"Oconee County",votes_gop:29698,votes_dem:10414,total_votes:40668,diff:19284,per_gop:.7302547457460411,per_dem:.2560735713583161,per_point_diff:.474181174387725},{state_name:"South Carolina",county_fips:45075,county_name:"Orangeburg County",votes_gop:13603,votes_dem:27295,total_votes:41205,diff:-13692,per_gop:.33012983861181894,per_dem:.6624196092707195,per_point_diff:-.3322897706589006},{state_name:"South Carolina",county_fips:45077,county_name:"Pickens County",votes_gop:42907,votes_dem:13645,total_votes:57546,diff:29262,per_gop:.7456122058874639,per_dem:.237114656101206,per_point_diff:.5084975497862579},{state_name:"South Carolina",county_fips:45079,county_name:"Richland County",votes_gop:58313,votes_dem:132570,total_votes:193822,diff:-74257,per_gop:.3008585196726894,per_dem:.6839780829833558,per_point_diff:-.38311956331066643},{state_name:"South Carolina",county_fips:45081,county_name:"Saluda County",votes_gop:6210,votes_dem:2963,total_votes:9274,diff:3247,per_gop:.6696139745525124,per_dem:.31949536338149664,per_point_diff:.3501186111710157},{state_name:"South Carolina",county_fips:45083,county_name:"Spartanburg County",votes_gop:93560,votes_dem:52926,total_votes:148655,diff:40634,per_gop:.6293767448118126,per_dem:.3560324240691534,per_point_diff:.2733443207426592},{state_name:"South Carolina",county_fips:45085,county_name:"Sumter County",votes_gop:21e3,votes_dem:27379,total_votes:48920,diff:-6379,per_gop:.42927228127555195,per_dem:.5596688470973017,per_point_diff:-.13039656582174974},{state_name:"South Carolina",county_fips:45087,county_name:"Union County",votes_gop:8183,votes_dem:4935,total_votes:13257,diff:3248,per_gop:.6172588066681753,per_dem:.3722561665535189,per_point_diff:.24500264011465644},{state_name:"South Carolina",county_fips:45089,county_name:"Williamsburg County",votes_gop:5532,votes_dem:10289,total_votes:15985,diff:-4757,per_gop:.3460744447919925,per_dem:.6436659368157648,per_point_diff:-.2975914920237723},{state_name:"South Carolina",county_fips:45091,county_name:"York County",votes_gop:82727,votes_dem:59008,total_votes:144050,diff:23719,per_gop:.5742936480388754,per_dem:.40963554321416173,per_point_diff:.16465810482471366},{state_name:"South Dakota",county_fips:46003,county_name:"Aurora County",votes_gop:1052,votes_dem:317,total_votes:1405,diff:735,per_gop:.7487544483985765,per_dem:.22562277580071174,per_point_diff:.5231316725978647},{state_name:"South Dakota",county_fips:46005,county_name:"Beadle County",votes_gop:4808,votes_dem:2107,total_votes:7081,diff:2701,per_gop:.6790001412229911,per_dem:.29755684225391893,per_point_diff:.3814432989690722},{state_name:"South Dakota",county_fips:46007,county_name:"Bennett County",votes_gop:694,votes_dem:466,total_votes:1183,diff:228,per_gop:.5866441251056635,per_dem:.39391377852916315,per_point_diff:.1927303465765004},{state_name:"South Dakota",county_fips:46009,county_name:"Bon Homme County",votes_gop:2235,votes_dem:721,total_votes:3001,diff:1514,per_gop:.7447517494168611,per_dem:.24025324891702765,per_point_diff:.5044985004998335},{state_name:"South Dakota",county_fips:46011,county_name:"Brookings County",votes_gop:8e3,votes_dem:6110,total_votes:14567,diff:1890,per_gop:.5491865174709961,per_dem:.41944120271847324,per_point_diff:.12974531475252288},{state_name:"South Dakota",county_fips:46013,county_name:"Brown County",votes_gop:10580,votes_dem:6538,total_votes:17547,diff:4042,per_gop:.6029520715791873,per_dem:.37259930472445435,per_point_diff:.23035276685473294},{state_name:"South Dakota",county_fips:46015,county_name:"Brule County",votes_gop:1750,votes_dem:673,total_votes:2490,diff:1077,per_gop:.7028112449799196,per_dem:.27028112449799196,per_point_diff:.4325301204819277},{state_name:"South Dakota",county_fips:46017,county_name:"Buffalo County",votes_gop:183,votes_dem:352,total_votes:549,diff:-169,per_gop:.3333333333333333,per_dem:.6411657559198543,per_point_diff:-.30783242258652094},{state_name:"South Dakota",county_fips:46019,county_name:"Butte County",votes_gop:3731,votes_dem:939,total_votes:4802,diff:2792,per_gop:.7769679300291545,per_dem:.19554352353186172,per_point_diff:.5814244064972929},{state_name:"South Dakota",county_fips:46021,county_name:"Campbell County",votes_gop:747,votes_dem:117,total_votes:873,diff:630,per_gop:.8556701030927835,per_dem:.13402061855670103,per_point_diff:.7216494845360825},{state_name:"South Dakota",county_fips:46023,county_name:"Charles Mix County",votes_gop:2552,votes_dem:1177,total_votes:3783,diff:1375,per_gop:.6745968807824478,per_dem:.3111287338091462,per_point_diff:.36346814697330165},{state_name:"South Dakota",county_fips:46025,county_name:"Clark County",votes_gop:1373,votes_dem:437,total_votes:1850,diff:936,per_gop:.7421621621621621,per_dem:.23621621621621622,per_point_diff:.5059459459459459},{state_name:"South Dakota",county_fips:46027,county_name:"Clay County",votes_gop:2456,votes_dem:3083,total_votes:5698,diff:-627,per_gop:.431028431028431,per_dem:.5410670410670411,per_point_diff:-.11003861003861004},{state_name:"South Dakota",county_fips:46029,county_name:"Codington County",votes_gop:8958,votes_dem:3837,total_votes:13161,diff:5121,per_gop:.6806473672213358,per_dem:.29154319580578986,per_point_diff:.38910417141554593},{state_name:"South Dakota",county_fips:46031,county_name:"Corson County",votes_gop:647,votes_dem:622,total_votes:1283,diff:25,per_gop:.5042868277474669,per_dem:.4848012470771629,per_point_diff:.019485580670304037},{state_name:"South Dakota",county_fips:46033,county_name:"Custer County",votes_gop:3852,votes_dem:1522,total_votes:5494,diff:2330,per_gop:.7011285038223517,per_dem:.27702948671277755,per_point_diff:.42409901710957415},{state_name:"South Dakota",county_fips:46035,county_name:"Davison County",votes_gop:5613,votes_dem:2648,total_votes:8454,diff:2965,per_gop:.6639460610361959,per_dem:.3132245091081145,per_point_diff:.3507215519280814},{state_name:"South Dakota",county_fips:46037,county_name:"Day County",votes_gop:1869,votes_dem:1052,total_votes:2964,diff:817,per_gop:.6305668016194332,per_dem:.3549257759784076,per_point_diff:.27564102564102566},{state_name:"South Dakota",county_fips:46039,county_name:"Deuel County",votes_gop:1699,votes_dem:609,total_votes:2350,diff:1090,per_gop:.7229787234042553,per_dem:.2591489361702128,per_point_diff:.4638297872340425},{state_name:"South Dakota",county_fips:46041,county_name:"Dewey County",votes_gop:790,votes_dem:1131,total_votes:1966,diff:-341,per_gop:.40183112919633773,per_dem:.5752797558494405,per_point_diff:-.17344862665310273},{state_name:"South Dakota",county_fips:46043,county_name:"Douglas County",votes_gop:1468,votes_dem:216,total_votes:1707,diff:1252,per_gop:.8599882835383714,per_dem:.1265377855887522,per_point_diff:.7334504979496193},{state_name:"South Dakota",county_fips:46045,county_name:"Edmunds County",votes_gop:1538,votes_dem:417,total_votes:1985,diff:1121,per_gop:.7748110831234257,per_dem:.21007556675062972,per_point_diff:.5647355163727961},{state_name:"South Dakota",county_fips:46047,county_name:"Fall River County",votes_gop:2878,votes_dem:1053,total_votes:4042,diff:1825,per_gop:.7120237506185056,per_dem:.26051459673428995,per_point_diff:.4515091538842157},{state_name:"South Dakota",county_fips:46049,county_name:"Faulk County",votes_gop:964,votes_dem:198,total_votes:1182,diff:766,per_gop:.8155668358714044,per_dem:.16751269035532995,per_point_diff:.6480541455160744},{state_name:"South Dakota",county_fips:46051,county_name:"Grant County",votes_gop:2618,votes_dem:1056,total_votes:3745,diff:1562,per_gop:.6990654205607477,per_dem:.28197596795727636,per_point_diff:.41708945260347136},{state_name:"South Dakota",county_fips:46053,county_name:"Gregory County",votes_gop:1771,votes_dem:455,total_votes:2258,diff:1316,per_gop:.7843224092116917,per_dem:.20150575730735165,per_point_diff:.5828166519043401},{state_name:"South Dakota",county_fips:46055,county_name:"Haakon County",votes_gop:1026,votes_dem:105,total_votes:1137,diff:921,per_gop:.9023746701846965,per_dem:.09234828496042216,per_point_diff:.8100263852242744},{state_name:"South Dakota",county_fips:46057,county_name:"Hamlin County",votes_gop:2372,votes_dem:647,total_votes:3083,diff:1725,per_gop:.7693804735647097,per_dem:.20986052546221212,per_point_diff:.5595199481024976},{state_name:"South Dakota",county_fips:46059,county_name:"Hand County",votes_gop:1433,votes_dem:373,total_votes:1836,diff:1060,per_gop:.7805010893246187,per_dem:.20315904139433552,per_point_diff:.5773420479302832},{state_name:"South Dakota",county_fips:46061,county_name:"Hanson County",votes_gop:1793,votes_dem:557,total_votes:2388,diff:1236,per_gop:.7508375209380235,per_dem:.233249581239531,per_point_diff:.5175879396984925},{state_name:"South Dakota",county_fips:46063,county_name:"Harding County",votes_gop:748,votes_dem:49,total_votes:813,diff:699,per_gop:.9200492004920049,per_dem:.06027060270602706,per_point_diff:.8597785977859779},{state_name:"South Dakota",county_fips:46065,county_name:"Hughes County",votes_gop:5522,votes_dem:2953,total_votes:8723,diff:2569,per_gop:.6330390920554855,per_dem:.3385303221368795,per_point_diff:.294508769918606},{state_name:"South Dakota",county_fips:46067,county_name:"Hutchinson County",votes_gop:2944,votes_dem:762,total_votes:3767,diff:2182,per_gop:.7815237589593841,per_dem:.20228298380674276,per_point_diff:.5792407751526414},{state_name:"South Dakota",county_fips:46069,county_name:"Hyde County",votes_gop:564,votes_dem:136,total_votes:710,diff:428,per_gop:.7943661971830986,per_dem:.19154929577464788,per_point_diff:.6028169014084508},{state_name:"South Dakota",county_fips:46071,county_name:"Jackson County",votes_gop:738,votes_dem:359,total_votes:1115,diff:379,per_gop:.6618834080717488,per_dem:.3219730941704036,per_point_diff:.33991031390134524},{state_name:"South Dakota",county_fips:46073,county_name:"Jerauld County",votes_gop:721,votes_dem:270,total_votes:1006,diff:451,per_gop:.7166998011928429,per_dem:.268389662027833,per_point_diff:.44831013916500995},{state_name:"South Dakota",county_fips:46075,county_name:"Jones County",votes_gop:498,votes_dem:90,total_votes:599,diff:408,per_gop:.8313856427378965,per_dem:.15025041736227046,per_point_diff:.681135225375626},{state_name:"South Dakota",county_fips:46077,county_name:"Kingsbury County",votes_gop:1904,votes_dem:819,total_votes:2779,diff:1085,per_gop:.6851385390428212,per_dem:.2947103274559194,per_point_diff:.3904282115869018},{state_name:"South Dakota",county_fips:46079,county_name:"Lake County",votes_gop:3681,votes_dem:2068,total_votes:5873,diff:1613,per_gop:.6267665588285374,per_dem:.3521198705942449,per_point_diff:.2746466882342925},{state_name:"South Dakota",county_fips:46081,county_name:"Lawrence County",votes_gop:8753,votes_dem:4537,total_votes:13828,diff:4216,per_gop:.6329910326873012,per_dem:.32810240092565807,per_point_diff:.3048886317616431},{state_name:"South Dakota",county_fips:46083,county_name:"Lincoln County",votes_gop:19617,votes_dem:11981,total_votes:32396,diff:7636,per_gop:.60553772070626,per_dem:.36982960859365355,per_point_diff:.23570811211260645},{state_name:"South Dakota",county_fips:46085,county_name:"Lyman County",votes_gop:1042,votes_dem:525,total_votes:1597,diff:517,per_gop:.6524733876017533,per_dem:.3287413901064496,per_point_diff:.32373199749530374},{state_name:"South Dakota",county_fips:46087,county_name:"McCook County",votes_gop:2068,votes_dem:769,total_votes:2900,diff:1299,per_gop:.713103448275862,per_dem:.26517241379310347,per_point_diff:.44793103448275856},{state_name:"South Dakota",county_fips:46089,county_name:"McPherson County",votes_gop:1075,votes_dem:222,total_votes:1324,diff:853,per_gop:.8119335347432024,per_dem:.16767371601208458,per_point_diff:.6442598187311178},{state_name:"South Dakota",county_fips:46091,county_name:"Marshall County",votes_gop:1287,votes_dem:858,total_votes:2178,diff:429,per_gop:.5909090909090909,per_dem:.3939393939393939,per_point_diff:.19696969696969702},{state_name:"South Dakota",county_fips:46093,county_name:"Meade County",votes_gop:9875,votes_dem:3285,total_votes:13670,diff:6590,per_gop:.7223847841989759,per_dem:.2403072421360644,per_point_diff:.48207754206291153},{state_name:"South Dakota",county_fips:46095,county_name:"Mellette County",votes_gop:449,votes_dem:298,total_votes:769,diff:151,per_gop:.5838751625487646,per_dem:.38751625487646296,per_point_diff:.19635890767230163},{state_name:"South Dakota",county_fips:46097,county_name:"Miner County",votes_gop:787,votes_dem:320,total_votes:1138,diff:467,per_gop:.6915641476274165,per_dem:.281195079086116,per_point_diff:.41036906854130045},{state_name:"South Dakota",county_fips:46099,county_name:"Minnehaha County",votes_gop:49249,votes_dem:40482,total_votes:92326,diff:8767,per_gop:.5334250373675887,per_dem:.43846803717262745,per_point_diff:.09495700019496128},{state_name:"South Dakota",county_fips:46101,county_name:"Moody County",votes_gop:1951,votes_dem:1179,total_votes:3206,diff:772,per_gop:.6085464753587024,per_dem:.367747972551466,per_point_diff:.24079850280723641},{state_name:"South Dakota",county_fips:46102,county_name:"Oglala Lakota County",votes_gop:297,votes_dem:2829,total_votes:3200,diff:-2532,per_gop:.0928125,per_dem:.8840625,per_point_diff:-.79125},{state_name:"South Dakota",county_fips:46103,county_name:"Pennington County",votes_gop:35063,votes_dem:20606,total_votes:57518,diff:14457,per_gop:.6096004728954414,per_dem:.35825306860461076,per_point_diff:.25134740429083063},{state_name:"South Dakota",county_fips:46105,county_name:"Perkins County",votes_gop:1401,votes_dem:239,total_votes:1669,diff:1162,per_gop:.8394248052726183,per_dem:.1431995206710605,per_point_diff:.6962252846015577},{state_name:"South Dakota",county_fips:46107,county_name:"Potter County",votes_gop:1139,votes_dem:227,total_votes:1380,diff:912,per_gop:.8253623188405798,per_dem:.1644927536231884,per_point_diff:.6608695652173914},{state_name:"South Dakota",county_fips:46109,county_name:"Roberts County",votes_gop:2404,votes_dem:1828,total_votes:4307,diff:576,per_gop:.5581611330392384,per_dem:.424425354074762,per_point_diff:.13373577896447641},{state_name:"South Dakota",county_fips:46111,county_name:"Sanborn County",votes_gop:905,votes_dem:257,total_votes:1185,diff:648,per_gop:.7637130801687764,per_dem:.2168776371308017,per_point_diff:.5468354430379747},{state_name:"South Dakota",county_fips:46115,county_name:"Spink County",votes_gop:2104,votes_dem:998,total_votes:3163,diff:1106,per_gop:.6651912741068606,per_dem:.31552323743281696,per_point_diff:.34966803667404367},{state_name:"South Dakota",county_fips:46117,county_name:"Stanley County",votes_gop:1203,votes_dem:421,total_votes:1652,diff:782,per_gop:.7282082324455206,per_dem:.25484261501210653,per_point_diff:.47336561743341404},{state_name:"South Dakota",county_fips:46119,county_name:"Sully County",votes_gop:726,votes_dem:185,total_votes:930,diff:541,per_gop:.7806451612903226,per_dem:.1989247311827957,per_point_diff:.5817204301075269},{state_name:"South Dakota",county_fips:46121,county_name:"Todd County",votes_gop:532,votes_dem:1963,total_votes:2539,diff:-1431,per_gop:.20953131153997637,per_dem:.773139031114612,per_point_diff:-.5636077195746356},{state_name:"South Dakota",county_fips:46123,county_name:"Tripp County",votes_gop:2161,votes_dem:495,total_votes:2696,diff:1666,per_gop:.8015578635014837,per_dem:.1836053412462908,per_point_diff:.6179525222551929},{state_name:"South Dakota",county_fips:46125,county_name:"Turner County",votes_gop:3290,votes_dem:1139,total_votes:4548,diff:2151,per_gop:.7233948988566403,per_dem:.2504397537379068,per_point_diff:.47295514511873354},{state_name:"South Dakota",county_fips:46127,county_name:"Union County",votes_gop:5944,votes_dem:2725,total_votes:8855,diff:3219,per_gop:.6712591756070017,per_dem:.30773574251835123,per_point_diff:.3635234330886504},{state_name:"South Dakota",county_fips:46129,county_name:"Walworth County",votes_gop:1966,votes_dem:565,total_votes:2580,diff:1401,per_gop:.762015503875969,per_dem:.2189922480620155,per_point_diff:.5430232558139534},{state_name:"South Dakota",county_fips:46135,county_name:"Yankton County",votes_gop:6581,votes_dem:4016,total_votes:10900,diff:2565,per_gop:.6037614678899083,per_dem:.36844036697247706,per_point_diff:.2353211009174312},{state_name:"South Dakota",county_fips:46137,county_name:"Ziebach County",votes_gop:404,votes_dem:481,total_votes:906,diff:-77,per_gop:.445916114790287,per_dem:.5309050772626932,per_point_diff:-.08498896247240623},{state_name:"Tennessee",county_fips:47001,county_name:"Anderson County",votes_gop:23184,votes_dem:11741,total_votes:35570,diff:11443,per_gop:.6517852122575204,per_dem:.3300815293786899,per_point_diff:.3217036828788305},{state_name:"Tennessee",county_fips:47003,county_name:"Bedford County",votes_gop:14354,votes_dem:4453,total_votes:19088,diff:9901,per_gop:.7519907795473596,per_dem:.23328792958927075,per_point_diff:.5187028499580888},{state_name:"Tennessee",county_fips:47005,county_name:"Benton County",votes_gop:5668,votes_dem:1529,total_votes:7260,diff:4139,per_gop:.7807162534435261,per_dem:.2106060606060606,per_point_diff:.5701101928374656},{state_name:"Tennessee",county_fips:47007,county_name:"Bledsoe County",votes_gop:4725,votes_dem:971,total_votes:5758,diff:3754,per_gop:.8205974296630775,per_dem:.1686349426884335,per_point_diff:.651962486974644},{state_name:"Tennessee",county_fips:47009,county_name:"Blount County",votes_gop:47369,votes_dem:17932,total_votes:66609,diff:29437,per_gop:.7111501448753171,per_dem:.269212869131799,per_point_diff:.44193727574351815},{state_name:"Tennessee",county_fips:47011,county_name:"Bradley County",votes_gop:35204,votes_dem:9851,total_votes:45865,diff:25353,per_gop:.7675569606453723,per_dem:.21478251389948763,per_point_diff:.5527744467458846},{state_name:"Tennessee",county_fips:47013,county_name:"Campbell County",votes_gop:12331,votes_dem:2441,total_votes:14933,diff:9890,per_gop:.8257550391749816,per_dem:.16346347016674478,per_point_diff:.6622915690082368},{state_name:"Tennessee",county_fips:47015,county_name:"Cannon County",votes_gop:5190,votes_dem:1261,total_votes:6557,diff:3929,per_gop:.7915205124294646,per_dem:.1923135580295867,per_point_diff:.5992069543998779},{state_name:"Tennessee",county_fips:47017,county_name:"Carroll County",votes_gop:9205,votes_dem:2559,total_votes:11905,diff:6646,per_gop:.7732045359092818,per_dem:.21495170096598068,per_point_diff:.5582528349433011},{state_name:"Tennessee",county_fips:47019,county_name:"Carter County",votes_gop:19584,votes_dem:4529,total_votes:24492,diff:15055,per_gop:.7996080352768251,per_dem:.1849175240894986,per_point_diff:.6146905111873265},{state_name:"Tennessee",county_fips:47021,county_name:"Cheatham County",votes_gop:14438,votes_dem:5514,total_votes:20260,diff:8924,per_gop:.7126357354392893,per_dem:.2721618953603159,per_point_diff:.4404738400789734},{state_name:"Tennessee",county_fips:47023,county_name:"Chester County",votes_gop:5952,votes_dem:1412,total_votes:7584,diff:4540,per_gop:.7848101265822784,per_dem:.18618143459915612,per_point_diff:.5986286919831223},{state_name:"Tennessee",county_fips:47025,county_name:"Claiborne County",votes_gop:10604,votes_dem:2202,total_votes:12945,diff:8402,per_gop:.8191579760525299,per_dem:.17010428736964078,per_point_diff:.6490536886828892},{state_name:"Tennessee",county_fips:47027,county_name:"Clay County",votes_gop:2733,votes_dem:735,total_votes:3506,diff:1998,per_gop:.7795208214489446,per_dem:.2096406160867085,per_point_diff:.5698802053622362},{state_name:"Tennessee",county_fips:47029,county_name:"Cocke County",votes_gop:12162,votes_dem:2533,total_votes:14859,diff:9629,per_gop:.8184938421158894,per_dem:.170469075980887,per_point_diff:.6480247661350024},{state_name:"Tennessee",county_fips:47031,county_name:"Coffee County",votes_gop:17883,votes_dem:5705,total_votes:24282,diff:12178,per_gop:.7364714603409933,per_dem:.23494769788320566,per_point_diff:.5015237624577876},{state_name:"Tennessee",county_fips:47033,county_name:"Crockett County",votes_gop:4673,votes_dem:1382,total_votes:6114,diff:3291,per_gop:.764311416421328,per_dem:.2260385999345764,per_point_diff:.5382728164867516},{state_name:"Tennessee",county_fips:47035,county_name:"Cumberland County",votes_gop:25168,votes_dem:6728,total_votes:32279,diff:18440,per_gop:.779701973419251,per_dem:.2084327271600731,per_point_diff:.5712692462591779},{state_name:"Tennessee",county_fips:47037,county_name:"Davidson County",votes_gop:100218,votes_dem:199703,total_votes:309658,diff:-99485,per_gop:.32364091998269057,per_dem:.6449147123600876,per_point_diff:-.321273792377397},{state_name:"Tennessee",county_fips:47039,county_name:"Decatur County",votes_gop:4229,votes_dem:904,total_votes:5241,diff:3325,per_gop:.8069070788017554,per_dem:.17248616676206832,per_point_diff:.6344209120396871},{state_name:"Tennessee",county_fips:47041,county_name:"DeKalb County",votes_gop:6672,votes_dem:1750,total_votes:8513,diff:4922,per_gop:.7837425114530717,per_dem:.20556795489251733,per_point_diff:.5781745565605544},{state_name:"Tennessee",county_fips:47043,county_name:"Dickson County",votes_gop:17643,votes_dem:6106,total_votes:24323,diff:11537,per_gop:.7253628253093779,per_dem:.25103811207499077,per_point_diff:.47432471323438713},{state_name:"Tennessee",county_fips:47045,county_name:"Dyer County",votes_gop:11768,votes_dem:3158,total_votes:15079,diff:8610,per_gop:.7804231049804363,per_dem:.20943033357649712,per_point_diff:.5709927714039392},{state_name:"Tennessee",county_fips:47047,county_name:"Fayette County",votes_gop:15690,votes_dem:7027,total_votes:22984,diff:8663,per_gop:.6826487991646363,per_dem:.3057344239470936,per_point_diff:.3769143752175427},{state_name:"Tennessee",county_fips:47049,county_name:"Fentress County",votes_gop:7441,votes_dem:1214,total_votes:8729,diff:6227,per_gop:.8524458700882117,per_dem:.13907664108145262,per_point_diff:.713369229006759},{state_name:"Tennessee",county_fips:47051,county_name:"Franklin County",votes_gop:13987,votes_dem:4864,total_votes:19132,diff:9123,per_gop:.7310788208237508,per_dem:.2542337445118127,per_point_diff:.47684507631193807},{state_name:"Tennessee",county_fips:47053,county_name:"Gibson County",votes_gop:16259,votes_dem:5771,total_votes:22335,diff:10488,per_gop:.7279605999552272,per_dem:.2583837027087531,per_point_diff:.4695768972464741},{state_name:"Tennessee",county_fips:47055,county_name:"Giles County",votes_gop:9784,votes_dem:3298,total_votes:13203,diff:6486,per_gop:.7410437021888965,per_dem:.24979171400439293,per_point_diff:.49125198818450355},{state_name:"Tennessee",county_fips:47057,county_name:"Grainger County",votes_gop:8565,votes_dem:1467,total_votes:10134,diff:7098,per_gop:.8451746595618709,per_dem:.1447602131438721,per_point_diff:.7004144464179988},{state_name:"Tennessee",county_fips:47059,county_name:"Greene County",votes_gop:22259,votes_dem:5199,total_votes:28087,diff:17060,per_gop:.7925018691921529,per_dem:.18510342863246343,per_point_diff:.6073984405596895},{state_name:"Tennessee",county_fips:47061,county_name:"Grundy County",votes_gop:4802,votes_dem:988,total_votes:5855,diff:3814,per_gop:.8201537147736977,per_dem:.16874466268146884,per_point_diff:.6514090520922289},{state_name:"Tennessee",county_fips:47063,county_name:"Hamblen County",votes_gop:18811,votes_dem:5500,total_votes:24631,diff:13311,per_gop:.763712394949454,per_dem:.22329584669725144,per_point_diff:.5404165482522025},{state_name:"Tennessee",county_fips:47065,county_name:"Hamilton County",votes_gop:92108,votes_dem:75522,total_votes:171113,diff:16586,per_gop:.5382875643580558,per_dem:.44135746553447136,per_point_diff:.09693009882358444},{state_name:"Tennessee",county_fips:47067,county_name:"Hancock County",votes_gop:2372,votes_dem:362,total_votes:2744,diff:2010,per_gop:.8644314868804664,per_dem:.13192419825072887,per_point_diff:.7325072886297376},{state_name:"Tennessee",county_fips:47069,county_name:"Hardeman County",votes_gop:5760,votes_dem:4180,total_votes:10063,diff:1580,per_gop:.5723939183146179,per_dem:.41538308655470535,per_point_diff:.1570108317599126},{state_name:"Tennessee",county_fips:47071,county_name:"Hardin County",votes_gop:9559,votes_dem:1775,total_votes:11538,diff:7784,per_gop:.828479805858901,per_dem:.15383948691280985,per_point_diff:.6746403189460912},{state_name:"Tennessee",county_fips:47073,county_name:"Hawkins County",votes_gop:20405,votes_dem:4083,total_votes:24824,diff:16322,per_gop:.8219867869803416,per_dem:.16447792458910732,per_point_diff:.6575088623912342},{state_name:"Tennessee",county_fips:47075,county_name:"Haywood County",votes_gop:3343,votes_dem:4012,total_votes:7439,diff:-669,per_gop:.44938835865035626,per_dem:.5393198010485281,per_point_diff:-.0899314423981718},{state_name:"Tennessee",county_fips:47077,county_name:"Henderson County",votes_gop:9797,votes_dem:2092,total_votes:12020,diff:7705,per_gop:.8150582362728785,per_dem:.1740432612312812,per_point_diff:.6410149750415973},{state_name:"Tennessee",county_fips:47079,county_name:"Henry County",votes_gop:11239,votes_dem:3548,total_votes:15047,diff:7691,per_gop:.7469262976008507,per_dem:.23579451053366118,per_point_diff:.5111317870671895},{state_name:"Tennessee",county_fips:47081,county_name:"Hickman County",votes_gop:7577,votes_dem:2130,total_votes:9832,diff:5447,per_gop:.7706468673718471,per_dem:.21663954434499594,per_point_diff:.5540073230268512},{state_name:"Tennessee",county_fips:47083,county_name:"Houston County",votes_gop:2718,votes_dem:871,total_votes:3686,diff:1847,per_gop:.7373846988605535,per_dem:.23629951166576235,per_point_diff:.5010851871947911},{state_name:"Tennessee",county_fips:47085,county_name:"Humphreys County",votes_gop:6120,votes_dem:2017,total_votes:8236,diff:4103,per_gop:.7430791646430306,per_dem:.24490043710539097,per_point_diff:.4981787275376396},{state_name:"Tennessee",county_fips:47087,county_name:"Jackson County",votes_gop:4118,votes_dem:1135,total_votes:5323,diff:2983,per_gop:.7736238962990795,per_dem:.21322562464775502,per_point_diff:.5603982716513245},{state_name:"Tennessee",county_fips:47089,county_name:"Jefferson County",votes_gop:18651,votes_dem:4654,total_votes:23616,diff:13997,per_gop:.7897611788617886,per_dem:.19706978319783197,per_point_diff:.5926913956639567},{state_name:"Tennessee",county_fips:47091,county_name:"Johnson County",votes_gop:6468,votes_dem:1246,total_votes:7801,diff:5222,per_gop:.8291244712216382,per_dem:.15972311242148443,per_point_diff:.6694013588001538},{state_name:"Tennessee",county_fips:47093,county_name:"Knox County",votes_gop:124540,votes_dem:91422,total_votes:220556,diff:33118,per_gop:.56466384954388,per_dem:.41450697328569613,per_point_diff:.1501568762581839},{state_name:"Tennessee",county_fips:47095,county_name:"Lake County",votes_gop:1492,votes_dem:526,total_votes:2034,diff:966,per_gop:.7335299901671584,per_dem:.2586037364798427,per_point_diff:.47492625368731567},{state_name:"Tennessee",county_fips:47097,county_name:"Lauderdale County",votes_gop:5674,votes_dem:3193,total_votes:8965,diff:2481,per_gop:.6329057445621863,per_dem:.3561628555493586,per_point_diff:.2767428890128277},{state_name:"Tennessee",county_fips:47099,county_name:"Lawrence County",votes_gop:15334,votes_dem:3195,total_votes:18718,diff:12139,per_gop:.8192114542151939,per_dem:.17069131317448447,per_point_diff:.6485201410407094},{state_name:"Tennessee",county_fips:47101,county_name:"Lewis County",votes_gop:4474,votes_dem:1072,total_votes:5609,diff:3402,per_gop:.7976466393296487,per_dem:.1911214120164022,per_point_diff:.6065252273132465},{state_name:"Tennessee",county_fips:47103,county_name:"Lincoln County",votes_gop:12281,votes_dem:2919,total_votes:15608,diff:9362,per_gop:.7868400820092261,per_dem:.187019477191184,per_point_diff:.5998206048180421},{state_name:"Tennessee",county_fips:47105,county_name:"Loudon County",votes_gop:21713,votes_dem:6948,total_votes:29347,diff:14765,per_gop:.7398711963744165,per_dem:.23675333083449757,per_point_diff:.5031178655399189},{state_name:"Tennessee",county_fips:47107,county_name:"McMinn County",votes_gop:18198,votes_dem:4361,total_votes:22844,diff:13837,per_gop:.7966205568201716,per_dem:.19090351952372614,per_point_diff:.6057170372964455},{state_name:"Tennessee",county_fips:47109,county_name:"McNairy County",votes_gop:9093,votes_dem:1943,total_votes:11275,diff:7150,per_gop:.8064745011086475,per_dem:.17232815964523282,per_point_diff:.6341463414634146},{state_name:"Tennessee",county_fips:47111,county_name:"Macon County",votes_gop:8096,votes_dem:1307,total_votes:9487,diff:6789,per_gop:.8533783071571625,per_dem:.13776747127648362,per_point_diff:.7156108358806789},{state_name:"Tennessee",county_fips:47113,county_name:"Madison County",votes_gop:23943,votes_dem:18390,total_votes:42950,diff:5553,per_gop:.5574621653084982,per_dem:.4281722933643772,per_point_diff:.12928987194412106},{state_name:"Tennessee",county_fips:47115,county_name:"Marion County",votes_gop:9911,votes_dem:3177,total_votes:13256,diff:6734,per_gop:.7476614363307181,per_dem:.23966505733252866,per_point_diff:.5079963789981895},{state_name:"Tennessee",county_fips:47117,county_name:"Marshall County",votes_gop:11043,votes_dem:3605,total_votes:14878,diff:7438,per_gop:.7422368597929829,per_dem:.24230407312810862,per_point_diff:.4999327866648743},{state_name:"Tennessee",county_fips:47119,county_name:"Maury County",votes_gop:31464,votes_dem:14418,total_votes:46657,diff:17046,per_gop:.674368261997128,per_dem:.30902115438197914,per_point_diff:.3653471076151488},{state_name:"Tennessee",county_fips:47121,county_name:"Meigs County",votes_gop:4467,votes_dem:1008,total_votes:5532,diff:3459,per_gop:.8074837310195228,per_dem:.1822125813449024,per_point_diff:.6252711496746204},{state_name:"Tennessee",county_fips:47123,county_name:"Monroe County",votes_gop:16783,votes_dem:3764,total_votes:20797,diff:13019,per_gop:.8069913929893735,per_dem:.18098764244843007,per_point_diff:.6260037505409435},{state_name:"Tennessee",county_fips:47125,county_name:"Montgomery County",votes_gop:42187,votes_dem:32472,total_votes:76758,diff:9715,per_gop:.5496104640558639,per_dem:.4230438521066208,per_point_diff:.12656661194924307},{state_name:"Tennessee",county_fips:47127,county_name:"Moore County",votes_gop:2888,votes_dem:573,total_votes:3539,diff:2315,per_gop:.8160497315625883,per_dem:.16191014410850524,per_point_diff:.6541395874540831},{state_name:"Tennessee",county_fips:47129,county_name:"Morgan County",votes_gop:6930,votes_dem:1167,total_votes:8228,diff:5763,per_gop:.8422459893048129,per_dem:.14183276616431698,per_point_diff:.7004132231404959},{state_name:"Tennessee",county_fips:47131,county_name:"Obion County",votes_gop:10790,votes_dem:2589,total_votes:13521,diff:8201,per_gop:.7980178980844612,per_dem:.19147992012425116,per_point_diff:.60653797796021},{state_name:"Tennessee",county_fips:47133,county_name:"Overton County",votes_gop:7918,votes_dem:2033,total_votes:10037,diff:5885,per_gop:.7888811397828036,per_dem:.20255056291720633,per_point_diff:.5863305768655973},{state_name:"Tennessee",county_fips:47135,county_name:"Perry County",votes_gop:2775,votes_dem:615,total_votes:3428,diff:2160,per_gop:.80950991831972,per_dem:.1794049008168028,per_point_diff:.6301050175029171},{state_name:"Tennessee",county_fips:47137,county_name:"Pickett County",votes_gop:2381,votes_dem:525,total_votes:2931,diff:1856,per_gop:.8123507335380417,per_dem:.17911975435005117,per_point_diff:.6332309791879904},{state_name:"Tennessee",county_fips:47139,county_name:"Polk County",votes_gop:6792,votes_dem:1492,total_votes:8360,diff:5300,per_gop:.8124401913875599,per_dem:.1784688995215311,per_point_diff:.6339712918660287},{state_name:"Tennessee",county_fips:47141,county_name:"Putnam County",votes_gop:23759,votes_dem:9185,total_votes:33593,diff:14574,per_gop:.7072604411633376,per_dem:.2734200577501265,per_point_diff:.43384038341321113},{state_name:"Tennessee",county_fips:47143,county_name:"Rhea County",votes_gop:11050,votes_dem:2369,total_votes:13637,diff:8681,per_gop:.8102955195424214,per_dem:.17371855980054265,per_point_diff:.6365769597418788},{state_name:"Tennessee",county_fips:47145,county_name:"Roane County",votes_gop:19230,votes_dem:6043,total_votes:25917,diff:13187,per_gop:.741984025928927,per_dem:.23316741906856503,per_point_diff:.5088166068603619},{state_name:"Tennessee",county_fips:47147,county_name:"Robertson County",votes_gop:24536,votes_dem:8692,total_votes:33717,diff:15844,per_gop:.7277041255153187,per_dem:.25779280481656136,per_point_diff:.46991132069875735},{state_name:"Tennessee",county_fips:47149,county_name:"Rutherford County",votes_gop:81480,votes_dem:59341,total_votes:143878,diff:22139,per_gop:.5663131263987545,per_dem:.4124397058619108,per_point_diff:.15387342053684372},{state_name:"Tennessee",county_fips:47151,county_name:"Scott County",votes_gop:8004,votes_dem:986,total_votes:9052,diff:7018,per_gop:.8842244807777286,per_dem:.10892620415377817,per_point_diff:.7752982766239505},{state_name:"Tennessee",county_fips:47153,county_name:"Sequatchie County",votes_gop:5855,votes_dem:1298,total_votes:7252,diff:4557,per_gop:.8073634859349145,per_dem:.17898510755653613,per_point_diff:.6283783783783783},{state_name:"Tennessee",county_fips:47155,county_name:"Sevier County",votes_gop:33783,votes_dem:8721,total_votes:43535,diff:25062,per_gop:.775996324796141,per_dem:.20032158033765934,per_point_diff:.5756747444584817},{state_name:"Tennessee",county_fips:47157,county_name:"Shelby County",votes_gop:129815,votes_dem:246105,total_votes:382055,diff:-116290,per_gop:.3397809215950583,per_dem:.6441611809817959,per_point_diff:-.3043802593867376},{state_name:"Tennessee",county_fips:47159,county_name:"Smith County",votes_gop:7136,votes_dem:1802,total_votes:9051,diff:5334,per_gop:.7884211689316097,per_dem:.19909402275991603,per_point_diff:.5893271461716937},{state_name:"Tennessee",county_fips:47161,county_name:"Stewart County",votes_gop:4950,votes_dem:1232,total_votes:6296,diff:3718,per_gop:.7862134688691232,per_dem:.19567979669631513,per_point_diff:.590533672172808},{state_name:"Tennessee",county_fips:47163,county_name:"Sullivan County",votes_gop:55860,votes_dem:17272,total_votes:74357,diff:38588,per_gop:.751240636389311,per_dem:.23228478825127427,per_point_diff:.5189558481380367},{state_name:"Tennessee",county_fips:47165,county_name:"Sumner County",votes_gop:63454,votes_dem:27680,total_votes:92630,diff:35774,per_gop:.685026449314477,per_dem:.2988232753967397,per_point_diff:.3862031739177373},{state_name:"Tennessee",county_fips:47167,county_name:"Tipton County",votes_gop:20070,votes_dem:6837,total_votes:27308,diff:13233,per_gop:.7349494653581368,per_dem:.25036619305697966,per_point_diff:.4845832723011571},{state_name:"Tennessee",county_fips:47169,county_name:"Trousdale County",votes_gop:2936,votes_dem:1012,total_votes:3998,diff:1924,per_gop:.7343671835917959,per_dem:.2531265632816408,per_point_diff:.4812406203101551},{state_name:"Tennessee",county_fips:47171,county_name:"Unicoi County",votes_gop:6599,votes_dem:1615,total_votes:8307,diff:4984,per_gop:.7943902732635127,per_dem:.19441434934392682,per_point_diff:.5999759239195859},{state_name:"Tennessee",county_fips:47173,county_name:"Union County",votes_gop:6803,votes_dem:1249,total_votes:8123,diff:5554,per_gop:.8374984611596701,per_dem:.15376092576634248,per_point_diff:.6837375353933276},{state_name:"Tennessee",county_fips:47175,county_name:"Van Buren County",votes_gop:2342,votes_dem:544,total_votes:2921,diff:1798,per_gop:.8017802122560767,per_dem:.1862375898664841,per_point_diff:.6155426223895926},{state_name:"Tennessee",county_fips:47177,county_name:"Warren County",votes_gop:11850,votes_dem:3924,total_votes:16009,diff:7926,per_gop:.7402086326441377,per_dem:.24511212443000813,per_point_diff:.4950965082141296},{state_name:"Tennessee",county_fips:47179,county_name:"Washington County",votes_gop:40444,votes_dem:18638,total_votes:60203,diff:21806,per_gop:.671793764430344,per_dem:.30958590103483213,per_point_diff:.36220786339551186},{state_name:"Tennessee",county_fips:47181,county_name:"Wayne County",votes_gop:5795,votes_dem:820,total_votes:6669,diff:4975,per_gop:.8689458689458689,per_dem:.12295696506222822,per_point_diff:.7459889038836407},{state_name:"Tennessee",county_fips:47183,county_name:"Weakley County",votes_gop:10396,votes_dem:3020,total_votes:13735,diff:7376,per_gop:.7568984346559884,per_dem:.2198762286130324,per_point_diff:.5370222060429559},{state_name:"Tennessee",county_fips:47185,county_name:"White County",votes_gop:9606,votes_dem:2143,total_votes:11895,diff:7463,per_gop:.8075662042875158,per_dem:.1801597309794031,per_point_diff:.6274064733081127},{state_name:"Tennessee",county_fips:47187,county_name:"Williamson County",votes_gop:86469,votes_dem:50161,total_votes:139016,diff:36308,per_gop:.6220075387005812,per_dem:.36082896932727165,per_point_diff:.2611785693733096},{state_name:"Tennessee",county_fips:47189,county_name:"Wilson County",votes_gop:50296,votes_dem:22254,total_votes:74330,diff:28042,per_gop:.6766581461052065,per_dem:.2993945916857258,per_point_diff:.3772635544194807},{state_name:"Texas",county_fips:48001,county_name:"Anderson County",votes_gop:15110,votes_dem:3955,total_votes:19227,diff:11155,per_gop:.7858740313101368,per_dem:.20570031726218338,per_point_diff:.5801737140479534},{state_name:"Texas",county_fips:48003,county_name:"Andrews County",votes_gop:4943,votes_dem:850,total_votes:5863,diff:4093,per_gop:.8430837455227699,per_dem:.14497697424526693,per_point_diff:.698106771277503},{state_name:"Texas",county_fips:48005,county_name:"Angelina County",votes_gop:25076,votes_dem:9143,total_votes:34574,diff:15933,per_gop:.7252848961647481,per_dem:.26444727251692024,per_point_diff:.4608376236478279},{state_name:"Texas",county_fips:48007,county_name:"Aransas County",votes_gop:9239,votes_dem:2916,total_votes:12290,diff:6323,per_gop:.7517493897477624,per_dem:.2372660699755899,per_point_diff:.5144833197721725},{state_name:"Texas",county_fips:48009,county_name:"Archer County",votes_gop:4300,votes_dem:446,total_votes:4796,diff:3854,per_gop:.896580483736447,per_dem:.09299416180150125,per_point_diff:.8035863219349458},{state_name:"Texas",county_fips:48011,county_name:"Armstrong County",votes_gop:1035,votes_dem:75,total_votes:1112,diff:960,per_gop:.9307553956834532,per_dem:.06744604316546762,per_point_diff:.8633093525179856},{state_name:"Texas",county_fips:48013,county_name:"Atascosa County",votes_gop:12039,votes_dem:5876,total_votes:18118,diff:6163,per_gop:.6644773153769732,per_dem:.3243183574345954,per_point_diff:.34015895794237777},{state_name:"Texas",county_fips:48015,county_name:"Austin County",votes_gop:11447,votes_dem:2951,total_votes:14554,diff:8496,per_gop:.7865191699876323,per_dem:.20276212725024048,per_point_diff:.5837570427373918},{state_name:"Texas",county_fips:48017,county_name:"Bailey County",votes_gop:1434,votes_dem:409,total_votes:1860,diff:1025,per_gop:.7709677419354839,per_dem:.21989247311827956,per_point_diff:.5510752688172044},{state_name:"Texas",county_fips:48019,county_name:"Bandera County",votes_gop:10057,votes_dem:2505,total_votes:12715,diff:7552,per_gop:.7909555642941408,per_dem:.19701140385371607,per_point_diff:.5939441604404248},{state_name:"Texas",county_fips:48021,county_name:"Bastrop County",votes_gop:20516,votes_dem:15474,total_votes:36665,diff:5042,per_gop:.5595527069412246,per_dem:.4220373653347879,per_point_diff:.1375153416064367},{state_name:"Texas",county_fips:48023,county_name:"Baylor County",votes_gop:1494,votes_dem:183,total_votes:1702,diff:1311,per_gop:.8777908343125734,per_dem:.10752056404230317,per_point_diff:.7702702702702703},{state_name:"Texas",county_fips:48025,county_name:"Bee County",votes_gop:6006,votes_dem:3288,total_votes:9420,diff:2718,per_gop:.6375796178343949,per_dem:.3490445859872611,per_point_diff:.28853503184713375},{state_name:"Texas",county_fips:48027,county_name:"Bell County",votes_gop:67893,votes_dem:57014,total_votes:127375,diff:10879,per_gop:.5330166830225711,per_dem:.4476074582924436,per_point_diff:.08540922473012752},{state_name:"Texas",county_fips:48029,county_name:"Bexar County",votes_gop:308618,votes_dem:448452,total_votes:768952,diff:-139834,per_gop:.4013488488228134,per_dem:.5831989512999511,per_point_diff:-.18185010247713773},{state_name:"Texas",county_fips:48031,county_name:"Blanco County",votes_gop:5443,votes_dem:1911,total_votes:7441,diff:3532,per_gop:.7314877032656901,per_dem:.2568203198494826,per_point_diff:.4746673834162075},{state_name:"Texas",county_fips:48033,county_name:"Borden County",votes_gop:397,votes_dem:16,total_votes:416,diff:381,per_gop:.9543269230769231,per_dem:.038461538461538464,per_point_diff:.9158653846153847},{state_name:"Texas",county_fips:48035,county_name:"Bosque County",votes_gop:7469,votes_dem:1561,total_votes:9126,diff:5908,per_gop:.8184308568923954,per_dem:.1710497479728249,per_point_diff:.6473811089195705},{state_name:"Texas",county_fips:48037,county_name:"Bowie County",votes_gop:27116,votes_dem:10747,total_votes:38261,diff:16369,per_gop:.7087112203026581,per_dem:.2808865424322417,per_point_diff:.4278246778704164},{state_name:"Texas",county_fips:48039,county_name:"Brazoria County",votes_gop:90433,votes_dem:62228,total_votes:154984,diff:28205,per_gop:.5834989418262531,per_dem:.40151241418469,per_point_diff:.18198652764156303},{state_name:"Texas",county_fips:48041,county_name:"Brazos County",votes_gop:47530,votes_dem:35349,total_votes:85061,diff:12181,per_gop:.5587754670177872,per_dem:.41557235395774794,per_point_diff:.1432031130600393},{state_name:"Texas",county_fips:48043,county_name:"Brewster County",votes_gop:2461,votes_dem:2258,total_votes:4822,diff:203,per_gop:.5103691414350892,per_dem:.4682704272086271,per_point_diff:.04209871422646205},{state_name:"Texas",county_fips:48045,county_name:"Briscoe County",votes_gop:639,votes_dem:78,total_votes:725,diff:561,per_gop:.8813793103448276,per_dem:.10758620689655173,per_point_diff:.7737931034482759},{state_name:"Texas",county_fips:48047,county_name:"Brooks County",votes_gop:998,votes_dem:1470,total_votes:2484,diff:-472,per_gop:.40177133655394526,per_dem:.5917874396135265,per_point_diff:-.19001610305958128},{state_name:"Texas",county_fips:48049,county_name:"Brown County",votes_gop:13698,votes_dem:2107,total_votes:15969,diff:11591,per_gop:.8577869622393387,per_dem:.13194313983342726,per_point_diff:.7258438224059114},{state_name:"Texas",county_fips:48051,county_name:"Burleson County",votes_gop:6743,votes_dem:1788,total_votes:8609,diff:4955,per_gop:.7832500871181322,per_dem:.20768962713439423,per_point_diff:.575560459983738},{state_name:"Texas",county_fips:48053,county_name:"Burnet County",votes_gop:18767,votes_dem:5639,total_votes:24717,diff:13128,per_gop:.7592749929198528,per_dem:.22814257393696646,per_point_diff:.5311324189828863},{state_name:"Texas",county_fips:48055,county_name:"Caldwell County",votes_gop:8031,votes_dem:6672,total_votes:14973,diff:1359,per_gop:.5363654578240834,per_dem:.44560208375075133,per_point_diff:.09076337407333207},{state_name:"Texas",county_fips:48057,county_name:"Calhoun County",votes_gop:5641,votes_dem:2148,total_votes:7856,diff:3493,per_gop:.7180498981670062,per_dem:.27342158859470467,per_point_diff:.4446283095723015},{state_name:"Texas",county_fips:48059,county_name:"Callahan County",votes_gop:6012,votes_dem:734,total_votes:6832,diff:5278,per_gop:.879976580796253,per_dem:.10743559718969554,per_point_diff:.7725409836065574},{state_name:"Texas",county_fips:48061,county_name:"Cameron County",votes_gop:49032,votes_dem:64063,total_votes:114174,diff:-15031,per_gop:.4294497871669557,per_dem:.5610997249811691,per_point_diff:-.1316499378142134},{state_name:"Texas",county_fips:48063,county_name:"Camp County",votes_gop:3626,votes_dem:1394,total_votes:5060,diff:2232,per_gop:.716600790513834,per_dem:.2754940711462451,per_point_diff:.4411067193675889},{state_name:"Texas",county_fips:48065,county_name:"Carson County",votes_gop:2779,votes_dem:297,total_votes:3122,diff:2482,per_gop:.8901345291479821,per_dem:.09513132607303011,per_point_diff:.795003203074952},{state_name:"Texas",county_fips:48067,county_name:"Cass County",votes_gop:11033,votes_dem:2795,total_votes:13927,diff:8238,per_gop:.7922021971709629,per_dem:.20068930853737343,per_point_diff:.5915128886335894},{state_name:"Texas",county_fips:48069,county_name:"Castro County",votes_gop:1602,votes_dem:466,total_votes:2083,diff:1136,per_gop:.7690830532885262,per_dem:.22371579452712434,per_point_diff:.5453672587614019},{state_name:"Texas",county_fips:48071,county_name:"Chambers County",votes_gop:17353,votes_dem:3997,total_votes:21652,diff:13356,per_gop:.8014502124515056,per_dem:.18460188435248476,per_point_diff:.6168483280990209},{state_name:"Texas",county_fips:48073,county_name:"Cherokee County",votes_gop:15101,votes_dem:4210,total_votes:19508,diff:10891,per_gop:.7740926799261841,per_dem:.21580889891326635,per_point_diff:.5582837810129178},{state_name:"Texas",county_fips:48075,county_name:"Childress County",votes_gop:1943,votes_dem:310,total_votes:2279,diff:1633,per_gop:.8525669153137341,per_dem:.13602457218078104,per_point_diff:.7165423431329531},{state_name:"Texas",county_fips:48077,county_name:"Clay County",votes_gop:5069,votes_dem:614,total_votes:5741,diff:4455,per_gop:.8829472217383731,per_dem:.1069500087092841,per_point_diff:.7759972130290891},{state_name:"Texas",county_fips:48079,county_name:"Cochran County",votes_gop:809,votes_dem:177,total_votes:1e3,diff:632,per_gop:.809,per_dem:.177,per_point_diff:.6320000000000001},{state_name:"Texas",county_fips:48081,county_name:"Coke County",votes_gop:1586,votes_dem:178,total_votes:1779,diff:1408,per_gop:.8915120854412592,per_dem:.10005621135469364,per_point_diff:.7914558740865655},{state_name:"Texas",county_fips:48083,county_name:"Coleman County",votes_gop:3641,votes_dem:451,total_votes:4124,diff:3190,per_gop:.8828806983511154,per_dem:.10935984481086324,per_point_diff:.7735208535402521},{state_name:"Texas",county_fips:48085,county_name:"Collin County",votes_gop:252318,votes_dem:230945,total_votes:492216,diff:21373,per_gop:.5126164123067921,per_dem:.46919441871048484,per_point_diff:.04342199359630727},{state_name:"Texas",county_fips:48087,county_name:"Collingsworth County",votes_gop:1048,votes_dem:155,total_votes:1218,diff:893,per_gop:.8604269293924466,per_dem:.1272577996715928,per_point_diff:.7331691297208538},{state_name:"Texas",county_fips:48089,county_name:"Colorado County",votes_gop:7472,votes_dem:2420,total_votes:9975,diff:5052,per_gop:.7490726817042607,per_dem:.24260651629072683,per_point_diff:.5064661654135338},{state_name:"Texas",county_fips:48091,county_name:"Comal County",votes_gop:62740,votes_dem:24826,total_votes:88863,diff:37914,per_gop:.7060306314214014,per_dem:.27937386763894984,per_point_diff:.4266567637824516},{state_name:"Texas",county_fips:48093,county_name:"Comanche County",votes_gop:5177,votes_dem:853,total_votes:6086,diff:4324,per_gop:.8506408149852119,per_dem:.14015773907328294,per_point_diff:.7104830759119289},{state_name:"Texas",county_fips:48095,county_name:"Concho County",votes_gop:1058,votes_dem:197,total_votes:1268,diff:861,per_gop:.8343848580441641,per_dem:.1553627760252366,per_point_diff:.6790220820189274},{state_name:"Texas",county_fips:48097,county_name:"Cooke County",votes_gop:15596,votes_dem:3210,total_votes:18988,diff:12386,per_gop:.8213608594902043,per_dem:.16905413945649883,per_point_diff:.6523067200337055},{state_name:"Texas",county_fips:48099,county_name:"Coryell County",votes_gop:15438,votes_dem:7565,total_votes:23490,diff:7873,per_gop:.6572158365261813,per_dem:.3220519369944657,per_point_diff:.3351638995317156},{state_name:"Texas",county_fips:48101,county_name:"Cottle County",votes_gop:540,votes_dem:113,total_votes:662,diff:427,per_gop:.8157099697885196,per_dem:.17069486404833836,per_point_diff:.6450151057401813},{state_name:"Texas",county_fips:48103,county_name:"Crane County",votes_gop:1247,votes_dem:241,total_votes:1503,diff:1006,per_gop:.8296739853626082,per_dem:.1603459747172322,per_point_diff:.669328010645376},{state_name:"Texas",county_fips:48105,county_name:"Crockett County",votes_gop:1220,votes_dem:344,total_votes:1574,diff:876,per_gop:.7750952986022872,per_dem:.21855146124523506,per_point_diff:.5565438373570522},{state_name:"Texas",county_fips:48107,county_name:"Crosby County",votes_gop:1396,votes_dem:527,total_votes:1953,diff:869,per_gop:.7147977470558116,per_dem:.2698412698412698,per_point_diff:.44495647721454173},{state_name:"Texas",county_fips:48109,county_name:"Culberson County",votes_gop:415,votes_dem:438,total_votes:864,diff:-23,per_gop:.48032407407407407,per_dem:.5069444444444444,per_point_diff:-.02662037037037035},{state_name:"Texas",county_fips:48111,county_name:"Dallam County",votes_gop:1389,votes_dem:197,total_votes:1609,diff:1192,per_gop:.8632691112492231,per_dem:.12243629583592293,per_point_diff:.7408328154133001},{state_name:"Texas",county_fips:48113,county_name:"Dallas County",votes_gop:307076,votes_dem:598576,total_votes:921638,diff:-291500,per_gop:.3331850466235116,per_dem:.6494697484261717,per_point_diff:-.31628470180266005},{state_name:"Texas",county_fips:48115,county_name:"Dawson County",votes_gop:2951,votes_dem:808,total_votes:3789,diff:2143,per_gop:.7788334652942729,per_dem:.21324887833201372,per_point_diff:.5655845869622591},{state_name:"Texas",county_fips:48117,county_name:"Deaf Smith County",votes_gop:3294,votes_dem:1264,total_votes:4610,diff:2030,per_gop:.7145336225596529,per_dem:.2741865509761388,per_point_diff:.4403470715835141},{state_name:"Texas",county_fips:48119,county_name:"Delta County",votes_gop:2162,votes_dem:403,total_votes:2592,diff:1759,per_gop:.8341049382716049,per_dem:.1554783950617284,per_point_diff:.6786265432098766},{state_name:"Texas",county_fips:48121,county_name:"Denton County",votes_gop:222480,votes_dem:188695,total_votes:417964,diff:33785,per_gop:.5322946473858993,per_dem:.45146232689896737,per_point_diff:.0808323204869319},{state_name:"Texas",county_fips:48123,county_name:"DeWitt County",votes_gop:6567,votes_dem:1494,total_votes:8118,diff:5073,per_gop:.8089430894308943,per_dem:.18403547671840353,per_point_diff:.6249076127124908},{state_name:"Texas",county_fips:48125,county_name:"Dickens County",votes_gop:853,votes_dem:130,total_votes:988,diff:723,per_gop:.8633603238866396,per_dem:.13157894736842105,per_point_diff:.7317813765182186},{state_name:"Texas",county_fips:48127,county_name:"Dimmit County",votes_gop:1384,votes_dem:2264,total_votes:3666,diff:-880,per_gop:.37752318603382434,per_dem:.6175668303327878,per_point_diff:-.24004364429896347},{state_name:"Texas",county_fips:48129,county_name:"Donley County",votes_gop:1438,votes_dem:198,total_votes:1648,diff:1240,per_gop:.8725728155339806,per_dem:.12014563106796117,per_point_diff:.7524271844660194},{state_name:"Texas",county_fips:48131,county_name:"Duval County",votes_gop:2443,votes_dem:2575,total_votes:5053,diff:-132,per_gop:.4834751632693449,per_dem:.5095982584603206,per_point_diff:-.026123095190975665},{state_name:"Texas",county_fips:48133,county_name:"Eastland County",votes_gop:7237,votes_dem:983,total_votes:8292,diff:6254,per_gop:.8727689339122046,per_dem:.11854799807042933,per_point_diff:.7542209358417752},{state_name:"Texas",county_fips:48135,county_name:"Ector County",votes_gop:32697,votes_dem:11367,total_votes:44581,diff:21330,per_gop:.733429039276822,per_dem:.25497409210201655,per_point_diff:.47845494717480547},{state_name:"Texas",county_fips:48137,county_name:"Edwards County",votes_gop:893,votes_dem:168,total_votes:1066,diff:725,per_gop:.8377110694183865,per_dem:.1575984990619137,per_point_diff:.6801125703564728},{state_name:"Texas",county_fips:48139,county_name:"Ellis County",votes_gop:56717,votes_dem:27565,total_votes:85493,diff:29152,per_gop:.66341103950031,per_dem:.32242405811002073,per_point_diff:.34098698139028927},{state_name:"Texas",county_fips:48141,county_name:"El Paso County",votes_gop:84331,votes_dem:178126,total_votes:267215,diff:-93795,per_gop:.31559231330576504,per_dem:.66660180004865,per_point_diff:-.35100948674288496},{state_name:"Texas",county_fips:48143,county_name:"Erath County",votes_gop:13684,votes_dem:2916,total_votes:16853,diff:10768,per_gop:.8119622619118257,per_dem:.17302557408176586,per_point_diff:.6389366878300599},{state_name:"Texas",county_fips:48145,county_name:"Falls County",votes_gop:4177,votes_dem:1899,total_votes:6133,diff:2278,per_gop:.681069623349095,per_dem:.3096363932822436,per_point_diff:.3714332300668514},{state_name:"Texas",county_fips:48147,county_name:"Fannin County",votes_gop:12171,votes_dem:2655,total_votes:15004,diff:9516,per_gop:.8111836843508398,per_dem:.1769528125833111,per_point_diff:.6342308717675287},{state_name:"Texas",county_fips:48149,county_name:"Fayette County",votes_gop:10171,votes_dem:2661,total_votes:12941,diff:7510,per_gop:.7859516266130901,per_dem:.20562553125724442,per_point_diff:.5803260953558458},{state_name:"Texas",county_fips:48151,county_name:"Fisher County",votes_gop:1448,votes_dem:352,total_votes:1826,diff:1096,per_gop:.7929901423877328,per_dem:.1927710843373494,per_point_diff:.6002190580503834},{state_name:"Texas",county_fips:48153,county_name:"Floyd County",votes_gop:1584,votes_dem:438,total_votes:2039,diff:1146,per_gop:.7768513977439921,per_dem:.2148111819519372,per_point_diff:.562040215792055},{state_name:"Texas",county_fips:48155,county_name:"Foard County",votes_gop:445,votes_dem:99,total_votes:551,diff:346,per_gop:.8076225045372051,per_dem:.17967332123411978,per_point_diff:.6279491833030852},{state_name:"Texas",county_fips:48157,county_name:"Fort Bend County",votes_gop:157718,votes_dem:195552,total_votes:357514,diff:-37834,per_gop:.4411519548884799,per_dem:.5469771813131793,per_point_diff:-.10582522642469938},{state_name:"Texas",county_fips:48159,county_name:"Franklin County",votes_gop:4161,votes_dem:804,total_votes:5009,diff:3357,per_gop:.83070473148333,per_dem:.16051108005589937,per_point_diff:.6701936514274307},{state_name:"Texas",county_fips:48161,county_name:"Freestone County",votes_gop:6991,votes_dem:1635,total_votes:8711,diff:5356,per_gop:.8025485018941568,per_dem:.18769372058317071,per_point_diff:.6148547813109861},{state_name:"Texas",county_fips:48163,county_name:"Frio County",votes_gop:2823,votes_dem:2422,total_votes:5279,diff:401,per_gop:.5347603712824398,per_dem:.4587990149649555,per_point_diff:.0759613563174843},{state_name:"Texas",county_fips:48165,county_name:"Gaines County",votes_gop:5355,votes_dem:576,total_votes:5995,diff:4779,per_gop:.8932443703085905,per_dem:.09608006672226856,per_point_diff:.797164303586322},{state_name:"Texas",county_fips:48167,county_name:"Galveston County",votes_gop:93911,votes_dem:58842,total_votes:155060,diff:35069,per_gop:.6056429769121631,per_dem:.3794789113891397,per_point_diff:.22616406552302337},{state_name:"Texas",county_fips:48169,county_name:"Garza County",votes_gop:1413,votes_dem:231,total_votes:1653,diff:1182,per_gop:.8548094373865699,per_dem:.1397459165154265,per_point_diff:.7150635208711433},{state_name:"Texas",county_fips:48171,county_name:"Gillespie County",votes_gop:12514,votes_dem:3176,total_votes:15846,diff:9338,per_gop:.7897261138457655,per_dem:.2004291303799066,per_point_diff:.5892969834658589},{state_name:"Texas",county_fips:48173,county_name:"Glasscock County",votes_gop:611,votes_dem:39,total_votes:653,diff:572,per_gop:.9356814701378254,per_dem:.05972434915773354,per_point_diff:.8759571209800919},{state_name:"Texas",county_fips:48175,county_name:"Goliad County",votes_gop:3085,votes_dem:877,total_votes:3988,diff:2208,per_gop:.7735707121364093,per_dem:.21990972918756269,per_point_diff:.5536609829488466},{state_name:"Texas",county_fips:48177,county_name:"Gonzales County",votes_gop:5627,votes_dem:1948,total_votes:7647,diff:3679,per_gop:.7358441218778606,per_dem:.25474042108016215,per_point_diff:.4811037007976985},{state_name:"Texas",county_fips:48179,county_name:"Gray County",votes_gop:6840,votes_dem:829,total_votes:7782,diff:6011,per_gop:.8789514263685428,per_dem:.10652788486250321,per_point_diff:.7724235415060396},{state_name:"Texas",county_fips:48181,county_name:"Grayson County",votes_gop:44163,votes_dem:14506,total_votes:59439,diff:29657,per_gop:.7429970221571696,per_dem:.24404852033176871,per_point_diff:.49894850182540085},{state_name:"Texas",county_fips:48183,county_name:"Gregg County",votes_gop:32493,votes_dem:14796,total_votes:47982,diff:17697,per_gop:.6771914467925472,per_dem:.30836563711391773,per_point_diff:.36882580967862943},{state_name:"Texas",county_fips:48185,county_name:"Grimes County",votes_gop:9432,votes_dem:2833,total_votes:12413,diff:6599,per_gop:.75984854587932,per_dem:.22822847015225972,per_point_diff:.5316200757270604},{state_name:"Texas",county_fips:48187,county_name:"Guadalupe County",votes_gop:47553,votes_dem:28805,total_votes:77592,diff:18748,per_gop:.6128595731518713,per_dem:.3712367254356119,per_point_diff:.24162284771625941},{state_name:"Texas",county_fips:48189,county_name:"Hale County",votes_gop:7177,votes_dem:2279,total_votes:9584,diff:4898,per_gop:.7488522537562604,per_dem:.23779215358931552,per_point_diff:.5110601001669449},{state_name:"Texas",county_fips:48191,county_name:"Hall County",votes_gop:995,votes_dem:168,total_votes:1168,diff:827,per_gop:.8518835616438356,per_dem:.14383561643835616,per_point_diff:.7080479452054794},{state_name:"Texas",county_fips:48193,county_name:"Hamilton County",votes_gop:3616,votes_dem:641,total_votes:4349,diff:2975,per_gop:.8314555070131064,per_dem:.14739020464474592,per_point_diff:.6840653023683605},{state_name:"Texas",county_fips:48195,county_name:"Hansford County",votes_gop:1849,votes_dem:166,total_votes:2047,diff:1683,per_gop:.9032730825598436,per_dem:.0810942843185149,per_point_diff:.8221787982413287},{state_name:"Texas",county_fips:48197,county_name:"Hardeman County",votes_gop:1330,votes_dem:241,total_votes:1580,diff:1089,per_gop:.8417721518987342,per_dem:.15253164556962026,per_point_diff:.6892405063291139},{state_name:"Texas",county_fips:48199,county_name:"Hardin County",votes_gop:23858,votes_dem:3474,total_votes:27635,diff:20384,per_gop:.8633254930341958,per_dem:.12571015017188347,per_point_diff:.7376153428623123},{state_name:"Texas",county_fips:48201,county_name:"Harris County",votes_gop:700630,votes_dem:918193,total_votes:1640818,diff:-217563,per_gop:.4270004351488099,per_dem:.5595946655875301,per_point_diff:-.1325942304387202},{state_name:"Texas",county_fips:48203,county_name:"Harrison County",votes_gop:21466,votes_dem:7908,total_votes:29710,diff:13558,per_gop:.7225176708179064,per_dem:.2661730057219791,per_point_diff:.4563446650959273},{state_name:"Texas",county_fips:48205,county_name:"Hartley County",votes_gop:1868,votes_dem:195,total_votes:2078,diff:1673,per_gop:.8989412897016362,per_dem:.09384023099133783,per_point_diff:.8051010587102984},{state_name:"Texas",county_fips:48207,county_name:"Haskell County",votes_gop:1840,votes_dem:353,total_votes:2214,diff:1487,per_gop:.8310749774164409,per_dem:.15943992773261065,per_point_diff:.6716350496838303},{state_name:"Texas",county_fips:48209,county_name:"Hays County",votes_gop:47680,votes_dem:59524,total_votes:109357,diff:-11844,per_gop:.43600318223799117,per_dem:.5443090062821767,per_point_diff:-.10830582404418554},{state_name:"Texas",county_fips:48211,county_name:"Hemphill County",votes_gop:1486,votes_dem:206,total_votes:1720,diff:1280,per_gop:.8639534883720931,per_dem:.11976744186046512,per_point_diff:.7441860465116279},{state_name:"Texas",county_fips:48213,county_name:"Henderson County",votes_gop:28911,votes_dem:7060,total_votes:36310,diff:21851,per_gop:.7962269347287249,per_dem:.19443679427155053,per_point_diff:.6017901404571744},{state_name:"Texas",county_fips:48215,county_name:"Hidalgo County",votes_gop:90527,votes_dem:128199,total_votes:220884,diff:-37672,per_gop:.40983955379294107,per_dem:.5803906122670723,per_point_diff:-.17055105847413127},{state_name:"Texas",county_fips:48217,county_name:"Hill County",votes_gop:11926,votes_dem:2860,total_votes:14931,diff:9066,per_gop:.7987408746902418,per_dem:.19154778648449536,per_point_diff:.6071930882057465},{state_name:"Texas",county_fips:48219,county_name:"Hockley County",votes_gop:6536,votes_dem:1482,total_votes:8095,diff:5054,per_gop:.8074119827053737,per_dem:.18307597282273008,per_point_diff:.6243360098826436},{state_name:"Texas",county_fips:48221,county_name:"Hood County",votes_gop:26496,votes_dem:5648,total_votes:32541,diff:20848,per_gop:.8142343505116623,per_dem:.1735656556344304,per_point_diff:.6406686948772319},{state_name:"Texas",county_fips:48223,county_name:"Hopkins County",votes_gop:12719,votes_dem:3046,total_votes:15939,diff:9673,per_gop:.797979797979798,per_dem:.19110358240793024,per_point_diff:.6068762155718678},{state_name:"Texas",county_fips:48225,county_name:"Houston County",votes_gop:7060,votes_dem:2314,total_votes:9437,diff:4746,per_gop:.7481191056479813,per_dem:.24520504397583978,per_point_diff:.5029140616721416},{state_name:"Texas",county_fips:48227,county_name:"Howard County",votes_gop:8054,votes_dem:2069,total_votes:10240,diff:5985,per_gop:.7865234375,per_dem:.20205078125,per_point_diff:.58447265625},{state_name:"Texas",county_fips:48229,county_name:"Hudspeth County",votes_gop:779,votes_dem:371,total_votes:1165,diff:408,per_gop:.6686695278969957,per_dem:.3184549356223176,per_point_diff:.35021459227467816},{state_name:"Texas",county_fips:48231,county_name:"Hunt County",votes_gop:29163,votes_dem:8906,total_votes:38574,diff:20257,per_gop:.7560273759527143,per_dem:.2308809042360139,per_point_diff:.5251464717167004},{state_name:"Texas",county_fips:48233,county_name:"Hutchinson County",votes_gop:7681,votes_dem:965,total_votes:8771,diff:6716,per_gop:.8757268270436667,per_dem:.1100216622962034,per_point_diff:.7657051647474633},{state_name:"Texas",county_fips:48235,county_name:"Irion County",votes_gop:759,votes_dem:120,total_votes:889,diff:639,per_gop:.8537682789651294,per_dem:.13498312710911137,per_point_diff:.718785151856018},{state_name:"Texas",county_fips:48237,county_name:"Jack County",votes_gop:3418,votes_dem:331,total_votes:3782,diff:3087,per_gop:.9037546271813856,per_dem:.08751983077736647,per_point_diff:.8162347964040191},{state_name:"Texas",county_fips:48239,county_name:"Jackson County",votes_gop:5231,votes_dem:1033,total_votes:6340,diff:4198,per_gop:.8250788643533123,per_dem:.16293375394321766,per_point_diff:.6621451104100947},{state_name:"Texas",county_fips:48241,county_name:"Jasper County",votes_gop:12542,votes_dem:2954,total_votes:15608,diff:9588,per_gop:.8035622757560226,per_dem:.18926191696565864,per_point_diff:.6143003587903639},{state_name:"Texas",county_fips:48243,county_name:"Jeff Davis County",votes_gop:784,votes_dem:501,total_votes:1305,diff:283,per_gop:.6007662835249042,per_dem:.3839080459770115,per_point_diff:.21685823754789274},{state_name:"Texas",county_fips:48245,county_name:"Jefferson County",votes_gop:47570,votes_dem:46073,total_votes:94739,diff:1497,per_gop:.5021163406833511,per_dem:.48631503393533815,per_point_diff:.015801306748012944},{state_name:"Texas",county_fips:48247,county_name:"Jim Hogg County",votes_gop:833,votes_dem:1197,total_votes:2036,diff:-364,per_gop:.40913555992141454,per_dem:.5879174852652259,per_point_diff:-.17878192534381138},{state_name:"Texas",county_fips:48249,county_name:"Jim Wells County",votes_gop:7453,votes_dem:6119,total_votes:13669,diff:1334,per_gop:.5452483722291316,per_dem:.44765527836710806,per_point_diff:.09759309386202353},{state_name:"Texas",county_fips:48251,county_name:"Johnson County",votes_gop:54628,votes_dem:16464,total_votes:72005,diff:38164,per_gop:.7586695368377196,per_dem:.2286507881397125,per_point_diff:.5300187486980071},{state_name:"Texas",county_fips:48253,county_name:"Jones County",votes_gop:5660,votes_dem:999,total_votes:6741,diff:4661,per_gop:.8396380358997182,per_dem:.14819759679572764,per_point_diff:.6914404391039906},{state_name:"Texas",county_fips:48255,county_name:"Karnes County",votes_gop:3968,votes_dem:1234,total_votes:5249,diff:2734,per_gop:.7559535149552296,per_dem:.23509239855210518,per_point_diff:.5208611164031244},{state_name:"Texas",county_fips:48257,county_name:"Kaufman County",votes_gop:37624,votes_dem:18405,total_votes:56703,diff:19219,per_gop:.6635275029539883,per_dem:.32458600074070154,per_point_diff:.3389415022132868},{state_name:"Texas",county_fips:48259,county_name:"Kendall County",votes_gop:20083,votes_dem:6020,total_votes:26438,diff:14063,per_gop:.7596262954837734,per_dem:.22770254936076859,per_point_diff:.5319237461230047},{state_name:"Texas",county_fips:48261,county_name:"Kenedy County",votes_gop:127,votes_dem:65,total_votes:194,diff:62,per_gop:.654639175257732,per_dem:.33505154639175255,per_point_diff:.3195876288659794},{state_name:"Texas",county_fips:48263,county_name:"Kent County",votes_gop:411,votes_dem:47,total_votes:462,diff:364,per_gop:.8896103896103896,per_dem:.10173160173160173,per_point_diff:.7878787878787878},{state_name:"Texas",county_fips:48265,county_name:"Kerr County",votes_gop:20879,votes_dem:6524,total_votes:27745,diff:14355,per_gop:.7525319877455398,per_dem:.23514146693097857,per_point_diff:.5173905208145612},{state_name:"Texas",county_fips:48267,county_name:"Kimble County",votes_gop:1987,votes_dem:284,total_votes:2292,diff:1703,per_gop:.8669284467713787,per_dem:.12390924956369982,per_point_diff:.7430191972076788},{state_name:"Texas",county_fips:48269,county_name:"King County",votes_gop:151,votes_dem:8,total_votes:159,diff:143,per_gop:.949685534591195,per_dem:.050314465408805034,per_point_diff:.89937106918239},{state_name:"Texas",county_fips:48271,county_name:"Kinney County",votes_gop:1144,votes_dem:446,total_votes:1603,diff:698,per_gop:.7136618839675608,per_dem:.27822832189644414,per_point_diff:.43543356207111666},{state_name:"Texas",county_fips:48273,county_name:"Kleberg County",votes_gop:5504,votes_dem:5314,total_votes:10944,diff:190,per_gop:.5029239766081871,per_dem:.485562865497076,per_point_diff:.017361111111111105},{state_name:"Texas",county_fips:48275,county_name:"Knox County",votes_gop:1180,votes_dem:265,total_votes:1456,diff:915,per_gop:.8104395604395604,per_dem:.1820054945054945,per_point_diff:.6284340659340659},{state_name:"Texas",county_fips:48277,county_name:"Lamar County",votes_gop:16760,votes_dem:4458,total_votes:21418,diff:12302,per_gop:.7825193762256046,per_dem:.2081426837239705,per_point_diff:.5743766925016341},{state_name:"Texas",county_fips:48279,county_name:"Lamb County",votes_gop:3521,votes_dem:840,total_votes:4408,diff:2681,per_gop:.7987749546279492,per_dem:.19056261343012704,per_point_diff:.6082123411978222},{state_name:"Texas",county_fips:48281,county_name:"Lampasas County",votes_gop:8086,votes_dem:2144,total_votes:10399,diff:5942,per_gop:.7775747668045004,per_dem:.20617367054524474,per_point_diff:.5714010962592557},{state_name:"Texas",county_fips:48283,county_name:"La Salle County",votes_gop:1335,votes_dem:1052,total_votes:2406,diff:283,per_gop:.5548628428927681,per_dem:.4372402327514547,per_point_diff:.11762261014131342},{state_name:"Texas",county_fips:48285,county_name:"Lavaca County",votes_gop:8804,votes_dem:1333,total_votes:10197,diff:7471,per_gop:.8633911934882809,per_dem:.13072472295773266,per_point_diff:.7326664705305482},{state_name:"Texas",county_fips:48287,county_name:"Lee County",votes_gop:6255,votes_dem:1750,total_votes:8086,diff:4505,per_gop:.7735592381894633,per_dem:.21642344793470195,per_point_diff:.5571357902547613},{state_name:"Texas",county_fips:48289,county_name:"Leon County",votes_gop:7523,votes_dem:1072,total_votes:8674,diff:6451,per_gop:.8673045884251787,per_dem:.1235877334563062,per_point_diff:.7437168549688724},{state_name:"Texas",county_fips:48291,county_name:"Liberty County",votes_gop:23302,votes_dem:5785,total_votes:29334,diff:17517,per_gop:.7943683098111407,per_dem:.19721142701302244,per_point_diff:.5971568827981183},{state_name:"Texas",county_fips:48293,county_name:"Limestone County",votes_gop:6789,votes_dem:2213,total_votes:9095,diff:4576,per_gop:.7464540956569544,per_dem:.2433205057724024,per_point_diff:.503133589884552},{state_name:"Texas",county_fips:48295,county_name:"Lipscomb County",votes_gop:1205,votes_dem:131,total_votes:1353,diff:1074,per_gop:.8906134515890614,per_dem:.09682187730968218,per_point_diff:.7937915742793792},{state_name:"Texas",county_fips:48297,county_name:"Live Oak County",votes_gop:4199,votes_dem:819,total_votes:5054,diff:3380,per_gop:.8308270676691729,per_dem:.16204986149584488,per_point_diff:.668777206173328},{state_name:"Texas",county_fips:48299,county_name:"Llano County",votes_gop:10079,votes_dem:2465,total_votes:12660,diff:7614,per_gop:.796129541864139,per_dem:.19470774091627172,per_point_diff:.6014218009478672},{state_name:"Texas",county_fips:48301,county_name:"Loving County",votes_gop:60,votes_dem:4,total_votes:66,diff:56,per_gop:.9090909090909091,per_dem:.06060606060606061,per_point_diff:.8484848484848484},{state_name:"Texas",county_fips:48303,county_name:"Lubbock County",votes_gop:78861,votes_dem:40017,total_votes:120771,diff:38844,per_gop:.6529796060312493,per_dem:.33134610129915293,per_point_diff:.32163350473209634},{state_name:"Texas",county_fips:48305,county_name:"Lynn County",votes_gop:1853,votes_dem:428,total_votes:2293,diff:1425,per_gop:.8081116441343218,per_dem:.18665503706934147,per_point_diff:.6214566070649803},{state_name:"Texas",county_fips:48307,county_name:"McCulloch County",votes_gop:2904,votes_dem:490,total_votes:3436,diff:2414,per_gop:.8451688009313155,per_dem:.14260768335273574,per_point_diff:.7025611175785798},{state_name:"Texas",county_fips:48309,county_name:"McLennan County",votes_gop:59543,votes_dem:36688,total_votes:97771,diff:22855,per_gop:.6090047150995694,per_dem:.3752441930633828,per_point_diff:.23376052203618664},{state_name:"Texas",county_fips:48311,county_name:"McMullen County",votes_gop:460,votes_dem:53,total_votes:516,diff:407,per_gop:.8914728682170543,per_dem:.10271317829457365,per_point_diff:.7887596899224807},{state_name:"Texas",county_fips:48313,county_name:"Madison County",votes_gop:4169,votes_dem:1088,total_votes:5297,diff:3081,per_gop:.7870492731734944,per_dem:.2053992826127997,per_point_diff:.5816499905606947},{state_name:"Texas",county_fips:48315,county_name:"Marion County",votes_gop:3470,votes_dem:1339,total_votes:4864,diff:2131,per_gop:.7134046052631579,per_dem:.2752878289473684,per_point_diff:.43811677631578944},{state_name:"Texas",county_fips:48317,county_name:"Martin County",votes_gop:1857,votes_dem:288,total_votes:2160,diff:1569,per_gop:.8597222222222223,per_dem:.13333333333333333,per_point_diff:.726388888888889},{state_name:"Texas",county_fips:48319,county_name:"Mason County",votes_gop:1991,votes_dem:457,total_votes:2474,diff:1534,per_gop:.8047696038803557,per_dem:.1847210994341148,per_point_diff:.6200485044462409},{state_name:"Texas",county_fips:48321,county_name:"Matagorda County",votes_gop:9845,votes_dem:3733,total_votes:13726,diff:6112,per_gop:.7172519306425761,per_dem:.27196561270581376,per_point_diff:.4452863179367623},{state_name:"Texas",county_fips:48323,county_name:"Maverick County",votes_gop:6881,votes_dem:8332,total_votes:15346,diff:-1451,per_gop:.44839046005473737,per_dem:.5429427863938485,per_point_diff:-.09455232633911115},{state_name:"Texas",county_fips:48325,county_name:"Medina County",votes_gop:15642,votes_dem:6773,total_votes:22644,diff:8869,per_gop:.690779014308426,per_dem:.2991079314608726,per_point_diff:.3916710828475534},{state_name:"Texas",county_fips:48327,county_name:"Menard County",votes_gop:823,votes_dem:197,total_votes:1028,diff:626,per_gop:.8005836575875487,per_dem:.1916342412451362,per_point_diff:.6089494163424125},{state_name:"Texas",county_fips:48329,county_name:"Midland County",votes_gop:45624,votes_dem:12329,total_votes:58856,diff:33295,per_gop:.7751801005844774,per_dem:.20947736849259208,per_point_diff:.5657027320918853},{state_name:"Texas",county_fips:48331,county_name:"Milam County",votes_gop:7984,votes_dem:2496,total_votes:10576,diff:5488,per_gop:.7549167927382754,per_dem:.23600605143721634,per_point_diff:.5189107413010591},{state_name:"Texas",county_fips:48333,county_name:"Mills County",votes_gop:2217,votes_dem:271,total_votes:2505,diff:1946,per_gop:.8850299401197604,per_dem:.10818363273453094,per_point_diff:.7768463073852295},{state_name:"Texas",county_fips:48335,county_name:"Mitchell County",votes_gop:2170,votes_dem:397,total_votes:2579,diff:1773,per_gop:.8414113997673517,per_dem:.15393563396665375,per_point_diff:.6874757658006979},{state_name:"Texas",county_fips:48337,county_name:"Montague County",votes_gop:8615,votes_dem:1097,total_votes:9814,diff:7518,per_gop:.8778275932341553,per_dem:.11177909109435501,per_point_diff:.7660485021398002},{state_name:"Texas",county_fips:48339,county_name:"Montgomery County",votes_gop:193382,votes_dem:74377,total_votes:271451,diff:119005,per_gop:.7124011331695224,per_dem:.2739978854378875,per_point_diff:.43840324773163486},{state_name:"Texas",county_fips:48341,county_name:"Moore County",votes_gop:4359,votes_dem:1062,total_votes:5508,diff:3297,per_gop:.7913943355119826,per_dem:.19281045751633988,per_point_diff:.5985838779956427},{state_name:"Texas",county_fips:48343,county_name:"Morris County",votes_gop:3872,votes_dem:1669,total_votes:5587,diff:2203,per_gop:.6930374082691964,per_dem:.29872919276892784,per_point_diff:.3943082155002685},{state_name:"Texas",county_fips:48345,county_name:"Motley County",votes_gop:604,votes_dem:46,total_votes:652,diff:558,per_gop:.9263803680981595,per_dem:.0705521472392638,per_point_diff:.8558282208588956},{state_name:"Texas",county_fips:48347,county_name:"Nacogdoches County",votes_gop:17378,votes_dem:9e3,total_votes:26763,diff:8378,per_gop:.6493292979112955,per_dem:.33628516982401074,per_point_diff:.3130441280872847},{state_name:"Texas",county_fips:48349,county_name:"Navarro County",votes_gop:13800,votes_dem:5101,total_votes:19121,diff:8699,per_gop:.7217195753360179,per_dem:.2667747502745672,per_point_diff:.45494482506145073},{state_name:"Texas",county_fips:48351,county_name:"Newton County",votes_gop:4882,votes_dem:1173,total_votes:6094,diff:3709,per_gop:.8011158516573679,per_dem:.19248441089596324,per_point_diff:.6086314407614046},{state_name:"Texas",county_fips:48353,county_name:"Nolan County",votes_gop:4131,votes_dem:1162,total_votes:5356,diff:2969,per_gop:.7712845407020165,per_dem:.2169529499626587,per_point_diff:.5543315907393578},{state_name:"Texas",county_fips:48355,county_name:"Nueces County",votes_gop:64617,votes_dem:60925,total_votes:127314,diff:3692,per_gop:.5075404118949998,per_dem:.4785412444821465,per_point_diff:.028999167412853244},{state_name:"Texas",county_fips:48357,county_name:"Ochiltree County",votes_gop:2812,votes_dem:302,total_votes:3156,diff:2510,per_gop:.8910012674271229,per_dem:.09569074778200254,per_point_diff:.7953105196451205},{state_name:"Texas",county_fips:48359,county_name:"Oldham County",votes_gop:917,votes_dem:81,total_votes:1009,diff:836,per_gop:.908820614469772,per_dem:.0802775024777007,per_point_diff:.8285431119920713},{state_name:"Texas",county_fips:48361,county_name:"Orange County",votes_gop:29186,votes_dem:6357,total_votes:35994,diff:22829,per_gop:.8108573651164083,per_dem:.17661276879479915,per_point_diff:.6342445963216091},{state_name:"Texas",county_fips:48363,county_name:"Palo Pinto County",votes_gop:10179,votes_dem:2178,total_votes:12485,diff:8001,per_gop:.8152983580296356,per_dem:.17444933920704847,per_point_diff:.640849018822587},{state_name:"Texas",county_fips:48365,county_name:"Panola County",votes_gop:9326,votes_dem:2057,total_votes:11451,diff:7269,per_gop:.8144266876255349,per_dem:.17963496637848222,per_point_diff:.6347917212470527},{state_name:"Texas",county_fips:48367,county_name:"Parker County",votes_gop:62045,votes_dem:13017,total_votes:76128,diff:49028,per_gop:.8150089323245061,per_dem:.17098833543505676,per_point_diff:.6440205968894493},{state_name:"Texas",county_fips:48369,county_name:"Parmer County",votes_gop:2135,votes_dem:488,total_votes:2650,diff:1647,per_gop:.8056603773584906,per_dem:.18415094339622642,per_point_diff:.6215094339622642},{state_name:"Texas",county_fips:48371,county_name:"Pecos County",votes_gop:3215,votes_dem:1382,total_votes:4668,diff:1833,per_gop:.6887317909168809,per_dem:.29605826906598115,per_point_diff:.3926735218508997},{state_name:"Texas",county_fips:48373,county_name:"Polk County",votes_gop:18573,votes_dem:5387,total_votes:24181,diff:13186,per_gop:.7680823787270998,per_dem:.22277821430048386,per_point_diff:.545304164426616},{state_name:"Texas",county_fips:48375,county_name:"Potter County",votes_gop:22820,votes_dem:9921,total_votes:33321,diff:12899,per_gop:.6848533957564299,per_dem:.29774016386062846,per_point_diff:.38711323189580144},{state_name:"Texas",county_fips:48377,county_name:"Presidio County",votes_gop:721,votes_dem:1463,total_votes:2217,diff:-742,per_gop:.3252142534957149,per_dem:.6599007668019846,per_point_diff:-.3346865133062697},{state_name:"Texas",county_fips:48379,county_name:"Rains County",votes_gop:5155,votes_dem:842,total_votes:6053,diff:4313,per_gop:.8516438129852966,per_dem:.1391045762431852,per_point_diff:.7125392367421114},{state_name:"Texas",county_fips:48381,county_name:"Randall County",votes_gop:50796,votes_dem:12802,total_votes:64674,diff:37994,per_gop:.7854160868355134,per_dem:.19794662460958035,per_point_diff:.5874694622259331},{state_name:"Texas",county_fips:48383,county_name:"Reagan County",votes_gop:942,votes_dem:172,total_votes:1124,diff:770,per_gop:.8380782918149466,per_dem:.15302491103202848,per_point_diff:.6850533807829182},{state_name:"Texas",county_fips:48385,county_name:"Real County",votes_gop:1643,votes_dem:320,total_votes:1982,diff:1323,per_gop:.8289606458123108,per_dem:.16145307769929365,per_point_diff:.6675075681130171},{state_name:"Texas",county_fips:48387,county_name:"Red River County",votes_gop:4517,votes_dem:1246,total_votes:5806,diff:3271,per_gop:.7779882879779538,per_dem:.21460558043403377,per_point_diff:.5633827075439201},{state_name:"Texas",county_fips:48389,county_name:"Reeves County",votes_gop:2254,votes_dem:1395,total_votes:3687,diff:859,per_gop:.6113371304583672,per_dem:.37835638730675347,per_point_diff:.23298074315161377},{state_name:"Texas",county_fips:48391,county_name:"Refugio County",votes_gop:2210,votes_dem:1108,total_votes:3366,diff:1102,per_gop:.6565656565656566,per_dem:.32917409387997626,per_point_diff:.3273915626856803},{state_name:"Texas",county_fips:48393,county_name:"Roberts County",votes_gop:529,votes_dem:17,total_votes:550,diff:512,per_gop:.9618181818181818,per_dem:.03090909090909091,per_point_diff:.9309090909090909},{state_name:"Texas",county_fips:48395,county_name:"Robertson County",votes_gop:5646,votes_dem:2374,total_votes:8099,diff:3272,per_gop:.6971231016174836,per_dem:.2931226077293493,per_point_diff:.4040004938881343},{state_name:"Texas",county_fips:48397,county_name:"Rockwall County",votes_gop:36726,votes_dem:16412,total_votes:53891,diff:20314,per_gop:.6814867046445603,per_dem:.304540646861257,per_point_diff:.3769460577833033},{state_name:"Texas",county_fips:48399,county_name:"Runnels County",votes_gop:3807,votes_dem:552,total_votes:4409,diff:3255,per_gop:.8634611022907689,per_dem:.12519845770015878,per_point_diff:.7382626445906101},{state_name:"Texas",county_fips:48401,county_name:"Rusk County",votes_gop:16534,votes_dem:4629,total_votes:21368,diff:11905,per_gop:.7737738674653688,per_dem:.21663234743541745,per_point_diff:.5571415200299513},{state_name:"Texas",county_fips:48403,county_name:"Sabine County",votes_gop:4784,votes_dem:669,total_votes:5487,diff:4115,per_gop:.8718789866958265,per_dem:.12192454893384364,per_point_diff:.7499544377619829},{state_name:"Texas",county_fips:48405,county_name:"San Augustine County",votes_gop:3007,votes_dem:980,total_votes:4002,diff:2027,per_gop:.7513743128435783,per_dem:.2448775612193903,per_point_diff:.506496751624188},{state_name:"Texas",county_fips:48407,county_name:"San Jacinto County",votes_gop:10161,votes_dem:2337,total_votes:12638,diff:7824,per_gop:.8040037980693148,per_dem:.18491849976262068,per_point_diff:.6190852983066941},{state_name:"Texas",county_fips:48409,county_name:"San Patricio County",votes_gop:16516,votes_dem:8988,total_votes:25888,diff:7528,per_gop:.6379789864029666,per_dem:.3471878862793572,per_point_diff:.29079110012360937},{state_name:"Texas",county_fips:48411,county_name:"San Saba County",votes_gop:2308,votes_dem:287,total_votes:2602,diff:2021,per_gop:.8870099923136049,per_dem:.11029976940814758,per_point_diff:.7767102229054573},{state_name:"Texas",county_fips:48413,county_name:"Schleicher County",votes_gop:940,votes_dem:211,total_votes:1159,diff:729,per_gop:.811044003451251,per_dem:.182053494391717,per_point_diff:.628990509059534},{state_name:"Texas",county_fips:48415,county_name:"Scurry County",votes_gop:4983,votes_dem:818,total_votes:5869,diff:4165,per_gop:.8490373147043789,per_dem:.13937638439257113,per_point_diff:.7096609303118078},{state_name:"Texas",county_fips:48417,county_name:"Shackelford County",votes_gop:1484,votes_dem:130,total_votes:1628,diff:1354,per_gop:.9115479115479116,per_dem:.07985257985257985,per_point_diff:.8316953316953317},{state_name:"Texas",county_fips:48419,county_name:"Shelby County",votes_gop:7975,votes_dem:2068,total_votes:10084,diff:5907,per_gop:.7908568028560096,per_dem:.2050773502578342,per_point_diff:.5857794525981754},{state_name:"Texas",county_fips:48421,county_name:"Sherman County",votes_gop:886,votes_dem:91,total_votes:991,diff:795,per_gop:.8940464177598385,per_dem:.09182643794147326,per_point_diff:.8022199798183652},{state_name:"Texas",county_fips:48423,county_name:"Smith County",votes_gop:69080,votes_dem:29615,total_votes:100075,diff:39465,per_gop:.6902822882837871,per_dem:.29592805395953037,per_point_diff:.39435423432425676},{state_name:"Texas",county_fips:48425,county_name:"Somervell County",votes_gop:4105,votes_dem:768,total_votes:4947,diff:3337,per_gop:.8297958358601173,per_dem:.15524560339599758,per_point_diff:.6745502324641197},{state_name:"Texas",county_fips:48427,county_name:"Starr County",votes_gop:8247,votes_dem:9123,total_votes:17525,diff:-876,per_gop:.4705848787446505,per_dem:.5205706134094151,per_point_diff:-.049985734664764636},{state_name:"Texas",county_fips:48429,county_name:"Stephens County",votes_gop:3385,votes_dem:397,total_votes:3800,diff:2988,per_gop:.8907894736842106,per_dem:.10447368421052632,per_point_diff:.7863157894736843},{state_name:"Texas",county_fips:48431,county_name:"Sterling County",votes_gop:584,votes_dem:51,total_votes:639,diff:533,per_gop:.9139280125195618,per_dem:.07981220657276995,per_point_diff:.8341158059467918},{state_name:"Texas",county_fips:48433,county_name:"Stonewall County",votes_gop:615,votes_dem:116,total_votes:736,diff:499,per_gop:.8355978260869565,per_dem:.15760869565217392,per_point_diff:.6779891304347826},{state_name:"Texas",county_fips:48435,county_name:"Sutton County",votes_gop:1222,votes_dem:322,total_votes:1557,diff:900,per_gop:.7848426461143224,per_dem:.20680796403339757,per_point_diff:.5780346820809248},{state_name:"Texas",county_fips:48437,county_name:"Swisher County",votes_gop:1845,votes_dem:478,total_votes:2355,diff:1367,per_gop:.7834394904458599,per_dem:.2029723991507431,per_point_diff:.5804670912951169},{state_name:"Texas",county_fips:48439,county_name:"Tarrant County",votes_gop:409741,votes_dem:411567,total_votes:834697,diff:-1826,per_gop:.49088591428985606,per_dem:.49307353446819624,per_point_diff:-.002187620178340177},{state_name:"Texas",county_fips:48441,county_name:"Taylor County",votes_gop:39547,votes_dem:14588,total_votes:55112,diff:24959,per_gop:.717575119756133,per_dem:.2646973435912324,per_point_diff:.45287777616490055},{state_name:"Texas",county_fips:48443,county_name:"Terrell County",votes_gop:334,votes_dem:119,total_votes:458,diff:215,per_gop:.7292576419213974,per_dem:.259825327510917,per_point_diff:.4694323144104804},{state_name:"Texas",county_fips:48445,county_name:"Terry County",votes_gop:2812,votes_dem:757,total_votes:3612,diff:2055,per_gop:.778516057585825,per_dem:.20957918050941307,per_point_diff:.5689368770764119},{state_name:"Texas",county_fips:48447,county_name:"Throckmorton County",votes_gop:806,votes_dem:82,total_votes:899,diff:724,per_gop:.896551724137931,per_dem:.09121245828698554,per_point_diff:.8053392658509455},{state_name:"Texas",county_fips:48449,county_name:"Titus County",votes_gop:7570,votes_dem:2856,total_votes:10539,diff:4714,per_gop:.7182844672170036,per_dem:.2709934528892684,per_point_diff:.44729101432773516},{state_name:"Texas",county_fips:48451,county_name:"Tom Green County",votes_gop:32313,votes_dem:12239,total_votes:45210,diff:20074,per_gop:.7147312541473125,per_dem:.2707144437071444,per_point_diff:.4440168104401681},{state_name:"Texas",county_fips:48453,county_name:"Travis County",votes_gop:161337,votes_dem:435860,total_votes:610349,diff:-274523,per_gop:.2643356505867954,per_dem:.7141160221447074,per_point_diff:-.44978037155791195},{state_name:"Texas",county_fips:48455,county_name:"Trinity County",votes_gop:5579,votes_dem:1323,total_votes:6938,diff:4256,per_gop:.8041222254251946,per_dem:.19068895935428076,per_point_diff:.6134332660709139},{state_name:"Texas",county_fips:48457,county_name:"Tyler County",votes_gop:8194,votes_dem:1403,total_votes:9660,diff:6791,per_gop:.84824016563147,per_dem:.14523809523809525,per_point_diff:.7030020703933747},{state_name:"Texas",county_fips:48459,county_name:"Upshur County",votes_gop:15809,votes_dem:2877,total_votes:18887,diff:12932,per_gop:.8370307618997194,per_dem:.15232699740562292,per_point_diff:.6847037644940964},{state_name:"Texas",county_fips:48461,county_name:"Upton County",votes_gop:1178,votes_dem:170,total_votes:1368,diff:1008,per_gop:.8611111111111112,per_dem:.12426900584795321,per_point_diff:.736842105263158},{state_name:"Texas",county_fips:48463,county_name:"Uvalde County",votes_gop:6174,votes_dem:4073,total_votes:10342,diff:2101,per_gop:.5969831754012763,per_dem:.3938309804679946,per_point_diff:.20315219493328174},{state_name:"Texas",county_fips:48465,county_name:"Val Verde County",votes_gop:8284,votes_dem:6771,total_votes:15272,diff:1513,per_gop:.5424305919329492,per_dem:.4433603981141959,per_point_diff:.09907019381875326},{state_name:"Texas",county_fips:48467,county_name:"Van Zandt County",votes_gop:22270,votes_dem:3516,total_votes:25994,diff:18754,per_gop:.8567361698853582,per_dem:.13526198353466184,per_point_diff:.7214741863506964},{state_name:"Texas",county_fips:48469,county_name:"Victoria County",votes_gop:23358,votes_dem:10380,total_votes:34188,diff:12978,per_gop:.6832221832221832,per_dem:.3036153036153036,per_point_diff:.3796068796068796},{state_name:"Texas",county_fips:48471,county_name:"Walker County",votes_gop:15375,votes_dem:7884,total_votes:23612,diff:7491,per_gop:.6511519566322209,per_dem:.33389801795697105,per_point_diff:.31725393867524987},{state_name:"Texas",county_fips:48473,county_name:"Waller County",votes_gop:14260,votes_dem:8191,total_votes:22734,diff:6069,per_gop:.6272543327175156,per_dem:.3602973519838128,per_point_diff:.26695698073370283},{state_name:"Texas",county_fips:48475,county_name:"Ward County",votes_gop:3241,votes_dem:764,total_votes:4060,diff:2477,per_gop:.7982758620689655,per_dem:.18817733990147784,per_point_diff:.6100985221674877},{state_name:"Texas",county_fips:48477,county_name:"Washington County",votes_gop:12959,votes_dem:4261,total_votes:17418,diff:8698,per_gop:.7440004592949822,per_dem:.24463198989551038,per_point_diff:.49936846939947177},{state_name:"Texas",county_fips:48479,county_name:"Webb County",votes_gop:25898,votes_dem:41820,total_votes:68397,diff:-15922,per_gop:.3786423381142448,per_dem:.6114303258914865,per_point_diff:-.2327879877772417},{state_name:"Texas",county_fips:48481,county_name:"Wharton County",votes_gop:11926,votes_dem:4694,total_votes:16761,diff:7232,per_gop:.7115327247777579,per_dem:.2800548893264125,per_point_diff:.4314778354513454},{state_name:"Texas",county_fips:48483,county_name:"Wheeler County",votes_gop:2159,votes_dem:168,total_votes:2337,diff:1991,per_gop:.9238339751818571,per_dem:.07188703465982028,per_point_diff:.8519469405220368},{state_name:"Texas",county_fips:48485,county_name:"Wichita County",votes_gop:32069,votes_dem:13161,total_votes:46030,diff:18908,per_gop:.6966978057788399,per_dem:.2859222246361069,per_point_diff:.410775581142733},{state_name:"Texas",county_fips:48487,county_name:"Wilbarger County",votes_gop:3524,votes_dem:956,total_votes:4524,diff:2568,per_gop:.7789566755083996,per_dem:.21131741821396993,per_point_diff:.5676392572944298},{state_name:"Texas",county_fips:48489,county_name:"Willacy County",votes_gop:2441,votes_dem:3108,total_votes:5549,diff:-667,per_gop:.43989908091548025,per_dem:.5601009190845198,per_point_diff:-.12020183816903951},{state_name:"Texas",county_fips:48491,county_name:"Williamson County",votes_gop:139729,votes_dem:143795,total_votes:289312,diff:-4066,per_gop:.48296994248423847,per_dem:.49702397411790733,per_point_diff:-.014054031633668862},{state_name:"Texas",county_fips:48493,county_name:"Wilson County",votes_gop:18463,votes_dem:6350,total_votes:25013,diff:12113,per_gop:.7381361691920202,per_dem:.25386798864590415,per_point_diff:.48426818054611603},{state_name:"Texas",county_fips:48495,county_name:"Winkler County",votes_gop:1753,votes_dem:358,total_votes:2126,diff:1395,per_gop:.8245531514581373,per_dem:.16839134524929444,per_point_diff:.6561618062088429},{state_name:"Texas",county_fips:48497,county_name:"Wise County",votes_gop:27032,votes_dem:4973,total_votes:32362,diff:22059,per_gop:.8353006612693901,per_dem:.1536678820839256,per_point_diff:.6816327791854645},{state_name:"Texas",county_fips:48499,county_name:"Wood County",votes_gop:19049,votes_dem:3509,total_votes:22779,diff:15540,per_gop:.8362526888801088,per_dem:.1540453926862461,per_point_diff:.6822072961938628},{state_name:"Texas",county_fips:48501,county_name:"Yoakum County",votes_gop:2174,votes_dem:420,total_votes:2631,diff:1754,per_gop:.8263017863930064,per_dem:.15963511972633979,per_point_diff:.6666666666666666},{state_name:"Texas",county_fips:48503,county_name:"Young County",votes_gop:7110,votes_dem:1034,total_votes:8239,diff:6076,per_gop:.8629688068940405,per_dem:.12550066755674233,per_point_diff:.7374681393372982},{state_name:"Texas",county_fips:48505,county_name:"Zapata County",votes_gop:2033,votes_dem:1826,total_votes:3874,diff:207,per_gop:.5247805885389778,per_dem:.47134744450180693,per_point_diff:.053433144037170865},{state_name:"Texas",county_fips:48507,county_name:"Zavala County",votes_gop:1490,votes_dem:2864,total_votes:4379,diff:-1374,per_gop:.3402603334094542,per_dem:.6540306005937429,per_point_diff:-.31377026718428863},{state_name:"Utah",county_fips:49001,county_name:"Beaver County",votes_gop:2695,votes_dem:357,total_votes:3100,diff:2338,per_gop:.8693548387096774,per_dem:.11516129032258064,per_point_diff:.7541935483870968},{state_name:"Utah",county_fips:49003,county_name:"Box Elder County",votes_gop:21548,votes_dem:4473,total_votes:27027,diff:17075,per_gop:.7972767972767972,per_dem:.1655011655011655,per_point_diff:.6317756317756318},{state_name:"Utah",county_fips:49005,county_name:"Cache County",votes_gop:38032,votes_dem:16650,total_votes:57571,diff:21382,per_gop:.6606103767521843,per_dem:.2892081082489448,per_point_diff:.3714022685032395},{state_name:"Utah",county_fips:49007,county_name:"Carbon County",votes_gop:6693,votes_dem:2392,total_votes:9369,diff:4301,per_gop:.7143772014089017,per_dem:.255310065108336,per_point_diff:.4590671363005657},{state_name:"Utah",county_fips:49009,county_name:"Daggett County",votes_gop:496,votes_dem:111,total_votes:619,diff:385,per_gop:.8012924071082391,per_dem:.17932148626817448,per_point_diff:.6219709208400647},{state_name:"Utah",county_fips:49011,county_name:"Davis County",votes_gop:104135,votes_dem:57411,total_votes:169895,diff:46724,per_gop:.6129374025133171,per_dem:.33792048029665384,per_point_diff:.27501692221666324},{state_name:"Utah",county_fips:49013,county_name:"Duchesne County",votes_gop:7513,votes_dem:843,total_votes:8524,diff:6670,per_gop:.8813937118723604,per_dem:.09889723134678555,per_point_diff:.7824964805255749},{state_name:"Utah",county_fips:49015,county_name:"Emery County",votes_gop:4207,votes_dem:572,total_votes:4865,diff:3635,per_gop:.8647482014388489,per_dem:.11757451181911614,per_point_diff:.7471736896197327},{state_name:"Utah",county_fips:49017,county_name:"Garfield County",votes_gop:2158,votes_dem:514,total_votes:2732,diff:1644,per_gop:.7898975109809663,per_dem:.18814055636896046,per_point_diff:.6017569546120058},{state_name:"Utah",county_fips:49019,county_name:"Grand County",votes_gop:2248,votes_dem:2806,total_votes:5185,diff:-558,per_gop:.43355834136933463,per_dem:.5411764705882353,per_point_diff:-.10761812921890063},{state_name:"Utah",county_fips:49021,county_name:"Iron County",votes_gop:18989,votes_dem:4892,total_votes:24890,diff:14097,per_gop:.7629168340699076,per_dem:.196544797107272,per_point_diff:.5663720369626356},{state_name:"Utah",county_fips:49023,county_name:"Juab County",votes_gop:5087,votes_dem:645,total_votes:5866,diff:4442,per_gop:.867200818274804,per_dem:.10995567678145243,per_point_diff:.7572451414933515},{state_name:"Utah",county_fips:49025,county_name:"Kane County",votes_gop:2998,votes_dem:1083,total_votes:4180,diff:1915,per_gop:.7172248803827751,per_dem:.2590909090909091,per_point_diff:.458133971291866},{state_name:"Utah",county_fips:49027,county_name:"Millard County",votes_gop:5404,votes_dem:624,total_votes:6160,diff:4780,per_gop:.8772727272727273,per_dem:.1012987012987013,per_point_diff:.775974025974026},{state_name:"Utah",county_fips:49029,county_name:"Morgan County",votes_gop:5181,votes_dem:1086,total_votes:6512,diff:4095,per_gop:.7956081081081081,per_dem:.16676904176904178,per_point_diff:.6288390663390664},{state_name:"Utah",county_fips:49031,county_name:"Piute County",votes_gop:773,votes_dem:86,total_votes:871,diff:687,per_gop:.8874856486796785,per_dem:.09873708381171067,per_point_diff:.7887485648679678},{state_name:"Utah",county_fips:49033,county_name:"Rich County",votes_gop:1157,votes_dem:180,total_votes:1363,diff:977,per_gop:.8488628026412326,per_dem:.13206162876008803,per_point_diff:.7168011738811446},{state_name:"Utah",county_fips:49035,county_name:"Salt Lake County",votes_gop:230174,votes_dem:289906,total_votes:541175,diff:-59732,per_gop:.4253226775072758,per_dem:.5356973252644708,per_point_diff:-.11037464775719497},{state_name:"Utah",county_fips:49037,county_name:"San Juan County",votes_gop:3535,votes_dem:3113,total_votes:6878,diff:422,per_gop:.5139575457981972,per_dem:.4526025007269555,per_point_diff:.061355045071241676},{state_name:"Utah",county_fips:49039,county_name:"Sanpete County",votes_gop:10459,votes_dem:1794,total_votes:12631,diff:8665,per_gop:.8280421185971024,per_dem:.14203150977753148,per_point_diff:.686010608819571},{state_name:"Utah",county_fips:49041,county_name:"Sevier County",votes_gop:9052,votes_dem:1084,total_votes:10363,diff:7968,per_gop:.8734922319791566,per_dem:.10460291421403069,per_point_diff:.7688893177651259},{state_name:"Utah",county_fips:49043,county_name:"Summit County",votes_gop:10252,votes_dem:15244,total_votes:26088,diff:-4992,per_gop:.3929776142287642,per_dem:.5843299601349279,per_point_diff:-.19135234590616368},{state_name:"Utah",county_fips:49045,county_name:"Tooele County",votes_gop:21014,votes_dem:8943,total_votes:31518,diff:12071,per_gop:.6667301224696999,per_dem:.2837426232628974,per_point_diff:.3829874992068025},{state_name:"Utah",county_fips:49047,county_name:"Uintah County",votes_gop:13261,votes_dem:1663,total_votes:15307,diff:11598,per_gop:.8663356634219638,per_dem:.10864310446201085,per_point_diff:.7576925589599529},{state_name:"Utah",county_fips:49049,county_name:"Utah County",votes_gop:192812,votes_dem:76033,total_votes:284480,diff:116779,per_gop:.6777699662542183,per_dem:.2672701068616423,per_point_diff:.41049985939257594},{state_name:"Utah",county_fips:49051,county_name:"Wasatch County",votes_gop:10795,votes_dem:6187,total_votes:17581,diff:4608,per_gop:.6140151299698539,per_dem:.3519139980660941,per_point_diff:.2621011319037598},{state_name:"Utah",county_fips:49053,county_name:"Washington County",votes_gop:67294,votes_dem:20530,total_votes:90476,diff:46764,per_gop:.7437773553207481,per_dem:.22691100402316636,per_point_diff:.5168663512975817},{state_name:"Utah",county_fips:49055,county_name:"Wayne County",votes_gop:1229,votes_dem:365,total_votes:1621,diff:864,per_gop:.7581739666872301,per_dem:.22516964836520667,per_point_diff:.5330043183220234},{state_name:"Utah",county_fips:49057,county_name:"Weber County",votes_gop:65949,votes_dem:40695,total_votes:111442,diff:25254,per_gop:.5917786830817825,per_dem:.3651675310924068,per_point_diff:.2266111519893757},{state_name:"Vermont",county_fips:50001,county_name:"Addison County",votes_gop:6292,votes_dem:14967,total_votes:22022,diff:-8675,per_gop:.2857142857142857,per_dem:.6796385432749069,per_point_diff:-.3939242575606212},{state_name:"Vermont",county_fips:50003,county_name:"Bennington County",votes_gop:7114,votes_dem:12705,total_votes:20462,diff:-5591,per_gop:.34766884957482164,per_dem:.6209070472094614,per_point_diff:-.2732381976346398},{state_name:"Vermont",county_fips:50005,county_name:"Caledonia County",votes_gop:6551,votes_dem:9011,total_votes:16169,diff:-2460,per_gop:.40515801843032967,per_dem:.5573010081019234,per_point_diff:-.15214298967159373},{state_name:"Vermont",county_fips:50007,county_name:"Chittenden County",votes_gop:21017,votes_dem:74961,total_votes:98915,diff:-53944,per_gop:.21247535763028863,per_dem:.7578324824344134,per_point_diff:-.5453571248041247},{state_name:"Vermont",county_fips:50009,county_name:"Essex County",votes_gop:1773,votes_dem:1405,total_votes:3288,diff:368,per_gop:.5392335766423357,per_dem:.42731143552311435,per_point_diff:.11192214111922139},{state_name:"Vermont",county_fips:50011,county_name:"Franklin County",votes_gop:11274,votes_dem:13611,total_votes:25830,diff:-2337,per_gop:.43646922183507547,per_dem:.526945412311266,per_point_diff:-.09047619047619054},{state_name:"Vermont",county_fips:50013,county_name:"Grand Isle County",votes_gop:1810,votes_dem:2905,total_votes:4851,diff:-1095,per_gop:.373118944547516,per_dem:.5988455988455988,per_point_diff:-.22572665429808286},{state_name:"Vermont",county_fips:50015,county_name:"Lamoille County",votes_gop:4163,votes_dem:10240,total_votes:14915,diff:-6077,per_gop:.2791149849145156,per_dem:.6865571572242709,per_point_diff:-.4074421723097553},{state_name:"Vermont",county_fips:50017,county_name:"Orange County",votes_gop:6187,votes_dem:10304,total_votes:17122,diff:-4117,per_gop:.3613479733675972,per_dem:.6017988552739166,per_point_diff:-.2404508819063194},{state_name:"Vermont",county_fips:50019,county_name:"Orleans County",votes_gop:6512,votes_dem:7147,total_votes:14096,diff:-635,per_gop:.4619750283768445,per_dem:.5070232690124858,per_point_diff:-.045048240635641335},{state_name:"Vermont",county_fips:50021,county_name:"Rutland County",votes_gop:14672,votes_dem:18230,total_votes:33970,diff:-3558,per_gop:.4319105092728878,per_dem:.5366499852811304,per_point_diff:-.10473947600824257},{state_name:"Vermont",county_fips:50023,county_name:"Washington County",votes_gop:8928,votes_dem:25191,total_votes:35307,diff:-16263,per_gop:.25286770328829977,per_dem:.7134845781289829,per_point_diff:-.46061687484068314},{state_name:"Vermont",county_fips:50025,county_name:"Windham County",votes_gop:6440,votes_dem:18767,total_votes:26035,diff:-12327,per_gop:.24735932398694066,per_dem:.7208373343575956,per_point_diff:-.4734780103706549},{state_name:"Vermont",county_fips:50027,county_name:"Windsor County",votes_gop:9971,votes_dem:23376,total_votes:34446,diff:-13405,per_gop:.2894675724322127,per_dem:.6786274168263369,per_point_diff:-.38915984439412415},{state_name:"Virginia",county_fips:51001,county_name:"Accomack County",votes_gop:9172,votes_dem:7578,total_votes:16962,diff:1594,per_gop:.5407381205046574,per_dem:.4467633533781394,per_point_diff:.09397476712651803},{state_name:"Virginia",county_fips:51003,county_name:"Albemarle County",votes_gop:20804,votes_dem:42466,total_votes:64657,diff:-21662,per_gop:.321759438266545,per_dem:.6567889014337195,per_point_diff:-.33502946316717447},{state_name:"Virginia",county_fips:51005,county_name:"Alleghany County",votes_gop:5859,votes_dem:2243,total_votes:8203,diff:3616,per_gop:.7142508838229916,per_dem:.27343654760453495,per_point_diff:.44081433621845667},{state_name:"Virginia",county_fips:51007,county_name:"Amelia County",votes_gop:5390,votes_dem:2411,total_votes:7893,diff:2979,per_gop:.6828835677182313,per_dem:.3054605346509565,per_point_diff:.3774230330672748},{state_name:"Virginia",county_fips:51009,county_name:"Amherst County",votes_gop:11041,votes_dem:5672,total_votes:17005,diff:5369,per_gop:.6492796236401058,per_dem:.3335489561893561,per_point_diff:.31573066745074974},{state_name:"Virginia",county_fips:51011,county_name:"Appomattox County",votes_gop:6702,votes_dem:2418,total_votes:9268,diff:4284,per_gop:.7231333621061717,per_dem:.26089771255934396,per_point_diff:.4622356495468278},{state_name:"Virginia",county_fips:51013,county_name:"Arlington County",votes_gop:22318,votes_dem:105344,total_votes:130699,diff:-83026,per_gop:.17075876632567963,per_dem:.8060046366077782,per_point_diff:-.6352458702820986},{state_name:"Virginia",county_fips:51015,county_name:"Augusta County",votes_gop:30714,votes_dem:10840,total_votes:42278,diff:19874,per_gop:.7264771275840863,per_dem:.2563981266852737,per_point_diff:.47007900089881266},{state_name:"Virginia",county_fips:51017,county_name:"Bath County",votes_gop:1834,votes_dem:646,total_votes:2501,diff:1188,per_gop:.7333066773290684,per_dem:.258296681327469,per_point_diff:.4750099960015994},{state_name:"Virginia",county_fips:51019,county_name:"Bedford County",votes_gop:35600,votes_dem:12176,total_votes:48669,diff:23424,per_gop:.7314717787503339,per_dem:.250179785900676,per_point_diff:.48129199284965785},{state_name:"Virginia",county_fips:51021,county_name:"Bland County",votes_gop:2903,votes_dem:532,total_votes:3479,diff:2371,per_gop:.8344351825237137,per_dem:.1529175050301811,per_point_diff:.6815176774935326},{state_name:"Virginia",county_fips:51023,county_name:"Botetourt County",votes_gop:15099,votes_dem:5700,total_votes:21120,diff:9399,per_gop:.7149147727272728,per_dem:.26988636363636365,per_point_diff:.4450284090909091},{state_name:"Virginia",county_fips:51025,county_name:"Brunswick County",votes_gop:3357,votes_dem:4552,total_votes:7948,diff:-1195,per_gop:.4223704076497232,per_dem:.5727226975339708,per_point_diff:-.15035228988424754},{state_name:"Virginia",county_fips:51027,county_name:"Buchanan County",votes_gop:8311,votes_dem:1587,total_votes:9953,diff:6724,per_gop:.8350246156937606,per_dem:.15944941223751632,per_point_diff:.6755752034562443},{state_name:"Virginia",county_fips:51029,county_name:"Buckingham County",votes_gop:4544,votes_dem:3471,total_votes:8126,diff:1073,per_gop:.5591927147428009,per_dem:.42714742800886046,per_point_diff:.1320452867339404},{state_name:"Virginia",county_fips:51031,county_name:"Campbell County",votes_gop:21245,votes_dem:8070,total_votes:29892,diff:13175,per_gop:.7107252776662653,per_dem:.2699718988358089,per_point_diff:.44075337883045634},{state_name:"Virginia",county_fips:51033,county_name:"Caroline County",votes_gop:8336,votes_dem:7657,total_votes:16288,diff:679,per_gop:.5117878192534381,per_dem:.4701006876227898,per_point_diff:.0416871316306483},{state_name:"Virginia",county_fips:51035,county_name:"Carroll County",votes_gop:12659,votes_dem:2842,total_votes:15651,diff:9817,per_gop:.8088301067024471,per_dem:.18158584116030924,per_point_diff:.627244265542138},{state_name:"Virginia",county_fips:51036,county_name:"Charles City County",votes_gop:1761,votes_dem:2624,total_votes:4441,diff:-863,per_gop:.3965323125422202,per_dem:.5908579148840352,per_point_diff:-.19432560234181495},{state_name:"Virginia",county_fips:51037,county_name:"Charlotte County",votes_gop:3815,votes_dem:2317,total_votes:6191,diff:1498,per_gop:.6162170893232111,per_dem:.3742529478274915,per_point_diff:.24196414149571954},{state_name:"Virginia",county_fips:51041,county_name:"Chesterfield County",votes_gop:93326,votes_dem:106935,total_votes:203884,diff:-13609,per_gop:.4577406760707069,per_dem:.5244894155500186,per_point_diff:-.0667487394793117},{state_name:"Virginia",county_fips:51043,county_name:"Clarke County",votes_gop:5192,votes_dem:3920,total_votes:9337,diff:1272,per_gop:.5560672592909929,per_dem:.419835064795973,per_point_diff:.1362321944950199},{state_name:"Virginia",county_fips:51045,county_name:"Craig County",votes_gop:2536,votes_dem:587,total_votes:3169,diff:1949,per_gop:.8002524455664247,per_dem:.18523193436415272,per_point_diff:.615020511202272},{state_name:"Virginia",county_fips:51047,county_name:"Culpeper County",votes_gop:16012,votes_dem:10617,total_votes:27116,diff:5395,per_gop:.5905000737571914,per_dem:.39154005015489013,per_point_diff:.19896002360230125},{state_name:"Virginia",county_fips:51049,county_name:"Cumberland County",votes_gop:3019,votes_dem:2227,total_votes:5310,diff:792,per_gop:.5685499058380414,per_dem:.4193973634651601,per_point_diff:.14915254237288134},{state_name:"Virginia",county_fips:51051,county_name:"Dickenson County",votes_gop:5748,votes_dem:1503,total_votes:7303,diff:4245,per_gop:.7870738052854991,per_dem:.20580583321922497,per_point_diff:.5812679720662741},{state_name:"Virginia",county_fips:51053,county_name:"Dinwiddie County",votes_gop:8695,votes_dem:6224,total_votes:15092,diff:2471,per_gop:.5761330506228466,per_dem:.41240392260800424,per_point_diff:.16372912801484235},{state_name:"Virginia",county_fips:51057,county_name:"Essex County",votes_gop:3075,votes_dem:3038,total_votes:6178,diff:37,per_gop:.4977338944642279,per_dem:.4917449012625445,per_point_diff:.00598899320168339},{state_name:"Virginia",county_fips:51059,county_name:"Fairfax County",votes_gop:168401,votes_dem:419943,total_votes:600823,diff:-251542,per_gop:.280283877281662,per_dem:.6989462786877333,per_point_diff:-.4186624014060713},{state_name:"Virginia",county_fips:51061,county_name:"Fauquier County",votes_gop:25106,votes_dem:17565,total_votes:43661,diff:7541,per_gop:.5750211859554293,per_dem:.40230411580128717,per_point_diff:.17271707015414212},{state_name:"Virginia",county_fips:51063,county_name:"Floyd County",votes_gop:6225,votes_dem:3004,total_votes:9408,diff:3221,per_gop:.6616709183673469,per_dem:.3193027210884354,per_point_diff:.34236819727891155},{state_name:"Virginia",county_fips:51065,county_name:"Fluvanna County",votes_gop:8155,votes_dem:7414,total_votes:15840,diff:741,per_gop:.5148358585858586,per_dem:.46805555555555556,per_point_diff:.046780303030303005},{state_name:"Virginia",county_fips:51067,county_name:"Franklin County",votes_gop:20895,votes_dem:8381,total_votes:29702,diff:12514,per_gop:.7034879806073665,per_dem:.28216955087199513,per_point_diff:.42131842973537137},{state_name:"Virginia",county_fips:51069,county_name:"Frederick County",votes_gop:30558,votes_dem:17207,total_votes:48703,diff:13351,per_gop:.6274356815801901,per_dem:.35330472455495554,per_point_diff:.2741309570252346},{state_name:"Virginia",county_fips:51071,county_name:"Giles County",votes_gop:6876,votes_dem:2156,total_votes:9176,diff:4720,per_gop:.7493461203138623,per_dem:.23496076721883175,per_point_diff:.5143853530950305},{state_name:"Virginia",county_fips:51073,county_name:"Gloucester County",votes_gop:14875,votes_dem:6964,total_votes:22282,diff:7911,per_gop:.6675792119199354,per_dem:.31253926936540705,per_point_diff:.35503994255452836},{state_name:"Virginia",county_fips:51075,county_name:"Goochland County",votes_gop:9966,votes_dem:6685,total_votes:16950,diff:3281,per_gop:.5879646017699115,per_dem:.3943952802359882,per_point_diff:.1935693215339233},{state_name:"Virginia",county_fips:51077,county_name:"Grayson County",votes_gop:6529,votes_dem:1535,total_votes:8131,diff:4994,per_gop:.8029762636822039,per_dem:.18878366744557865,per_point_diff:.6141925962366253},{state_name:"Virginia",county_fips:51079,county_name:"Greene County",votes_gop:6866,votes_dem:4163,total_votes:11311,diff:2703,per_gop:.6070197153213686,per_dem:.3680488020511007,per_point_diff:.23897091327026787},{state_name:"Virginia",county_fips:51081,county_name:"Greensville County",votes_gop:1914,votes_dem:2627,total_votes:4574,diff:-713,per_gop:.4184521206821163,per_dem:.5743331875819851,per_point_diff:-.15588106689986886},{state_name:"Virginia",county_fips:51083,county_name:"Halifax County",votes_gop:10418,votes_dem:7666,total_votes:18248,diff:2752,per_gop:.5709118807540552,per_dem:.4201008329679965,per_point_diff:.1508110477860587},{state_name:"Virginia",county_fips:51085,county_name:"Hanover County",votes_gop:44318,votes_dem:25307,total_votes:70967,diff:19011,per_gop:.6244874378232136,per_dem:.356602364479265,per_point_diff:.26788507334394857},{state_name:"Virginia",county_fips:51087,county_name:"Henrico County",votes_gop:63440,votes_dem:116572,total_votes:183152,diff:-53132,per_gop:.3463789639206779,per_dem:.636476806150083,per_point_diff:-.29009784222940505},{state_name:"Virginia",county_fips:51089,county_name:"Henry County",votes_gop:16725,votes_dem:9127,total_votes:26105,diff:7598,per_gop:.6406818617123157,per_dem:.3496265083317372,per_point_diff:.2910553533805785},{state_name:"Virginia",county_fips:51091,county_name:"Highland County",votes_gop:1092,votes_dem:417,total_votes:1533,diff:675,per_gop:.7123287671232876,per_dem:.2720156555772994,per_point_diff:.44031311154598823},{state_name:"Virginia",county_fips:51093,county_name:"Isle of Wight County",votes_gop:13707,votes_dem:9399,total_votes:23456,diff:4308,per_gop:.5843707366984994,per_dem:.4007077080491132,per_point_diff:.18366302864938616},{state_name:"Virginia",county_fips:51095,county_name:"James City County",votes_gop:23153,votes_dem:25553,total_votes:49622,diff:-2400,per_gop:.4665874007496675,per_dem:.5149530450203539,per_point_diff:-.0483656442706864},{state_name:"Virginia",county_fips:51097,county_name:"King and Queen County",votes_gop:2450,votes_dem:1590,total_votes:4115,diff:860,per_gop:.5953827460510328,per_dem:.3863912515188335,per_point_diff:.20899149453219928},{state_name:"Virginia",county_fips:51099,county_name:"King George County",votes_gop:8446,votes_dem:5404,total_votes:14224,diff:3042,per_gop:.593785151856018,per_dem:.3799212598425197,per_point_diff:.2138638920134983},{state_name:"Virginia",county_fips:51101,county_name:"King William County",votes_gop:7320,votes_dem:3260,total_votes:10736,diff:4060,per_gop:.6818181818181818,per_dem:.3036512667660209,per_point_diff:.3781669150521609},{state_name:"Virginia",county_fips:51103,county_name:"Lancaster County",votes_gop:3697,votes_dem:3368,total_votes:7152,diff:329,per_gop:.5169183445190156,per_dem:.470917225950783,per_point_diff:.046001118568232635},{state_name:"Virginia",county_fips:51105,county_name:"Lee County",votes_gop:8365,votes_dem:1489,total_votes:9946,diff:6876,per_gop:.8410416247737784,per_dem:.1497084254976875,per_point_diff:.6913331992760909},{state_name:"Virginia",county_fips:51107,county_name:"Loudoun County",votes_gop:82088,votes_dem:138372,total_votes:224862,diff:-56284,per_gop:.3650594586902189,per_dem:.6153640899751848,per_point_diff:-.2503046312849659},{state_name:"Virginia",county_fips:51109,county_name:"Louisa County",votes_gop:13294,votes_dem:8269,total_votes:21915,diff:5025,per_gop:.6066164727355693,per_dem:.3773214693132558,per_point_diff:.22929500342231351},{state_name:"Virginia",county_fips:51111,county_name:"Lunenburg County",votes_gop:3537,votes_dem:2418,total_votes:6e3,diff:1119,per_gop:.5895,per_dem:.403,per_point_diff:.1865},{state_name:"Virginia",county_fips:51113,county_name:"Madison County",votes_gop:5300,votes_dem:2698,total_votes:8129,diff:2602,per_gop:.651986714232993,per_dem:.33189814245294624,per_point_diff:.3200885717800468},{state_name:"Virginia",county_fips:51115,county_name:"Mathews County",votes_gop:3901,votes_dem:1825,total_votes:5826,diff:2076,per_gop:.6695846206659801,per_dem:.31325094404394094,per_point_diff:.3563336766220392},{state_name:"Virginia",county_fips:51117,county_name:"Mecklenburg County",votes_gop:9266,votes_dem:6803,total_votes:16204,diff:2463,per_gop:.5718341150333252,per_dem:.4198346087385831,per_point_diff:.15199950629474207},{state_name:"Virginia",county_fips:51119,county_name:"Middlesex County",votes_gop:4196,votes_dem:2491,total_votes:6785,diff:1705,per_gop:.6184229918938836,per_dem:.3671333824613117,per_point_diff:.2512896094325719},{state_name:"Virginia",county_fips:51121,county_name:"Montgomery County",votes_gop:20629,votes_dem:23218,total_votes:45037,diff:-2589,per_gop:.4580456069454005,per_dem:.5155316739569688,per_point_diff:-.057486067011568276},{state_name:"Virginia",county_fips:51125,county_name:"Nelson County",votes_gop:4812,votes_dem:4327,total_votes:9316,diff:485,per_gop:.5165306998711894,per_dem:.4644697294976385,per_point_diff:.0520609703735509},{state_name:"Virginia",county_fips:51127,county_name:"New Kent County",votes_gop:9631,votes_dem:4621,total_votes:14463,diff:5010,per_gop:.6659061052340455,per_dem:.31950494364931203,per_point_diff:.34640116158473344},{state_name:"Virginia",county_fips:51131,county_name:"Northampton County",votes_gop:2955,votes_dem:3667,total_votes:6732,diff:-712,per_gop:.43894830659536543,per_dem:.5447118241235889,per_point_diff:-.10576351752822344},{state_name:"Virginia",county_fips:51133,county_name:"Northumberland County",votes_gop:4485,votes_dem:3252,total_votes:7815,diff:1233,per_gop:.5738963531669866,per_dem:.4161228406909789,per_point_diff:.15777351247600774},{state_name:"Virginia",county_fips:51135,county_name:"Nottoway County",votes_gop:4027,votes_dem:2971,total_votes:7078,diff:1056,per_gop:.5689460299519639,per_dem:.4197513421870585,per_point_diff:.14919468776490535},{state_name:"Virginia",county_fips:51137,county_name:"Orange County",votes_gop:12426,votes_dem:7995,total_votes:20742,diff:4431,per_gop:.5990743419149551,per_dem:.3854498119757015,per_point_diff:.21362452993925363},{state_name:"Virginia",county_fips:51139,county_name:"Page County",votes_gop:9345,votes_dem:3007,total_votes:12514,diff:6338,per_gop:.7467636247402909,per_dem:.2402908742208726,per_point_diff:.5064727505194183},{state_name:"Virginia",county_fips:51141,county_name:"Patrick County",votes_gop:7485,votes_dem:1954,total_votes:9534,diff:5531,per_gop:.7850849590937696,per_dem:.20495070274805957,per_point_diff:.58013425634571},{state_name:"Virginia",county_fips:51143,county_name:"Pittsylvania County",votes_gop:23751,votes_dem:10115,total_votes:34227,diff:13636,per_gop:.6939258480147252,per_dem:.295526923189295,per_point_diff:.3983989248254302},{state_name:"Virginia",county_fips:51145,county_name:"Powhatan County",votes_gop:14055,votes_dem:5320,total_votes:19730,diff:8735,per_gop:.7123669538773442,per_dem:.26964014191586416,per_point_diff:.44272681196148},{state_name:"Virginia",county_fips:51147,county_name:"Prince Edward County",votes_gop:4434,votes_dem:4973,total_votes:9574,diff:-539,per_gop:.4631293085439733,per_dem:.5194276164612492,per_point_diff:-.05629830791727597},{state_name:"Virginia",county_fips:51149,county_name:"Prince George County",votes_gop:10103,votes_dem:7103,total_votes:17432,diff:3e3,per_gop:.5795663148233134,per_dem:.40746902248737954,per_point_diff:.1720972923359339},{state_name:"Virginia",county_fips:51153,county_name:"Prince William County",votes_gop:81222,votes_dem:142863,total_votes:228056,diff:-61641,per_gop:.356149366822184,per_dem:.6264382432385028,per_point_diff:-.2702888764163188},{state_name:"Virginia",county_fips:51155,county_name:"Pulaski County",votes_gop:12127,votes_dem:4925,total_votes:17376,diff:7202,per_gop:.6979166666666666,per_dem:.28343692449355434,per_point_diff:.4144797421731123},{state_name:"Virginia",county_fips:51157,county_name:"Rappahannock County",votes_gop:2812,votes_dem:2096,total_votes:4978,diff:716,per_gop:.5648854961832062,per_dem:.42105263157894735,per_point_diff:.14383286460425881},{state_name:"Virginia",county_fips:51159,county_name:"Richmond County",votes_gop:2547,votes_dem:1513,total_votes:4102,diff:1034,per_gop:.62091662603608,per_dem:.36884446611409066,per_point_diff:.25207215992198934},{state_name:"Virginia",county_fips:51161,county_name:"Roanoke County",votes_gop:34268,votes_dem:21801,total_votes:57184,diff:12467,per_gop:.599258533855624,per_dem:.3812430050363738,per_point_diff:.21801552881925018},{state_name:"Virginia",county_fips:51163,county_name:"Rockbridge County",votes_gop:8088,votes_dem:4086,total_votes:12373,diff:4002,per_gop:.6536814030550392,per_dem:.3302351895255799,per_point_diff:.3234462135294593},{state_name:"Virginia",county_fips:51165,county_name:"Rockingham County",votes_gop:30349,votes_dem:12644,total_votes:43811,diff:17705,per_gop:.692725571203579,per_dem:.2886033188012143,per_point_diff:.4041222524023647},{state_name:"Virginia",county_fips:51167,county_name:"Russell County",votes_gop:10879,votes_dem:2373,total_votes:13386,diff:8506,per_gop:.8127147766323024,per_dem:.17727476467951592,per_point_diff:.6354400119527865},{state_name:"Virginia",county_fips:51169,county_name:"Scott County",votes_gop:9063,votes_dem:1692,total_votes:10869,diff:7371,per_gop:.8338393596467016,per_dem:.15567209494893736,per_point_diff:.6781672646977643},{state_name:"Virginia",county_fips:51171,county_name:"Shenandoah County",votes_gop:16463,votes_dem:6836,total_votes:23684,diff:9627,per_gop:.6951106232055396,per_dem:.28863367674379325,per_point_diff:.40647694646174637},{state_name:"Virginia",county_fips:51173,county_name:"Smyth County",votes_gop:10963,votes_dem:3008,total_votes:14136,diff:7955,per_gop:.7755376344086021,per_dem:.21279003961516696,per_point_diff:.5627475947934352},{state_name:"Virginia",county_fips:51175,county_name:"Southampton County",votes_gop:5730,votes_dem:3969,total_votes:9786,diff:1761,per_gop:.5855303494788473,per_dem:.4055793991416309,per_point_diff:.17995095033721642},{state_name:"Virginia",county_fips:51177,county_name:"Spotsylvania County",votes_gop:39411,votes_dem:34307,total_votes:75317,diff:5104,per_gop:.5232683192373567,per_dem:.45550141402339445,per_point_diff:.06776690521396228},{state_name:"Virginia",county_fips:51179,county_name:"Stafford County",votes_gop:37636,votes_dem:40245,total_votes:79625,diff:-2609,per_gop:.4726656200941915,per_dem:.5054317111459968,per_point_diff:-.032766091051805335},{state_name:"Virginia",county_fips:51181,county_name:"Surry County",votes_gop:2025,votes_dem:2397,total_votes:4471,diff:-372,per_gop:.45291881010959517,per_dem:.5361216730038023,per_point_diff:-.08320286289420714},{state_name:"Virginia",county_fips:51183,county_name:"Sussex County",votes_gop:2219,votes_dem:2827,total_votes:5088,diff:-608,per_gop:.436124213836478,per_dem:.55562106918239,per_point_diff:-.11949685534591198},{state_name:"Virginia",county_fips:51185,county_name:"Tazewell County",votes_gop:16731,votes_dem:3205,total_votes:20134,diff:13526,per_gop:.8309824178007351,per_dem:.15918347074600178,per_point_diff:.6717989470547333},{state_name:"Virginia",county_fips:51187,county_name:"Warren County",votes_gop:14069,votes_dem:6603,total_votes:21147,diff:7466,per_gop:.6652953137560883,per_dem:.31224287132926654,per_point_diff:.35305244242682177},{state_name:"Virginia",county_fips:51191,county_name:"Washington County",votes_gop:21679,votes_dem:6617,total_votes:28685,diff:15062,per_gop:.7557608506187903,per_dem:.23067805473243855,per_point_diff:.5250827958863518},{state_name:"Virginia",county_fips:51193,county_name:"Westmoreland County",votes_gop:5318,votes_dem:4501,total_votes:9933,diff:817,per_gop:.5353870935266284,per_dem:.45313601127554615,per_point_diff:.08225108225108224},{state_name:"Virginia",county_fips:51195,county_name:"Wise County",votes_gop:13366,votes_dem:3110,total_votes:16615,diff:10256,per_gop:.8044538068010834,per_dem:.1871802588022871,per_point_diff:.6172735479987963},{state_name:"Virginia",county_fips:51197,county_name:"Wythe County",votes_gop:11733,votes_dem:3143,total_votes:15072,diff:8590,per_gop:.7784633757961783,per_dem:.20853237791932058,per_point_diff:.5699309978768577},{state_name:"Virginia",county_fips:51199,county_name:"York County",votes_gop:20241,votes_dem:17683,total_votes:38787,diff:2558,per_gop:.5218501044164282,per_dem:.4559001727382886,per_point_diff:.06594993167813962},{state_name:"Virginia",county_fips:51510,county_name:"Alexandria city",votes_gop:14544,votes_dem:66240,total_votes:82508,diff:-51696,per_gop:.17627381587240026,per_dem:.8028312406069714,per_point_diff:-.6265574247345711},{state_name:"Virginia",county_fips:51520,county_name:"Bristol city",votes_gop:5347,votes_dem:2313,total_votes:7806,diff:3034,per_gop:.6849859082756854,per_dem:.2963105303612606,per_point_diff:.3886753779144248},{state_name:"Virginia",county_fips:51530,county_name:"Buena Vista city",votes_gop:1863,votes_dem:825,total_votes:2776,diff:1038,per_gop:.6711095100864554,per_dem:.29719020172910665,per_point_diff:.3739193083573487},{state_name:"Virginia",county_fips:51540,county_name:"Charlottesville city",votes_gop:3094,votes_dem:20696,total_votes:24205,diff:-17602,per_gop:.12782482958066516,per_dem:.8550299524891551,per_point_diff:-.7272051229084899},{state_name:"Virginia",county_fips:51550,county_name:"Chesapeake city",votes_gop:58180,votes_dem:66377,total_votes:127108,diff:-8197,per_gop:.45772099317116155,per_dem:.5222094596720899,per_point_diff:-.06448846650092832},{state_name:"Virginia",county_fips:51570,county_name:"Colonial Heights city",votes_gop:6007,votes_dem:2972,total_votes:9146,diff:3035,per_gop:.6567898534878636,per_dem:.32495079816313144,per_point_diff:.3318390553247321},{state_name:"Virginia",county_fips:51580,county_name:"Covington city",votes_gop:1580,votes_dem:964,total_votes:2603,diff:616,per_gop:.6069919323857088,per_dem:.37034191317710335,per_point_diff:.23665001920860546},{state_name:"Virginia",county_fips:51590,county_name:"Danville city",votes_gop:7428,votes_dem:11710,total_votes:19389,diff:-4282,per_gop:.3831038217546031,per_dem:.6039506936922998,per_point_diff:-.2208468719376967},{state_name:"Virginia",county_fips:51595,county_name:"Emporia city",votes_gop:754,votes_dem:1612,total_votes:2381,diff:-858,per_gop:.31667366652666945,per_dem:.6770264594708106,per_point_diff:-.3603527929441412},{state_name:"Virginia",county_fips:51600,county_name:"Fairfax city",votes_gop:4007,votes_dem:9174,total_votes:13483,diff:-5167,per_gop:.29718905288140623,per_dem:.6804123711340206,per_point_diff:-.3832233182526144},{state_name:"Virginia",county_fips:51610,county_name:"Falls Church city",votes_gop:1490,votes_dem:7146,total_votes:8819,diff:-5656,per_gop:.1689533960766527,per_dem:.8102959519219867,per_point_diff:-.641342555845334},{state_name:"Virginia",county_fips:51620,county_name:"Franklin city",votes_gop:1487,votes_dem:2525,total_votes:4058,diff:-1038,per_gop:.36643666830951205,per_dem:.622227698373583,per_point_diff:-.255791030064071},{state_name:"Virginia",county_fips:51630,county_name:"Fredericksburg city",votes_gop:4037,votes_dem:8517,total_votes:12862,diff:-4480,per_gop:.313870315658529,per_dem:.6621831752449074,per_point_diff:-.3483128595863784},{state_name:"Virginia",county_fips:51640,county_name:"Galax city",votes_gop:1838,votes_dem:777,total_votes:2638,diff:1061,per_gop:.6967399545109931,per_dem:.29454131918119786,per_point_diff:.4021986353297953},{state_name:"Virginia",county_fips:51650,county_name:"Hampton city",votes_gop:18430,votes_dem:46220,total_votes:65901,diff:-27790,per_gop:.2796619171181014,per_dem:.7013550628973764,per_point_diff:-.42169314577927497},{state_name:"Virginia",county_fips:51660,county_name:"Harrisonburg city",votes_gop:5591,votes_dem:11022,total_votes:17086,diff:-5431,per_gop:.3272269694486714,per_dem:.6450895469975418,per_point_diff:-.31786257754887043},{state_name:"Virginia",county_fips:51670,county_name:"Hopewell city",votes_gop:4020,votes_dem:5430,total_votes:9608,diff:-1410,per_gop:.4184013322231474,per_dem:.5651540383014155,per_point_diff:-.14675270607826812},{state_name:"Virginia",county_fips:51678,county_name:"Lexington city",votes_gop:906,votes_dem:1791,total_votes:2762,diff:-885,per_gop:.3280231716147719,per_dem:.6484431571325127,per_point_diff:-.32041998551774076},{state_name:"Virginia",county_fips:51680,county_name:"Lynchburg city",votes_gop:17097,votes_dem:18048,total_votes:36363,diff:-951,per_gop:.47017572807524133,per_dem:.4963286857520007,per_point_diff:-.026152957676759347},{state_name:"Virginia",county_fips:51683,county_name:"Manassas city",votes_gop:6256,votes_dem:10356,total_votes:16968,diff:-4100,per_gop:.3686940122583687,per_dem:.6103253182461104,per_point_diff:-.24163130598774168},{state_name:"Virginia",county_fips:51685,county_name:"Manassas Park city",votes_gop:1979,votes_dem:3992,total_votes:6087,diff:-2013,per_gop:.3251191062920979,per_dem:.6558238869722359,per_point_diff:-.33070478068013803},{state_name:"Virginia",county_fips:51690,county_name:"Martinsville city",votes_gop:2165,votes_dem:3766,total_votes:6013,diff:-1601,per_gop:.36005321802760687,per_dem:.6263096623981373,per_point_diff:-.2662564443705305},{state_name:"Virginia",county_fips:51700,county_name:"Newport News city",votes_gop:26377,votes_dem:53099,total_votes:81203,diff:-26722,per_gop:.3248279004470278,per_dem:.6539044123985567,per_point_diff:-.32907651195152887},{state_name:"Virginia",county_fips:51710,county_name:"Norfolk city",votes_gop:23443,votes_dem:64440,total_votes:89881,diff:-40997,per_gop:.26082264327277177,per_dem:.7169479645308797,per_point_diff:-.45612532125810795},{state_name:"Virginia",county_fips:51720,county_name:"Norton city",votes_gop:1109,votes_dem:464,total_votes:1601,diff:645,per_gop:.6926920674578388,per_dem:.28981886321049344,per_point_diff:.4028732042473454},{state_name:"Virginia",county_fips:51730,county_name:"Petersburg city",votes_gop:1584,votes_dem:12389,total_votes:14118,diff:-10805,per_gop:.11219719507012324,per_dem:.8775322283609577,per_point_diff:-.7653350332908344},{state_name:"Virginia",county_fips:51735,county_name:"Poquoson city",votes_gop:5605,votes_dem:2054,total_votes:7857,diff:3551,per_gop:.7133766068473972,per_dem:.2614229349624539,per_point_diff:.45195367188494334},{state_name:"Virginia",county_fips:51740,county_name:"Portsmouth city",votes_gop:12755,votes_dem:30948,total_votes:44582,diff:-18193,per_gop:.2861020142658472,per_dem:.6941815082320218,per_point_diff:-.40807949396617466},{state_name:"Virginia",county_fips:51750,county_name:"Radford city",votes_gop:2786,votes_dem:3358,total_votes:6320,diff:-572,per_gop:.4408227848101266,per_dem:.5313291139240506,per_point_diff:-.09050632911392398},{state_name:"Virginia",county_fips:51760,county_name:"Richmond city",votes_gop:16603,votes_dem:92175,total_votes:111159,diff:-75572,per_gop:.14936262470875053,per_dem:.8292176072112919,per_point_diff:-.6798549825025414},{state_name:"Virginia",county_fips:51770,county_name:"Roanoke city",votes_gop:15607,votes_dem:26773,total_votes:43323,diff:-11166,per_gop:.3602474436211712,per_dem:.6179858273896083,per_point_diff:-.25773838376843705},{state_name:"Virginia",county_fips:51775,county_name:"Salem city",votes_gop:7683,votes_dem:5148,total_votes:13051,diff:2535,per_gop:.5886905217990959,per_dem:.3944525323729982,per_point_diff:.19423798942609766},{state_name:"Virginia",county_fips:51790,county_name:"Staunton city",votes_gop:5695,votes_dem:6981,total_votes:12990,diff:-1286,per_gop:.4384141647421093,per_dem:.5374133949191686,per_point_diff:-.0989992301770593},{state_name:"Virginia",county_fips:51800,county_name:"Suffolk city",votes_gop:20082,votes_dem:28676,total_votes:49642,diff:-8594,per_gop:.4045364812054309,per_dem:.5776560170823093,per_point_diff:-.1731195358768784},{state_name:"Virginia",county_fips:51810,county_name:"Virginia Beach city",votes_gop:105087,votes_dem:117393,total_votes:227561,diff:-12306,per_gop:.4617970566133916,per_dem:.5158748643220938,per_point_diff:-.05407780770870224},{state_name:"Virginia",county_fips:51820,county_name:"Waynesboro city",votes_gop:5507,votes_dem:4961,total_votes:10717,diff:546,per_gop:.5138564896892787,per_dem:.46290939628627414,per_point_diff:.05094709340300452},{state_name:"Virginia",county_fips:51830,county_name:"Williamsburg city",votes_gop:1963,votes_dem:4790,total_votes:6883,diff:-2827,per_gop:.28519540897864304,per_dem:.6959174778439634,per_point_diff:-.41072206886532037},{state_name:"Virginia",county_fips:51840,county_name:"Winchester city",votes_gop:5221,votes_dem:6610,total_votes:12106,diff:-1389,per_gop:.43127374855443584,per_dem:.5460102428547827,per_point_diff:-.11473649430034688},{state_name:"Washington",county_fips:53001,county_name:"Adams County",votes_gop:3907,votes_dem:1814,total_votes:5862,diff:2093,per_gop:.6664960764244285,per_dem:.3094506994199932,per_point_diff:.35704537700443534},{state_name:"Washington",county_fips:53003,county_name:"Asotin County",votes_gop:7319,votes_dem:4250,total_votes:11951,diff:3069,per_gop:.6124173709313028,per_dem:.35561877667140823,per_point_diff:.25679859425989454},{state_name:"Washington",county_fips:53005,county_name:"Benton County",votes_gop:60365,votes_dem:38706,total_votes:103033,diff:21659,per_gop:.5858802519581106,per_dem:.3756660487416653,per_point_diff:.21021420321644524},{state_name:"Washington",county_fips:53007,county_name:"Chelan County",votes_gop:22746,votes_dem:19349,total_votes:43306,diff:3397,per_gop:.5252389969057405,per_dem:.44679721054819194,per_point_diff:.07844178635754856},{state_name:"Washington",county_fips:53009,county_name:"Clallam County",votes_gop:23062,votes_dem:24721,total_votes:49264,diff:-1659,per_gop:.4681308866515102,per_dem:.5018065930496914,per_point_diff:-.03367570639818124},{state_name:"Washington",county_fips:53011,county_name:"Clark County",votes_gop:126303,votes_dem:140324,total_votes:275403,diff:-14021,per_gop:.4586115619655559,per_dem:.5095224089788419,per_point_diff:-.05091084701328602},{state_name:"Washington",county_fips:53013,county_name:"Columbia County",votes_gop:1754,votes_dem:668,total_votes:2495,diff:1086,per_gop:.7030060120240481,per_dem:.26773547094188377,per_point_diff:.43527054108216434},{state_name:"Washington",county_fips:53015,county_name:"Cowlitz County",votes_gop:34424,votes_dem:23938,total_votes:60280,diff:10486,per_gop:.5710683477106835,per_dem:.3971134704711347,per_point_diff:.17395487723954878},{state_name:"Washington",county_fips:53017,county_name:"Douglas County",votes_gop:12955,votes_dem:7811,total_votes:21308,diff:5144,per_gop:.607987610287216,per_dem:.3665759339215318,per_point_diff:.24141167636568422},{state_name:"Washington",county_fips:53019,county_name:"Ferry County",votes_gop:2771,votes_dem:1486,total_votes:4367,diff:1285,per_gop:.6345317151362492,per_dem:.34027936798717656,per_point_diff:.2942523471490726},{state_name:"Washington",county_fips:53021,county_name:"Franklin County",votes_gop:18039,votes_dem:13340,total_votes:32404,diff:4699,per_gop:.5566905320330824,per_dem:.4116775706702876,per_point_diff:.1450129613627948},{state_name:"Washington",county_fips:53023,county_name:"Garfield County",votes_gop:1069,votes_dem:366,total_votes:1489,diff:703,per_gop:.7179314976494291,per_dem:.2458025520483546,per_point_diff:.4721289456010745},{state_name:"Washington",county_fips:53025,county_name:"Grant County",votes_gop:24764,votes_dem:11819,total_votes:37680,diff:12945,per_gop:.6572186836518047,per_dem:.31366772823779193,per_point_diff:.34355095541401276},{state_name:"Washington",county_fips:53027,county_name:"Grays Harbor County",votes_gop:19877,votes_dem:17354,total_votes:38441,diff:2523,per_gop:.5170781197159283,per_dem:.45144507166827086,per_point_diff:.06563304804765746},{state_name:"Washington",county_fips:53029,county_name:"Island County",votes_gop:22746,votes_dem:29213,total_votes:53925,diff:-6467,per_gop:.42180806675938803,per_dem:.541733889661567,per_point_diff:-.11992582290217896},{state_name:"Washington",county_fips:53031,county_name:"Jefferson County",votes_gop:6931,votes_dem:17204,total_votes:24792,diff:-10273,per_gop:.27956598902871893,per_dem:.6939335269441755,per_point_diff:-.4143675379154566},{state_name:"Washington",county_fips:53033,county_name:"King County",votes_gop:269167,votes_dem:907310,total_votes:1210507,diff:-638143,per_gop:.22235889590064328,per_dem:.7495289163961877,per_point_diff:-.5271700204955444},{state_name:"Washington",county_fips:53035,county_name:"Kitsap County",votes_gop:61563,votes_dem:90277,total_votes:158672,diff:-28714,per_gop:.3879890591912877,per_dem:.5689535645860644,per_point_diff:-.1809645053947767},{state_name:"Washington",county_fips:53037,county_name:"Kittitas County",votes_gop:14105,votes_dem:11421,total_votes:26364,diff:2684,per_gop:.5350098619329389,per_dem:.43320436959490216,per_point_diff:.10180549233803671},{state_name:"Washington",county_fips:53039,county_name:"Klickitat County",votes_gop:7237,votes_dem:5959,total_votes:13560,diff:1278,per_gop:.5337020648967552,per_dem:.4394542772861357,per_point_diff:.09424778761061953},{state_name:"Washington",county_fips:53041,county_name:"Lewis County",votes_gop:29391,votes_dem:14520,total_votes:45309,diff:14871,per_gop:.6486790703833676,per_dem:.32046613255644574,per_point_diff:.32821293782692185},{state_name:"Washington",county_fips:53043,county_name:"Lincoln County",votes_gop:5150,votes_dem:1713,total_votes:7033,diff:3437,per_gop:.7322621925209726,per_dem:.24356604578416038,per_point_diff:.48869614673681216},{state_name:"Washington",county_fips:53045,county_name:"Mason County",votes_gop:18710,votes_dem:17269,total_votes:37303,diff:1441,per_gop:.5015682384794788,per_dem:.462938637643085,per_point_diff:.03862960083639383},{state_name:"Washington",county_fips:53047,county_name:"Okanogan County",votes_gop:11840,votes_dem:8900,total_votes:21282,diff:2940,per_gop:.5563386899727469,per_dem:.4181937787801898,per_point_diff:.13814491119255712},{state_name:"Washington",county_fips:53049,county_name:"Pacific County",votes_gop:6953,votes_dem:6794,total_votes:14064,diff:159,per_gop:.4943828213879408,per_dem:.4830773606370876,per_point_diff:.011305460750853202},{state_name:"Washington",county_fips:53051,county_name:"Pend Oreille County",votes_gop:5728,votes_dem:2593,total_votes:8553,diff:3135,per_gop:.6697065357184614,per_dem:.3031684788962937,per_point_diff:.36653805682216767},{state_name:"Washington",county_fips:53053,county_name:"Pierce County",votes_gop:197730,votes_dem:249506,total_votes:464081,diff:-51776,per_gop:.42606786315319956,per_dem:.537634593960968,per_point_diff:-.11156673080776847},{state_name:"Washington",county_fips:53055,county_name:"San Juan County",votes_gop:3057,votes_dem:9725,total_votes:13197,diff:-6668,per_gop:.23164355535348943,per_dem:.7369099037660074,per_point_diff:-.5052663484125179},{state_name:"Washington",county_fips:53057,county_name:"Skagit County",votes_gop:32762,votes_dem:38252,total_votes:73423,diff:-5490,per_gop:.4462089535976465,per_dem:.5209811639404546,per_point_diff:-.07477221034280807},{state_name:"Washington",county_fips:53059,county_name:"Skamania County",votes_gop:3885,votes_dem:3192,total_votes:7312,diff:693,per_gop:.5313183807439825,per_dem:.4365426695842451,per_point_diff:.09477571115973743},{state_name:"Washington",county_fips:53061,county_name:"Snohomish County",votes_gop:166428,votes_dem:256728,total_votes:438796,diff:-90300,per_gop:.3792833116072161,per_dem:.5850737016745823,per_point_diff:-.20579039006736616},{state_name:"Washington",county_fips:53063,county_name:"Spokane County",votes_gop:148576,votes_dem:135765,total_votes:295430,diff:12811,per_gop:.5029143959652033,per_dem:.4595504857326609,per_point_diff:.04336391023254238},{state_name:"Washington",county_fips:53065,county_name:"Stevens County",votes_gop:19808,votes_dem:7839,total_votes:28430,diff:11969,per_gop:.6967288075976081,per_dem:.2757298628209638,per_point_diff:.42099894477664435},{state_name:"Washington",county_fips:53067,county_name:"Thurston County",votes_gop:65277,votes_dem:96608,total_votes:168134,diff:-31331,per_gop:.3882439006982526,per_dem:.5745893156648864,per_point_diff:-.18634541496663376},{state_name:"Washington",county_fips:53069,county_name:"Wahkiakum County",votes_gop:1741,votes_dem:1165,total_votes:2981,diff:576,per_gop:.5840322039584033,per_dem:.39080845353908084,per_point_diff:.19322375041932244},{state_name:"Washington",county_fips:53071,county_name:"Walla Walla County",votes_gop:16400,votes_dem:13690,total_votes:31261,diff:2710,per_gop:.5246153354019385,per_dem:.4379258501007645,per_point_diff:.08668948530117399},{state_name:"Washington",county_fips:53073,county_name:"Whatcom County",votes_gop:50489,votes_dem:83660,total_votes:138620,diff:-33171,per_gop:.3642259414225941,per_dem:.6035204155244553,per_point_diff:-.23929447410186122},{state_name:"Washington",county_fips:53075,county_name:"Whitman County",votes_gop:9067,votes_dem:11184,total_votes:21126,diff:-2117,per_gop:.4291867840575594,per_dem:.529395058222096,per_point_diff:-.10020827416453659},{state_name:"Washington",county_fips:53077,county_name:"Yakima County",votes_gop:50555,votes_dem:43179,total_votes:96193,diff:7376,per_gop:.5255579927853378,per_dem:.4488788165459025,per_point_diff:.07667917623943526},{state_name:"West Virginia",county_fips:54001,county_name:"Barbour County",votes_gop:5116,votes_dem:1457,total_votes:6677,diff:3659,per_gop:.7662123708252209,per_dem:.21821177175378165,per_point_diff:.5480005990714392},{state_name:"West Virginia",county_fips:54003,county_name:"Berkeley County",votes_gop:33279,votes_dem:17186,total_votes:51535,diff:16093,per_gop:.6457553119239352,per_dem:.3334820995439992,per_point_diff:.312273212379936},{state_name:"West Virginia",county_fips:54005,county_name:"Boone County",votes_gop:6816,votes_dem:2041,total_votes:9012,diff:4775,per_gop:.7563249001331558,per_dem:.22647581003106967,per_point_diff:.5298490901020861},{state_name:"West Virginia",county_fips:54007,county_name:"Braxton County",votes_gop:4120,votes_dem:1457,total_votes:5664,diff:2663,per_gop:.7274011299435028,per_dem:.2572387005649718,per_point_diff:.47016242937853103},{state_name:"West Virginia",county_fips:54009,county_name:"Brooke County",votes_gop:7545,votes_dem:2947,total_votes:10656,diff:4598,per_gop:.7080518018018018,per_dem:.2765578078078078,per_point_diff:.431493993993994},{state_name:"West Virginia",county_fips:54011,county_name:"Cabell County",votes_gop:21721,votes_dem:14994,total_votes:37360,diff:6727,per_gop:.5813972162740899,per_dem:.40133832976445394,per_point_diff:.18005888650963597},{state_name:"West Virginia",county_fips:54013,county_name:"Calhoun County",votes_gop:2364,votes_dem:568,total_votes:2971,diff:1796,per_gop:.7956916863009088,per_dem:.19118142039717267,per_point_diff:.6045102659037361},{state_name:"West Virginia",county_fips:54015,county_name:"Clay County",votes_gop:2679,votes_dem:641,total_votes:3365,diff:2038,per_gop:.7961367013372956,per_dem:.19049034175334323,per_point_diff:.6056463595839524},{state_name:"West Virginia",county_fips:54017,county_name:"Doddridge County",votes_gop:2619,votes_dem:435,total_votes:3101,diff:2184,per_gop:.8445662689455015,per_dem:.14027732989358271,per_point_diff:.7042889390519187},{state_name:"West Virginia",county_fips:54019,county_name:"Fayette County",votes_gop:11580,votes_dem:5063,total_votes:16862,diff:6517,per_gop:.6867512750563397,per_dem:.300260941762543,per_point_diff:.38649033329379673},{state_name:"West Virginia",county_fips:54021,county_name:"Gilmer County",votes_gop:2012,votes_dem:599,total_votes:2662,diff:1413,per_gop:.7558226897069872,per_dem:.22501878287002253,per_point_diff:.5308039068369647},{state_name:"West Virginia",county_fips:54023,county_name:"Grant County",votes_gop:4871,votes_dem:607,total_votes:5509,diff:4264,per_gop:.884189508077691,per_dem:.11018333635868578,per_point_diff:.7740061717190052},{state_name:"West Virginia",county_fips:54025,county_name:"Greenbrier County",votes_gop:10925,votes_dem:4655,total_votes:15850,diff:6270,per_gop:.6892744479495269,per_dem:.29369085173501575,per_point_diff:.3955835962145111},{state_name:"West Virginia",county_fips:54027,county_name:"Hampshire County",votes_gop:8033,votes_dem:1939,total_votes:10086,diff:6094,per_gop:.7964505254808646,per_dem:.19224667856434663,per_point_diff:.604203846916518},{state_name:"West Virginia",county_fips:54029,county_name:"Hancock County",votes_gop:9806,votes_dem:3790,total_votes:13800,diff:6016,per_gop:.7105797101449275,per_dem:.2746376811594203,per_point_diff:.4359420289855072},{state_name:"West Virginia",county_fips:54031,county_name:"Hardy County",votes_gop:4859,votes_dem:1381,total_votes:6331,diff:3478,per_gop:.7674932870004738,per_dem:.2181329963670826,per_point_diff:.5493602906333912},{state_name:"West Virginia",county_fips:54033,county_name:"Harrison County",votes_gop:20683,votes_dem:9215,total_votes:30465,diff:11468,per_gop:.6789102248481864,per_dem:.3024782537337929,per_point_diff:.3764319711143935},{state_name:"West Virginia",county_fips:54035,county_name:"Jackson County",votes_gop:10093,votes_dem:3207,total_votes:13508,diff:6886,per_gop:.7471868522357121,per_dem:.23741486526502814,per_point_diff:.509771986970684},{state_name:"West Virginia",county_fips:54037,county_name:"Jefferson County",votes_gop:15033,votes_dem:12127,total_votes:27703,diff:2906,per_gop:.5426488105981302,per_dem:.4377504241417897,per_point_diff:.10489838645634048},{state_name:"West Virginia",county_fips:54039,county_name:"Kanawha County",votes_gop:46398,votes_dem:34344,total_votes:82244,diff:12054,per_gop:.5641505763338359,per_dem:.41758669325421915,per_point_diff:.14656388307961676},{state_name:"West Virginia",county_fips:54041,county_name:"Lewis County",votes_gop:5782,votes_dem:1538,total_votes:7457,diff:4244,per_gop:.7753788386750704,per_dem:.20624916186133835,per_point_diff:.569129676813732},{state_name:"West Virginia",county_fips:54043,county_name:"Lincoln County",votes_gop:6012,votes_dem:1711,total_votes:7830,diff:4301,per_gop:.767816091954023,per_dem:.21851851851851853,per_point_diff:.5492975734355044},{state_name:"West Virginia",county_fips:54045,county_name:"Logan County",votes_gop:10534,votes_dem:2333,total_votes:13026,diff:8201,per_gop:.8086903116843237,per_dem:.17910333179794258,per_point_diff:.6295869798863811},{state_name:"West Virginia",county_fips:54047,county_name:"McDowell County",votes_gop:5148,votes_dem:1333,total_votes:6527,diff:3815,per_gop:.7887237628313161,per_dem:.20422858893825646,per_point_diff:.5844951738930596},{state_name:"West Virginia",county_fips:54049,county_name:"Marion County",votes_gop:16300,votes_dem:8901,total_votes:25794,diff:7399,per_gop:.6319299061797318,per_dem:.3450802512212142,per_point_diff:.28684965495851755},{state_name:"West Virginia",county_fips:54051,county_name:"Marshall County",votes_gop:10435,votes_dem:3455,total_votes:14080,diff:6980,per_gop:.7411221590909091,per_dem:.24538352272727273,per_point_diff:.49573863636363635},{state_name:"West Virginia",county_fips:54053,county_name:"Mason County",votes_gop:8491,votes_dem:2526,total_votes:11203,diff:5965,per_gop:.7579219851825404,per_dem:.22547531911095242,per_point_diff:.532446666071588},{state_name:"West Virginia",county_fips:54055,county_name:"Mercer County",votes_gop:19237,votes_dem:5556,total_votes:25134,diff:13681,per_gop:.765377576191613,per_dem:.2210551444258773,per_point_diff:.5443224317657357},{state_name:"West Virginia",county_fips:54057,county_name:"Mineral County",votes_gop:10040,votes_dem:2660,total_votes:12872,diff:7380,per_gop:.7799875699192045,per_dem:.20665009322560596,per_point_diff:.5733374766935986},{state_name:"West Virginia",county_fips:54059,county_name:"Mingo County",votes_gop:8544,votes_dem:1397,total_votes:10022,diff:7147,per_gop:.8525244462183197,per_dem:.13939333466373977,per_point_diff:.71313111155458},{state_name:"West Virginia",county_fips:54061,county_name:"Monongalia County",votes_gop:20803,votes_dem:20282,total_votes:42072,diff:521,per_gop:.4944618748811561,per_dem:.4820783418900932,per_point_diff:.012383532991062929},{state_name:"West Virginia",county_fips:54063,county_name:"Monroe County",votes_gop:5068,votes_dem:1345,total_votes:6490,diff:3723,per_gop:.7808936825885978,per_dem:.20724191063174113,per_point_diff:.5736517719568567},{state_name:"West Virginia",county_fips:54065,county_name:"Morgan County",votes_gop:6537,votes_dem:1998,total_votes:8695,diff:4539,per_gop:.751811385853939,per_dem:.2297872340425532,per_point_diff:.5220241518113858},{state_name:"West Virginia",county_fips:54067,county_name:"Nicholas County",votes_gop:8279,votes_dem:2226,total_votes:10630,diff:6053,per_gop:.7788334901222954,per_dem:.20940733772342426,per_point_diff:.5694261523988712},{state_name:"West Virginia",county_fips:54069,county_name:"Ohio County",votes_gop:12354,votes_dem:7223,total_votes:19898,diff:5131,per_gop:.6208664187355513,per_dem:.36300130666398633,per_point_diff:.25786511207156493},{state_name:"West Virginia",county_fips:54071,county_name:"Pendleton County",votes_gop:2782,votes_dem:820,total_votes:3659,diff:1962,per_gop:.7603170265099755,per_dem:.2241049467067505,per_point_diff:.5362120798032249},{state_name:"West Virginia",county_fips:54073,county_name:"Pleasants County",votes_gop:2742,votes_dem:699,total_votes:3491,diff:2043,per_gop:.7854482956173017,per_dem:.20022916069894015,per_point_diff:.5852191349183615},{state_name:"West Virginia",county_fips:54075,county_name:"Pocahontas County",votes_gop:2895,votes_dem:1047,total_votes:4008,diff:1848,per_gop:.7223053892215568,per_dem:.26122754491017963,per_point_diff:.4610778443113772},{state_name:"West Virginia",county_fips:54077,county_name:"Preston County",votes_gop:11190,votes_dem:3163,total_votes:14572,diff:8027,per_gop:.7679110623112819,per_dem:.21706011528959648,per_point_diff:.5508509470216855},{state_name:"West Virginia",county_fips:54079,county_name:"Putnam County",votes_gop:20034,votes_dem:7878,total_votes:28501,diff:12156,per_gop:.70292270446651,per_dem:.2764113539875794,per_point_diff:.4265113504789306},{state_name:"West Virginia",county_fips:54081,county_name:"Raleigh County",votes_gop:24673,votes_dem:7982,total_votes:33106,diff:16691,per_gop:.7452727602247327,per_dem:.24110433154111038,per_point_diff:.5041684286836223},{state_name:"West Virginia",county_fips:54083,county_name:"Randolph County",votes_gop:8673,votes_dem:3362,total_votes:12200,diff:5311,per_gop:.7109016393442623,per_dem:.27557377049180326,per_point_diff:.43532786885245905},{state_name:"West Virginia",county_fips:54085,county_name:"Ritchie County",votes_gop:3649,votes_dem:586,total_votes:4283,diff:3063,per_gop:.8519729161802475,per_dem:.1368199859911277,per_point_diff:.7151529301891197},{state_name:"West Virginia",county_fips:54087,county_name:"Roane County",votes_gop:4213,votes_dem:1455,total_votes:5763,diff:2758,per_gop:.7310428596217248,per_dem:.25247267048412286,per_point_diff:.4785701891376019},{state_name:"West Virginia",county_fips:54089,county_name:"Summers County",votes_gop:4074,votes_dem:1448,total_votes:5585,diff:2626,per_gop:.7294538943598926,per_dem:.25926589077887197,per_point_diff:.47018800358102064},{state_name:"West Virginia",county_fips:54091,county_name:"Taylor County",votes_gop:5477,votes_dem:1796,total_votes:7383,diff:3681,per_gop:.741839360693485,per_dem:.24326154679669512,per_point_diff:.4985778138967899},{state_name:"West Virginia",county_fips:54093,county_name:"Tucker County",votes_gop:2841,votes_dem:938,total_votes:3844,diff:1903,per_gop:.7390738813735692,per_dem:.24401664932362122,per_point_diff:.495057232049948},{state_name:"West Virginia",county_fips:54095,county_name:"Tyler County",votes_gop:3226,votes_dem:631,total_votes:3922,diff:2595,per_gop:.8225395206527282,per_dem:.16088730239673635,per_point_diff:.6616522182559919},{state_name:"West Virginia",county_fips:54097,county_name:"Upshur County",votes_gop:7771,votes_dem:2256,total_votes:10221,diff:5515,per_gop:.7602974268662558,per_dem:.2207220428529498,per_point_diff:.539575384013306},{state_name:"West Virginia",county_fips:54099,county_name:"Wayne County",votes_gop:12585,votes_dem:4088,total_votes:16947,diff:8497,per_gop:.7426093113825456,per_dem:.24122263527467988,per_point_diff:.5013866761078657},{state_name:"West Virginia",county_fips:54101,county_name:"Webster County",votes_gop:2759,votes_dem:610,total_votes:3402,diff:2149,per_gop:.8109935332157554,per_dem:.17930629041740154,per_point_diff:.6316872427983539},{state_name:"West Virginia",county_fips:54103,county_name:"Wetzel County",votes_gop:4993,votes_dem:1539,total_votes:6667,diff:3454,per_gop:.7489125543722814,per_dem:.23083845807709613,per_point_diff:.5180740962951853},{state_name:"West Virginia",county_fips:54105,county_name:"Wirt County",votes_gop:2134,votes_dem:466,total_votes:2653,diff:1668,per_gop:.8043724085940445,per_dem:.17565020731247644,per_point_diff:.6287222012815681},{state_name:"West Virginia",county_fips:54107,county_name:"Wood County",votes_gop:27202,votes_dem:10926,total_votes:38762,diff:16276,per_gop:.7017697745214385,per_dem:.28187400030958154,per_point_diff:.419895774211857},{state_name:"West Virginia",county_fips:54109,county_name:"Wyoming County",votes_gop:7353,votes_dem:1157,total_votes:8592,diff:6196,per_gop:.8557960893854749,per_dem:.13466014897579143,per_point_diff:.7211359404096835},{state_name:"Wisconsin",county_fips:55001,county_name:"Adams County",votes_gop:7362,votes_dem:4329,total_votes:11818,diff:3033,per_gop:.622948045354544,per_dem:.36630563547131495,per_point_diff:.256642409883229},{state_name:"Wisconsin",county_fips:55003,county_name:"Ashland County",votes_gop:3841,votes_dem:4801,total_votes:8757,diff:-960,per_gop:.438620532145712,per_dem:.5482471165924403,per_point_diff:-.10962658444672829},{state_name:"Wisconsin",county_fips:55005,county_name:"Barron County",votes_gop:15803,votes_dem:9194,total_votes:25346,diff:6609,per_gop:.6234908861358794,per_dem:.36273968279018387,per_point_diff:.26075120334569557},{state_name:"Wisconsin",county_fips:55007,county_name:"Bayfield County",votes_gop:4617,votes_dem:6147,total_votes:10880,diff:-1530,per_gop:.42435661764705884,per_dem:.5649816176470588,per_point_diff:-.14062499999999994},{state_name:"Wisconsin",county_fips:55009,county_name:"Brown County",votes_gop:75871,votes_dem:65511,total_votes:144017,diff:10360,per_gop:.5268197504461278,per_dem:.4548837984404619,per_point_diff:.07193595200566594},{state_name:"Wisconsin",county_fips:55011,county_name:"Buffalo County",votes_gop:4834,votes_dem:2860,total_votes:7816,diff:1974,per_gop:.618474923234391,per_dem:.36591606960081885,per_point_diff:.25255885363357217},{state_name:"Wisconsin",county_fips:55013,county_name:"Burnett County",votes_gop:6462,votes_dem:3569,total_votes:10141,diff:2893,per_gop:.6372152647667882,per_dem:.3519376787299083,per_point_diff:.28527758603687997},{state_name:"Wisconsin",county_fips:55015,county_name:"Calumet County",votes_gop:18156,votes_dem:12116,total_votes:30774,diff:6040,per_gop:.5899785533242348,per_dem:.3937089751088581,per_point_diff:.19626957821537666},{state_name:"Wisconsin",county_fips:55017,county_name:"Chippewa County",votes_gop:21317,votes_dem:13983,total_votes:35938,diff:7334,per_gop:.593160442985141,per_dem:.3890867605320274,per_point_diff:.20407368245311364},{state_name:"Wisconsin",county_fips:55019,county_name:"Clark County",votes_gop:10002,votes_dem:4524,total_votes:14898,diff:5478,per_gop:.6713652839307289,per_dem:.3036649214659686,per_point_diff:.36770036246476034},{state_name:"Wisconsin",county_fips:55021,county_name:"Columbia County",votes_gop:16927,votes_dem:16410,total_votes:33869,diff:517,per_gop:.4997785585638785,per_dem:.4845138622339012,per_point_diff:.01526469632997729},{state_name:"Wisconsin",county_fips:55023,county_name:"Crawford County",votes_gop:4620,votes_dem:3953,total_votes:8695,diff:667,per_gop:.5313398504887866,per_dem:.45462909718228867,per_point_diff:.07671075330649796},{state_name:"Wisconsin",county_fips:55025,county_name:"Dane County",votes_gop:78800,votes_dem:260185,total_votes:344791,diff:-181385,per_gop:.2285442485447706,per_dem:.7546165648175271,per_point_diff:-.5260723162727565},{state_name:"Wisconsin",county_fips:55027,county_name:"Dodge County",votes_gop:31355,votes_dem:16356,total_votes:48436,diff:14999,per_gop:.6473490791972912,per_dem:.3376827153357007,per_point_diff:.3096663638615905},{state_name:"Wisconsin",county_fips:55029,county_name:"Door County",votes_gop:9752,votes_dem:10044,total_votes:20117,diff:-292,per_gop:.4847641298404335,per_dem:.4992792165829895,per_point_diff:-.014515086742556027},{state_name:"Wisconsin",county_fips:55031,county_name:"Douglas County",votes_gop:10923,votes_dem:13218,total_votes:24677,diff:-2295,per_gop:.4426388945171617,per_dem:.5356404749361754,per_point_diff:-.09300158041901369},{state_name:"Wisconsin",county_fips:55033,county_name:"Dunn County",votes_gop:13173,votes_dem:9897,total_votes:23524,diff:3276,per_gop:.5599812956980106,per_dem:.42071926543104915,per_point_diff:.13926203026696143},{state_name:"Wisconsin",county_fips:55035,county_name:"Eau Claire County",votes_gop:25341,votes_dem:31620,total_votes:58275,diff:-6279,per_gop:.4348519948519948,per_dem:.5425997425997426,per_point_diff:-.10774774774774781},{state_name:"Wisconsin",county_fips:55037,county_name:"Florence County",votes_gop:2133,votes_dem:781,total_votes:2940,diff:1352,per_gop:.7255102040816327,per_dem:.26564625850340134,per_point_diff:.45986394557823135},{state_name:"Wisconsin",county_fips:55039,county_name:"Fond du Lac County",votes_gop:35754,votes_dem:20588,total_votes:57251,diff:15166,per_gop:.6245131089413285,per_dem:.3596094391364343,per_point_diff:.2649036698048942},{state_name:"Wisconsin",county_fips:55041,county_name:"Forest County",votes_gop:3285,votes_dem:1721,total_votes:5053,diff:1564,per_gop:.6501088462299623,per_dem:.3405897486641599,per_point_diff:.3095190975658024},{state_name:"Wisconsin",county_fips:55043,county_name:"Grant County",votes_gop:14142,votes_dem:10998,total_votes:25608,diff:3144,per_gop:.5522492970946579,per_dem:.42947516401124647,per_point_diff:.1227741330834114},{state_name:"Wisconsin",county_fips:55045,county_name:"Green County",votes_gop:10169,votes_dem:10851,total_votes:21406,diff:-682,per_gop:.4750537232551621,per_dem:.5069139493599926,per_point_diff:-.03186022610483047},{state_name:"Wisconsin",county_fips:55047,county_name:"Green Lake County",votes_gop:7168,votes_dem:3344,total_votes:10671,diff:3824,per_gop:.6717271108612126,per_dem:.3133726923437354,per_point_diff:.35835441851747724},{state_name:"Wisconsin",county_fips:55049,county_name:"Iowa County",votes_gop:5909,votes_dem:7828,total_votes:13992,diff:-1919,per_gop:.42231275014293884,per_dem:.5594625500285878,per_point_diff:-.13714979988564896},{state_name:"Wisconsin",county_fips:55051,county_name:"Iron County",votes_gop:2438,votes_dem:1533,total_votes:4010,diff:905,per_gop:.6079800498753117,per_dem:.38229426433915215,per_point_diff:.2256857855361596},{state_name:"Wisconsin",county_fips:55053,county_name:"Jackson County",votes_gop:5791,votes_dem:4256,total_votes:10184,diff:1535,per_gop:.5686370777690495,per_dem:.417910447761194,per_point_diff:.15072663000785547},{state_name:"Wisconsin",county_fips:55055,county_name:"Jefferson County",votes_gop:27208,votes_dem:19904,total_votes:47979,diff:7304,per_gop:.5670814314595969,per_dem:.41484816273786446,per_point_diff:.15223326872173243},{state_name:"Wisconsin",county_fips:55057,county_name:"Juneau County",votes_gop:8749,votes_dem:4746,total_votes:13709,diff:4003,per_gop:.6381938872273689,per_dem:.3461959296812313,per_point_diff:.2919979575461376},{state_name:"Wisconsin",county_fips:55059,county_name:"Kenosha County",votes_gop:44972,votes_dem:42193,total_votes:88738,diff:2779,per_gop:.5067952849962812,per_dem:.47547837454078296,per_point_diff:.03131691045549828},{state_name:"Wisconsin",county_fips:55061,county_name:"Kewaunee County",votes_gop:7927,votes_dem:3976,total_votes:12095,diff:3951,per_gop:.6553947912360479,per_dem:.3287308805291443,per_point_diff:.32666391070690365},{state_name:"Wisconsin",county_fips:55063,county_name:"La Crosse County",votes_gop:28684,votes_dem:37846,total_votes:67884,diff:-9162,per_gop:.4225443403452949,per_dem:.5575098697778563,per_point_diff:-.1349655294325614},{state_name:"Wisconsin",county_fips:55065,county_name:"Lafayette County",votes_gop:4821,votes_dem:3647,total_votes:8555,diff:1174,per_gop:.5635300993571011,per_dem:.4263004091174752,per_point_diff:.1372296902396259},{state_name:"Wisconsin",county_fips:55067,county_name:"Langlade County",votes_gop:7330,votes_dem:3704,total_votes:11165,diff:3626,per_gop:.6565158978952083,per_dem:.3317510076130766,per_point_diff:.3247648902821317},{state_name:"Wisconsin",county_fips:55069,county_name:"Lincoln County",votes_gop:10017,votes_dem:6261,total_votes:16497,diff:3756,per_gop:.6072013093289689,per_dem:.3795235497363157,per_point_diff:.22767775959265318},{state_name:"Wisconsin",county_fips:55071,county_name:"Manitowoc County",votes_gop:27218,votes_dem:16818,total_votes:44829,diff:10400,per_gop:.6071516206027349,per_dem:.37515893729505456,per_point_diff:.2319926833076803},{state_name:"Wisconsin",county_fips:55073,county_name:"Marathon County",votes_gop:44624,votes_dem:30808,total_votes:76751,diff:13816,per_gop:.5814126200310094,per_dem:.40140193613112535,per_point_diff:.180010683899884},{state_name:"Wisconsin",county_fips:55075,county_name:"Marinette County",votes_gop:15304,votes_dem:7366,total_votes:22979,diff:7938,per_gop:.6659993907480743,per_dem:.320553548892467,per_point_diff:.34544584185560734},{state_name:"Wisconsin",county_fips:55077,county_name:"Marquette County",votes_gop:5719,votes_dem:3239,total_votes:9065,diff:2480,per_gop:.6308880308880309,per_dem:.35730832873690016,per_point_diff:.27357970215113075},{state_name:"Wisconsin",county_fips:55078,county_name:"Menominee County",votes_gop:278,votes_dem:1303,total_votes:1590,diff:-1025,per_gop:.17484276729559747,per_dem:.819496855345912,per_point_diff:-.6446540880503145},{state_name:"Wisconsin",county_fips:55079,county_name:"Milwaukee County",votes_gop:134357,votes_dem:317270,total_votes:458971,diff:-182913,per_gop:.29273527085589285,per_dem:.6912637181869878,per_point_diff:-.398528447331095},{state_name:"Wisconsin",county_fips:55081,county_name:"Monroe County",votes_gop:13775,votes_dem:8433,total_votes:22611,diff:5342,per_gop:.6092167529078767,per_dem:.37296006368581663,per_point_diff:.23625668922206006},{state_name:"Wisconsin",county_fips:55083,county_name:"Oconto County",votes_gop:16226,votes_dem:6715,total_votes:23215,diff:9511,per_gop:.6989446478569891,per_dem:.28925263838035753,per_point_diff:.40969200947663154},{state_name:"Wisconsin",county_fips:55085,county_name:"Oneida County",votes_gop:13671,votes_dem:10105,total_votes:24159,diff:3566,per_gop:.56587607102943,per_dem:.418270623784097,per_point_diff:.14760544724533303},{state_name:"Wisconsin",county_fips:55087,county_name:"Outagamie County",votes_gop:58385,votes_dem:47667,total_votes:108022,diff:10718,per_gop:.5404917516802132,per_dem:.4412712225287441,per_point_diff:.09922052915146912},{state_name:"Wisconsin",county_fips:55089,county_name:"Ozaukee County",votes_gop:33912,votes_dem:26517,total_votes:61486,diff:7395,per_gop:.5515401880102787,per_dem:.4312689067429984,per_point_diff:.12027128126728032},{state_name:"Wisconsin",county_fips:55091,county_name:"Pepin County",votes_gop:2584,votes_dem:1489,total_votes:4144,diff:1095,per_gop:.6235521235521235,per_dem:.3593146718146718,per_point_diff:.2642374517374517},{state_name:"Wisconsin",county_fips:55093,county_name:"Pierce County",votes_gop:12815,votes_dem:9796,total_votes:23317,diff:3019,per_gop:.5495990050177981,per_dem:.4201226572886735,per_point_diff:.12947634772912464},{state_name:"Wisconsin",county_fips:55095,county_name:"Polk County",votes_gop:16611,votes_dem:9370,total_votes:26371,diff:7241,per_gop:.6298964771908536,per_dem:.35531455007394486,per_point_diff:.27458192711690876},{state_name:"Wisconsin",county_fips:55097,county_name:"Portage County",votes_gop:19299,votes_dem:20428,total_votes:40603,diff:-1129,per_gop:.47530970617934637,per_dem:.5031155333349753,per_point_diff:-.027805827155628904},{state_name:"Wisconsin",county_fips:55099,county_name:"Price County",votes_gop:5394,votes_dem:3032,total_votes:8546,diff:2362,per_gop:.6311724783524456,per_dem:.3547858647320384,per_point_diff:.27638661362040723},{state_name:"Wisconsin",county_fips:55101,county_name:"Racine County",votes_gop:54479,votes_dem:50159,total_votes:106451,diff:4320,per_gop:.5117753708278926,per_dem:.47119331899183664,per_point_diff:.040582051836055955},{state_name:"Wisconsin",county_fips:55103,county_name:"Richland County",votes_gop:4871,votes_dem:3995,total_votes:9014,diff:876,per_gop:.540381628577768,per_dem:.44319946749500777,per_point_diff:.09718216108276018},{state_name:"Wisconsin",county_fips:55105,county_name:"Rock County",votes_gop:37138,votes_dem:46658,total_votes:85360,diff:-9520,per_gop:.4350749765698219,per_dem:.5466026241799438,per_point_diff:-.11152764761012185},{state_name:"Wisconsin",county_fips:55107,county_name:"Rusk County",votes_gop:5257,votes_dem:2517,total_votes:7886,diff:2740,per_gop:.6666243976667512,per_dem:.3191732183616536,per_point_diff:.3474511793050976},{state_name:"Wisconsin",county_fips:55109,county_name:"St. Croix County",votes_gop:32199,votes_dem:23190,total_votes:56707,diff:9009,per_gop:.5678134974518138,per_dem:.4089442220537147,per_point_diff:.15886927539809903},{state_name:"Wisconsin",county_fips:55111,county_name:"Sauk County",votes_gop:17493,votes_dem:18108,total_votes:36203,diff:-615,per_gop:.4831920006629285,per_dem:.5001795431317847,per_point_diff:-.016987542468856198},{state_name:"Wisconsin",county_fips:55113,county_name:"Sawyer County",votes_gop:5909,votes_dem:4498,total_votes:10510,diff:1411,per_gop:.5622264509990486,per_dem:.4279733587059943,per_point_diff:.13425309229305427},{state_name:"Wisconsin",county_fips:55115,county_name:"Shawano County",votes_gop:15173,votes_dem:7131,total_votes:22615,diff:8042,per_gop:.6709263762989166,per_dem:.3153216891443732,per_point_diff:.3556046871545434},{state_name:"Wisconsin",county_fips:55117,county_name:"Sheboygan County",votes_gop:37609,votes_dem:27101,total_votes:66011,diff:10508,per_gop:.5697383769371771,per_dem:.4105527866567693,per_point_diff:.1591855902804078},{state_name:"Wisconsin",county_fips:55119,county_name:"Taylor County",votes_gop:7657,votes_dem:2693,total_votes:10686,diff:4964,per_gop:.7165450121654501,per_dem:.25201197828935057,per_point_diff:.4645330338760995},{state_name:"Wisconsin",county_fips:55121,county_name:"Trempealeau County",votes_gop:8833,votes_dem:6285,total_votes:15380,diff:2548,per_gop:.5743172951885566,per_dem:.4086475942782835,per_point_diff:.16566970091027305},{state_name:"Wisconsin",county_fips:55123,county_name:"Vernon County",votes_gop:8218,votes_dem:7457,total_votes:15923,diff:761,per_gop:.5161087734723356,per_dem:.46831627205928533,per_point_diff:.0477925014130503},{state_name:"Wisconsin",county_fips:55125,county_name:"Vilas County",votes_gop:9261,votes_dem:5903,total_votes:15369,diff:3358,per_gop:.6025766152644935,per_dem:.3840848461188106,per_point_diff:.21849176914568286},{state_name:"Wisconsin",county_fips:55127,county_name:"Walworth County",votes_gop:33851,votes_dem:22789,total_votes:57600,diff:11062,per_gop:.5876909722222222,per_dem:.3956423611111111,per_point_diff:.1920486111111111},{state_name:"Wisconsin",county_fips:55129,county_name:"Washburn County",votes_gop:6334,votes_dem:3867,total_votes:10378,diff:2467,per_gop:.6103295432645982,per_dem:.37261514742724994,per_point_diff:.23771439583734827},{state_name:"Wisconsin",county_fips:55131,county_name:"Washington County",votes_gop:60237,votes_dem:26650,total_votes:88070,diff:33587,per_gop:.6839672987396389,per_dem:.30260020438287727,per_point_diff:.38136709435676164},{state_name:"Wisconsin",county_fips:55133,county_name:"Waukesha County",votes_gop:159649,votes_dem:103906,total_votes:267996,diff:55743,per_gop:.5957141151360468,per_dem:.3877147420110748,per_point_diff:.20799937312497196},{state_name:"Wisconsin",county_fips:55135,county_name:"Waupaca County",votes_gop:18952,votes_dem:9703,total_votes:29130,diff:9249,per_gop:.6506007552351528,per_dem:.33309303123927225,per_point_diff:.31750772399588056},{state_name:"Wisconsin",county_fips:55137,county_name:"Waushara County",votes_gop:9016,votes_dem:4388,total_votes:13568,diff:4628,per_gop:.6645047169811321,per_dem:.32340801886792453,per_point_diff:.3410966981132076},{state_name:"Wisconsin",county_fips:55139,county_name:"Winnebago County",votes_gop:47796,votes_dem:44060,total_votes:94032,diff:3736,per_gop:.5082950484941297,per_dem:.4685638931427599,per_point_diff:.03973115535136973},{state_name:"Wisconsin",county_fips:55141,county_name:"Wood County",votes_gop:24308,votes_dem:16365,total_votes:41298,diff:7943,per_gop:.5885999322001065,per_dem:.39626616301031525,per_point_diff:.19233376918979128},{state_name:"Wyoming",county_fips:56001,county_name:"Albany County",votes_gop:8579,votes_dem:9092,total_votes:18617,diff:-513,per_gop:.46081538378901005,per_dem:.488370843852393,per_point_diff:-.02755546006338294},{state_name:"Wyoming",county_fips:56003,county_name:"Big Horn County",votes_gop:4806,votes_dem:788,total_votes:5752,diff:4018,per_gop:.8355354659248957,per_dem:.13699582753824757,per_point_diff:.6985396383866481},{state_name:"Wyoming",county_fips:56005,county_name:"Campbell County",votes_gop:16975,votes_dem:1935,total_votes:19566,diff:15040,per_gop:.867576408054789,per_dem:.09889604415823366,per_point_diff:.7686803638965554},{state_name:"Wyoming",county_fips:56007,county_name:"Carbon County",votes_gop:5014,votes_dem:1427,total_votes:6664,diff:3587,per_gop:.7524009603841537,per_dem:.2141356542617047,per_point_diff:.538265306122449},{state_name:"Wyoming",county_fips:56009,county_name:"Converse County",votes_gop:5917,votes_dem:861,total_votes:6970,diff:5056,per_gop:.8489239598278335,per_dem:.12352941176470589,per_point_diff:.7253945480631276},{state_name:"Wyoming",county_fips:56011,county_name:"Crook County",votes_gop:3651,votes_dem:378,total_votes:4119,diff:3273,per_gop:.8863801893663511,per_dem:.09176984705025491,per_point_diff:.7946103423160962},{state_name:"Wyoming",county_fips:56013,county_name:"Fremont County",votes_gop:12007,votes_dem:5519,total_votes:18111,diff:6488,per_gop:.6629672574678372,per_dem:.3047319308707415,per_point_diff:.3582353265970957},{state_name:"Wyoming",county_fips:56015,county_name:"Goshen County",votes_gop:4878,votes_dem:1203,total_votes:6241,diff:3675,per_gop:.7816055119371895,per_dem:.19275757090209902,per_point_diff:.5888479410350905},{state_name:"Wyoming",county_fips:56017,county_name:"Hot Springs County",votes_gop:1999,votes_dem:482,total_votes:2577,diff:1517,per_gop:.775708187815289,per_dem:.18703919285991463,per_point_diff:.5886689949553744},{state_name:"Wyoming",county_fips:56019,county_name:"Johnson County",votes_gop:3881,votes_dem:897,total_votes:4914,diff:2984,per_gop:.7897842897842898,per_dem:.18253968253968253,per_point_diff:.6072446072446073},{state_name:"Wyoming",county_fips:56021,county_name:"Laramie County",votes_gop:27891,votes_dem:15217,total_votes:44982,diff:12674,per_gop:.620048019207683,per_dem:.3382908719043173,per_point_diff:.28175714730336576},{state_name:"Wyoming",county_fips:56023,county_name:"Lincoln County",votes_gop:8643,votes_dem:1509,total_votes:10468,diff:7134,per_gop:.8256591517004204,per_dem:.1441536110049675,per_point_diff:.6815055406954529},{state_name:"Wyoming",county_fips:56025,county_name:"Natrona County",votes_gop:25271,votes_dem:8530,total_votes:35202,diff:16741,per_gop:.7178853474234419,per_dem:.24231577751264133,per_point_diff:.47556956991080057},{state_name:"Wyoming",county_fips:56027,county_name:"Niobrara County",votes_gop:1118,votes_dem:155,total_votes:1308,diff:963,per_gop:.8547400611620795,per_dem:.11850152905198777,per_point_diff:.7362385321100917},{state_name:"Wyoming",county_fips:56029,county_name:"Park County",votes_gop:12813,votes_dem:3410,total_votes:16717,diff:9403,per_gop:.7664652748698929,per_dem:.20398396841538555,per_point_diff:.5624813064545073},{state_name:"Wyoming",county_fips:56031,county_name:"Platte County",votes_gop:3898,votes_dem:890,total_votes:4923,diff:3008,per_gop:.7917936217753403,per_dem:.18078407475116798,per_point_diff:.6110095470241723},{state_name:"Wyoming",county_fips:56033,county_name:"Sheridan County",votes_gop:11843,votes_dem:4043,total_votes:16428,diff:7800,per_gop:.7209033357682006,per_dem:.24610421232042853,per_point_diff:.4747991234477721},{state_name:"Wyoming",county_fips:56035,county_name:"Sublette County",votes_gop:3957,votes_dem:882,total_votes:4970,diff:3075,per_gop:.7961770623742455,per_dem:.17746478873239438,per_point_diff:.6187122736418511},{state_name:"Wyoming",county_fips:56037,county_name:"Sweetwater County",votes_gop:12229,votes_dem:3823,total_votes:16603,diff:8406,per_gop:.7365536348852617,per_dem:.23025959164006504,per_point_diff:.5062940432451967},{state_name:"Wyoming",county_fips:56039,county_name:"Teton County",votes_gop:4341,votes_dem:9848,total_votes:14677,diff:-5507,per_gop:.2957688901001567,per_dem:.6709818082714452,per_point_diff:-.37521291817128843},{state_name:"Wyoming",county_fips:56041,county_name:"Uinta County",votes_gop:7496,votes_dem:1591,total_votes:9402,diff:5905,per_gop:.7972771750691342,per_dem:.16921931503935334,per_point_diff:.6280578600297808},{state_name:"Wyoming",county_fips:56043,county_name:"Washakie County",votes_gop:3245,votes_dem:651,total_votes:4012,diff:2594,per_gop:.8088235294117647,per_dem:.16226321036889332,per_point_diff:.6465603190428714},{state_name:"Wyoming",county_fips:56045,county_name:"Weston County",votes_gop:3107,votes_dem:360,total_votes:3542,diff:2747,per_gop:.8771880293619424,per_dem:.10163749294184077,per_point_diff:.7755505364201016}]},function(e,t){e.exports=[{state_name:"Alabama",electors:9},{state_name:"Montana",electors:3},{state_name:"Alaska",electors:3},{state_name:"Nebraska",electors:5},{state_name:"Arizona",electors:11},{state_name:"Nevada",electors:6},{state_name:"Arkansas",electors:6},{state_name:"New Hampshire",electors:4},{state_name:"California",electors:55},{state_name:"New Jersey",electors:14},{state_name:"Colorado",electors:9},{state_name:"New Mexico",electors:5},{state_name:"Connecticut",electors:7},{state_name:"New York",electors:29},{state_name:"Delaware",electors:3},{state_name:"North Carolina",electors:15},{state_name:"District of Columbia",electors:3},{state_name:"North Dakota",electors:3},{state_name:"Florida",electors:29},{state_name:"Ohio",electors:18},{state_name:"Georgia",electors:16},{state_name:"Oklahoma",electors:7},{state_name:"Hawaii",electors:4},{state_name:"Oregon",electors:7},{state_name:"Idaho",electors:4},{state_name:"Pennsylvania",electors:20},{state_name:"Illinois",electors:20},{state_name:"Rhode Island",electors:4},{state_name:"Indiana",electors:11},{state_name:"South Carolina",electors:9},{state_name:"Iowa",electors:6},{state_name:"South Dakota",electors:3},{state_name:"Kansas",electors:6},{state_name:"Tennessee",electors:11},{state_name:"Kentucky",electors:8},{state_name:"Texas",electors:38},{state_name:"Louisiana",electors:8},{state_name:"Utah",electors:6},{state_name:"Maine",electors:4},{state_name:"Vermont",electors:3},{state_name:"Maryland",electors:10},{state_name:"Virginia",electors:13},{state_name:"Massachusetts",electors:11},{state_name:"Washington",electors:12},{state_name:"Michigan",electors:16},{state_name:"West Virginia",electors:5},{state_name:"Minnesota",electors:10},{state_name:"Wisconsin",electors:10},{state_name:"Mississippi",electors:6},{state_name:"Wyoming",electors:3},{state_name:"Missouri",electors:10}]},function(e,t,o){"use strict";o.r(t);o(8),o(11);var n=o(0),i=o(4),s=o.n(i),a=o(5),r=o.n(a),_=o(6),p=o.n(_),l=o(1);let u;n.accessToken=l.accessToken,u=new n.Map(l),u.on("load",(function(){const e={};s.a.forEach(t=>{e[t.stname]={dem:0,gop:0,...t}}),p.a.forEach(t=>e[t.state_name].electors=t.electors),r.a.forEach(t=>{e[t.state_name].dem+=t.votes_dem,e[t.state_name].gop+=t.votes_gop});for(const t in e)u.setFeatureState({source:"state_fips",sourceLayer:"albersusa-points",id:e[t].st},e[t]);u.addControl(new n.ScaleControl,"bottom-right")}))},function(e,t,o){var n=o(9);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,o){(e.exports=o(2)(!1)).push([e.i,"body {\n    margin: 0;\n    font-family: sans-serif;\n}\n\nmain {\n    display: block;\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n}\n\n#map {\n    height: 100%;\n}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,s=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?o+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,o){var n=o(12);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,o){(e.exports=o(2)(!1)).push([e.i,".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E %3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='0.9' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='1' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='1' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='1' stroke='%23fff' stroke-width='3' fill='%23fff'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='1' fill='%23000'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform;opacity:1;transition:opacity .2s}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{width:0;height:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{content:\"\";border-bottom:7.5px solid #4aa1eb;position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}",""])},function(e,t){var o,n,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(e){if(o===setTimeout)return setTimeout(e,0);if((o===s||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:s}catch(e){o=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var _,p=[],l=!1,u=-1;function f(){l&&_&&(l=!1,_.length?p=_.concat(p):u=-1,p.length&&d())}function d(){if(!l){var e=r(f);l=!0;for(var t=p.length;t;){for(_=p,p=[];++u<t;)_&&_[u].run();u=-1,t=p.length}_=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];p.push(new c(e,t)),1!==p.length||l||r(d)},c.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]);